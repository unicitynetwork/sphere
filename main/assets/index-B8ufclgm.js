(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function a(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=a(o);fetch(o.href,s)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs$3(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jsxRuntime={exports:{}},reactJsxRuntime_production={};var hasRequiredReactJsxRuntime_production;function requireReactJsxRuntime_production(){if(hasRequiredReactJsxRuntime_production)return reactJsxRuntime_production;hasRequiredReactJsxRuntime_production=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function a(r,o,s){var l=null;if(s!==void 0&&(l=""+s),o.key!==void 0&&(l=""+o.key),"key"in o){s={};for(var c in o)c!=="key"&&(s[c]=o[c])}else s=o;return o=s.ref,{$$typeof:t,type:r,key:l,ref:o!==void 0?o:null,props:s}}return reactJsxRuntime_production.Fragment=e,reactJsxRuntime_production.jsx=a,reactJsxRuntime_production.jsxs=a,reactJsxRuntime_production}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),react={exports:{}};function getDefaultExportFromCjs$2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var browser$c={exports:{}},process=browser$c.exports={},cachedSetTimeout,cachedClearTimeout;function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?cachedSetTimeout=setTimeout:cachedSetTimeout=defaultSetTimout}catch{cachedSetTimeout=defaultSetTimout}try{typeof clearTimeout=="function"?cachedClearTimeout=clearTimeout:cachedClearTimeout=defaultClearTimeout}catch{cachedClearTimeout=defaultClearTimeout}})();function runTimeout(t){if(cachedSetTimeout===setTimeout)return setTimeout(t,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(t,0);try{return cachedSetTimeout(t,0)}catch{try{return cachedSetTimeout.call(null,t,0)}catch{return cachedSetTimeout.call(this,t,0)}}}function runClearTimeout(t){if(cachedClearTimeout===clearTimeout)return clearTimeout(t);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(t);try{return cachedClearTimeout(t)}catch{try{return cachedClearTimeout.call(null,t)}catch{return cachedClearTimeout.call(this,t)}}}var queue=[],draining=!1,currentQueue,queueIndex=-1;function cleanUpNextTick(){!draining||!currentQueue||(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var t=runTimeout(cleanUpNextTick);draining=!0;for(var e=queue.length;e;){for(currentQueue=queue,queue=[];++queueIndex<e;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,e=queue.length}currentQueue=null,draining=!1,runClearTimeout(t)}}process.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var a=1;a<arguments.length;a++)e[a-1]=arguments[a];queue.push(new Item(t,e)),queue.length===1&&!draining&&runTimeout(drainQueue)};function Item(t,e){this.fun=t,this.array=e}Item.prototype.run=function(){this.fun.apply(null,this.array)};process.title="browser";process.browser=!0;process.env={};process.argv=[];process.version="";process.versions={};function noop$3(){}process.on=noop$3;process.addListener=noop$3;process.once=noop$3;process.off=noop$3;process.removeListener=noop$3;process.removeAllListeners=noop$3;process.emit=noop$3;process.prependListener=noop$3;process.prependOnceListener=noop$3;process.listeners=function(t){return[]};process.binding=function(t){throw new Error("process.binding is not supported")};process.cwd=function(){return"/"};process.chdir=function(t){throw new Error("process.chdir is not supported")};process.umask=function(){return 0};var browserExports=browser$c.exports;const process$1=getDefaultExportFromCjs$2(browserExports);var react_production={},hasRequiredReact_production;function requireReact_production(){if(hasRequiredReact_production)return react_production;hasRequiredReact_production=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),g=Symbol.iterator;function b(A){return A===null||typeof A!="object"?null:(A=g&&A[g]||A["@@iterator"],typeof A=="function"?A:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,C={};function B(A,$,L){this.props=A,this.context=$,this.refs=C,this.updater=L||w}B.prototype.isReactComponent={},B.prototype.setState=function(A,$){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,$,"setState")},B.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function O(){}O.prototype=B.prototype;function P(A,$,L){this.props=A,this.context=$,this.refs=C,this.updater=L||w}var q=P.prototype=new O;q.constructor=P,E(q,B.prototype),q.isPureReactComponent=!0;var z=Array.isArray;function V(){}var Z={H:null,A:null,T:null,S:null},J=Object.prototype.hasOwnProperty;function W(A,$,L){var Y=L.ref;return{$$typeof:t,type:A,key:$,ref:Y!==void 0?Y:null,props:L}}function te(A,$){return W(A.type,$,A.props)}function G(A){return typeof A=="object"&&A!==null&&A.$$typeof===t}function D(A){var $={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(L){return $[L]})}var M=/\/+/g;function v(A,$){return typeof A=="object"&&A!==null&&A.key!=null?D(""+A.key):$.toString(36)}function S(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(V,V):(A.status="pending",A.then(function($){A.status==="pending"&&(A.status="fulfilled",A.value=$)},function($){A.status==="pending"&&(A.status="rejected",A.reason=$)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function N(A,$,L,Y,le){var re=typeof A;(re==="undefined"||re==="boolean")&&(A=null);var U=!1;if(A===null)U=!0;else switch(re){case"bigint":case"string":case"number":U=!0;break;case"object":switch(A.$$typeof){case t:case e:U=!0;break;case f:return U=A._init,N(U(A._payload),$,L,Y,le)}}if(U)return le=le(A),U=Y===""?"."+v(A,0):Y,z(le)?(L="",U!=null&&(L=U.replace(M,"$&/")+"/"),N(le,$,L,"",function(he){return he})):le!=null&&(G(le)&&(le=te(le,L+(le.key==null||A&&A.key===le.key?"":(""+le.key).replace(M,"$&/")+"/")+U)),$.push(le)),1;U=0;var K=Y===""?".":Y+":";if(z(A))for(var se=0;se<A.length;se++)Y=A[se],re=K+v(Y,se),U+=N(Y,$,L,re,le);else if(se=b(A),typeof se=="function")for(A=se.call(A),se=0;!(Y=A.next()).done;)Y=Y.value,re=K+v(Y,se++),U+=N(Y,$,L,re,le);else if(re==="object"){if(typeof A.then=="function")return N(S(A),$,L,Y,le);throw $=String(A),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return U}function R(A,$,L){if(A==null)return A;var Y=[],le=0;return N(A,Y,"","",function(re){return $.call(L,re,le++)}),Y}function k(A){if(A._status===-1){var $=A._result;$=$(),$.then(function(L){(A._status===0||A._status===-1)&&(A._status=1,A._result=L)},function(L){(A._status===0||A._status===-1)&&(A._status=2,A._result=L)}),A._status===-1&&(A._status=0,A._result=$)}if(A._status===1)return A._result.default;throw A._result}var j=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent($))return}else if(typeof process$1=="object"&&typeof process$1.emit=="function"){process$1.emit("uncaughtException",A);return}console.error(A)},I={map:R,forEach:function(A,$,L){R(A,function(){$.apply(this,arguments)},L)},count:function(A){var $=0;return R(A,function(){$++}),$},toArray:function(A){return R(A,function($){return $})||[]},only:function(A){if(!G(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return react_production.Activity=m,react_production.Children=I,react_production.Component=B,react_production.Fragment=a,react_production.Profiler=o,react_production.PureComponent=P,react_production.StrictMode=r,react_production.Suspense=u,react_production.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Z,react_production.__COMPILER_RUNTIME={__proto__:null,c:function(A){return Z.H.useMemoCache(A)}},react_production.cache=function(A){return function(){return A.apply(null,arguments)}},react_production.cacheSignal=function(){return null},react_production.cloneElement=function(A,$,L){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var Y=E({},A.props),le=A.key;if($!=null)for(re in $.key!==void 0&&(le=""+$.key),$)!J.call($,re)||re==="key"||re==="__self"||re==="__source"||re==="ref"&&$.ref===void 0||(Y[re]=$[re]);var re=arguments.length-2;if(re===1)Y.children=L;else if(1<re){for(var U=Array(re),K=0;K<re;K++)U[K]=arguments[K+2];Y.children=U}return W(A.type,le,Y)},react_production.createContext=function(A){return A={$$typeof:l,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:s,_context:A},A},react_production.createElement=function(A,$,L){var Y,le={},re=null;if($!=null)for(Y in $.key!==void 0&&(re=""+$.key),$)J.call($,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(le[Y]=$[Y]);var U=arguments.length-2;if(U===1)le.children=L;else if(1<U){for(var K=Array(U),se=0;se<U;se++)K[se]=arguments[se+2];le.children=K}if(A&&A.defaultProps)for(Y in U=A.defaultProps,U)le[Y]===void 0&&(le[Y]=U[Y]);return W(A,re,le)},react_production.createRef=function(){return{current:null}},react_production.forwardRef=function(A){return{$$typeof:c,render:A}},react_production.isValidElement=G,react_production.lazy=function(A){return{$$typeof:f,_payload:{_status:-1,_result:A},_init:k}},react_production.memo=function(A,$){return{$$typeof:h,type:A,compare:$===void 0?null:$}},react_production.startTransition=function(A){var $=Z.T,L={};Z.T=L;try{var Y=A(),le=Z.S;le!==null&&le(L,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(V,j)}catch(re){j(re)}finally{$!==null&&L.types!==null&&($.types=L.types),Z.T=$}},react_production.unstable_useCacheRefresh=function(){return Z.H.useCacheRefresh()},react_production.use=function(A){return Z.H.use(A)},react_production.useActionState=function(A,$,L){return Z.H.useActionState(A,$,L)},react_production.useCallback=function(A,$){return Z.H.useCallback(A,$)},react_production.useContext=function(A){return Z.H.useContext(A)},react_production.useDebugValue=function(){},react_production.useDeferredValue=function(A,$){return Z.H.useDeferredValue(A,$)},react_production.useEffect=function(A,$){return Z.H.useEffect(A,$)},react_production.useEffectEvent=function(A){return Z.H.useEffectEvent(A)},react_production.useId=function(){return Z.H.useId()},react_production.useImperativeHandle=function(A,$,L){return Z.H.useImperativeHandle(A,$,L)},react_production.useInsertionEffect=function(A,$){return Z.H.useInsertionEffect(A,$)},react_production.useLayoutEffect=function(A,$){return Z.H.useLayoutEffect(A,$)},react_production.useMemo=function(A,$){return Z.H.useMemo(A,$)},react_production.useOptimistic=function(A,$){return Z.H.useOptimistic(A,$)},react_production.useReducer=function(A,$,L){return Z.H.useReducer(A,$,L)},react_production.useRef=function(A){return Z.H.useRef(A)},react_production.useState=function(A){return Z.H.useState(A)},react_production.useSyncExternalStore=function(A,$,L){return Z.H.useSyncExternalStore(A,$,L)},react_production.useTransition=function(){return Z.H.useTransition()},react_production.version="19.2.0",react_production}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production()),react.exports}var reactExports=requireReact();const React=getDefaultExportFromCjs$3(reactExports);var client={exports:{}},reactDomClient_production={},scheduler={exports:{}},scheduler_production={};var hasRequiredScheduler_production;function requireScheduler_production(){return hasRequiredScheduler_production||(hasRequiredScheduler_production=1,(function(t){function e(N,R){var k=N.length;N.push(R);e:for(;0<k;){var j=k-1>>>1,I=N[j];if(0<o(I,R))N[j]=R,N[k]=I,k=j;else break e}}function a(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var R=N[0],k=N.pop();if(k!==R){N[0]=k;e:for(var j=0,I=N.length,A=I>>>1;j<A;){var $=2*(j+1)-1,L=N[$],Y=$+1,le=N[Y];if(0>o(L,k))Y<I&&0>o(le,L)?(N[j]=le,N[Y]=k,j=Y):(N[j]=L,N[$]=k,j=$);else if(Y<I&&0>o(le,k))N[j]=le,N[Y]=k,j=Y;else break e}}return R}function o(N,R){var k=N.sortIndex-R.sortIndex;return k!==0?k:N.id-R.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var u=[],h=[],f=1,m=null,g=3,b=!1,w=!1,E=!1,C=!1,B=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function q(N){for(var R=a(h);R!==null;){if(R.callback===null)r(h);else if(R.startTime<=N)r(h),R.sortIndex=R.expirationTime,e(u,R);else break;R=a(h)}}function z(N){if(E=!1,q(N),!w)if(a(u)!==null)w=!0,V||(V=!0,D());else{var R=a(h);R!==null&&S(z,R.startTime-N)}}var V=!1,Z=-1,J=5,W=-1;function te(){return C?!0:!(t.unstable_now()-W<J)}function G(){if(C=!1,V){var N=t.unstable_now();W=N;var R=!0;try{e:{w=!1,E&&(E=!1,O(Z),Z=-1),b=!0;var k=g;try{t:{for(q(N),m=a(u);m!==null&&!(m.expirationTime>N&&te());){var j=m.callback;if(typeof j=="function"){m.callback=null,g=m.priorityLevel;var I=j(m.expirationTime<=N);if(N=t.unstable_now(),typeof I=="function"){m.callback=I,q(N),R=!0;break t}m===a(u)&&r(u),q(N)}else r(u);m=a(u)}if(m!==null)R=!0;else{var A=a(h);A!==null&&S(z,A.startTime-N),R=!1}}break e}finally{m=null,g=k,b=!1}R=void 0}}finally{R?D():V=!1}}}var D;if(typeof P=="function")D=function(){P(G)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,v=M.port2;M.port1.onmessage=G,D=function(){v.postMessage(null)}}else D=function(){B(G,0)};function S(N,R){Z=B(function(){N(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(N){switch(g){case 1:case 2:case 3:var R=3;break;default:R=g}var k=g;g=R;try{return N()}finally{g=k}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(N,R){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var k=g;g=N;try{return R()}finally{g=k}},t.unstable_scheduleCallback=function(N,R,k){var j=t.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?j+k:j):k=j,N){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=k+I,N={id:f++,callback:R,priorityLevel:N,startTime:k,expirationTime:I,sortIndex:-1},k>j?(N.sortIndex=k,e(h,N),a(u)===null&&N===a(h)&&(E?(O(Z),Z=-1):E=!0,S(z,k-j))):(N.sortIndex=I,e(u,N),w||b||(w=!0,V||(V=!0,D()))),N},t.unstable_shouldYield=te,t.unstable_wrapCallback=function(N){var R=g;return function(){var k=g;g=R;try{return N.apply(this,arguments)}finally{g=k}}}})(scheduler_production)),scheduler_production}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production()),scheduler.exports}var reactDom={exports:{}},reactDom_production={};var hasRequiredReactDom_production;function requireReactDom_production(){if(hasRequiredReactDom_production)return reactDom_production;hasRequiredReactDom_production=1;var t=requireReact();function e(u){var h="https://react.dev/errors/"+u;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)h+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var r={d:{f:a,r:function(){throw Error(e(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");function s(u,h,f){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:m==null?null:""+m,children:u,containerInfo:h,implementation:f}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(u,h){if(u==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return reactDom_production.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,reactDom_production.createPortal=function(u,h){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(u,h,null,f)},reactDom_production.flushSync=function(u){var h=l.T,f=r.p;try{if(l.T=null,r.p=2,u)return u()}finally{l.T=h,r.p=f,r.d.f()}},reactDom_production.preconnect=function(u,h){typeof u=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(u,h))},reactDom_production.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},reactDom_production.preinit=function(u,h){if(typeof u=="string"&&h&&typeof h.as=="string"){var f=h.as,m=c(f,h.crossOrigin),g=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;f==="style"?r.d.S(u,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:m,integrity:g,fetchPriority:b}):f==="script"&&r.d.X(u,{crossOrigin:m,integrity:g,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},reactDom_production.preinitModule=function(u,h){if(typeof u=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var f=c(h.as,h.crossOrigin);r.d.M(u,{crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(u)},reactDom_production.preload=function(u,h){if(typeof u=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var f=h.as,m=c(f,h.crossOrigin);r.d.L(u,f,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},reactDom_production.preloadModule=function(u,h){if(typeof u=="string")if(h){var f=c(h.as,h.crossOrigin);r.d.m(u,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(u)},reactDom_production.requestFormReset=function(u){r.d.r(u)},reactDom_production.unstable_batchedUpdates=function(u,h){return u(h)},reactDom_production.useFormState=function(u,h,f){return l.H.useFormState(u,h,f)},reactDom_production.useFormStatus=function(){return l.H.useHostTransitionStatus()},reactDom_production.version="19.2.0",reactDom_production}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),reactDom.exports=requireReactDom_production(),reactDom.exports}var hasRequiredReactDomClient_production;function requireReactDomClient_production(){if(hasRequiredReactDomClient_production)return reactDomClient_production;hasRequiredReactDomClient_production=1;var t=requireScheduler(),e=requireReact(),a=requireReactDom();function r(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)p+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function s(d){var p=d,y=d;if(d.alternate)for(;p.return;)p=p.return;else{d=p;do p=d,(p.flags&4098)!==0&&(y=p.return),d=p.return;while(d)}return p.tag===3?y:null}function l(d){if(d.tag===13){var p=d.memoizedState;if(p===null&&(d=d.alternate,d!==null&&(p=d.memoizedState)),p!==null)return p.dehydrated}return null}function c(d){if(d.tag===31){var p=d.memoizedState;if(p===null&&(d=d.alternate,d!==null&&(p=d.memoizedState)),p!==null)return p.dehydrated}return null}function u(d){if(s(d)!==d)throw Error(r(188))}function h(d){var p=d.alternate;if(!p){if(p=s(d),p===null)throw Error(r(188));return p!==d?null:d}for(var y=d,T=p;;){var F=y.return;if(F===null)break;var H=F.alternate;if(H===null){if(T=F.return,T!==null){y=T;continue}break}if(F.child===H.child){for(H=F.child;H;){if(H===y)return u(F),d;if(H===T)return u(F),p;H=H.sibling}throw Error(r(188))}if(y.return!==T.return)y=F,T=H;else{for(var ce=!1,me=F.child;me;){if(me===y){ce=!0,y=F,T=H;break}if(me===T){ce=!0,T=F,y=H;break}me=me.sibling}if(!ce){for(me=H.child;me;){if(me===y){ce=!0,y=H,T=F;break}if(me===T){ce=!0,T=H,y=F;break}me=me.sibling}if(!ce)throw Error(r(189))}}if(y.alternate!==T)throw Error(r(190))}if(y.tag!==3)throw Error(r(188));return y.stateNode.current===y?d:p}function f(d){var p=d.tag;if(p===5||p===26||p===27||p===6)return d;for(d=d.child;d!==null;){if(p=f(d),p!==null)return p;d=d.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),P=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),te=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function D(d){return d===null||typeof d!="object"?null:(d=G&&d[G]||d["@@iterator"],typeof d=="function"?d:null)}var M=Symbol.for("react.client.reference");function v(d){if(d==null)return null;if(typeof d=="function")return d.$$typeof===M?null:d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case E:return"Fragment";case B:return"Profiler";case C:return"StrictMode";case z:return"Suspense";case V:return"SuspenseList";case W:return"Activity"}if(typeof d=="object")switch(d.$$typeof){case w:return"Portal";case P:return d.displayName||"Context";case O:return(d._context.displayName||"Context")+".Consumer";case q:var p=d.render;return d=d.displayName,d||(d=p.displayName||p.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case Z:return p=d.displayName||null,p!==null?p:v(d.type)||"Memo";case J:p=d._payload,d=d._init;try{return v(d(p))}catch{}}return null}var S=Array.isArray,N=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,k={pending:!1,data:null,method:null,action:null},j=[],I=-1;function A(d){return{current:d}}function $(d){0>I||(d.current=j[I],j[I]=null,I--)}function L(d,p){I++,j[I]=d.current,d.current=p}var Y=A(null),le=A(null),re=A(null),U=A(null);function K(d,p){switch(L(re,p),L(le,d),L(Y,null),p.nodeType){case 9:case 11:d=(d=p.documentElement)&&(d=d.namespaceURI)?Xd(d):0;break;default:if(d=p.tagName,p=p.namespaceURI)p=Xd(p),d=Qd(p,d);else switch(d){case"svg":d=1;break;case"math":d=2;break;default:d=0}}$(Y),L(Y,d)}function se(){$(Y),$(le),$(re)}function he(d){d.memoizedState!==null&&L(U,d);var p=Y.current,y=Qd(p,d.type);p!==y&&(L(le,d),L(Y,y))}function ue(d){le.current===d&&($(Y),$(le)),U.current===d&&($(U),xa._currentValue=k)}var ee,fe;function ge(d){if(ee===void 0)try{throw Error()}catch(y){var p=y.stack.trim().match(/\n( *(at )?)/);ee=p&&p[1]||"",fe=-1<y.stack.indexOf(`
    at`)?" (<anonymous>)":-1<y.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ee+d+fe}var xe=!1;function _e(d,p){if(!d||xe)return"";xe=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var T={DetermineComponentFrameRoot:function(){try{if(p){var Ze=function(){throw Error()};if(Object.defineProperty(Ze.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ze,[])}catch(ze){var Le=ze}Reflect.construct(d,[],Ze)}else{try{Ze.call()}catch(ze){Le=ze}d.call(Ze.prototype)}}else{try{throw Error()}catch(ze){Le=ze}(Ze=d())&&typeof Ze.catch=="function"&&Ze.catch(function(){})}}catch(ze){if(ze&&Le&&typeof ze.stack=="string")return[ze.stack,Le.stack]}return[null,null]}};T.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var F=Object.getOwnPropertyDescriptor(T.DetermineComponentFrameRoot,"name");F&&F.configurable&&Object.defineProperty(T.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var H=T.DetermineComponentFrameRoot(),ce=H[0],me=H[1];if(ce&&me){var Se=ce.split(`
`),Pe=me.split(`
`);for(F=T=0;T<Se.length&&!Se[T].includes("DetermineComponentFrameRoot");)T++;for(;F<Pe.length&&!Pe[F].includes("DetermineComponentFrameRoot");)F++;if(T===Se.length||F===Pe.length)for(T=Se.length-1,F=Pe.length-1;1<=T&&0<=F&&Se[T]!==Pe[F];)F--;for(;1<=T&&0<=F;T--,F--)if(Se[T]!==Pe[F]){if(T!==1||F!==1)do if(T--,F--,0>F||Se[T]!==Pe[F]){var Ke=`
`+Se[T].replace(" at new "," at ");return d.displayName&&Ke.includes("<anonymous>")&&(Ke=Ke.replace("<anonymous>",d.displayName)),Ke}while(1<=T&&0<=F);break}}}finally{xe=!1,Error.prepareStackTrace=y}return(y=d?d.displayName||d.name:"")?ge(y):""}function Ie(d,p){switch(d.tag){case 26:case 27:case 5:return ge(d.type);case 16:return ge("Lazy");case 13:return d.child!==p&&p!==null?ge("Suspense Fallback"):ge("Suspense");case 19:return ge("SuspenseList");case 0:case 15:return _e(d.type,!1);case 11:return _e(d.type.render,!1);case 1:return _e(d.type,!0);case 31:return ge("Activity");default:return""}}function De(d){try{var p="",y=null;do p+=Ie(d,y),y=d,d=d.return;while(d);return p}catch(T){return`
Error generating stack: `+T.message+`
`+T.stack}}var $e=Object.prototype.hasOwnProperty,Ue=t.unstable_scheduleCallback,Be=t.unstable_cancelCallback,Ve=t.unstable_shouldYield,He=t.unstable_requestPaint,Ae=t.unstable_now,Ce=t.unstable_getCurrentPriorityLevel,Te=t.unstable_ImmediatePriority,ye=t.unstable_UserBlockingPriority,Fe=t.unstable_NormalPriority,qe=t.unstable_LowPriority,oe=t.unstable_IdlePriority,Q=t.log,ie=t.unstable_setDisableYieldValue,pe=null,be=null;function we(d){if(typeof Q=="function"&&ie(d),be&&typeof be.setStrictMode=="function")try{be.setStrictMode(pe,d)}catch{}}var Re=Math.clz32?Math.clz32:Je,Ge=Math.log,Ye=Math.LN2;function Je(d){return d>>>=0,d===0?32:31-(Ge(d)/Ye|0)|0}var st=256,et=262144,tt=4194304;function mt(d){var p=d&42;if(p!==0)return p;switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return d&261888;case 262144:case 524288:case 1048576:case 2097152:return d&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return d&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return d}}function ut(d,p,y){var T=d.pendingLanes;if(T===0)return 0;var F=0,H=d.suspendedLanes,ce=d.pingedLanes;d=d.warmLanes;var me=T&134217727;return me!==0?(T=me&~H,T!==0?F=mt(T):(ce&=me,ce!==0?F=mt(ce):y||(y=me&~d,y!==0&&(F=mt(y))))):(me=T&~H,me!==0?F=mt(me):ce!==0?F=mt(ce):y||(y=T&~d,y!==0&&(F=mt(y)))),F===0?0:p!==0&&p!==F&&(p&H)===0&&(H=F&-F,y=p&-p,H>=y||H===32&&(y&4194048)!==0)?p:F}function nt(d,p){return(d.pendingLanes&~(d.suspendedLanes&~d.pingedLanes)&p)===0}function yt(d,p){switch(d){case 1:case 2:case 4:case 8:case 64:return p+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ft(){var d=tt;return tt<<=1,(tt&62914560)===0&&(tt=4194304),d}function de(d){for(var p=[],y=0;31>y;y++)p.push(d);return p}function ne(d,p){d.pendingLanes|=p,p!==268435456&&(d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0)}function ae(d,p,y,T,F,H){var ce=d.pendingLanes;d.pendingLanes=y,d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0,d.expiredLanes&=y,d.entangledLanes&=y,d.errorRecoveryDisabledLanes&=y,d.shellSuspendCounter=0;var me=d.entanglements,Se=d.expirationTimes,Pe=d.hiddenUpdates;for(y=ce&~y;0<y;){var Ke=31-Re(y),Ze=1<<Ke;me[Ke]=0,Se[Ke]=-1;var Le=Pe[Ke];if(Le!==null)for(Pe[Ke]=null,Ke=0;Ke<Le.length;Ke++){var ze=Le[Ke];ze!==null&&(ze.lane&=-536870913)}y&=~Ze}T!==0&&ve(d,T,0),H!==0&&F===0&&d.tag!==0&&(d.suspendedLanes|=H&~(ce&~p))}function ve(d,p,y){d.pendingLanes|=p,d.suspendedLanes&=~p;var T=31-Re(p);d.entangledLanes|=p,d.entanglements[T]=d.entanglements[T]|1073741824|y&261930}function Ee(d,p){var y=d.entangledLanes|=p;for(d=d.entanglements;y;){var T=31-Re(y),F=1<<T;F&p|d[T]&p&&(d[T]|=p),y&=~F}}function Me(d,p){var y=p&-p;return y=(y&42)!==0?1:Ne(y),(y&(d.suspendedLanes|p))!==0?0:y}function Ne(d){switch(d){case 2:d=1;break;case 8:d=4;break;case 32:d=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:d=128;break;case 268435456:d=134217728;break;default:d=0}return d}function it(d){return d&=-d,2<d?8<d?(d&134217727)!==0?32:268435456:8:2}function at(){var d=R.p;return d!==0?d:(d=window.event,d===void 0?32:Ef(d.type))}function Xe(d,p){var y=R.p;try{return R.p=d,p()}finally{R.p=y}}var ct=Math.random().toString(36).slice(2),Qe="__reactFiber$"+ct,rt="__reactProps$"+ct,Rt="__reactContainer$"+ct,pt="__reactEvents$"+ct,gt="__reactListeners$"+ct,br="__reactHandles$"+ct,lr="__reactResources$"+ct,er="__reactMarker$"+ct;function or(d){delete d[Qe],delete d[rt],delete d[pt],delete d[gt],delete d[br]}function Zt(d){var p=d[Qe];if(p)return p;for(var y=d.parentNode;y;){if(p=y[Rt]||y[Qe]){if(y=p.alternate,p.child!==null||y!==null&&y.child!==null)for(d=sf(d);d!==null;){if(y=d[Qe])return y;d=sf(d)}return p}d=y,y=d.parentNode}return null}function Yt(d){if(d=d[Qe]||d[Rt]){var p=d.tag;if(p===5||p===6||p===13||p===31||p===26||p===27||p===3)return d}return null}function tr(d){var p=d.tag;if(p===5||p===26||p===27||p===6)return d.stateNode;throw Error(r(33))}function Jt(d){var p=d[lr];return p||(p=d[lr]={hoistableStyles:new Map,hoistableScripts:new Map}),p}function kt(d){d[er]=!0}var cr=new Set,ur={};function Gt(d,p){Xt(d,p),Xt(d+"Capture",p)}function Xt(d,p){for(ur[d]=p,d=0;d<p.length;d++)cr.add(p[d])}var wr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),dr={},fr={};function _r(d){return $e.call(fr,d)?!0:$e.call(dr,d)?!1:wr.test(d)?fr[d]=!0:(dr[d]=!0,!1)}function Tr(d,p,y){if(_r(p))if(y===null)d.removeAttribute(p);else{switch(typeof y){case"undefined":case"function":case"symbol":d.removeAttribute(p);return;case"boolean":var T=p.toLowerCase().slice(0,5);if(T!=="data-"&&T!=="aria-"){d.removeAttribute(p);return}}d.setAttribute(p,""+y)}}function Mr(d,p,y){if(y===null)d.removeAttribute(p);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":d.removeAttribute(p);return}d.setAttribute(p,""+y)}}function Zr(d,p,y,T){if(T===null)d.removeAttribute(y);else{switch(typeof T){case"undefined":case"function":case"symbol":case"boolean":d.removeAttribute(y);return}d.setAttributeNS(p,y,""+T)}}function Nr(d){switch(typeof d){case"bigint":case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function zl(d){var p=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(p==="checkbox"||p==="radio")}function Mf(d,p,y){var T=Object.getOwnPropertyDescriptor(d.constructor.prototype,p);if(!d.hasOwnProperty(p)&&typeof T<"u"&&typeof T.get=="function"&&typeof T.set=="function"){var F=T.get,H=T.set;return Object.defineProperty(d,p,{configurable:!0,get:function(){return F.call(this)},set:function(ce){y=""+ce,H.call(this,ce)}}),Object.defineProperty(d,p,{enumerable:T.enumerable}),{getValue:function(){return y},setValue:function(ce){y=""+ce},stopTracking:function(){d._valueTracker=null,delete d[p]}}}}function Io(d){if(!d._valueTracker){var p=zl(d)?"checked":"value";d._valueTracker=Mf(d,p,""+d[p])}}function Ul(d){if(!d)return!1;var p=d._valueTracker;if(!p)return!0;var y=p.getValue(),T="";return d&&(T=zl(d)?d.checked?"true":"false":d.value),d=T,d!==y?(p.setValue(d),!0):!1}function Ea(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}var Nf=/[\n"\\]/g;function jr(d){return d.replace(Nf,function(p){return"\\"+p.charCodeAt(0).toString(16)+" "})}function Bo(d,p,y,T,F,H,ce,me){d.name="",ce!=null&&typeof ce!="function"&&typeof ce!="symbol"&&typeof ce!="boolean"?d.type=ce:d.removeAttribute("type"),p!=null?ce==="number"?(p===0&&d.value===""||d.value!=p)&&(d.value=""+Nr(p)):d.value!==""+Nr(p)&&(d.value=""+Nr(p)):ce!=="submit"&&ce!=="reset"||d.removeAttribute("value"),p!=null?Oo(d,ce,Nr(p)):y!=null?Oo(d,ce,Nr(y)):T!=null&&d.removeAttribute("value"),F==null&&H!=null&&(d.defaultChecked=!!H),F!=null&&(d.checked=F&&typeof F!="function"&&typeof F!="symbol"),me!=null&&typeof me!="function"&&typeof me!="symbol"&&typeof me!="boolean"?d.name=""+Nr(me):d.removeAttribute("name")}function Hl(d,p,y,T,F,H,ce,me){if(H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"&&(d.type=H),p!=null||y!=null){if(!(H!=="submit"&&H!=="reset"||p!=null)){Io(d);return}y=y!=null?""+Nr(y):"",p=p!=null?""+Nr(p):y,me||p===d.value||(d.value=p),d.defaultValue=p}T=T??F,T=typeof T!="function"&&typeof T!="symbol"&&!!T,d.checked=me?d.checked:!!T,d.defaultChecked=!!T,ce!=null&&typeof ce!="function"&&typeof ce!="symbol"&&typeof ce!="boolean"&&(d.name=ce),Io(d)}function Oo(d,p,y){p==="number"&&Ea(d.ownerDocument)===d||d.defaultValue===""+y||(d.defaultValue=""+y)}function ti(d,p,y,T){if(d=d.options,p){p={};for(var F=0;F<y.length;F++)p["$"+y[F]]=!0;for(y=0;y<d.length;y++)F=p.hasOwnProperty("$"+d[y].value),d[y].selected!==F&&(d[y].selected=F),F&&T&&(d[y].defaultSelected=!0)}else{for(y=""+Nr(y),p=null,F=0;F<d.length;F++){if(d[F].value===y){d[F].selected=!0,T&&(d[F].defaultSelected=!0);return}p!==null||d[F].disabled||(p=d[F])}p!==null&&(p.selected=!0)}}function Vl(d,p,y){if(p!=null&&(p=""+Nr(p),p!==d.value&&(d.value=p),y==null)){d.defaultValue!==p&&(d.defaultValue=p);return}d.defaultValue=y!=null?""+Nr(y):""}function Kl(d,p,y,T){if(p==null){if(T!=null){if(y!=null)throw Error(r(92));if(S(T)){if(1<T.length)throw Error(r(93));T=T[0]}y=T}y==null&&(y=""),p=y}y=Nr(p),d.defaultValue=y,T=d.textContent,T===y&&T!==""&&T!==null&&(d.value=T),Io(d)}function ri(d,p){if(p){var y=d.firstChild;if(y&&y===d.lastChild&&y.nodeType===3){y.nodeValue=p;return}}d.textContent=p}var jf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gl(d,p,y){var T=p.indexOf("--")===0;y==null||typeof y=="boolean"||y===""?T?d.setProperty(p,""):p==="float"?d.cssFloat="":d[p]="":T?d.setProperty(p,y):typeof y!="number"||y===0||jf.has(p)?p==="float"?d.cssFloat=y:d[p]=(""+y).trim():d[p]=y+"px"}function Wl(d,p,y){if(p!=null&&typeof p!="object")throw Error(r(62));if(d=d.style,y!=null){for(var T in y)!y.hasOwnProperty(T)||p!=null&&p.hasOwnProperty(T)||(T.indexOf("--")===0?d.setProperty(T,""):T==="float"?d.cssFloat="":d[T]="");for(var F in p)T=p[F],p.hasOwnProperty(F)&&y[F]!==T&&Gl(d,F,T)}else for(var H in p)p.hasOwnProperty(H)&&Gl(d,H,p[H])}function Do(d){if(d.indexOf("-")===-1)return!1;switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var If=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sa(d){return Bf.test(""+d)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":d}function Yr(){}var Po=null;function Lo(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var ni=null,ii=null;function Zl(d){var p=Yt(d);if(p&&(d=p.stateNode)){var y=d[rt]||null;e:switch(d=p.stateNode,p.type){case"input":if(Bo(d,y.value,y.defaultValue,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name),p=y.name,y.type==="radio"&&p!=null){for(y=d;y.parentNode;)y=y.parentNode;for(y=y.querySelectorAll('input[name="'+jr(""+p)+'"][type="radio"]'),p=0;p<y.length;p++){var T=y[p];if(T!==d&&T.form===d.form){var F=T[rt]||null;if(!F)throw Error(r(90));Bo(T,F.value,F.defaultValue,F.defaultValue,F.checked,F.defaultChecked,F.type,F.name)}}for(p=0;p<y.length;p++)T=y[p],T.form===d.form&&Ul(T)}break e;case"textarea":Vl(d,y.value,y.defaultValue);break e;case"select":p=y.value,p!=null&&ti(d,!!y.multiple,p,!1)}}}var qo=!1;function Yl(d,p,y){if(qo)return d(p,y);qo=!0;try{var T=d(p);return T}finally{if(qo=!1,(ni!==null||ii!==null)&&(fo(),ni&&(p=ni,d=ii,ii=ni=null,Zl(p),d)))for(p=0;p<d.length;p++)Zl(d[p])}}function Bi(d,p){var y=d.stateNode;if(y===null)return null;var T=y[rt]||null;if(T===null)return null;y=T[p];e:switch(p){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(T=!T.disabled)||(d=d.type,T=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!T;break e;default:d=!1}if(d)return null;if(y&&typeof y!="function")throw Error(r(231,p,typeof y));return y}var Jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fo=!1;if(Jr)try{var Oi={};Object.defineProperty(Oi,"passive",{get:function(){Fo=!0}}),window.addEventListener("test",Oi,Oi),window.removeEventListener("test",Oi,Oi)}catch{Fo=!1}var mn=null,zo=null,Ra=null;function Jl(){if(Ra)return Ra;var d,p=zo,y=p.length,T,F="value"in mn?mn.value:mn.textContent,H=F.length;for(d=0;d<y&&p[d]===F[d];d++);var ce=y-d;for(T=1;T<=ce&&p[y-T]===F[H-T];T++);return Ra=F.slice(d,1<T?1-T:void 0)}function $a(d){var p=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&p===13&&(d=13)):d=p,d===10&&(d=13),32<=d||d===13?d:0}function Ca(){return!0}function Xl(){return!1}function hr(d){function p(y,T,F,H,ce){this._reactName=y,this._targetInst=F,this.type=T,this.nativeEvent=H,this.target=ce,this.currentTarget=null;for(var me in d)d.hasOwnProperty(me)&&(y=d[me],this[me]=y?y(H):H[me]);return this.isDefaultPrevented=(H.defaultPrevented!=null?H.defaultPrevented:H.returnValue===!1)?Ca:Xl,this.isPropagationStopped=Xl,this}return m(p.prototype,{preventDefault:function(){this.defaultPrevented=!0;var y=this.nativeEvent;y&&(y.preventDefault?y.preventDefault():typeof y.returnValue!="unknown"&&(y.returnValue=!1),this.isDefaultPrevented=Ca)},stopPropagation:function(){var y=this.nativeEvent;y&&(y.stopPropagation?y.stopPropagation():typeof y.cancelBubble!="unknown"&&(y.cancelBubble=!0),this.isPropagationStopped=Ca)},persist:function(){},isPersistent:Ca}),p}var Ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Aa=hr(Ln),Di=m({},Ln,{view:0,detail:0}),Of=hr(Di),Uo,Ho,Pi,ka=m({},Di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ko,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==Pi&&(Pi&&d.type==="mousemove"?(Uo=d.screenX-Pi.screenX,Ho=d.screenY-Pi.screenY):Ho=Uo=0,Pi=d),Uo)},movementY:function(d){return"movementY"in d?d.movementY:Ho}}),Ql=hr(ka),Df=m({},ka,{dataTransfer:0}),Pf=hr(Df),Lf=m({},Di,{relatedTarget:0}),Vo=hr(Lf),qf=m({},Ln,{animationName:0,elapsedTime:0,pseudoElement:0}),Ff=hr(qf),zf=m({},Ln,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),Uf=hr(zf),Hf=m({},Ln,{data:0}),tc=hr(Hf),Vf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Kf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wf(d){var p=this.nativeEvent;return p.getModifierState?p.getModifierState(d):(d=Gf[d])?!!p[d]:!1}function Ko(){return Wf}var Zf=m({},Di,{key:function(d){if(d.key){var p=Vf[d.key]||d.key;if(p!=="Unidentified")return p}return d.type==="keypress"?(d=$a(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?Kf[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ko,charCode:function(d){return d.type==="keypress"?$a(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?$a(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),Yf=hr(Zf),Jf=m({},ka,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rc=hr(Jf),Xf=m({},Di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ko}),Qf=hr(Xf),eh=m({},Ln,{propertyName:0,elapsedTime:0,pseudoElement:0}),th=hr(eh),rh=m({},ka,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),nh=hr(rh),ih=m({},Ln,{newState:0,oldState:0}),ah=hr(ih),oh=[9,13,27,32],Go=Jr&&"CompositionEvent"in window,Li=null;Jr&&"documentMode"in document&&(Li=document.documentMode);var sh=Jr&&"TextEvent"in window&&!Li,nc=Jr&&(!Go||Li&&8<Li&&11>=Li),ic=" ",ac=!1;function oc(d,p){switch(d){case"keyup":return oh.indexOf(p.keyCode)!==-1;case"keydown":return p.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sc(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var ai=!1;function lh(d,p){switch(d){case"compositionend":return sc(p);case"keypress":return p.which!==32?null:(ac=!0,ic);case"textInput":return d=p.data,d===ic&&ac?null:d;default:return null}}function ch(d,p){if(ai)return d==="compositionend"||!Go&&oc(d,p)?(d=Jl(),Ra=zo=mn=null,ai=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(p.ctrlKey||p.altKey||p.metaKey)||p.ctrlKey&&p.altKey){if(p.char&&1<p.char.length)return p.char;if(p.which)return String.fromCharCode(p.which)}return null;case"compositionend":return nc&&p.locale!=="ko"?null:p.data;default:return null}}var uh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lc(d){var p=d&&d.nodeName&&d.nodeName.toLowerCase();return p==="input"?!!uh[d.type]:p==="textarea"}function cc(d,p,y,T){ni?ii?ii.push(T):ii=[T]:ni=T,p=yo(p,"onChange"),0<p.length&&(y=new Aa("onChange","change",null,y,T),d.push({event:y,listeners:p}))}var qi=null,Fi=null;function fh(d){Kd(d,0)}function Ta(d){var p=tr(d);if(Ul(p))return d}function uc(d,p){if(d==="change")return p}var dc=!1;if(Jr){var Wo;if(Jr){var Zo="oninput"in document;if(!Zo){var fc=document.createElement("div");fc.setAttribute("oninput","return;"),Zo=typeof fc.oninput=="function"}Wo=Zo}else Wo=!1;dc=Wo&&(!document.documentMode||9<document.documentMode)}function hc(){qi&&(qi.detachEvent("onpropertychange",pc),Fi=qi=null)}function pc(d){if(d.propertyName==="value"&&Ta(Fi)){var p=[];cc(p,Fi,d,Lo(d)),Yl(fh,p)}}function hh(d,p,y){d==="focusin"?(hc(),qi=p,Fi=y,qi.attachEvent("onpropertychange",pc)):d==="focusout"&&hc()}function ph(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return Ta(Fi)}function mh(d,p){if(d==="click")return Ta(p)}function gh(d,p){if(d==="input"||d==="change")return Ta(p)}function xh(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var Er=typeof Object.is=="function"?Object.is:xh;function zi(d,p){if(Er(d,p))return!0;if(typeof d!="object"||d===null||typeof p!="object"||p===null)return!1;var y=Object.keys(d),T=Object.keys(p);if(y.length!==T.length)return!1;for(T=0;T<y.length;T++){var F=y[T];if(!$e.call(p,F)||!Er(d[F],p[F]))return!1}return!0}function mc(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function gc(d,p){var y=mc(d);d=0;for(var T;y;){if(y.nodeType===3){if(T=d+y.textContent.length,d<=p&&T>=p)return{node:y,offset:p-d};d=T}e:{for(;y;){if(y.nextSibling){y=y.nextSibling;break e}y=y.parentNode}y=void 0}y=mc(y)}}function vc(d,p){return d&&p?d===p?!0:d&&d.nodeType===3?!1:p&&p.nodeType===3?vc(d,p.parentNode):"contains"in d?d.contains(p):d.compareDocumentPosition?!!(d.compareDocumentPosition(p)&16):!1:!1}function xc(d){d=d!=null&&d.ownerDocument!=null&&d.ownerDocument.defaultView!=null?d.ownerDocument.defaultView:window;for(var p=Ea(d.document);p instanceof d.HTMLIFrameElement;){try{var y=typeof p.contentWindow.location.href=="string"}catch{y=!1}if(y)d=p.contentWindow;else break;p=Ea(d.document)}return p}function Yo(d){var p=d&&d.nodeName&&d.nodeName.toLowerCase();return p&&(p==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||p==="textarea"||d.contentEditable==="true")}var yh=Jr&&"documentMode"in document&&11>=document.documentMode,oi=null,Jo=null,Ui=null,Xo=!1;function yc(d,p,y){var T=y.window===y?y.document:y.nodeType===9?y:y.ownerDocument;Xo||oi==null||oi!==Ea(T)||(T=oi,"selectionStart"in T&&Yo(T)?T={start:T.selectionStart,end:T.selectionEnd}:(T=(T.ownerDocument&&T.ownerDocument.defaultView||window).getSelection(),T={anchorNode:T.anchorNode,anchorOffset:T.anchorOffset,focusNode:T.focusNode,focusOffset:T.focusOffset}),Ui&&zi(Ui,T)||(Ui=T,T=yo(Jo,"onSelect"),0<T.length&&(p=new Aa("onSelect","select",null,p,y),d.push({event:p,listeners:T}),p.target=oi)))}function qn(d,p){var y={};return y[d.toLowerCase()]=p.toLowerCase(),y["Webkit"+d]="webkit"+p,y["Moz"+d]="moz"+p,y}var si={animationend:qn("Animation","AnimationEnd"),animationiteration:qn("Animation","AnimationIteration"),animationstart:qn("Animation","AnimationStart"),transitionrun:qn("Transition","TransitionRun"),transitionstart:qn("Transition","TransitionStart"),transitioncancel:qn("Transition","TransitionCancel"),transitionend:qn("Transition","TransitionEnd")},Qo={},bc={};Jr&&(bc=document.createElement("div").style,"AnimationEvent"in window||(delete si.animationend.animation,delete si.animationiteration.animation,delete si.animationstart.animation),"TransitionEvent"in window||delete si.transitionend.transition);function Fn(d){if(Qo[d])return Qo[d];if(!si[d])return d;var p=si[d],y;for(y in p)if(p.hasOwnProperty(y)&&y in bc)return Qo[d]=p[y];return d}var wc=Fn("animationend"),_c=Fn("animationiteration"),Ec=Fn("animationstart"),bh=Fn("transitionrun"),wh=Fn("transitionstart"),_h=Fn("transitioncancel"),Sc=Fn("transitionend"),Rc=new Map,es="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");es.push("scrollEnd");function zr(d,p){Rc.set(d,p),Gt(p,[d])}var Ma=typeof reportError=="function"?reportError:function(d){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var p=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof d=="object"&&d!==null&&typeof d.message=="string"?String(d.message):String(d),error:d});if(!window.dispatchEvent(p))return}else if(typeof process$1=="object"&&typeof process$1.emit=="function"){process$1.emit("uncaughtException",d);return}console.error(d)},Ir=[],li=0,ts=0;function Na(){for(var d=li,p=ts=li=0;p<d;){var y=Ir[p];Ir[p++]=null;var T=Ir[p];Ir[p++]=null;var F=Ir[p];Ir[p++]=null;var H=Ir[p];if(Ir[p++]=null,T!==null&&F!==null){var ce=T.pending;ce===null?F.next=F:(F.next=ce.next,ce.next=F),T.pending=F}H!==0&&$c(y,F,H)}}function ja(d,p,y,T){Ir[li++]=d,Ir[li++]=p,Ir[li++]=y,Ir[li++]=T,ts|=T,d.lanes|=T,d=d.alternate,d!==null&&(d.lanes|=T)}function rs(d,p,y,T){return ja(d,p,y,T),Ia(d)}function zn(d,p){return ja(d,null,null,p),Ia(d)}function $c(d,p,y){d.lanes|=y;var T=d.alternate;T!==null&&(T.lanes|=y);for(var F=!1,H=d.return;H!==null;)H.childLanes|=y,T=H.alternate,T!==null&&(T.childLanes|=y),H.tag===22&&(d=H.stateNode,d===null||d._visibility&1||(F=!0)),d=H,H=H.return;return d.tag===3?(H=d.stateNode,F&&p!==null&&(F=31-Re(y),d=H.hiddenUpdates,T=d[F],T===null?d[F]=[p]:T.push(p),p.lane=y|536870912),H):null}function Ia(d){if(50<da)throw da=0,fl=null,Error(r(185));for(var p=d.return;p!==null;)d=p,p=d.return;return d.tag===3?d.stateNode:null}var ci={};function Eh(d,p,y,T){this.tag=d,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sr(d,p,y,T){return new Eh(d,p,y,T)}function ns(d){return d=d.prototype,!(!d||!d.isReactComponent)}function Xr(d,p){var y=d.alternate;return y===null?(y=Sr(d.tag,p,d.key,d.mode),y.elementType=d.elementType,y.type=d.type,y.stateNode=d.stateNode,y.alternate=d,d.alternate=y):(y.pendingProps=p,y.type=d.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=d.flags&65011712,y.childLanes=d.childLanes,y.lanes=d.lanes,y.child=d.child,y.memoizedProps=d.memoizedProps,y.memoizedState=d.memoizedState,y.updateQueue=d.updateQueue,p=d.dependencies,y.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},y.sibling=d.sibling,y.index=d.index,y.ref=d.ref,y.refCleanup=d.refCleanup,y}function Cc(d,p){d.flags&=65011714;var y=d.alternate;return y===null?(d.childLanes=0,d.lanes=p,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=y.childLanes,d.lanes=y.lanes,d.child=y.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=y.memoizedProps,d.memoizedState=y.memoizedState,d.updateQueue=y.updateQueue,d.type=y.type,p=y.dependencies,d.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext}),d}function Ba(d,p,y,T,F,H){var ce=0;if(T=d,typeof d=="function")ns(d)&&(ce=1);else if(typeof d=="string")ce=A0(d,y,Y.current)?26:d==="html"||d==="head"||d==="body"?27:5;else e:switch(d){case W:return d=Sr(31,y,p,F),d.elementType=W,d.lanes=H,d;case E:return Un(y.children,F,H,p);case C:ce=8,F|=24;break;case B:return d=Sr(12,y,p,F|2),d.elementType=B,d.lanes=H,d;case z:return d=Sr(13,y,p,F),d.elementType=z,d.lanes=H,d;case V:return d=Sr(19,y,p,F),d.elementType=V,d.lanes=H,d;default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case P:ce=10;break e;case O:ce=9;break e;case q:ce=11;break e;case Z:ce=14;break e;case J:ce=16,T=null;break e}ce=29,y=Error(r(130,d===null?"null":typeof d,"")),T=null}return p=Sr(ce,y,p,F),p.elementType=d,p.type=T,p.lanes=H,p}function Un(d,p,y,T){return d=Sr(7,d,T,p),d.lanes=y,d}function is(d,p,y){return d=Sr(6,d,null,p),d.lanes=y,d}function Ac(d){var p=Sr(18,null,null,0);return p.stateNode=d,p}function as(d,p,y){return p=Sr(4,d.children!==null?d.children:[],d.key,p),p.lanes=y,p.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},p}var kc=new WeakMap;function Br(d,p){if(typeof d=="object"&&d!==null){var y=kc.get(d);return y!==void 0?y:(p={value:d,source:p,stack:De(p)},kc.set(d,p),p)}return{value:d,source:p,stack:De(p)}}var ui=[],di=0,Oa=null,Hi=0,Or=[],Dr=0,gn=null,Vr=1,Kr="";function Qr(d,p){ui[di++]=Hi,ui[di++]=Oa,Oa=d,Hi=p}function Tc(d,p,y){Or[Dr++]=Vr,Or[Dr++]=Kr,Or[Dr++]=gn,gn=d;var T=Vr;d=Kr;var F=32-Re(T)-1;T&=~(1<<F),y+=1;var H=32-Re(p)+F;if(30<H){var ce=F-F%5;H=(T&(1<<ce)-1).toString(32),T>>=ce,F-=ce,Vr=1<<32-Re(p)+F|y<<F|T,Kr=H+d}else Vr=1<<H|y<<F|T,Kr=d}function os(d){d.return!==null&&(Qr(d,1),Tc(d,1,0))}function ss(d){for(;d===Oa;)Oa=ui[--di],ui[di]=null,Hi=ui[--di],ui[di]=null;for(;d===gn;)gn=Or[--Dr],Or[Dr]=null,Kr=Or[--Dr],Or[Dr]=null,Vr=Or[--Dr],Or[Dr]=null}function Mc(d,p){Or[Dr++]=Vr,Or[Dr++]=Kr,Or[Dr++]=gn,Vr=p.id,Kr=p.overflow,gn=d}var rr=null,Ot=null,St=!1,vn=null,Pr=!1,ls=Error(r(519));function xn(d){var p=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vi(Br(p,d)),ls}function Nc(d){var p=d.stateNode,y=d.type,T=d.memoizedProps;switch(p[Qe]=d,p[rt]=T,y){case"dialog":wt("cancel",p),wt("close",p);break;case"iframe":case"object":case"embed":wt("load",p);break;case"video":case"audio":for(y=0;y<ha.length;y++)wt(ha[y],p);break;case"source":wt("error",p);break;case"img":case"image":case"link":wt("error",p),wt("load",p);break;case"details":wt("toggle",p);break;case"input":wt("invalid",p),Hl(p,T.value,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name,!0);break;case"select":wt("invalid",p);break;case"textarea":wt("invalid",p),Kl(p,T.value,T.defaultValue,T.children)}y=T.children,typeof y!="string"&&typeof y!="number"&&typeof y!="bigint"||p.textContent===""+y||T.suppressHydrationWarning===!0||Yd(p.textContent,y)?(T.popover!=null&&(wt("beforetoggle",p),wt("toggle",p)),T.onScroll!=null&&wt("scroll",p),T.onScrollEnd!=null&&wt("scrollend",p),T.onClick!=null&&(p.onclick=Yr),p=!0):p=!1,p||xn(d,!0)}function jc(d){for(rr=d.return;rr;)switch(rr.tag){case 5:case 31:case 13:Pr=!1;return;case 27:case 3:Pr=!0;return;default:rr=rr.return}}function fi(d){if(d!==rr)return!1;if(!St)return jc(d),St=!0,!1;var p=d.tag,y;if((y=p!==3&&p!==27)&&((y=p===5)&&(y=d.type,y=!(y!=="form"&&y!=="button")||Cl(d.type,d.memoizedProps)),y=!y),y&&Ot&&xn(d),jc(d),p===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));Ot=of(d)}else if(p===31){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));Ot=of(d)}else p===27?(p=Ot,jn(d.type)?(d=Nl,Nl=null,Ot=d):Ot=p):Ot=rr?qr(d.stateNode.nextSibling):null;return!0}function Hn(){Ot=rr=null,St=!1}function cs(){var d=vn;return d!==null&&(xr===null?xr=d:xr.push.apply(xr,d),vn=null),d}function Vi(d){vn===null?vn=[d]:vn.push(d)}var us=A(null),Vn=null,en=null;function yn(d,p,y){L(us,p._currentValue),p._currentValue=y}function tn(d){d._currentValue=us.current,$(us)}function ds(d,p,y){for(;d!==null;){var T=d.alternate;if((d.childLanes&p)!==p?(d.childLanes|=p,T!==null&&(T.childLanes|=p)):T!==null&&(T.childLanes&p)!==p&&(T.childLanes|=p),d===y)break;d=d.return}}function fs(d,p,y,T){var F=d.child;for(F!==null&&(F.return=d);F!==null;){var H=F.dependencies;if(H!==null){var ce=F.child;H=H.firstContext;e:for(;H!==null;){var me=H;H=F;for(var Se=0;Se<p.length;Se++)if(me.context===p[Se]){H.lanes|=y,me=H.alternate,me!==null&&(me.lanes|=y),ds(H.return,y,d),T||(ce=null);break e}H=me.next}}else if(F.tag===18){if(ce=F.return,ce===null)throw Error(r(341));ce.lanes|=y,H=ce.alternate,H!==null&&(H.lanes|=y),ds(ce,y,d),ce=null}else ce=F.child;if(ce!==null)ce.return=F;else for(ce=F;ce!==null;){if(ce===d){ce=null;break}if(F=ce.sibling,F!==null){F.return=ce.return,ce=F;break}ce=ce.return}F=ce}}function hi(d,p,y,T){d=null;for(var F=p,H=!1;F!==null;){if(!H){if((F.flags&524288)!==0)H=!0;else if((F.flags&262144)!==0)break}if(F.tag===10){var ce=F.alternate;if(ce===null)throw Error(r(387));if(ce=ce.memoizedProps,ce!==null){var me=F.type;Er(F.pendingProps.value,ce.value)||(d!==null?d.push(me):d=[me])}}else if(F===U.current){if(ce=F.alternate,ce===null)throw Error(r(387));ce.memoizedState.memoizedState!==F.memoizedState.memoizedState&&(d!==null?d.push(xa):d=[xa])}F=F.return}d!==null&&fs(p,d,y,T),p.flags|=262144}function Da(d){for(d=d.firstContext;d!==null;){if(!Er(d.context._currentValue,d.memoizedValue))return!0;d=d.next}return!1}function Kn(d){Vn=d,en=null,d=d.dependencies,d!==null&&(d.firstContext=null)}function nr(d){return Ic(Vn,d)}function Pa(d,p){return Vn===null&&Kn(d),Ic(d,p)}function Ic(d,p){var y=p._currentValue;if(p={context:p,memoizedValue:y,next:null},en===null){if(d===null)throw Error(r(308));en=p,d.dependencies={lanes:0,firstContext:p},d.flags|=524288}else en=en.next=p;return y}var Sh=typeof AbortController<"u"?AbortController:function(){var d=[],p=this.signal={aborted:!1,addEventListener:function(y,T){d.push(T)}};this.abort=function(){p.aborted=!0,d.forEach(function(y){return y()})}},Rh=t.unstable_scheduleCallback,$h=t.unstable_NormalPriority,Ut={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hs(){return{controller:new Sh,data:new Map,refCount:0}}function Ki(d){d.refCount--,d.refCount===0&&Rh($h,function(){d.controller.abort()})}var Gi=null,ps=0,pi=0,mi=null;function Ch(d,p){if(Gi===null){var y=Gi=[];ps=0,pi=xl(),mi={status:"pending",value:void 0,then:function(T){y.push(T)}}}return ps++,p.then(Bc,Bc),p}function Bc(){if(--ps===0&&Gi!==null){mi!==null&&(mi.status="fulfilled");var d=Gi;Gi=null,pi=0,mi=null;for(var p=0;p<d.length;p++)(0,d[p])()}}function Ah(d,p){var y=[],T={status:"pending",value:null,reason:null,then:function(F){y.push(F)}};return d.then(function(){T.status="fulfilled",T.value=p;for(var F=0;F<y.length;F++)(0,y[F])(p)},function(F){for(T.status="rejected",T.reason=F,F=0;F<y.length;F++)(0,y[F])(void 0)}),T}var Oc=N.S;N.S=function(d,p){bd=Ae(),typeof p=="object"&&p!==null&&typeof p.then=="function"&&Ch(d,p),Oc!==null&&Oc(d,p)};var Gn=A(null);function ms(){var d=Gn.current;return d!==null?d:Bt.pooledCache}function La(d,p){p===null?L(Gn,Gn.current):L(Gn,p.pool)}function Dc(){var d=ms();return d===null?null:{parent:Ut._currentValue,pool:d}}var gi=Error(r(460)),gs=Error(r(474)),qa=Error(r(542)),Fa={then:function(){}};function Pc(d){return d=d.status,d==="fulfilled"||d==="rejected"}function Lc(d,p,y){switch(y=d[y],y===void 0?d.push(p):y!==p&&(p.then(Yr,Yr),p=y),p.status){case"fulfilled":return p.value;case"rejected":throw d=p.reason,Fc(d),d;default:if(typeof p.status=="string")p.then(Yr,Yr);else{if(d=Bt,d!==null&&100<d.shellSuspendCounter)throw Error(r(482));d=p,d.status="pending",d.then(function(T){if(p.status==="pending"){var F=p;F.status="fulfilled",F.value=T}},function(T){if(p.status==="pending"){var F=p;F.status="rejected",F.reason=T}})}switch(p.status){case"fulfilled":return p.value;case"rejected":throw d=p.reason,Fc(d),d}throw Zn=p,gi}}function Wn(d){try{var p=d._init;return p(d._payload)}catch(y){throw y!==null&&typeof y=="object"&&typeof y.then=="function"?(Zn=y,gi):y}}var Zn=null;function qc(){if(Zn===null)throw Error(r(459));var d=Zn;return Zn=null,d}function Fc(d){if(d===gi||d===qa)throw Error(r(483))}var vi=null,Wi=0;function za(d){var p=Wi;return Wi+=1,vi===null&&(vi=[]),Lc(vi,d,p)}function Zi(d,p){p=p.props.ref,d.ref=p!==void 0?p:null}function Ua(d,p){throw p.$$typeof===g?Error(r(525)):(d=Object.prototype.toString.call(p),Error(r(31,d==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":d)))}function zc(d){function p(je,ke){if(d){var Oe=je.deletions;Oe===null?(je.deletions=[ke],je.flags|=16):Oe.push(ke)}}function y(je,ke){if(!d)return null;for(;ke!==null;)p(je,ke),ke=ke.sibling;return null}function T(je){for(var ke=new Map;je!==null;)je.key!==null?ke.set(je.key,je):ke.set(je.index,je),je=je.sibling;return ke}function F(je,ke){return je=Xr(je,ke),je.index=0,je.sibling=null,je}function H(je,ke,Oe){return je.index=Oe,d?(Oe=je.alternate,Oe!==null?(Oe=Oe.index,Oe<ke?(je.flags|=67108866,ke):Oe):(je.flags|=67108866,ke)):(je.flags|=1048576,ke)}function ce(je){return d&&je.alternate===null&&(je.flags|=67108866),je}function me(je,ke,Oe,We){return ke===null||ke.tag!==6?(ke=is(Oe,je.mode,We),ke.return=je,ke):(ke=F(ke,Oe),ke.return=je,ke)}function Se(je,ke,Oe,We){var dt=Oe.type;return dt===E?Ke(je,ke,Oe.props.children,We,Oe.key):ke!==null&&(ke.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===J&&Wn(dt)===ke.type)?(ke=F(ke,Oe.props),Zi(ke,Oe),ke.return=je,ke):(ke=Ba(Oe.type,Oe.key,Oe.props,null,je.mode,We),Zi(ke,Oe),ke.return=je,ke)}function Pe(je,ke,Oe,We){return ke===null||ke.tag!==4||ke.stateNode.containerInfo!==Oe.containerInfo||ke.stateNode.implementation!==Oe.implementation?(ke=as(Oe,je.mode,We),ke.return=je,ke):(ke=F(ke,Oe.children||[]),ke.return=je,ke)}function Ke(je,ke,Oe,We,dt){return ke===null||ke.tag!==7?(ke=Un(Oe,je.mode,We,dt),ke.return=je,ke):(ke=F(ke,Oe),ke.return=je,ke)}function Ze(je,ke,Oe){if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return ke=is(""+ke,je.mode,Oe),ke.return=je,ke;if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case b:return Oe=Ba(ke.type,ke.key,ke.props,null,je.mode,Oe),Zi(Oe,ke),Oe.return=je,Oe;case w:return ke=as(ke,je.mode,Oe),ke.return=je,ke;case J:return ke=Wn(ke),Ze(je,ke,Oe)}if(S(ke)||D(ke))return ke=Un(ke,je.mode,Oe,null),ke.return=je,ke;if(typeof ke.then=="function")return Ze(je,za(ke),Oe);if(ke.$$typeof===P)return Ze(je,Pa(je,ke),Oe);Ua(je,ke)}return null}function Le(je,ke,Oe,We){var dt=ke!==null?ke.key:null;if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint")return dt!==null?null:me(je,ke,""+Oe,We);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case b:return Oe.key===dt?Se(je,ke,Oe,We):null;case w:return Oe.key===dt?Pe(je,ke,Oe,We):null;case J:return Oe=Wn(Oe),Le(je,ke,Oe,We)}if(S(Oe)||D(Oe))return dt!==null?null:Ke(je,ke,Oe,We,null);if(typeof Oe.then=="function")return Le(je,ke,za(Oe),We);if(Oe.$$typeof===P)return Le(je,ke,Pa(je,Oe),We);Ua(je,Oe)}return null}function ze(je,ke,Oe,We,dt){if(typeof We=="string"&&We!==""||typeof We=="number"||typeof We=="bigint")return je=je.get(Oe)||null,me(ke,je,""+We,dt);if(typeof We=="object"&&We!==null){switch(We.$$typeof){case b:return je=je.get(We.key===null?Oe:We.key)||null,Se(ke,je,We,dt);case w:return je=je.get(We.key===null?Oe:We.key)||null,Pe(ke,je,We,dt);case J:return We=Wn(We),ze(je,ke,Oe,We,dt)}if(S(We)||D(We))return je=je.get(Oe)||null,Ke(ke,je,We,dt,null);if(typeof We.then=="function")return ze(je,ke,Oe,za(We),dt);if(We.$$typeof===P)return ze(je,ke,Oe,Pa(ke,We),dt);Ua(ke,We)}return null}function ot(je,ke,Oe,We){for(var dt=null,$t=null,lt=ke,xt=ke=0,Et=null;lt!==null&&xt<Oe.length;xt++){lt.index>xt?(Et=lt,lt=null):Et=lt.sibling;var Ct=Le(je,lt,Oe[xt],We);if(Ct===null){lt===null&&(lt=Et);break}d&&lt&&Ct.alternate===null&&p(je,lt),ke=H(Ct,ke,xt),$t===null?dt=Ct:$t.sibling=Ct,$t=Ct,lt=Et}if(xt===Oe.length)return y(je,lt),St&&Qr(je,xt),dt;if(lt===null){for(;xt<Oe.length;xt++)lt=Ze(je,Oe[xt],We),lt!==null&&(ke=H(lt,ke,xt),$t===null?dt=lt:$t.sibling=lt,$t=lt);return St&&Qr(je,xt),dt}for(lt=T(lt);xt<Oe.length;xt++)Et=ze(lt,je,xt,Oe[xt],We),Et!==null&&(d&&Et.alternate!==null&&lt.delete(Et.key===null?xt:Et.key),ke=H(Et,ke,xt),$t===null?dt=Et:$t.sibling=Et,$t=Et);return d&&lt.forEach(function(Pn){return p(je,Pn)}),St&&Qr(je,xt),dt}function ht(je,ke,Oe,We){if(Oe==null)throw Error(r(151));for(var dt=null,$t=null,lt=ke,xt=ke=0,Et=null,Ct=Oe.next();lt!==null&&!Ct.done;xt++,Ct=Oe.next()){lt.index>xt?(Et=lt,lt=null):Et=lt.sibling;var Pn=Le(je,lt,Ct.value,We);if(Pn===null){lt===null&&(lt=Et);break}d&&lt&&Pn.alternate===null&&p(je,lt),ke=H(Pn,ke,xt),$t===null?dt=Pn:$t.sibling=Pn,$t=Pn,lt=Et}if(Ct.done)return y(je,lt),St&&Qr(je,xt),dt;if(lt===null){for(;!Ct.done;xt++,Ct=Oe.next())Ct=Ze(je,Ct.value,We),Ct!==null&&(ke=H(Ct,ke,xt),$t===null?dt=Ct:$t.sibling=Ct,$t=Ct);return St&&Qr(je,xt),dt}for(lt=T(lt);!Ct.done;xt++,Ct=Oe.next())Ct=ze(lt,je,xt,Ct.value,We),Ct!==null&&(d&&Ct.alternate!==null&&lt.delete(Ct.key===null?xt:Ct.key),ke=H(Ct,ke,xt),$t===null?dt=Ct:$t.sibling=Ct,$t=Ct);return d&&lt.forEach(function(L0){return p(je,L0)}),St&&Qr(je,xt),dt}function It(je,ke,Oe,We){if(typeof Oe=="object"&&Oe!==null&&Oe.type===E&&Oe.key===null&&(Oe=Oe.props.children),typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case b:e:{for(var dt=Oe.key;ke!==null;){if(ke.key===dt){if(dt=Oe.type,dt===E){if(ke.tag===7){y(je,ke.sibling),We=F(ke,Oe.props.children),We.return=je,je=We;break e}}else if(ke.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===J&&Wn(dt)===ke.type){y(je,ke.sibling),We=F(ke,Oe.props),Zi(We,Oe),We.return=je,je=We;break e}y(je,ke);break}else p(je,ke);ke=ke.sibling}Oe.type===E?(We=Un(Oe.props.children,je.mode,We,Oe.key),We.return=je,je=We):(We=Ba(Oe.type,Oe.key,Oe.props,null,je.mode,We),Zi(We,Oe),We.return=je,je=We)}return ce(je);case w:e:{for(dt=Oe.key;ke!==null;){if(ke.key===dt)if(ke.tag===4&&ke.stateNode.containerInfo===Oe.containerInfo&&ke.stateNode.implementation===Oe.implementation){y(je,ke.sibling),We=F(ke,Oe.children||[]),We.return=je,je=We;break e}else{y(je,ke);break}else p(je,ke);ke=ke.sibling}We=as(Oe,je.mode,We),We.return=je,je=We}return ce(je);case J:return Oe=Wn(Oe),It(je,ke,Oe,We)}if(S(Oe))return ot(je,ke,Oe,We);if(D(Oe)){if(dt=D(Oe),typeof dt!="function")throw Error(r(150));return Oe=dt.call(Oe),ht(je,ke,Oe,We)}if(typeof Oe.then=="function")return It(je,ke,za(Oe),We);if(Oe.$$typeof===P)return It(je,ke,Pa(je,Oe),We);Ua(je,Oe)}return typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint"?(Oe=""+Oe,ke!==null&&ke.tag===6?(y(je,ke.sibling),We=F(ke,Oe),We.return=je,je=We):(y(je,ke),We=is(Oe,je.mode,We),We.return=je,je=We),ce(je)):y(je,ke)}return function(je,ke,Oe,We){try{Wi=0;var dt=It(je,ke,Oe,We);return vi=null,dt}catch(lt){if(lt===gi||lt===qa)throw lt;var $t=Sr(29,lt,null,je.mode);return $t.lanes=We,$t.return=je,$t}finally{}}}var Yn=zc(!0),Uc=zc(!1),wn=!1;function vs(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xs(d,p){d=d.updateQueue,p.updateQueue===d&&(p.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,callbacks:null})}function _n(d){return{lane:d,tag:0,payload:null,callback:null,next:null}}function En(d,p,y){var T=d.updateQueue;if(T===null)return null;if(T=T.shared,(At&2)!==0){var F=T.pending;return F===null?p.next=p:(p.next=F.next,F.next=p),T.pending=p,p=Ia(d),$c(d,null,y),p}return ja(d,T,p,y),Ia(d)}function Yi(d,p,y){if(p=p.updateQueue,p!==null&&(p=p.shared,(y&4194048)!==0)){var T=p.lanes;T&=d.pendingLanes,y|=T,p.lanes=y,Ee(d,y)}}function ys(d,p){var y=d.updateQueue,T=d.alternate;if(T!==null&&(T=T.updateQueue,y===T)){var F=null,H=null;if(y=y.firstBaseUpdate,y!==null){do{var ce={lane:y.lane,tag:y.tag,payload:y.payload,callback:null,next:null};H===null?F=H=ce:H=H.next=ce,y=y.next}while(y!==null);H===null?F=H=p:H=H.next=p}else F=H=p;y={baseState:T.baseState,firstBaseUpdate:F,lastBaseUpdate:H,shared:T.shared,callbacks:T.callbacks},d.updateQueue=y;return}d=y.lastBaseUpdate,d===null?y.firstBaseUpdate=p:d.next=p,y.lastBaseUpdate=p}var bs=!1;function Ji(){if(bs){var d=mi;if(d!==null)throw d}}function Xi(d,p,y,T){bs=!1;var F=d.updateQueue;wn=!1;var H=F.firstBaseUpdate,ce=F.lastBaseUpdate,me=F.shared.pending;if(me!==null){F.shared.pending=null;var Se=me,Pe=Se.next;Se.next=null,ce===null?H=Pe:ce.next=Pe,ce=Se;var Ke=d.alternate;Ke!==null&&(Ke=Ke.updateQueue,me=Ke.lastBaseUpdate,me!==ce&&(me===null?Ke.firstBaseUpdate=Pe:me.next=Pe,Ke.lastBaseUpdate=Se))}if(H!==null){var Ze=F.baseState;ce=0,Ke=Pe=Se=null,me=H;do{var Le=me.lane&-536870913,ze=Le!==me.lane;if(ze?(_t&Le)===Le:(T&Le)===Le){Le!==0&&Le===pi&&(bs=!0),Ke!==null&&(Ke=Ke.next={lane:0,tag:me.tag,payload:me.payload,callback:null,next:null});e:{var ot=d,ht=me;Le=p;var It=y;switch(ht.tag){case 1:if(ot=ht.payload,typeof ot=="function"){Ze=ot.call(It,Ze,Le);break e}Ze=ot;break e;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=ht.payload,Le=typeof ot=="function"?ot.call(It,Ze,Le):ot,Le==null)break e;Ze=m({},Ze,Le);break e;case 2:wn=!0}}Le=me.callback,Le!==null&&(d.flags|=64,ze&&(d.flags|=8192),ze=F.callbacks,ze===null?F.callbacks=[Le]:ze.push(Le))}else ze={lane:Le,tag:me.tag,payload:me.payload,callback:me.callback,next:null},Ke===null?(Pe=Ke=ze,Se=Ze):Ke=Ke.next=ze,ce|=Le;if(me=me.next,me===null){if(me=F.shared.pending,me===null)break;ze=me,me=ze.next,ze.next=null,F.lastBaseUpdate=ze,F.shared.pending=null}}while(!0);Ke===null&&(Se=Ze),F.baseState=Se,F.firstBaseUpdate=Pe,F.lastBaseUpdate=Ke,H===null&&(F.shared.lanes=0),An|=ce,d.lanes=ce,d.memoizedState=Ze}}function Hc(d,p){if(typeof d!="function")throw Error(r(191,d));d.call(p)}function Vc(d,p){var y=d.callbacks;if(y!==null)for(d.callbacks=null,d=0;d<y.length;d++)Hc(y[d],p)}var xi=A(null),Ha=A(0);function Kc(d,p){d=fn,L(Ha,d),L(xi,p),fn=d|p.baseLanes}function _s(){L(Ha,fn),L(xi,xi.current)}function Es(){fn=Ha.current,$(xi),$(Ha)}var Rr=A(null),Lr=null;function Sn(d){var p=d.alternate;L(Ft,Ft.current&1),L(Rr,d),Lr===null&&(p===null||xi.current!==null||p.memoizedState!==null)&&(Lr=d)}function Ss(d){L(Ft,Ft.current),L(Rr,d),Lr===null&&(Lr=d)}function Gc(d){d.tag===22?(L(Ft,Ft.current),L(Rr,d),Lr===null&&(Lr=d)):Rn()}function Rn(){L(Ft,Ft.current),L(Rr,Rr.current)}function $r(d){$(Rr),Lr===d&&(Lr=null),$(Ft)}var Ft=A(0);function Va(d){for(var p=d;p!==null;){if(p.tag===13){var y=p.memoizedState;if(y!==null&&(y=y.dehydrated,y===null||Tl(y)||Ml(y)))return p}else if(p.tag===19&&(p.memoizedProps.revealOrder==="forwards"||p.memoizedProps.revealOrder==="backwards"||p.memoizedProps.revealOrder==="unstable_legacy-backwards"||p.memoizedProps.revealOrder==="together")){if((p.flags&128)!==0)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===d)break;for(;p.sibling===null;){if(p.return===null||p.return===d)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var rn=0,vt=null,Nt=null,Ht=null,Ka=!1,yi=!1,Jn=!1,Ga=0,Qi=0,bi=null,kh=0;function Lt(){throw Error(r(321))}function Rs(d,p){if(p===null)return!1;for(var y=0;y<p.length&&y<d.length;y++)if(!Er(d[y],p[y]))return!1;return!0}function $s(d,p,y,T,F,H){return rn=H,vt=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,N.H=d===null||d.memoizedState===null?Tu:Fs,Jn=!1,H=y(T,F),Jn=!1,yi&&(H=Zc(p,y,T,F)),Wc(d),H}function Wc(d){N.H=ra;var p=Nt!==null&&Nt.next!==null;if(rn=0,Ht=Nt=vt=null,Ka=!1,Qi=0,bi=null,p)throw Error(r(300));d===null||Vt||(d=d.dependencies,d!==null&&Da(d)&&(Vt=!0))}function Zc(d,p,y,T){vt=d;var F=0;do{if(yi&&(bi=null),Qi=0,yi=!1,25<=F)throw Error(r(301));if(F+=1,Ht=Nt=null,d.updateQueue!=null){var H=d.updateQueue;H.lastEffect=null,H.events=null,H.stores=null,H.memoCache!=null&&(H.memoCache.index=0)}N.H=Mu,H=p(y,T)}while(yi);return H}function Th(){var d=N.H,p=d.useState()[0];return p=typeof p.then=="function"?ea(p):p,d=d.useState()[0],(Nt!==null?Nt.memoizedState:null)!==d&&(vt.flags|=1024),p}function Cs(){var d=Ga!==0;return Ga=0,d}function As(d,p,y){p.updateQueue=d.updateQueue,p.flags&=-2053,d.lanes&=~y}function ks(d){if(Ka){for(d=d.memoizedState;d!==null;){var p=d.queue;p!==null&&(p.pending=null),d=d.next}Ka=!1}rn=0,Ht=Nt=vt=null,yi=!1,Qi=Ga=0,bi=null}function sr(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?vt.memoizedState=Ht=d:Ht=Ht.next=d,Ht}function zt(){if(Nt===null){var d=vt.alternate;d=d!==null?d.memoizedState:null}else d=Nt.next;var p=Ht===null?vt.memoizedState:Ht.next;if(p!==null)Ht=p,Nt=d;else{if(d===null)throw vt.alternate===null?Error(r(467)):Error(r(310));Nt=d,d={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},Ht===null?vt.memoizedState=Ht=d:Ht=Ht.next=d}return Ht}function Wa(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ea(d){var p=Qi;return Qi+=1,bi===null&&(bi=[]),d=Lc(bi,d,p),p=vt,(Ht===null?p.memoizedState:Ht.next)===null&&(p=p.alternate,N.H=p===null||p.memoizedState===null?Tu:Fs),d}function Za(d){if(d!==null&&typeof d=="object"){if(typeof d.then=="function")return ea(d);if(d.$$typeof===P)return nr(d)}throw Error(r(438,String(d)))}function Ts(d){var p=null,y=vt.updateQueue;if(y!==null&&(p=y.memoCache),p==null){var T=vt.alternate;T!==null&&(T=T.updateQueue,T!==null&&(T=T.memoCache,T!=null&&(p={data:T.data.map(function(F){return F.slice()}),index:0})))}if(p==null&&(p={data:[],index:0}),y===null&&(y=Wa(),vt.updateQueue=y),y.memoCache=p,y=p.data[p.index],y===void 0)for(y=p.data[p.index]=Array(d),T=0;T<d;T++)y[T]=te;return p.index++,y}function nn(d,p){return typeof p=="function"?p(d):p}function Ya(d){var p=zt();return Ms(p,Nt,d)}function Ms(d,p,y){var T=d.queue;if(T===null)throw Error(r(311));T.lastRenderedReducer=y;var F=d.baseQueue,H=T.pending;if(H!==null){if(F!==null){var ce=F.next;F.next=H.next,H.next=ce}p.baseQueue=F=H,T.pending=null}if(H=d.baseState,F===null)d.memoizedState=H;else{p=F.next;var me=ce=null,Se=null,Pe=p,Ke=!1;do{var Ze=Pe.lane&-536870913;if(Ze!==Pe.lane?(_t&Ze)===Ze:(rn&Ze)===Ze){var Le=Pe.revertLane;if(Le===0)Se!==null&&(Se=Se.next={lane:0,revertLane:0,gesture:null,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null}),Ze===pi&&(Ke=!0);else if((rn&Le)===Le){Pe=Pe.next,Le===pi&&(Ke=!0);continue}else Ze={lane:0,revertLane:Pe.revertLane,gesture:null,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null},Se===null?(me=Se=Ze,ce=H):Se=Se.next=Ze,vt.lanes|=Le,An|=Le;Ze=Pe.action,Jn&&y(H,Ze),H=Pe.hasEagerState?Pe.eagerState:y(H,Ze)}else Le={lane:Ze,revertLane:Pe.revertLane,gesture:Pe.gesture,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null},Se===null?(me=Se=Le,ce=H):Se=Se.next=Le,vt.lanes|=Ze,An|=Ze;Pe=Pe.next}while(Pe!==null&&Pe!==p);if(Se===null?ce=H:Se.next=me,!Er(H,d.memoizedState)&&(Vt=!0,Ke&&(y=mi,y!==null)))throw y;d.memoizedState=H,d.baseState=ce,d.baseQueue=Se,T.lastRenderedState=H}return F===null&&(T.lanes=0),[d.memoizedState,T.dispatch]}function Ns(d){var p=zt(),y=p.queue;if(y===null)throw Error(r(311));y.lastRenderedReducer=d;var T=y.dispatch,F=y.pending,H=p.memoizedState;if(F!==null){y.pending=null;var ce=F=F.next;do H=d(H,ce.action),ce=ce.next;while(ce!==F);Er(H,p.memoizedState)||(Vt=!0),p.memoizedState=H,p.baseQueue===null&&(p.baseState=H),y.lastRenderedState=H}return[H,T]}function Yc(d,p,y){var T=vt,F=zt(),H=St;if(H){if(y===void 0)throw Error(r(407));y=y()}else y=p();var ce=!Er((Nt||F).memoizedState,y);if(ce&&(F.memoizedState=y,Vt=!0),F=F.queue,Bs(Qc.bind(null,T,F,d),[d]),F.getSnapshot!==p||ce||Ht!==null&&Ht.memoizedState.tag&1){if(T.flags|=2048,wi(9,{destroy:void 0},Xc.bind(null,T,F,y,p),null),Bt===null)throw Error(r(349));H||(rn&127)!==0||Jc(T,p,y)}return y}function Jc(d,p,y){d.flags|=16384,d={getSnapshot:p,value:y},p=vt.updateQueue,p===null?(p=Wa(),vt.updateQueue=p,p.stores=[d]):(y=p.stores,y===null?p.stores=[d]:y.push(d))}function Xc(d,p,y,T){p.value=y,p.getSnapshot=T,eu(p)&&tu(d)}function Qc(d,p,y){return y(function(){eu(p)&&tu(d)})}function eu(d){var p=d.getSnapshot;d=d.value;try{var y=p();return!Er(d,y)}catch{return!0}}function tu(d){var p=zn(d,2);p!==null&&yr(p,d,2)}function js(d){var p=sr();if(typeof d=="function"){var y=d;if(d=y(),Jn){we(!0);try{y()}finally{we(!1)}}}return p.memoizedState=p.baseState=d,p.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nn,lastRenderedState:d},p}function ru(d,p,y,T){return d.baseState=y,Ms(d,Nt,typeof T=="function"?T:nn)}function Mh(d,p,y,T,F){if(Qa(d))throw Error(r(485));if(d=p.action,d!==null){var H={payload:F,action:d,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ce){H.listeners.push(ce)}};N.T!==null?y(!0):H.isTransition=!1,T(H),y=p.pending,y===null?(H.next=p.pending=H,nu(p,H)):(H.next=y.next,p.pending=y.next=H)}}function nu(d,p){var y=p.action,T=p.payload,F=d.state;if(p.isTransition){var H=N.T,ce={};N.T=ce;try{var me=y(F,T),Se=N.S;Se!==null&&Se(ce,me),iu(d,p,me)}catch(Pe){Is(d,p,Pe)}finally{H!==null&&ce.types!==null&&(H.types=ce.types),N.T=H}}else try{H=y(F,T),iu(d,p,H)}catch(Pe){Is(d,p,Pe)}}function iu(d,p,y){y!==null&&typeof y=="object"&&typeof y.then=="function"?y.then(function(T){au(d,p,T)},function(T){return Is(d,p,T)}):au(d,p,y)}function au(d,p,y){p.status="fulfilled",p.value=y,ou(p),d.state=y,p=d.pending,p!==null&&(y=p.next,y===p?d.pending=null:(y=y.next,p.next=y,nu(d,y)))}function Is(d,p,y){var T=d.pending;if(d.pending=null,T!==null){T=T.next;do p.status="rejected",p.reason=y,ou(p),p=p.next;while(p!==T)}d.action=null}function ou(d){d=d.listeners;for(var p=0;p<d.length;p++)(0,d[p])()}function su(d,p){return p}function lu(d,p){if(St){var y=Bt.formState;if(y!==null){e:{var T=vt;if(St){if(Ot){t:{for(var F=Ot,H=Pr;F.nodeType!==8;){if(!H){F=null;break t}if(F=qr(F.nextSibling),F===null){F=null;break t}}H=F.data,F=H==="F!"||H==="F"?F:null}if(F){Ot=qr(F.nextSibling),T=F.data==="F!";break e}}xn(T)}T=!1}T&&(p=y[0])}}return y=sr(),y.memoizedState=y.baseState=p,T={pending:null,lanes:0,dispatch:null,lastRenderedReducer:su,lastRenderedState:p},y.queue=T,y=Cu.bind(null,vt,T),T.dispatch=y,T=js(!1),H=qs.bind(null,vt,!1,T.queue),T=sr(),F={state:p,dispatch:null,action:d,pending:null},T.queue=F,y=Mh.bind(null,vt,F,H,y),F.dispatch=y,T.memoizedState=d,[p,y,!1]}function cu(d){var p=zt();return uu(p,Nt,d)}function uu(d,p,y){if(p=Ms(d,p,su)[0],d=Ya(nn)[0],typeof p=="object"&&p!==null&&typeof p.then=="function")try{var T=ea(p)}catch(ce){throw ce===gi?qa:ce}else T=p;p=zt();var F=p.queue,H=F.dispatch;return y!==p.memoizedState&&(vt.flags|=2048,wi(9,{destroy:void 0},Nh.bind(null,F,y),null)),[T,H,d]}function Nh(d,p){d.action=p}function du(d){var p=zt(),y=Nt;if(y!==null)return uu(p,y,d);zt(),p=p.memoizedState,y=zt();var T=y.queue.dispatch;return y.memoizedState=d,[p,T,!1]}function wi(d,p,y,T){return d={tag:d,create:y,deps:T,inst:p,next:null},p=vt.updateQueue,p===null&&(p=Wa(),vt.updateQueue=p),y=p.lastEffect,y===null?p.lastEffect=d.next=d:(T=y.next,y.next=d,d.next=T,p.lastEffect=d),d}function fu(){return zt().memoizedState}function Ja(d,p,y,T){var F=sr();vt.flags|=d,F.memoizedState=wi(1|p,{destroy:void 0},y,T===void 0?null:T)}function Xa(d,p,y,T){var F=zt();T=T===void 0?null:T;var H=F.memoizedState.inst;Nt!==null&&T!==null&&Rs(T,Nt.memoizedState.deps)?F.memoizedState=wi(p,H,y,T):(vt.flags|=d,F.memoizedState=wi(1|p,H,y,T))}function hu(d,p){Ja(8390656,8,d,p)}function Bs(d,p){Xa(2048,8,d,p)}function jh(d){vt.flags|=4;var p=vt.updateQueue;if(p===null)p=Wa(),vt.updateQueue=p,p.events=[d];else{var y=p.events;y===null?p.events=[d]:y.push(d)}}function pu(d){var p=zt().memoizedState;return jh({ref:p,nextImpl:d}),function(){if((At&2)!==0)throw Error(r(440));return p.impl.apply(void 0,arguments)}}function mu(d,p){return Xa(4,2,d,p)}function gu(d,p){return Xa(4,4,d,p)}function vu(d,p){if(typeof p=="function"){d=d();var y=p(d);return function(){typeof y=="function"?y():p(null)}}if(p!=null)return d=d(),p.current=d,function(){p.current=null}}function xu(d,p,y){y=y!=null?y.concat([d]):null,Xa(4,4,vu.bind(null,p,d),y)}function Os(){}function yu(d,p){var y=zt();p=p===void 0?null:p;var T=y.memoizedState;return p!==null&&Rs(p,T[1])?T[0]:(y.memoizedState=[d,p],d)}function bu(d,p){var y=zt();p=p===void 0?null:p;var T=y.memoizedState;if(p!==null&&Rs(p,T[1]))return T[0];if(T=d(),Jn){we(!0);try{d()}finally{we(!1)}}return y.memoizedState=[T,p],T}function Ds(d,p,y){return y===void 0||(rn&1073741824)!==0&&(_t&261930)===0?d.memoizedState=p:(d.memoizedState=y,d=_d(),vt.lanes|=d,An|=d,y)}function wu(d,p,y,T){return Er(y,p)?y:xi.current!==null?(d=Ds(d,y,T),Er(d,p)||(Vt=!0),d):(rn&42)===0||(rn&1073741824)!==0&&(_t&261930)===0?(Vt=!0,d.memoizedState=y):(d=_d(),vt.lanes|=d,An|=d,p)}function _u(d,p,y,T,F){var H=R.p;R.p=H!==0&&8>H?H:8;var ce=N.T,me={};N.T=me,qs(d,!1,p,y);try{var Se=F(),Pe=N.S;if(Pe!==null&&Pe(me,Se),Se!==null&&typeof Se=="object"&&typeof Se.then=="function"){var Ke=Ah(Se,T);ta(d,p,Ke,kr(d))}else ta(d,p,T,kr(d))}catch(Ze){ta(d,p,{then:function(){},status:"rejected",reason:Ze},kr())}finally{R.p=H,ce!==null&&me.types!==null&&(ce.types=me.types),N.T=ce}}function Ih(){}function Ps(d,p,y,T){if(d.tag!==5)throw Error(r(476));var F=Eu(d).queue;_u(d,F,p,k,y===null?Ih:function(){return Su(d),y(T)})}function Eu(d){var p=d.memoizedState;if(p!==null)return p;p={memoizedState:k,baseState:k,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nn,lastRenderedState:k},next:null};var y={};return p.next={memoizedState:y,baseState:y,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:nn,lastRenderedState:y},next:null},d.memoizedState=p,d=d.alternate,d!==null&&(d.memoizedState=p),p}function Su(d){var p=Eu(d);p.next===null&&(p=d.alternate.memoizedState),ta(d,p.next.queue,{},kr())}function Ls(){return nr(xa)}function Ru(){return zt().memoizedState}function $u(){return zt().memoizedState}function Bh(d){for(var p=d.return;p!==null;){switch(p.tag){case 24:case 3:var y=kr();d=_n(y);var T=En(p,d,y);T!==null&&(yr(T,p,y),Yi(T,p,y)),p={cache:hs()},d.payload=p;return}p=p.return}}function Oh(d,p,y){var T=kr();y={lane:T,revertLane:0,gesture:null,action:y,hasEagerState:!1,eagerState:null,next:null},Qa(d)?Au(p,y):(y=rs(d,p,y,T),y!==null&&(yr(y,d,T),ku(y,p,T)))}function Cu(d,p,y){var T=kr();ta(d,p,y,T)}function ta(d,p,y,T){var F={lane:T,revertLane:0,gesture:null,action:y,hasEagerState:!1,eagerState:null,next:null};if(Qa(d))Au(p,F);else{var H=d.alternate;if(d.lanes===0&&(H===null||H.lanes===0)&&(H=p.lastRenderedReducer,H!==null))try{var ce=p.lastRenderedState,me=H(ce,y);if(F.hasEagerState=!0,F.eagerState=me,Er(me,ce))return ja(d,p,F,0),Bt===null&&Na(),!1}catch{}finally{}if(y=rs(d,p,F,T),y!==null)return yr(y,d,T),ku(y,p,T),!0}return!1}function qs(d,p,y,T){if(T={lane:2,revertLane:xl(),gesture:null,action:T,hasEagerState:!1,eagerState:null,next:null},Qa(d)){if(p)throw Error(r(479))}else p=rs(d,y,T,2),p!==null&&yr(p,d,2)}function Qa(d){var p=d.alternate;return d===vt||p!==null&&p===vt}function Au(d,p){yi=Ka=!0;var y=d.pending;y===null?p.next=p:(p.next=y.next,y.next=p),d.pending=p}function ku(d,p,y){if((y&4194048)!==0){var T=p.lanes;T&=d.pendingLanes,y|=T,p.lanes=y,Ee(d,y)}}var ra={readContext:nr,use:Za,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useLayoutEffect:Lt,useInsertionEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useSyncExternalStore:Lt,useId:Lt,useHostTransitionStatus:Lt,useFormState:Lt,useActionState:Lt,useOptimistic:Lt,useMemoCache:Lt,useCacheRefresh:Lt};ra.useEffectEvent=Lt;var Tu={readContext:nr,use:Za,useCallback:function(d,p){return sr().memoizedState=[d,p===void 0?null:p],d},useContext:nr,useEffect:hu,useImperativeHandle:function(d,p,y){y=y!=null?y.concat([d]):null,Ja(4194308,4,vu.bind(null,p,d),y)},useLayoutEffect:function(d,p){return Ja(4194308,4,d,p)},useInsertionEffect:function(d,p){Ja(4,2,d,p)},useMemo:function(d,p){var y=sr();p=p===void 0?null:p;var T=d();if(Jn){we(!0);try{d()}finally{we(!1)}}return y.memoizedState=[T,p],T},useReducer:function(d,p,y){var T=sr();if(y!==void 0){var F=y(p);if(Jn){we(!0);try{y(p)}finally{we(!1)}}}else F=p;return T.memoizedState=T.baseState=F,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:F},T.queue=d,d=d.dispatch=Oh.bind(null,vt,d),[T.memoizedState,d]},useRef:function(d){var p=sr();return d={current:d},p.memoizedState=d},useState:function(d){d=js(d);var p=d.queue,y=Cu.bind(null,vt,p);return p.dispatch=y,[d.memoizedState,y]},useDebugValue:Os,useDeferredValue:function(d,p){var y=sr();return Ds(y,d,p)},useTransition:function(){var d=js(!1);return d=_u.bind(null,vt,d.queue,!0,!1),sr().memoizedState=d,[!1,d]},useSyncExternalStore:function(d,p,y){var T=vt,F=sr();if(St){if(y===void 0)throw Error(r(407));y=y()}else{if(y=p(),Bt===null)throw Error(r(349));(_t&127)!==0||Jc(T,p,y)}F.memoizedState=y;var H={value:y,getSnapshot:p};return F.queue=H,hu(Qc.bind(null,T,H,d),[d]),T.flags|=2048,wi(9,{destroy:void 0},Xc.bind(null,T,H,y,p),null),y},useId:function(){var d=sr(),p=Bt.identifierPrefix;if(St){var y=Kr,T=Vr;y=(T&~(1<<32-Re(T)-1)).toString(32)+y,p="_"+p+"R_"+y,y=Ga++,0<y&&(p+="H"+y.toString(32)),p+="_"}else y=kh++,p="_"+p+"r_"+y.toString(32)+"_";return d.memoizedState=p},useHostTransitionStatus:Ls,useFormState:lu,useActionState:lu,useOptimistic:function(d){var p=sr();p.memoizedState=p.baseState=d;var y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return p.queue=y,p=qs.bind(null,vt,!0,y),y.dispatch=p,[d,p]},useMemoCache:Ts,useCacheRefresh:function(){return sr().memoizedState=Bh.bind(null,vt)},useEffectEvent:function(d){var p=sr(),y={impl:d};return p.memoizedState=y,function(){if((At&2)!==0)throw Error(r(440));return y.impl.apply(void 0,arguments)}}},Fs={readContext:nr,use:Za,useCallback:yu,useContext:nr,useEffect:Bs,useImperativeHandle:xu,useInsertionEffect:mu,useLayoutEffect:gu,useMemo:bu,useReducer:Ya,useRef:fu,useState:function(){return Ya(nn)},useDebugValue:Os,useDeferredValue:function(d,p){var y=zt();return wu(y,Nt.memoizedState,d,p)},useTransition:function(){var d=Ya(nn)[0],p=zt().memoizedState;return[typeof d=="boolean"?d:ea(d),p]},useSyncExternalStore:Yc,useId:Ru,useHostTransitionStatus:Ls,useFormState:cu,useActionState:cu,useOptimistic:function(d,p){var y=zt();return ru(y,Nt,d,p)},useMemoCache:Ts,useCacheRefresh:$u};Fs.useEffectEvent=pu;var Mu={readContext:nr,use:Za,useCallback:yu,useContext:nr,useEffect:Bs,useImperativeHandle:xu,useInsertionEffect:mu,useLayoutEffect:gu,useMemo:bu,useReducer:Ns,useRef:fu,useState:function(){return Ns(nn)},useDebugValue:Os,useDeferredValue:function(d,p){var y=zt();return Nt===null?Ds(y,d,p):wu(y,Nt.memoizedState,d,p)},useTransition:function(){var d=Ns(nn)[0],p=zt().memoizedState;return[typeof d=="boolean"?d:ea(d),p]},useSyncExternalStore:Yc,useId:Ru,useHostTransitionStatus:Ls,useFormState:du,useActionState:du,useOptimistic:function(d,p){var y=zt();return Nt!==null?ru(y,Nt,d,p):(y.baseState=d,[d,y.queue.dispatch])},useMemoCache:Ts,useCacheRefresh:$u};Mu.useEffectEvent=pu;function zs(d,p,y,T){p=d.memoizedState,y=y(T,p),y=y==null?p:m({},p,y),d.memoizedState=y,d.lanes===0&&(d.updateQueue.baseState=y)}var Us={enqueueSetState:function(d,p,y){d=d._reactInternals;var T=kr(),F=_n(T);F.payload=p,y!=null&&(F.callback=y),p=En(d,F,T),p!==null&&(yr(p,d,T),Yi(p,d,T))},enqueueReplaceState:function(d,p,y){d=d._reactInternals;var T=kr(),F=_n(T);F.tag=1,F.payload=p,y!=null&&(F.callback=y),p=En(d,F,T),p!==null&&(yr(p,d,T),Yi(p,d,T))},enqueueForceUpdate:function(d,p){d=d._reactInternals;var y=kr(),T=_n(y);T.tag=2,p!=null&&(T.callback=p),p=En(d,T,y),p!==null&&(yr(p,d,y),Yi(p,d,y))}};function Nu(d,p,y,T,F,H,ce){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(T,H,ce):p.prototype&&p.prototype.isPureReactComponent?!zi(y,T)||!zi(F,H):!0}function ju(d,p,y,T){d=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(y,T),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(y,T),p.state!==d&&Us.enqueueReplaceState(p,p.state,null)}function Xn(d,p){var y=p;if("ref"in p){y={};for(var T in p)T!=="ref"&&(y[T]=p[T])}if(d=d.defaultProps){y===p&&(y=m({},y));for(var F in d)y[F]===void 0&&(y[F]=d[F])}return y}function Iu(d){Ma(d)}function Bu(d){console.error(d)}function Ou(d){Ma(d)}function eo(d,p){try{var y=d.onUncaughtError;y(p.value,{componentStack:p.stack})}catch(T){setTimeout(function(){throw T})}}function Du(d,p,y){try{var T=d.onCaughtError;T(y.value,{componentStack:y.stack,errorBoundary:p.tag===1?p.stateNode:null})}catch(F){setTimeout(function(){throw F})}}function Hs(d,p,y){return y=_n(y),y.tag=3,y.payload={element:null},y.callback=function(){eo(d,p)},y}function Pu(d){return d=_n(d),d.tag=3,d}function Lu(d,p,y,T){var F=y.type.getDerivedStateFromError;if(typeof F=="function"){var H=T.value;d.payload=function(){return F(H)},d.callback=function(){Du(p,y,T)}}var ce=y.stateNode;ce!==null&&typeof ce.componentDidCatch=="function"&&(d.callback=function(){Du(p,y,T),typeof F!="function"&&(kn===null?kn=new Set([this]):kn.add(this));var me=T.stack;this.componentDidCatch(T.value,{componentStack:me!==null?me:""})})}function Dh(d,p,y,T,F){if(y.flags|=32768,T!==null&&typeof T=="object"&&typeof T.then=="function"){if(p=y.alternate,p!==null&&hi(p,y,F,!0),y=Rr.current,y!==null){switch(y.tag){case 31:case 13:return Lr===null?ho():y.alternate===null&&qt===0&&(qt=3),y.flags&=-257,y.flags|=65536,y.lanes=F,T===Fa?y.flags|=16384:(p=y.updateQueue,p===null?y.updateQueue=new Set([T]):p.add(T),ml(d,T,F)),!1;case 22:return y.flags|=65536,T===Fa?y.flags|=16384:(p=y.updateQueue,p===null?(p={transitions:null,markerInstances:null,retryQueue:new Set([T])},y.updateQueue=p):(y=p.retryQueue,y===null?p.retryQueue=new Set([T]):y.add(T)),ml(d,T,F)),!1}throw Error(r(435,y.tag))}return ml(d,T,F),ho(),!1}if(St)return p=Rr.current,p!==null?((p.flags&65536)===0&&(p.flags|=256),p.flags|=65536,p.lanes=F,T!==ls&&(d=Error(r(422),{cause:T}),Vi(Br(d,y)))):(T!==ls&&(p=Error(r(423),{cause:T}),Vi(Br(p,y))),d=d.current.alternate,d.flags|=65536,F&=-F,d.lanes|=F,T=Br(T,y),F=Hs(d.stateNode,T,F),ys(d,F),qt!==4&&(qt=2)),!1;var H=Error(r(520),{cause:T});if(H=Br(H,y),ua===null?ua=[H]:ua.push(H),qt!==4&&(qt=2),p===null)return!0;T=Br(T,y),y=p;do{switch(y.tag){case 3:return y.flags|=65536,d=F&-F,y.lanes|=d,d=Hs(y.stateNode,T,d),ys(y,d),!1;case 1:if(p=y.type,H=y.stateNode,(y.flags&128)===0&&(typeof p.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(kn===null||!kn.has(H))))return y.flags|=65536,F&=-F,y.lanes|=F,F=Pu(F),Lu(F,d,y,T),ys(y,F),!1}y=y.return}while(y!==null);return!1}var Vs=Error(r(461)),Vt=!1;function ir(d,p,y,T){p.child=d===null?Uc(p,null,y,T):Yn(p,d.child,y,T)}function qu(d,p,y,T,F){y=y.render;var H=p.ref;if("ref"in T){var ce={};for(var me in T)me!=="ref"&&(ce[me]=T[me])}else ce=T;return Kn(p),T=$s(d,p,y,ce,H,F),me=Cs(),d!==null&&!Vt?(As(d,p,F),an(d,p,F)):(St&&me&&os(p),p.flags|=1,ir(d,p,T,F),p.child)}function Fu(d,p,y,T,F){if(d===null){var H=y.type;return typeof H=="function"&&!ns(H)&&H.defaultProps===void 0&&y.compare===null?(p.tag=15,p.type=H,zu(d,p,H,T,F)):(d=Ba(y.type,null,T,p,p.mode,F),d.ref=p.ref,d.return=p,p.child=d)}if(H=d.child,!Qs(d,F)){var ce=H.memoizedProps;if(y=y.compare,y=y!==null?y:zi,y(ce,T)&&d.ref===p.ref)return an(d,p,F)}return p.flags|=1,d=Xr(H,T),d.ref=p.ref,d.return=p,p.child=d}function zu(d,p,y,T,F){if(d!==null){var H=d.memoizedProps;if(zi(H,T)&&d.ref===p.ref)if(Vt=!1,p.pendingProps=T=H,Qs(d,F))(d.flags&131072)!==0&&(Vt=!0);else return p.lanes=d.lanes,an(d,p,F)}return Ks(d,p,y,T,F)}function Uu(d,p,y,T){var F=T.children,H=d!==null?d.memoizedState:null;if(d===null&&p.stateNode===null&&(p.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),T.mode==="hidden"){if((p.flags&128)!==0){if(H=H!==null?H.baseLanes|y:y,d!==null){for(T=p.child=d.child,F=0;T!==null;)F=F|T.lanes|T.childLanes,T=T.sibling;T=F&~H}else T=0,p.child=null;return Hu(d,p,H,y,T)}if((y&536870912)!==0)p.memoizedState={baseLanes:0,cachePool:null},d!==null&&La(p,H!==null?H.cachePool:null),H!==null?Kc(p,H):_s(),Gc(p);else return T=p.lanes=536870912,Hu(d,p,H!==null?H.baseLanes|y:y,y,T)}else H!==null?(La(p,H.cachePool),Kc(p,H),Rn(),p.memoizedState=null):(d!==null&&La(p,null),_s(),Rn());return ir(d,p,F,y),p.child}function na(d,p){return d!==null&&d.tag===22||p.stateNode!==null||(p.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.sibling}function Hu(d,p,y,T,F){var H=ms();return H=H===null?null:{parent:Ut._currentValue,pool:H},p.memoizedState={baseLanes:y,cachePool:H},d!==null&&La(p,null),_s(),Gc(p),d!==null&&hi(d,p,T,!0),p.childLanes=F,null}function to(d,p){return p=no({mode:p.mode,children:p.children},d.mode),p.ref=d.ref,d.child=p,p.return=d,p}function Vu(d,p,y){return Yn(p,d.child,null,y),d=to(p,p.pendingProps),d.flags|=2,$r(p),p.memoizedState=null,d}function Ph(d,p,y){var T=p.pendingProps,F=(p.flags&128)!==0;if(p.flags&=-129,d===null){if(St){if(T.mode==="hidden")return d=to(p,T),p.lanes=536870912,na(null,d);if(Ss(p),(d=Ot)?(d=af(d,Pr),d=d!==null&&d.data==="&"?d:null,d!==null&&(p.memoizedState={dehydrated:d,treeContext:gn!==null?{id:Vr,overflow:Kr}:null,retryLane:536870912,hydrationErrors:null},y=Ac(d),y.return=p,p.child=y,rr=p,Ot=null)):d=null,d===null)throw xn(p);return p.lanes=536870912,null}return to(p,T)}var H=d.memoizedState;if(H!==null){var ce=H.dehydrated;if(Ss(p),F)if(p.flags&256)p.flags&=-257,p=Vu(d,p,y);else if(p.memoizedState!==null)p.child=d.child,p.flags|=128,p=null;else throw Error(r(558));else if(Vt||hi(d,p,y,!1),F=(y&d.childLanes)!==0,Vt||F){if(T=Bt,T!==null&&(ce=Me(T,y),ce!==0&&ce!==H.retryLane))throw H.retryLane=ce,zn(d,ce),yr(T,d,ce),Vs;ho(),p=Vu(d,p,y)}else d=H.treeContext,Ot=qr(ce.nextSibling),rr=p,St=!0,vn=null,Pr=!1,d!==null&&Mc(p,d),p=to(p,T),p.flags|=4096;return p}return d=Xr(d.child,{mode:T.mode,children:T.children}),d.ref=p.ref,p.child=d,d.return=p,d}function ro(d,p){var y=p.ref;if(y===null)d!==null&&d.ref!==null&&(p.flags|=4194816);else{if(typeof y!="function"&&typeof y!="object")throw Error(r(284));(d===null||d.ref!==y)&&(p.flags|=4194816)}}function Ks(d,p,y,T,F){return Kn(p),y=$s(d,p,y,T,void 0,F),T=Cs(),d!==null&&!Vt?(As(d,p,F),an(d,p,F)):(St&&T&&os(p),p.flags|=1,ir(d,p,y,F),p.child)}function Ku(d,p,y,T,F,H){return Kn(p),p.updateQueue=null,y=Zc(p,T,y,F),Wc(d),T=Cs(),d!==null&&!Vt?(As(d,p,H),an(d,p,H)):(St&&T&&os(p),p.flags|=1,ir(d,p,y,H),p.child)}function Gu(d,p,y,T,F){if(Kn(p),p.stateNode===null){var H=ci,ce=y.contextType;typeof ce=="object"&&ce!==null&&(H=nr(ce)),H=new y(T,H),p.memoizedState=H.state!==null&&H.state!==void 0?H.state:null,H.updater=Us,p.stateNode=H,H._reactInternals=p,H=p.stateNode,H.props=T,H.state=p.memoizedState,H.refs={},vs(p),ce=y.contextType,H.context=typeof ce=="object"&&ce!==null?nr(ce):ci,H.state=p.memoizedState,ce=y.getDerivedStateFromProps,typeof ce=="function"&&(zs(p,y,ce,T),H.state=p.memoizedState),typeof y.getDerivedStateFromProps=="function"||typeof H.getSnapshotBeforeUpdate=="function"||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(ce=H.state,typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount(),ce!==H.state&&Us.enqueueReplaceState(H,H.state,null),Xi(p,T,H,F),Ji(),H.state=p.memoizedState),typeof H.componentDidMount=="function"&&(p.flags|=4194308),T=!0}else if(d===null){H=p.stateNode;var me=p.memoizedProps,Se=Xn(y,me);H.props=Se;var Pe=H.context,Ke=y.contextType;ce=ci,typeof Ke=="object"&&Ke!==null&&(ce=nr(Ke));var Ze=y.getDerivedStateFromProps;Ke=typeof Ze=="function"||typeof H.getSnapshotBeforeUpdate=="function",me=p.pendingProps!==me,Ke||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(me||Pe!==ce)&&ju(p,H,T,ce),wn=!1;var Le=p.memoizedState;H.state=Le,Xi(p,T,H,F),Ji(),Pe=p.memoizedState,me||Le!==Pe||wn?(typeof Ze=="function"&&(zs(p,y,Ze,T),Pe=p.memoizedState),(Se=wn||Nu(p,y,Se,T,Le,Pe,ce))?(Ke||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount()),typeof H.componentDidMount=="function"&&(p.flags|=4194308)):(typeof H.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=T,p.memoizedState=Pe),H.props=T,H.state=Pe,H.context=ce,T=Se):(typeof H.componentDidMount=="function"&&(p.flags|=4194308),T=!1)}else{H=p.stateNode,xs(d,p),ce=p.memoizedProps,Ke=Xn(y,ce),H.props=Ke,Ze=p.pendingProps,Le=H.context,Pe=y.contextType,Se=ci,typeof Pe=="object"&&Pe!==null&&(Se=nr(Pe)),me=y.getDerivedStateFromProps,(Pe=typeof me=="function"||typeof H.getSnapshotBeforeUpdate=="function")||typeof H.UNSAFE_componentWillReceiveProps!="function"&&typeof H.componentWillReceiveProps!="function"||(ce!==Ze||Le!==Se)&&ju(p,H,T,Se),wn=!1,Le=p.memoizedState,H.state=Le,Xi(p,T,H,F),Ji();var ze=p.memoizedState;ce!==Ze||Le!==ze||wn||d!==null&&d.dependencies!==null&&Da(d.dependencies)?(typeof me=="function"&&(zs(p,y,me,T),ze=p.memoizedState),(Ke=wn||Nu(p,y,Ke,T,Le,ze,Se)||d!==null&&d.dependencies!==null&&Da(d.dependencies))?(Pe||typeof H.UNSAFE_componentWillUpdate!="function"&&typeof H.componentWillUpdate!="function"||(typeof H.componentWillUpdate=="function"&&H.componentWillUpdate(T,ze,Se),typeof H.UNSAFE_componentWillUpdate=="function"&&H.UNSAFE_componentWillUpdate(T,ze,Se)),typeof H.componentDidUpdate=="function"&&(p.flags|=4),typeof H.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof H.componentDidUpdate!="function"||ce===d.memoizedProps&&Le===d.memoizedState||(p.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||ce===d.memoizedProps&&Le===d.memoizedState||(p.flags|=1024),p.memoizedProps=T,p.memoizedState=ze),H.props=T,H.state=ze,H.context=Se,T=Ke):(typeof H.componentDidUpdate!="function"||ce===d.memoizedProps&&Le===d.memoizedState||(p.flags|=4),typeof H.getSnapshotBeforeUpdate!="function"||ce===d.memoizedProps&&Le===d.memoizedState||(p.flags|=1024),T=!1)}return H=T,ro(d,p),T=(p.flags&128)!==0,H||T?(H=p.stateNode,y=T&&typeof y.getDerivedStateFromError!="function"?null:H.render(),p.flags|=1,d!==null&&T?(p.child=Yn(p,d.child,null,F),p.child=Yn(p,null,y,F)):ir(d,p,y,F),p.memoizedState=H.state,d=p.child):d=an(d,p,F),d}function Wu(d,p,y,T){return Hn(),p.flags|=256,ir(d,p,y,T),p.child}var Gs={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ws(d){return{baseLanes:d,cachePool:Dc()}}function Zs(d,p,y){return d=d!==null?d.childLanes&~y:0,p&&(d|=Ar),d}function Zu(d,p,y){var T=p.pendingProps,F=!1,H=(p.flags&128)!==0,ce;if((ce=H)||(ce=d!==null&&d.memoizedState===null?!1:(Ft.current&2)!==0),ce&&(F=!0,p.flags&=-129),ce=(p.flags&32)!==0,p.flags&=-33,d===null){if(St){if(F?Sn(p):Rn(),(d=Ot)?(d=af(d,Pr),d=d!==null&&d.data!=="&"?d:null,d!==null&&(p.memoizedState={dehydrated:d,treeContext:gn!==null?{id:Vr,overflow:Kr}:null,retryLane:536870912,hydrationErrors:null},y=Ac(d),y.return=p,p.child=y,rr=p,Ot=null)):d=null,d===null)throw xn(p);return Ml(d)?p.lanes=32:p.lanes=536870912,null}var me=T.children;return T=T.fallback,F?(Rn(),F=p.mode,me=no({mode:"hidden",children:me},F),T=Un(T,F,y,null),me.return=p,T.return=p,me.sibling=T,p.child=me,T=p.child,T.memoizedState=Ws(y),T.childLanes=Zs(d,ce,y),p.memoizedState=Gs,na(null,T)):(Sn(p),Ys(p,me))}var Se=d.memoizedState;if(Se!==null&&(me=Se.dehydrated,me!==null)){if(H)p.flags&256?(Sn(p),p.flags&=-257,p=Js(d,p,y)):p.memoizedState!==null?(Rn(),p.child=d.child,p.flags|=128,p=null):(Rn(),me=T.fallback,F=p.mode,T=no({mode:"visible",children:T.children},F),me=Un(me,F,y,null),me.flags|=2,T.return=p,me.return=p,T.sibling=me,p.child=T,Yn(p,d.child,null,y),T=p.child,T.memoizedState=Ws(y),T.childLanes=Zs(d,ce,y),p.memoizedState=Gs,p=na(null,T));else if(Sn(p),Ml(me)){if(ce=me.nextSibling&&me.nextSibling.dataset,ce)var Pe=ce.dgst;ce=Pe,T=Error(r(419)),T.stack="",T.digest=ce,Vi({value:T,source:null,stack:null}),p=Js(d,p,y)}else if(Vt||hi(d,p,y,!1),ce=(y&d.childLanes)!==0,Vt||ce){if(ce=Bt,ce!==null&&(T=Me(ce,y),T!==0&&T!==Se.retryLane))throw Se.retryLane=T,zn(d,T),yr(ce,d,T),Vs;Tl(me)||ho(),p=Js(d,p,y)}else Tl(me)?(p.flags|=192,p.child=d.child,p=null):(d=Se.treeContext,Ot=qr(me.nextSibling),rr=p,St=!0,vn=null,Pr=!1,d!==null&&Mc(p,d),p=Ys(p,T.children),p.flags|=4096);return p}return F?(Rn(),me=T.fallback,F=p.mode,Se=d.child,Pe=Se.sibling,T=Xr(Se,{mode:"hidden",children:T.children}),T.subtreeFlags=Se.subtreeFlags&65011712,Pe!==null?me=Xr(Pe,me):(me=Un(me,F,y,null),me.flags|=2),me.return=p,T.return=p,T.sibling=me,p.child=T,na(null,T),T=p.child,me=d.child.memoizedState,me===null?me=Ws(y):(F=me.cachePool,F!==null?(Se=Ut._currentValue,F=F.parent!==Se?{parent:Se,pool:Se}:F):F=Dc(),me={baseLanes:me.baseLanes|y,cachePool:F}),T.memoizedState=me,T.childLanes=Zs(d,ce,y),p.memoizedState=Gs,na(d.child,T)):(Sn(p),y=d.child,d=y.sibling,y=Xr(y,{mode:"visible",children:T.children}),y.return=p,y.sibling=null,d!==null&&(ce=p.deletions,ce===null?(p.deletions=[d],p.flags|=16):ce.push(d)),p.child=y,p.memoizedState=null,y)}function Ys(d,p){return p=no({mode:"visible",children:p},d.mode),p.return=d,d.child=p}function no(d,p){return d=Sr(22,d,null,p),d.lanes=0,d}function Js(d,p,y){return Yn(p,d.child,null,y),d=Ys(p,p.pendingProps.children),d.flags|=2,p.memoizedState=null,d}function Yu(d,p,y){d.lanes|=p;var T=d.alternate;T!==null&&(T.lanes|=p),ds(d.return,p,y)}function Xs(d,p,y,T,F,H){var ce=d.memoizedState;ce===null?d.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:T,tail:y,tailMode:F,treeForkCount:H}:(ce.isBackwards=p,ce.rendering=null,ce.renderingStartTime=0,ce.last=T,ce.tail=y,ce.tailMode=F,ce.treeForkCount=H)}function Ju(d,p,y){var T=p.pendingProps,F=T.revealOrder,H=T.tail;T=T.children;var ce=Ft.current,me=(ce&2)!==0;if(me?(ce=ce&1|2,p.flags|=128):ce&=1,L(Ft,ce),ir(d,p,T,y),T=St?Hi:0,!me&&d!==null&&(d.flags&128)!==0)e:for(d=p.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&Yu(d,y,p);else if(d.tag===19)Yu(d,y,p);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===p)break e;for(;d.sibling===null;){if(d.return===null||d.return===p)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}switch(F){case"forwards":for(y=p.child,F=null;y!==null;)d=y.alternate,d!==null&&Va(d)===null&&(F=y),y=y.sibling;y=F,y===null?(F=p.child,p.child=null):(F=y.sibling,y.sibling=null),Xs(p,!1,F,y,H,T);break;case"backwards":case"unstable_legacy-backwards":for(y=null,F=p.child,p.child=null;F!==null;){if(d=F.alternate,d!==null&&Va(d)===null){p.child=F;break}d=F.sibling,F.sibling=y,y=F,F=d}Xs(p,!0,y,null,H,T);break;case"together":Xs(p,!1,null,null,void 0,T);break;default:p.memoizedState=null}return p.child}function an(d,p,y){if(d!==null&&(p.dependencies=d.dependencies),An|=p.lanes,(y&p.childLanes)===0)if(d!==null){if(hi(d,p,y,!1),(y&p.childLanes)===0)return null}else return null;if(d!==null&&p.child!==d.child)throw Error(r(153));if(p.child!==null){for(d=p.child,y=Xr(d,d.pendingProps),p.child=y,y.return=p;d.sibling!==null;)d=d.sibling,y=y.sibling=Xr(d,d.pendingProps),y.return=p;y.sibling=null}return p.child}function Qs(d,p){return(d.lanes&p)!==0?!0:(d=d.dependencies,!!(d!==null&&Da(d)))}function Lh(d,p,y){switch(p.tag){case 3:K(p,p.stateNode.containerInfo),yn(p,Ut,d.memoizedState.cache),Hn();break;case 27:case 5:he(p);break;case 4:K(p,p.stateNode.containerInfo);break;case 10:yn(p,p.type,p.memoizedProps.value);break;case 31:if(p.memoizedState!==null)return p.flags|=128,Ss(p),null;break;case 13:var T=p.memoizedState;if(T!==null)return T.dehydrated!==null?(Sn(p),p.flags|=128,null):(y&p.child.childLanes)!==0?Zu(d,p,y):(Sn(p),d=an(d,p,y),d!==null?d.sibling:null);Sn(p);break;case 19:var F=(d.flags&128)!==0;if(T=(y&p.childLanes)!==0,T||(hi(d,p,y,!1),T=(y&p.childLanes)!==0),F){if(T)return Ju(d,p,y);p.flags|=128}if(F=p.memoizedState,F!==null&&(F.rendering=null,F.tail=null,F.lastEffect=null),L(Ft,Ft.current),T)break;return null;case 22:return p.lanes=0,Uu(d,p,y,p.pendingProps);case 24:yn(p,Ut,d.memoizedState.cache)}return an(d,p,y)}function Xu(d,p,y){if(d!==null)if(d.memoizedProps!==p.pendingProps)Vt=!0;else{if(!Qs(d,y)&&(p.flags&128)===0)return Vt=!1,Lh(d,p,y);Vt=(d.flags&131072)!==0}else Vt=!1,St&&(p.flags&1048576)!==0&&Tc(p,Hi,p.index);switch(p.lanes=0,p.tag){case 16:e:{var T=p.pendingProps;if(d=Wn(p.elementType),p.type=d,typeof d=="function")ns(d)?(T=Xn(d,T),p.tag=1,p=Gu(null,p,d,T,y)):(p.tag=0,p=Ks(null,p,d,T,y));else{if(d!=null){var F=d.$$typeof;if(F===q){p.tag=11,p=qu(null,p,d,T,y);break e}else if(F===Z){p.tag=14,p=Fu(null,p,d,T,y);break e}}throw p=v(d)||d,Error(r(306,p,""))}}return p;case 0:return Ks(d,p,p.type,p.pendingProps,y);case 1:return T=p.type,F=Xn(T,p.pendingProps),Gu(d,p,T,F,y);case 3:e:{if(K(p,p.stateNode.containerInfo),d===null)throw Error(r(387));T=p.pendingProps;var H=p.memoizedState;F=H.element,xs(d,p),Xi(p,T,null,y);var ce=p.memoizedState;if(T=ce.cache,yn(p,Ut,T),T!==H.cache&&fs(p,[Ut],y,!0),Ji(),T=ce.element,H.isDehydrated)if(H={element:T,isDehydrated:!1,cache:ce.cache},p.updateQueue.baseState=H,p.memoizedState=H,p.flags&256){p=Wu(d,p,T,y);break e}else if(T!==F){F=Br(Error(r(424)),p),Vi(F),p=Wu(d,p,T,y);break e}else{switch(d=p.stateNode.containerInfo,d.nodeType){case 9:d=d.body;break;default:d=d.nodeName==="HTML"?d.ownerDocument.body:d}for(Ot=qr(d.firstChild),rr=p,St=!0,vn=null,Pr=!0,y=Uc(p,null,T,y),p.child=y;y;)y.flags=y.flags&-3|4096,y=y.sibling}else{if(Hn(),T===F){p=an(d,p,y);break e}ir(d,p,T,y)}p=p.child}return p;case 26:return ro(d,p),d===null?(y=df(p.type,null,p.pendingProps,null))?p.memoizedState=y:St||(y=p.type,d=p.pendingProps,T=bo(re.current).createElement(y),T[Qe]=p,T[rt]=d,ar(T,y,d),kt(T),p.stateNode=T):p.memoizedState=df(p.type,d.memoizedProps,p.pendingProps,d.memoizedState),null;case 27:return he(p),d===null&&St&&(T=p.stateNode=lf(p.type,p.pendingProps,re.current),rr=p,Pr=!0,F=Ot,jn(p.type)?(Nl=F,Ot=qr(T.firstChild)):Ot=F),ir(d,p,p.pendingProps.children,y),ro(d,p),d===null&&(p.flags|=4194304),p.child;case 5:return d===null&&St&&((F=T=Ot)&&(T=m0(T,p.type,p.pendingProps,Pr),T!==null?(p.stateNode=T,rr=p,Ot=qr(T.firstChild),Pr=!1,F=!0):F=!1),F||xn(p)),he(p),F=p.type,H=p.pendingProps,ce=d!==null?d.memoizedProps:null,T=H.children,Cl(F,H)?T=null:ce!==null&&Cl(F,ce)&&(p.flags|=32),p.memoizedState!==null&&(F=$s(d,p,Th,null,null,y),xa._currentValue=F),ro(d,p),ir(d,p,T,y),p.child;case 6:return d===null&&St&&((d=y=Ot)&&(y=g0(y,p.pendingProps,Pr),y!==null?(p.stateNode=y,rr=p,Ot=null,d=!0):d=!1),d||xn(p)),null;case 13:return Zu(d,p,y);case 4:return K(p,p.stateNode.containerInfo),T=p.pendingProps,d===null?p.child=Yn(p,null,T,y):ir(d,p,T,y),p.child;case 11:return qu(d,p,p.type,p.pendingProps,y);case 7:return ir(d,p,p.pendingProps,y),p.child;case 8:return ir(d,p,p.pendingProps.children,y),p.child;case 12:return ir(d,p,p.pendingProps.children,y),p.child;case 10:return T=p.pendingProps,yn(p,p.type,T.value),ir(d,p,T.children,y),p.child;case 9:return F=p.type._context,T=p.pendingProps.children,Kn(p),F=nr(F),T=T(F),p.flags|=1,ir(d,p,T,y),p.child;case 14:return Fu(d,p,p.type,p.pendingProps,y);case 15:return zu(d,p,p.type,p.pendingProps,y);case 19:return Ju(d,p,y);case 31:return Ph(d,p,y);case 22:return Uu(d,p,y,p.pendingProps);case 24:return Kn(p),T=nr(Ut),d===null?(F=ms(),F===null&&(F=Bt,H=hs(),F.pooledCache=H,H.refCount++,H!==null&&(F.pooledCacheLanes|=y),F=H),p.memoizedState={parent:T,cache:F},vs(p),yn(p,Ut,F)):((d.lanes&y)!==0&&(xs(d,p),Xi(p,null,null,y),Ji()),F=d.memoizedState,H=p.memoizedState,F.parent!==T?(F={parent:T,cache:T},p.memoizedState=F,p.lanes===0&&(p.memoizedState=p.updateQueue.baseState=F),yn(p,Ut,T)):(T=H.cache,yn(p,Ut,T),T!==F.cache&&fs(p,[Ut],y,!0))),ir(d,p,p.pendingProps.children,y),p.child;case 29:throw p.pendingProps}throw Error(r(156,p.tag))}function sn(d){d.flags|=4}function el(d,p,y,T,F){if((p=(d.mode&32)!==0)&&(p=!1),p){if(d.flags|=16777216,(F&335544128)===F)if(d.stateNode.complete)d.flags|=8192;else if($d())d.flags|=8192;else throw Zn=Fa,gs}else d.flags&=-16777217}function Qu(d,p){if(p.type!=="stylesheet"||(p.state.loading&4)!==0)d.flags&=-16777217;else if(d.flags|=16777216,!gf(p))if($d())d.flags|=8192;else throw Zn=Fa,gs}function io(d,p){p!==null&&(d.flags|=4),d.flags&16384&&(p=d.tag!==22?ft():536870912,d.lanes|=p,Ri|=p)}function ia(d,p){if(!St)switch(d.tailMode){case"hidden":p=d.tail;for(var y=null;p!==null;)p.alternate!==null&&(y=p),p=p.sibling;y===null?d.tail=null:y.sibling=null;break;case"collapsed":y=d.tail;for(var T=null;y!==null;)y.alternate!==null&&(T=y),y=y.sibling;T===null?p||d.tail===null?d.tail=null:d.tail.sibling=null:T.sibling=null}}function Dt(d){var p=d.alternate!==null&&d.alternate.child===d.child,y=0,T=0;if(p)for(var F=d.child;F!==null;)y|=F.lanes|F.childLanes,T|=F.subtreeFlags&65011712,T|=F.flags&65011712,F.return=d,F=F.sibling;else for(F=d.child;F!==null;)y|=F.lanes|F.childLanes,T|=F.subtreeFlags,T|=F.flags,F.return=d,F=F.sibling;return d.subtreeFlags|=T,d.childLanes=y,p}function qh(d,p,y){var T=p.pendingProps;switch(ss(p),p.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(p),null;case 1:return Dt(p),null;case 3:return y=p.stateNode,T=null,d!==null&&(T=d.memoizedState.cache),p.memoizedState.cache!==T&&(p.flags|=2048),tn(Ut),se(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),(d===null||d.child===null)&&(fi(p)?sn(p):d===null||d.memoizedState.isDehydrated&&(p.flags&256)===0||(p.flags|=1024,cs())),Dt(p),null;case 26:var F=p.type,H=p.memoizedState;return d===null?(sn(p),H!==null?(Dt(p),Qu(p,H)):(Dt(p),el(p,F,null,T,y))):H?H!==d.memoizedState?(sn(p),Dt(p),Qu(p,H)):(Dt(p),p.flags&=-16777217):(d=d.memoizedProps,d!==T&&sn(p),Dt(p),el(p,F,d,T,y)),null;case 27:if(ue(p),y=re.current,F=p.type,d!==null&&p.stateNode!=null)d.memoizedProps!==T&&sn(p);else{if(!T){if(p.stateNode===null)throw Error(r(166));return Dt(p),null}d=Y.current,fi(p)?Nc(p):(d=lf(F,T,y),p.stateNode=d,sn(p))}return Dt(p),null;case 5:if(ue(p),F=p.type,d!==null&&p.stateNode!=null)d.memoizedProps!==T&&sn(p);else{if(!T){if(p.stateNode===null)throw Error(r(166));return Dt(p),null}if(H=Y.current,fi(p))Nc(p);else{var ce=bo(re.current);switch(H){case 1:H=ce.createElementNS("http://www.w3.org/2000/svg",F);break;case 2:H=ce.createElementNS("http://www.w3.org/1998/Math/MathML",F);break;default:switch(F){case"svg":H=ce.createElementNS("http://www.w3.org/2000/svg",F);break;case"math":H=ce.createElementNS("http://www.w3.org/1998/Math/MathML",F);break;case"script":H=ce.createElement("div"),H.innerHTML="<script><\/script>",H=H.removeChild(H.firstChild);break;case"select":H=typeof T.is=="string"?ce.createElement("select",{is:T.is}):ce.createElement("select"),T.multiple?H.multiple=!0:T.size&&(H.size=T.size);break;default:H=typeof T.is=="string"?ce.createElement(F,{is:T.is}):ce.createElement(F)}}H[Qe]=p,H[rt]=T;e:for(ce=p.child;ce!==null;){if(ce.tag===5||ce.tag===6)H.appendChild(ce.stateNode);else if(ce.tag!==4&&ce.tag!==27&&ce.child!==null){ce.child.return=ce,ce=ce.child;continue}if(ce===p)break e;for(;ce.sibling===null;){if(ce.return===null||ce.return===p)break e;ce=ce.return}ce.sibling.return=ce.return,ce=ce.sibling}p.stateNode=H;e:switch(ar(H,F,T),F){case"button":case"input":case"select":case"textarea":T=!!T.autoFocus;break e;case"img":T=!0;break e;default:T=!1}T&&sn(p)}}return Dt(p),el(p,p.type,d===null?null:d.memoizedProps,p.pendingProps,y),null;case 6:if(d&&p.stateNode!=null)d.memoizedProps!==T&&sn(p);else{if(typeof T!="string"&&p.stateNode===null)throw Error(r(166));if(d=re.current,fi(p)){if(d=p.stateNode,y=p.memoizedProps,T=null,F=rr,F!==null)switch(F.tag){case 27:case 5:T=F.memoizedProps}d[Qe]=p,d=!!(d.nodeValue===y||T!==null&&T.suppressHydrationWarning===!0||Yd(d.nodeValue,y)),d||xn(p,!0)}else d=bo(d).createTextNode(T),d[Qe]=p,p.stateNode=d}return Dt(p),null;case 31:if(y=p.memoizedState,d===null||d.memoizedState!==null){if(T=fi(p),y!==null){if(d===null){if(!T)throw Error(r(318));if(d=p.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(557));d[Qe]=p}else Hn(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;Dt(p),d=!1}else y=cs(),d!==null&&d.memoizedState!==null&&(d.memoizedState.hydrationErrors=y),d=!0;if(!d)return p.flags&256?($r(p),p):($r(p),null);if((p.flags&128)!==0)throw Error(r(558))}return Dt(p),null;case 13:if(T=p.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(F=fi(p),T!==null&&T.dehydrated!==null){if(d===null){if(!F)throw Error(r(318));if(F=p.memoizedState,F=F!==null?F.dehydrated:null,!F)throw Error(r(317));F[Qe]=p}else Hn(),(p.flags&128)===0&&(p.memoizedState=null),p.flags|=4;Dt(p),F=!1}else F=cs(),d!==null&&d.memoizedState!==null&&(d.memoizedState.hydrationErrors=F),F=!0;if(!F)return p.flags&256?($r(p),p):($r(p),null)}return $r(p),(p.flags&128)!==0?(p.lanes=y,p):(y=T!==null,d=d!==null&&d.memoizedState!==null,y&&(T=p.child,F=null,T.alternate!==null&&T.alternate.memoizedState!==null&&T.alternate.memoizedState.cachePool!==null&&(F=T.alternate.memoizedState.cachePool.pool),H=null,T.memoizedState!==null&&T.memoizedState.cachePool!==null&&(H=T.memoizedState.cachePool.pool),H!==F&&(T.flags|=2048)),y!==d&&y&&(p.child.flags|=8192),io(p,p.updateQueue),Dt(p),null);case 4:return se(),d===null&&_l(p.stateNode.containerInfo),Dt(p),null;case 10:return tn(p.type),Dt(p),null;case 19:if($(Ft),T=p.memoizedState,T===null)return Dt(p),null;if(F=(p.flags&128)!==0,H=T.rendering,H===null)if(F)ia(T,!1);else{if(qt!==0||d!==null&&(d.flags&128)!==0)for(d=p.child;d!==null;){if(H=Va(d),H!==null){for(p.flags|=128,ia(T,!1),d=H.updateQueue,p.updateQueue=d,io(p,d),p.subtreeFlags=0,d=y,y=p.child;y!==null;)Cc(y,d),y=y.sibling;return L(Ft,Ft.current&1|2),St&&Qr(p,T.treeForkCount),p.child}d=d.sibling}T.tail!==null&&Ae()>co&&(p.flags|=128,F=!0,ia(T,!1),p.lanes=4194304)}else{if(!F)if(d=Va(H),d!==null){if(p.flags|=128,F=!0,d=d.updateQueue,p.updateQueue=d,io(p,d),ia(T,!0),T.tail===null&&T.tailMode==="hidden"&&!H.alternate&&!St)return Dt(p),null}else 2*Ae()-T.renderingStartTime>co&&y!==536870912&&(p.flags|=128,F=!0,ia(T,!1),p.lanes=4194304);T.isBackwards?(H.sibling=p.child,p.child=H):(d=T.last,d!==null?d.sibling=H:p.child=H,T.last=H)}return T.tail!==null?(d=T.tail,T.rendering=d,T.tail=d.sibling,T.renderingStartTime=Ae(),d.sibling=null,y=Ft.current,L(Ft,F?y&1|2:y&1),St&&Qr(p,T.treeForkCount),d):(Dt(p),null);case 22:case 23:return $r(p),Es(),T=p.memoizedState!==null,d!==null?d.memoizedState!==null!==T&&(p.flags|=8192):T&&(p.flags|=8192),T?(y&536870912)!==0&&(p.flags&128)===0&&(Dt(p),p.subtreeFlags&6&&(p.flags|=8192)):Dt(p),y=p.updateQueue,y!==null&&io(p,y.retryQueue),y=null,d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(y=d.memoizedState.cachePool.pool),T=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(T=p.memoizedState.cachePool.pool),T!==y&&(p.flags|=2048),d!==null&&$(Gn),null;case 24:return y=null,d!==null&&(y=d.memoizedState.cache),p.memoizedState.cache!==y&&(p.flags|=2048),tn(Ut),Dt(p),null;case 25:return null;case 30:return null}throw Error(r(156,p.tag))}function Fh(d,p){switch(ss(p),p.tag){case 1:return d=p.flags,d&65536?(p.flags=d&-65537|128,p):null;case 3:return tn(Ut),se(),d=p.flags,(d&65536)!==0&&(d&128)===0?(p.flags=d&-65537|128,p):null;case 26:case 27:case 5:return ue(p),null;case 31:if(p.memoizedState!==null){if($r(p),p.alternate===null)throw Error(r(340));Hn()}return d=p.flags,d&65536?(p.flags=d&-65537|128,p):null;case 13:if($r(p),d=p.memoizedState,d!==null&&d.dehydrated!==null){if(p.alternate===null)throw Error(r(340));Hn()}return d=p.flags,d&65536?(p.flags=d&-65537|128,p):null;case 19:return $(Ft),null;case 4:return se(),null;case 10:return tn(p.type),null;case 22:case 23:return $r(p),Es(),d!==null&&$(Gn),d=p.flags,d&65536?(p.flags=d&-65537|128,p):null;case 24:return tn(Ut),null;case 25:return null;default:return null}}function ed(d,p){switch(ss(p),p.tag){case 3:tn(Ut),se();break;case 26:case 27:case 5:ue(p);break;case 4:se();break;case 31:p.memoizedState!==null&&$r(p);break;case 13:$r(p);break;case 19:$(Ft);break;case 10:tn(p.type);break;case 22:case 23:$r(p),Es(),d!==null&&$(Gn);break;case 24:tn(Ut)}}function aa(d,p){try{var y=p.updateQueue,T=y!==null?y.lastEffect:null;if(T!==null){var F=T.next;y=F;do{if((y.tag&d)===d){T=void 0;var H=y.create,ce=y.inst;T=H(),ce.destroy=T}y=y.next}while(y!==F)}}catch(me){Mt(p,p.return,me)}}function $n(d,p,y){try{var T=p.updateQueue,F=T!==null?T.lastEffect:null;if(F!==null){var H=F.next;T=H;do{if((T.tag&d)===d){var ce=T.inst,me=ce.destroy;if(me!==void 0){ce.destroy=void 0,F=p;var Se=y,Pe=me;try{Pe()}catch(Ke){Mt(F,Se,Ke)}}}T=T.next}while(T!==H)}}catch(Ke){Mt(p,p.return,Ke)}}function td(d){var p=d.updateQueue;if(p!==null){var y=d.stateNode;try{Vc(p,y)}catch(T){Mt(d,d.return,T)}}}function rd(d,p,y){y.props=Xn(d.type,d.memoizedProps),y.state=d.memoizedState;try{y.componentWillUnmount()}catch(T){Mt(d,p,T)}}function oa(d,p){try{var y=d.ref;if(y!==null){switch(d.tag){case 26:case 27:case 5:var T=d.stateNode;break;case 30:T=d.stateNode;break;default:T=d.stateNode}typeof y=="function"?d.refCleanup=y(T):y.current=T}}catch(F){Mt(d,p,F)}}function Gr(d,p){var y=d.ref,T=d.refCleanup;if(y!==null)if(typeof T=="function")try{T()}catch(F){Mt(d,p,F)}finally{d.refCleanup=null,d=d.alternate,d!=null&&(d.refCleanup=null)}else if(typeof y=="function")try{y(null)}catch(F){Mt(d,p,F)}else y.current=null}function nd(d){var p=d.type,y=d.memoizedProps,T=d.stateNode;try{e:switch(p){case"button":case"input":case"select":case"textarea":y.autoFocus&&T.focus();break e;case"img":y.src?T.src=y.src:y.srcSet&&(T.srcset=y.srcSet)}}catch(F){Mt(d,d.return,F)}}function tl(d,p,y){try{var T=d.stateNode;c0(T,d.type,y,p),T[rt]=p}catch(F){Mt(d,d.return,F)}}function ad(d){return d.tag===5||d.tag===3||d.tag===26||d.tag===27&&jn(d.type)||d.tag===4}function rl(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||ad(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.tag===27&&jn(d.type)||d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function nl(d,p,y){var T=d.tag;if(T===5||T===6)d=d.stateNode,p?(y.nodeType===9?y.body:y.nodeName==="HTML"?y.ownerDocument.body:y).insertBefore(d,p):(p=y.nodeType===9?y.body:y.nodeName==="HTML"?y.ownerDocument.body:y,p.appendChild(d),y=y._reactRootContainer,y!=null||p.onclick!==null||(p.onclick=Yr));else if(T!==4&&(T===27&&jn(d.type)&&(y=d.stateNode,p=null),d=d.child,d!==null))for(nl(d,p,y),d=d.sibling;d!==null;)nl(d,p,y),d=d.sibling}function ao(d,p,y){var T=d.tag;if(T===5||T===6)d=d.stateNode,p?y.insertBefore(d,p):y.appendChild(d);else if(T!==4&&(T===27&&jn(d.type)&&(y=d.stateNode),d=d.child,d!==null))for(ao(d,p,y),d=d.sibling;d!==null;)ao(d,p,y),d=d.sibling}function od(d){var p=d.stateNode,y=d.memoizedProps;try{for(var T=d.type,F=p.attributes;F.length;)p.removeAttributeNode(F[0]);ar(p,T,y),p[Qe]=d,p[rt]=y}catch(H){Mt(d,d.return,H)}}var ln=!1,Kt=!1,il=!1,sd=typeof WeakSet=="function"?WeakSet:Set,Qt=null;function zh(d,p){if(d=d.containerInfo,Rl=Co,d=xc(d),Yo(d)){if("selectionStart"in d)var y={start:d.selectionStart,end:d.selectionEnd};else e:{y=(y=d.ownerDocument)&&y.defaultView||window;var T=y.getSelection&&y.getSelection();if(T&&T.rangeCount!==0){y=T.anchorNode;var F=T.anchorOffset,H=T.focusNode;T=T.focusOffset;try{y.nodeType,H.nodeType}catch{y=null;break e}var ce=0,me=-1,Se=-1,Pe=0,Ke=0,Ze=d,Le=null;t:for(;;){for(var ze;Ze!==y||F!==0&&Ze.nodeType!==3||(me=ce+F),Ze!==H||T!==0&&Ze.nodeType!==3||(Se=ce+T),Ze.nodeType===3&&(ce+=Ze.nodeValue.length),(ze=Ze.firstChild)!==null;)Le=Ze,Ze=ze;for(;;){if(Ze===d)break t;if(Le===y&&++Pe===F&&(me=ce),Le===H&&++Ke===T&&(Se=ce),(ze=Ze.nextSibling)!==null)break;Ze=Le,Le=Ze.parentNode}Ze=ze}y=me===-1||Se===-1?null:{start:me,end:Se}}else y=null}y=y||{start:0,end:0}}else y=null;for($l={focusedElem:d,selectionRange:y},Co=!1,Qt=p;Qt!==null;)if(p=Qt,d=p.child,(p.subtreeFlags&1028)!==0&&d!==null)d.return=p,Qt=d;else for(;Qt!==null;){switch(p=Qt,H=p.alternate,d=p.flags,p.tag){case 0:if((d&4)!==0&&(d=p.updateQueue,d=d!==null?d.events:null,d!==null))for(y=0;y<d.length;y++)F=d[y],F.ref.impl=F.nextImpl;break;case 11:case 15:break;case 1:if((d&1024)!==0&&H!==null){d=void 0,y=p,F=H.memoizedProps,H=H.memoizedState,T=y.stateNode;try{var ot=Xn(y.type,F);d=T.getSnapshotBeforeUpdate(ot,H),T.__reactInternalSnapshotBeforeUpdate=d}catch(ht){Mt(y,y.return,ht)}}break;case 3:if((d&1024)!==0){if(d=p.stateNode.containerInfo,y=d.nodeType,y===9)kl(d);else if(y===1)switch(d.nodeName){case"HEAD":case"HTML":case"BODY":kl(d);break;default:d.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((d&1024)!==0)throw Error(r(163))}if(d=p.sibling,d!==null){d.return=p.return,Qt=d;break}Qt=p.return}}function ld(d,p,y){var T=y.flags;switch(y.tag){case 0:case 11:case 15:un(d,y),T&4&&aa(5,y);break;case 1:if(un(d,y),T&4)if(d=y.stateNode,p===null)try{d.componentDidMount()}catch(ce){Mt(y,y.return,ce)}else{var F=Xn(y.type,p.memoizedProps);p=p.memoizedState;try{d.componentDidUpdate(F,p,d.__reactInternalSnapshotBeforeUpdate)}catch(ce){Mt(y,y.return,ce)}}T&64&&td(y),T&512&&oa(y,y.return);break;case 3:if(un(d,y),T&64&&(d=y.updateQueue,d!==null)){if(p=null,y.child!==null)switch(y.child.tag){case 27:case 5:p=y.child.stateNode;break;case 1:p=y.child.stateNode}try{Vc(d,p)}catch(ce){Mt(y,y.return,ce)}}break;case 27:p===null&&T&4&&od(y);case 26:case 5:un(d,y),p===null&&T&4&&nd(y),T&512&&oa(y,y.return);break;case 12:un(d,y);break;case 31:un(d,y),T&4&&dd(d,y);break;case 13:un(d,y),T&4&&fd(d,y),T&64&&(d=y.memoizedState,d!==null&&(d=d.dehydrated,d!==null&&(y=Jh.bind(null,y),v0(d,y))));break;case 22:if(T=y.memoizedState!==null||ln,!T){p=p!==null&&p.memoizedState!==null||Kt,F=ln;var H=Kt;ln=T,(Kt=p)&&!H?dn(d,y,(y.subtreeFlags&8772)!==0):un(d,y),ln=F,Kt=H}break;case 30:break;default:un(d,y)}}function cd(d){var p=d.alternate;p!==null&&(d.alternate=null,cd(p)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(p=d.stateNode,p!==null&&or(p)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}var Pt=null,pr=!1;function cn(d,p,y){for(y=y.child;y!==null;)ud(d,p,y),y=y.sibling}function ud(d,p,y){if(be&&typeof be.onCommitFiberUnmount=="function")try{be.onCommitFiberUnmount(pe,y)}catch{}switch(y.tag){case 26:Kt||Gr(y,p),cn(d,p,y),y.memoizedState?y.memoizedState.count--:y.stateNode&&(y=y.stateNode,y.parentNode.removeChild(y));break;case 27:Kt||Gr(y,p);var T=Pt,F=pr;jn(y.type)&&(Pt=y.stateNode,pr=!1),cn(d,p,y),ma(y.stateNode),Pt=T,pr=F;break;case 5:Kt||Gr(y,p);case 6:if(T=Pt,F=pr,Pt=null,cn(d,p,y),Pt=T,pr=F,Pt!==null)if(pr)try{(Pt.nodeType===9?Pt.body:Pt.nodeName==="HTML"?Pt.ownerDocument.body:Pt).removeChild(y.stateNode)}catch(H){Mt(y,p,H)}else try{Pt.removeChild(y.stateNode)}catch(H){Mt(y,p,H)}break;case 18:Pt!==null&&(pr?(d=Pt,rf(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,y.stateNode),ji(d)):rf(Pt,y.stateNode));break;case 4:T=Pt,F=pr,Pt=y.stateNode.containerInfo,pr=!0,cn(d,p,y),Pt=T,pr=F;break;case 0:case 11:case 14:case 15:$n(2,y,p),Kt||$n(4,y,p),cn(d,p,y);break;case 1:Kt||(Gr(y,p),T=y.stateNode,typeof T.componentWillUnmount=="function"&&rd(y,p,T)),cn(d,p,y);break;case 21:cn(d,p,y);break;case 22:Kt=(T=Kt)||y.memoizedState!==null,cn(d,p,y),Kt=T;break;default:cn(d,p,y)}}function dd(d,p){if(p.memoizedState===null&&(d=p.alternate,d!==null&&(d=d.memoizedState,d!==null))){d=d.dehydrated;try{ji(d)}catch(y){Mt(p,p.return,y)}}}function fd(d,p){if(p.memoizedState===null&&(d=p.alternate,d!==null&&(d=d.memoizedState,d!==null&&(d=d.dehydrated,d!==null))))try{ji(d)}catch(y){Mt(p,p.return,y)}}function Uh(d){switch(d.tag){case 31:case 13:case 19:var p=d.stateNode;return p===null&&(p=d.stateNode=new sd),p;case 22:return d=d.stateNode,p=d._retryCache,p===null&&(p=d._retryCache=new sd),p;default:throw Error(r(435,d.tag))}}function oo(d,p){var y=Uh(d);p.forEach(function(T){if(!y.has(T)){y.add(T);var F=Xh.bind(null,d,T);T.then(F,F)}})}function gr(d,p){var y=p.deletions;if(y!==null)for(var T=0;T<y.length;T++){var F=y[T],H=d,ce=p,me=ce;e:for(;me!==null;){switch(me.tag){case 27:if(jn(me.type)){Pt=me.stateNode,pr=!1;break e}break;case 5:Pt=me.stateNode,pr=!1;break e;case 3:case 4:Pt=me.stateNode.containerInfo,pr=!0;break e}me=me.return}if(Pt===null)throw Error(r(160));ud(H,ce,F),Pt=null,pr=!1,H=F.alternate,H!==null&&(H.return=null),F.return=null}if(p.subtreeFlags&13886)for(p=p.child;p!==null;)hd(p,d),p=p.sibling}var Ur=null;function hd(d,p){var y=d.alternate,T=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:gr(p,d),vr(d),T&4&&($n(3,d,d.return),aa(3,d),$n(5,d,d.return));break;case 1:gr(p,d),vr(d),T&512&&(Kt||y===null||Gr(y,y.return)),T&64&&ln&&(d=d.updateQueue,d!==null&&(T=d.callbacks,T!==null&&(y=d.shared.hiddenCallbacks,d.shared.hiddenCallbacks=y===null?T:y.concat(T))));break;case 26:var F=Ur;if(gr(p,d),vr(d),T&512&&(Kt||y===null||Gr(y,y.return)),T&4){var H=y!==null?y.memoizedState:null;if(T=d.memoizedState,y===null)if(T===null)if(d.stateNode===null){e:{T=d.type,y=d.memoizedProps,F=F.ownerDocument||F;t:switch(T){case"title":H=F.getElementsByTagName("title")[0],(!H||H[er]||H[Qe]||H.namespaceURI==="http://www.w3.org/2000/svg"||H.hasAttribute("itemprop"))&&(H=F.createElement(T),F.head.insertBefore(H,F.querySelector("head > title"))),ar(H,T,y),H[Qe]=d,kt(H),T=H;break e;case"link":var ce=pf("link","href",F).get(T+(y.href||""));if(ce){for(var me=0;me<ce.length;me++)if(H=ce[me],H.getAttribute("href")===(y.href==null||y.href===""?null:y.href)&&H.getAttribute("rel")===(y.rel==null?null:y.rel)&&H.getAttribute("title")===(y.title==null?null:y.title)&&H.getAttribute("crossorigin")===(y.crossOrigin==null?null:y.crossOrigin)){ce.splice(me,1);break t}}H=F.createElement(T),ar(H,T,y),F.head.appendChild(H);break;case"meta":if(ce=pf("meta","content",F).get(T+(y.content||""))){for(me=0;me<ce.length;me++)if(H=ce[me],H.getAttribute("content")===(y.content==null?null:""+y.content)&&H.getAttribute("name")===(y.name==null?null:y.name)&&H.getAttribute("property")===(y.property==null?null:y.property)&&H.getAttribute("http-equiv")===(y.httpEquiv==null?null:y.httpEquiv)&&H.getAttribute("charset")===(y.charSet==null?null:y.charSet)){ce.splice(me,1);break t}}H=F.createElement(T),ar(H,T,y),F.head.appendChild(H);break;default:throw Error(r(468,T))}H[Qe]=d,kt(H),T=H}d.stateNode=T}else mf(F,d.type,d.stateNode);else d.stateNode=hf(F,T,d.memoizedProps);else H!==T?(H===null?y.stateNode!==null&&(y=y.stateNode,y.parentNode.removeChild(y)):H.count--,T===null?mf(F,d.type,d.stateNode):hf(F,T,d.memoizedProps)):T===null&&d.stateNode!==null&&tl(d,d.memoizedProps,y.memoizedProps)}break;case 27:gr(p,d),vr(d),T&512&&(Kt||y===null||Gr(y,y.return)),y!==null&&T&4&&tl(d,d.memoizedProps,y.memoizedProps);break;case 5:if(gr(p,d),vr(d),T&512&&(Kt||y===null||Gr(y,y.return)),d.flags&32){F=d.stateNode;try{ri(F,"")}catch(ot){Mt(d,d.return,ot)}}T&4&&d.stateNode!=null&&(F=d.memoizedProps,tl(d,F,y!==null?y.memoizedProps:F)),T&1024&&(il=!0);break;case 6:if(gr(p,d),vr(d),T&4){if(d.stateNode===null)throw Error(r(162));T=d.memoizedProps,y=d.stateNode;try{y.nodeValue=T}catch(ot){Mt(d,d.return,ot)}}break;case 3:if(Eo=null,F=Ur,Ur=wo(p.containerInfo),gr(p,d),Ur=F,vr(d),T&4&&y!==null&&y.memoizedState.isDehydrated)try{ji(p.containerInfo)}catch(ot){Mt(d,d.return,ot)}il&&(il=!1,pd(d));break;case 4:T=Ur,Ur=wo(d.stateNode.containerInfo),gr(p,d),vr(d),Ur=T;break;case 12:gr(p,d),vr(d);break;case 31:gr(p,d),vr(d),T&4&&(T=d.updateQueue,T!==null&&(d.updateQueue=null,oo(d,T)));break;case 13:gr(p,d),vr(d),d.child.flags&8192&&d.memoizedState!==null!=(y!==null&&y.memoizedState!==null)&&(lo=Ae()),T&4&&(T=d.updateQueue,T!==null&&(d.updateQueue=null,oo(d,T)));break;case 22:F=d.memoizedState!==null;var Se=y!==null&&y.memoizedState!==null,Pe=ln,Ke=Kt;if(ln=Pe||F,Kt=Ke||Se,gr(p,d),Kt=Ke,ln=Pe,vr(d),T&8192)e:for(p=d.stateNode,p._visibility=F?p._visibility&-2:p._visibility|1,F&&(y===null||Se||ln||Kt||Qn(d)),y=null,p=d;;){if(p.tag===5||p.tag===26){if(y===null){Se=y=p;try{if(H=Se.stateNode,F)ce=H.style,typeof ce.setProperty=="function"?ce.setProperty("display","none","important"):ce.display="none";else{me=Se.stateNode;var Ze=Se.memoizedProps.style,Le=Ze!=null&&Ze.hasOwnProperty("display")?Ze.display:null;me.style.display=Le==null||typeof Le=="boolean"?"":(""+Le).trim()}}catch(ot){Mt(Se,Se.return,ot)}}}else if(p.tag===6){if(y===null){Se=p;try{Se.stateNode.nodeValue=F?"":Se.memoizedProps}catch(ot){Mt(Se,Se.return,ot)}}}else if(p.tag===18){if(y===null){Se=p;try{var ze=Se.stateNode;F?nf(ze,!0):nf(Se.stateNode,!1)}catch(ot){Mt(Se,Se.return,ot)}}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===d)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===d)break e;for(;p.sibling===null;){if(p.return===null||p.return===d)break e;y===p&&(y=null),p=p.return}y===p&&(y=null),p.sibling.return=p.return,p=p.sibling}T&4&&(T=d.updateQueue,T!==null&&(y=T.retryQueue,y!==null&&(T.retryQueue=null,oo(d,y))));break;case 19:gr(p,d),vr(d),T&4&&(T=d.updateQueue,T!==null&&(d.updateQueue=null,oo(d,T)));break;case 30:break;case 21:break;default:gr(p,d),vr(d)}}function vr(d){var p=d.flags;if(p&2){try{for(var y,T=d.return;T!==null;){if(ad(T)){y=T;break}T=T.return}if(y==null)throw Error(r(160));switch(y.tag){case 27:var F=y.stateNode,H=rl(d);ao(d,H,F);break;case 5:var ce=y.stateNode;y.flags&32&&(ri(ce,""),y.flags&=-33);var me=rl(d);ao(d,me,ce);break;case 3:case 4:var Se=y.stateNode.containerInfo,Pe=rl(d);nl(d,Pe,Se);break;default:throw Error(r(161))}}catch(Ke){Mt(d,d.return,Ke)}d.flags&=-3}p&4096&&(d.flags&=-4097)}function pd(d){if(d.subtreeFlags&1024)for(d=d.child;d!==null;){var p=d;pd(p),p.tag===5&&p.flags&1024&&p.stateNode.reset(),d=d.sibling}}function un(d,p){if(p.subtreeFlags&8772)for(p=p.child;p!==null;)ld(d,p.alternate,p),p=p.sibling}function Qn(d){for(d=d.child;d!==null;){var p=d;switch(p.tag){case 0:case 11:case 14:case 15:$n(4,p,p.return),Qn(p);break;case 1:Gr(p,p.return);var y=p.stateNode;typeof y.componentWillUnmount=="function"&&rd(p,p.return,y),Qn(p);break;case 27:ma(p.stateNode);case 26:case 5:Gr(p,p.return),Qn(p);break;case 22:p.memoizedState===null&&Qn(p);break;case 30:Qn(p);break;default:Qn(p)}d=d.sibling}}function dn(d,p,y){for(y=y&&(p.subtreeFlags&8772)!==0,p=p.child;p!==null;){var T=p.alternate,F=d,H=p,ce=H.flags;switch(H.tag){case 0:case 11:case 15:dn(F,H,y),aa(4,H);break;case 1:if(dn(F,H,y),T=H,F=T.stateNode,typeof F.componentDidMount=="function")try{F.componentDidMount()}catch(Pe){Mt(T,T.return,Pe)}if(T=H,F=T.updateQueue,F!==null){var me=T.stateNode;try{var Se=F.shared.hiddenCallbacks;if(Se!==null)for(F.shared.hiddenCallbacks=null,F=0;F<Se.length;F++)Hc(Se[F],me)}catch(Pe){Mt(T,T.return,Pe)}}y&&ce&64&&td(H),oa(H,H.return);break;case 27:od(H);case 26:case 5:dn(F,H,y),y&&T===null&&ce&4&&nd(H),oa(H,H.return);break;case 12:dn(F,H,y);break;case 31:dn(F,H,y),y&&ce&4&&dd(F,H);break;case 13:dn(F,H,y),y&&ce&4&&fd(F,H);break;case 22:H.memoizedState===null&&dn(F,H,y),oa(H,H.return);break;case 30:break;default:dn(F,H,y)}p=p.sibling}}function al(d,p){var y=null;d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(y=d.memoizedState.cachePool.pool),d=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(d=p.memoizedState.cachePool.pool),d!==y&&(d!=null&&d.refCount++,y!=null&&Ki(y))}function ol(d,p){d=null,p.alternate!==null&&(d=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==d&&(p.refCount++,d!=null&&Ki(d))}function Hr(d,p,y,T){if(p.subtreeFlags&10256)for(p=p.child;p!==null;)md(d,p,y,T),p=p.sibling}function md(d,p,y,T){var F=p.flags;switch(p.tag){case 0:case 11:case 15:Hr(d,p,y,T),F&2048&&aa(9,p);break;case 1:Hr(d,p,y,T);break;case 3:Hr(d,p,y,T),F&2048&&(d=null,p.alternate!==null&&(d=p.alternate.memoizedState.cache),p=p.memoizedState.cache,p!==d&&(p.refCount++,d!=null&&Ki(d)));break;case 12:if(F&2048){Hr(d,p,y,T),d=p.stateNode;try{var H=p.memoizedProps,ce=H.id,me=H.onPostCommit;typeof me=="function"&&me(ce,p.alternate===null?"mount":"update",d.passiveEffectDuration,-0)}catch(Se){Mt(p,p.return,Se)}}else Hr(d,p,y,T);break;case 31:Hr(d,p,y,T);break;case 13:Hr(d,p,y,T);break;case 23:break;case 22:H=p.stateNode,ce=p.alternate,p.memoizedState!==null?H._visibility&2?Hr(d,p,y,T):sa(d,p):H._visibility&2?Hr(d,p,y,T):(H._visibility|=2,_i(d,p,y,T,(p.subtreeFlags&10256)!==0||!1)),F&2048&&al(ce,p);break;case 24:Hr(d,p,y,T),F&2048&&ol(p.alternate,p);break;default:Hr(d,p,y,T)}}function _i(d,p,y,T,F){for(F=F&&((p.subtreeFlags&10256)!==0||!1),p=p.child;p!==null;){var H=d,ce=p,me=y,Se=T,Pe=ce.flags;switch(ce.tag){case 0:case 11:case 15:_i(H,ce,me,Se,F),aa(8,ce);break;case 23:break;case 22:var Ke=ce.stateNode;ce.memoizedState!==null?Ke._visibility&2?_i(H,ce,me,Se,F):sa(H,ce):(Ke._visibility|=2,_i(H,ce,me,Se,F)),F&&Pe&2048&&al(ce.alternate,ce);break;case 24:_i(H,ce,me,Se,F),F&&Pe&2048&&ol(ce.alternate,ce);break;default:_i(H,ce,me,Se,F)}p=p.sibling}}function sa(d,p){if(p.subtreeFlags&10256)for(p=p.child;p!==null;){var y=d,T=p,F=T.flags;switch(T.tag){case 22:sa(y,T),F&2048&&al(T.alternate,T);break;case 24:sa(y,T),F&2048&&ol(T.alternate,T);break;default:sa(y,T)}p=p.sibling}}var la=8192;function Ei(d,p,y){if(d.subtreeFlags&la)for(d=d.child;d!==null;)gd(d,p,y),d=d.sibling}function gd(d,p,y){switch(d.tag){case 26:Ei(d,p,y),d.flags&la&&d.memoizedState!==null&&k0(y,Ur,d.memoizedState,d.memoizedProps);break;case 5:Ei(d,p,y);break;case 3:case 4:var T=Ur;Ur=wo(d.stateNode.containerInfo),Ei(d,p,y),Ur=T;break;case 22:d.memoizedState===null&&(T=d.alternate,T!==null&&T.memoizedState!==null?(T=la,la=16777216,Ei(d,p,y),la=T):Ei(d,p,y));break;default:Ei(d,p,y)}}function vd(d){var p=d.alternate;if(p!==null&&(d=p.child,d!==null)){p.child=null;do p=d.sibling,d.sibling=null,d=p;while(d!==null)}}function ca(d){var p=d.deletions;if((d.flags&16)!==0){if(p!==null)for(var y=0;y<p.length;y++){var T=p[y];Qt=T,yd(T,d)}vd(d)}if(d.subtreeFlags&10256)for(d=d.child;d!==null;)xd(d),d=d.sibling}function xd(d){switch(d.tag){case 0:case 11:case 15:ca(d),d.flags&2048&&$n(9,d,d.return);break;case 3:ca(d);break;case 12:ca(d);break;case 22:var p=d.stateNode;d.memoizedState!==null&&p._visibility&2&&(d.return===null||d.return.tag!==13)?(p._visibility&=-3,so(d)):ca(d);break;default:ca(d)}}function so(d){var p=d.deletions;if((d.flags&16)!==0){if(p!==null)for(var y=0;y<p.length;y++){var T=p[y];Qt=T,yd(T,d)}vd(d)}for(d=d.child;d!==null;){switch(p=d,p.tag){case 0:case 11:case 15:$n(8,p,p.return),so(p);break;case 22:y=p.stateNode,y._visibility&2&&(y._visibility&=-3,so(p));break;default:so(p)}d=d.sibling}}function yd(d,p){for(;Qt!==null;){var y=Qt;switch(y.tag){case 0:case 11:case 15:$n(8,y,p);break;case 23:case 22:if(y.memoizedState!==null&&y.memoizedState.cachePool!==null){var T=y.memoizedState.cachePool.pool;T!=null&&T.refCount++}break;case 24:Ki(y.memoizedState.cache)}if(T=y.child,T!==null)T.return=y,Qt=T;else e:for(y=d;Qt!==null;){T=Qt;var F=T.sibling,H=T.return;if(cd(T),T===y){Qt=null;break e}if(F!==null){F.return=H,Qt=F;break e}Qt=H}}}var Hh={getCacheForType:function(d){var p=nr(Ut),y=p.data.get(d);return y===void 0&&(y=d(),p.data.set(d,y)),y},cacheSignal:function(){return nr(Ut).controller.signal}},Vh=typeof WeakMap=="function"?WeakMap:Map,At=0,Bt=null,bt=null,_t=0,Tt=0,Cr=null,Cn=!1,Si=!1,sl=!1,fn=0,qt=0,An=0,ei=0,ll=0,Ar=0,Ri=0,ua=null,xr=null,cl=!1,lo=0,bd=0,co=1/0,uo=null,kn=null,Wt=0,Tn=null,$i=null,hn=0,ul=0,dl=null,wd=null,da=0,fl=null;function kr(){return(At&2)!==0&&_t!==0?_t&-_t:N.T!==null?xl():at()}function _d(){if(Ar===0)if((_t&536870912)===0||St){var d=et;et<<=1,(et&3932160)===0&&(et=262144),Ar=d}else Ar=536870912;return d=Rr.current,d!==null&&(d.flags|=32),Ar}function yr(d,p,y){(d===Bt&&(Tt===2||Tt===9)||d.cancelPendingCommit!==null)&&(Ci(d,0),Mn(d,_t,Ar,!1)),ne(d,y),((At&2)===0||d!==Bt)&&(d===Bt&&((At&2)===0&&(ei|=y),qt===4&&Mn(d,_t,Ar,!1)),Wr(d))}function Ed(d,p,y){if((At&6)!==0)throw Error(r(327));var T=!y&&(p&127)===0&&(p&d.expiredLanes)===0||nt(d,p),F=T?Wh(d,p):pl(d,p,!0),H=T;do{if(F===0){Si&&!T&&Mn(d,p,0,!1);break}else{if(y=d.current.alternate,H&&!Kh(y)){F=pl(d,p,!1),H=!1;continue}if(F===2){if(H=p,d.errorRecoveryDisabledLanes&H)var ce=0;else ce=d.pendingLanes&-536870913,ce=ce!==0?ce:ce&536870912?536870912:0;if(ce!==0){p=ce;e:{var me=d;F=ua;var Se=me.current.memoizedState.isDehydrated;if(Se&&(Ci(me,ce).flags|=256),ce=pl(me,ce,!1),ce!==2){if(sl&&!Se){me.errorRecoveryDisabledLanes|=H,ei|=H,F=4;break e}H=xr,xr=F,H!==null&&(xr===null?xr=H:xr.push.apply(xr,H))}F=ce}if(H=!1,F!==2)continue}}if(F===1){Ci(d,0),Mn(d,p,0,!0);break}e:{switch(T=d,H=F,H){case 0:case 1:throw Error(r(345));case 4:if((p&4194048)!==p)break;case 6:Mn(T,p,Ar,!Cn);break e;case 2:xr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((p&62914560)===p&&(F=lo+300-Ae(),10<F)){if(Mn(T,p,Ar,!Cn),ut(T,0,!0)!==0)break e;hn=p,T.timeoutHandle=ef(Sd.bind(null,T,y,xr,uo,cl,p,Ar,ei,Ri,Cn,H,"Throttled",-0,0),F);break e}Sd(T,y,xr,uo,cl,p,Ar,ei,Ri,Cn,H,null,-0,0)}}break}while(!0);Wr(d)}function Sd(d,p,y,T,F,H,ce,me,Se,Pe,Ke,Ze,Le,ze){if(d.timeoutHandle=-1,Ze=p.subtreeFlags,Ze&8192||(Ze&16785408)===16785408){Ze={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yr},gd(p,H,Ze);var ot=(H&62914560)===H?lo-Ae():(H&4194048)===H?bd-Ae():0;if(ot=T0(Ze,ot),ot!==null){hn=H,d.cancelPendingCommit=ot(Nd.bind(null,d,p,H,y,T,F,ce,me,Se,Ke,Ze,null,Le,ze)),Mn(d,H,ce,!Pe);return}}Nd(d,p,H,y,T,F,ce,me,Se)}function Kh(d){for(var p=d;;){var y=p.tag;if((y===0||y===11||y===15)&&p.flags&16384&&(y=p.updateQueue,y!==null&&(y=y.stores,y!==null)))for(var T=0;T<y.length;T++){var F=y[T],H=F.getSnapshot;F=F.value;try{if(!Er(H(),F))return!1}catch{return!1}}if(y=p.child,p.subtreeFlags&16384&&y!==null)y.return=p,p=y;else{if(p===d)break;for(;p.sibling===null;){if(p.return===null||p.return===d)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function Mn(d,p,y,T){p&=~ll,p&=~ei,d.suspendedLanes|=p,d.pingedLanes&=~p,T&&(d.warmLanes|=p),T=d.expirationTimes;for(var F=p;0<F;){var H=31-Re(F),ce=1<<H;T[H]=-1,F&=~ce}y!==0&&ve(d,y,p)}function fo(){return(At&6)===0?(fa(0),!1):!0}function hl(){if(bt!==null){if(Tt===0)var d=bt.return;else d=bt,en=Vn=null,ks(d),vi=null,Wi=0,d=bt;for(;d!==null;)ed(d.alternate,d),d=d.return;bt=null}}function Ci(d,p){var y=d.timeoutHandle;y!==-1&&(d.timeoutHandle=-1,f0(y)),y=d.cancelPendingCommit,y!==null&&(d.cancelPendingCommit=null,y()),hn=0,hl(),Bt=d,bt=y=Xr(d.current,null),_t=p,Tt=0,Cr=null,Cn=!1,Si=nt(d,p),sl=!1,Ri=Ar=ll=ei=An=qt=0,xr=ua=null,cl=!1,(p&8)!==0&&(p|=p&32);var T=d.entangledLanes;if(T!==0)for(d=d.entanglements,T&=p;0<T;){var F=31-Re(T),H=1<<F;p|=d[F],T&=~H}return fn=p,Na(),y}function Rd(d,p){vt=null,N.H=ra,p===gi||p===qa?(p=qc(),Tt=3):p===gs?(p=qc(),Tt=4):Tt=p===Vs?8:p!==null&&typeof p=="object"&&typeof p.then=="function"?6:1,Cr=p,bt===null&&(qt=1,eo(d,Br(p,d.current)))}function $d(){var d=Rr.current;return d===null?!0:(_t&4194048)===_t?Lr===null:(_t&62914560)===_t||(_t&536870912)!==0?d===Lr:!1}function Cd(){var d=N.H;return N.H=ra,d===null?ra:d}function Ad(){var d=N.A;return N.A=Hh,d}function ho(){qt=4,Cn||(_t&4194048)!==_t&&Rr.current!==null||(Si=!0),(An&134217727)===0&&(ei&134217727)===0||Bt===null||Mn(Bt,_t,Ar,!1)}function pl(d,p,y){var T=At;At|=2;var F=Cd(),H=Ad();(Bt!==d||_t!==p)&&(uo=null,Ci(d,p)),p=!1;var ce=qt;e:do try{if(Tt!==0&&bt!==null){var me=bt,Se=Cr;switch(Tt){case 8:hl(),ce=6;break e;case 3:case 2:case 9:case 6:Rr.current===null&&(p=!0);var Pe=Tt;if(Tt=0,Cr=null,Ai(d,me,Se,Pe),y&&Si){ce=0;break e}break;default:Pe=Tt,Tt=0,Cr=null,Ai(d,me,Se,Pe)}}Gh(),ce=qt;break}catch(Ke){Rd(d,Ke)}while(!0);return p&&d.shellSuspendCounter++,en=Vn=null,At=T,N.H=F,N.A=H,bt===null&&(Bt=null,_t=0,Na()),ce}function Gh(){for(;bt!==null;)kd(bt)}function Wh(d,p){var y=At;At|=2;var T=Cd(),F=Ad();Bt!==d||_t!==p?(uo=null,co=Ae()+500,Ci(d,p)):Si=nt(d,p);e:do try{if(Tt!==0&&bt!==null){p=bt;var H=Cr;t:switch(Tt){case 1:Tt=0,Cr=null,Ai(d,p,H,1);break;case 2:case 9:if(Pc(H)){Tt=0,Cr=null,Td(p);break}p=function(){Tt!==2&&Tt!==9||Bt!==d||(Tt=7),Wr(d)},H.then(p,p);break e;case 3:Tt=7;break e;case 4:Tt=5;break e;case 7:Pc(H)?(Tt=0,Cr=null,Td(p)):(Tt=0,Cr=null,Ai(d,p,H,7));break;case 5:var ce=null;switch(bt.tag){case 26:ce=bt.memoizedState;case 5:case 27:var me=bt;if(ce?gf(ce):me.stateNode.complete){Tt=0,Cr=null;var Se=me.sibling;if(Se!==null)bt=Se;else{var Pe=me.return;Pe!==null?(bt=Pe,po(Pe)):bt=null}break t}}Tt=0,Cr=null,Ai(d,p,H,5);break;case 6:Tt=0,Cr=null,Ai(d,p,H,6);break;case 8:hl(),qt=6;break e;default:throw Error(r(462))}}Zh();break}catch(Ke){Rd(d,Ke)}while(!0);return en=Vn=null,N.H=T,N.A=F,At=y,bt!==null?0:(Bt=null,_t=0,Na(),qt)}function Zh(){for(;bt!==null&&!Ve();)kd(bt)}function kd(d){var p=Xu(d.alternate,d,fn);d.memoizedProps=d.pendingProps,p===null?po(d):bt=p}function Td(d){var p=d,y=p.alternate;switch(p.tag){case 15:case 0:p=Ku(y,p,p.pendingProps,p.type,void 0,_t);break;case 11:p=Ku(y,p,p.pendingProps,p.type.render,p.ref,_t);break;case 5:ks(p);default:ed(y,p),p=bt=Cc(p,fn),p=Xu(y,p,fn)}d.memoizedProps=d.pendingProps,p===null?po(d):bt=p}function Ai(d,p,y,T){en=Vn=null,ks(p),vi=null,Wi=0;var F=p.return;try{if(Dh(d,F,p,y,_t)){qt=1,eo(d,Br(y,d.current)),bt=null;return}}catch(H){if(F!==null)throw bt=F,H;qt=1,eo(d,Br(y,d.current)),bt=null;return}p.flags&32768?(St||T===1?d=!0:Si||(_t&536870912)!==0?d=!1:(Cn=d=!0,(T===2||T===9||T===3||T===6)&&(T=Rr.current,T!==null&&T.tag===13&&(T.flags|=16384))),Md(p,d)):po(p)}function po(d){var p=d;do{if((p.flags&32768)!==0){Md(p,Cn);return}d=p.return;var y=qh(p.alternate,p,fn);if(y!==null){bt=y;return}if(p=p.sibling,p!==null){bt=p;return}bt=p=d}while(p!==null);qt===0&&(qt=5)}function Md(d,p){do{var y=Fh(d.alternate,d);if(y!==null){y.flags&=32767,bt=y;return}if(y=d.return,y!==null&&(y.flags|=32768,y.subtreeFlags=0,y.deletions=null),!p&&(d=d.sibling,d!==null)){bt=d;return}bt=d=y}while(d!==null);qt=6,bt=null}function Nd(d,p,y,T,F,H,ce,me,Se){d.cancelPendingCommit=null;do mo();while(Wt!==0);if((At&6)!==0)throw Error(r(327));if(p!==null){if(p===d.current)throw Error(r(177));if(H=p.lanes|p.childLanes,H|=ts,ae(d,y,H,ce,me,Se),d===Bt&&(bt=Bt=null,_t=0),$i=p,Tn=d,hn=y,ul=H,dl=F,wd=T,(p.subtreeFlags&10256)!==0||(p.flags&10256)!==0?(d.callbackNode=null,d.callbackPriority=0,Qh(Fe,function(){return Dd(),null})):(d.callbackNode=null,d.callbackPriority=0),T=(p.flags&13878)!==0,(p.subtreeFlags&13878)!==0||T){T=N.T,N.T=null,F=R.p,R.p=2,ce=At,At|=4;try{zh(d,p,y)}finally{At=ce,R.p=F,N.T=T}}Wt=1,jd(),Id(),Bd()}}function jd(){if(Wt===1){Wt=0;var d=Tn,p=$i,y=(p.flags&13878)!==0;if((p.subtreeFlags&13878)!==0||y){y=N.T,N.T=null;var T=R.p;R.p=2;var F=At;At|=4;try{hd(p,d);var H=$l,ce=xc(d.containerInfo),me=H.focusedElem,Se=H.selectionRange;if(ce!==me&&me&&me.ownerDocument&&vc(me.ownerDocument.documentElement,me)){if(Se!==null&&Yo(me)){var Pe=Se.start,Ke=Se.end;if(Ke===void 0&&(Ke=Pe),"selectionStart"in me)me.selectionStart=Pe,me.selectionEnd=Math.min(Ke,me.value.length);else{var Ze=me.ownerDocument||document,Le=Ze&&Ze.defaultView||window;if(Le.getSelection){var ze=Le.getSelection(),ot=me.textContent.length,ht=Math.min(Se.start,ot),It=Se.end===void 0?ht:Math.min(Se.end,ot);!ze.extend&&ht>It&&(ce=It,It=ht,ht=ce);var je=gc(me,ht),ke=gc(me,It);if(je&&ke&&(ze.rangeCount!==1||ze.anchorNode!==je.node||ze.anchorOffset!==je.offset||ze.focusNode!==ke.node||ze.focusOffset!==ke.offset)){var Oe=Ze.createRange();Oe.setStart(je.node,je.offset),ze.removeAllRanges(),ht>It?(ze.addRange(Oe),ze.extend(ke.node,ke.offset)):(Oe.setEnd(ke.node,ke.offset),ze.addRange(Oe))}}}}for(Ze=[],ze=me;ze=ze.parentNode;)ze.nodeType===1&&Ze.push({element:ze,left:ze.scrollLeft,top:ze.scrollTop});for(typeof me.focus=="function"&&me.focus(),me=0;me<Ze.length;me++){var We=Ze[me];We.element.scrollLeft=We.left,We.element.scrollTop=We.top}}Co=!!Rl,$l=Rl=null}finally{At=F,R.p=T,N.T=y}}d.current=p,Wt=2}}function Id(){if(Wt===2){Wt=0;var d=Tn,p=$i,y=(p.flags&8772)!==0;if((p.subtreeFlags&8772)!==0||y){y=N.T,N.T=null;var T=R.p;R.p=2;var F=At;At|=4;try{ld(d,p.alternate,p)}finally{At=F,R.p=T,N.T=y}}Wt=3}}function Bd(){if(Wt===4||Wt===3){Wt=0,He();var d=Tn,p=$i,y=hn,T=wd;(p.subtreeFlags&10256)!==0||(p.flags&10256)!==0?Wt=5:(Wt=0,$i=Tn=null,Od(d,d.pendingLanes));var F=d.pendingLanes;if(F===0&&(kn=null),it(y),p=p.stateNode,be&&typeof be.onCommitFiberRoot=="function")try{be.onCommitFiberRoot(pe,p,void 0,(p.current.flags&128)===128)}catch{}if(T!==null){p=N.T,F=R.p,R.p=2,N.T=null;try{for(var H=d.onRecoverableError,ce=0;ce<T.length;ce++){var me=T[ce];H(me.value,{componentStack:me.stack})}}finally{N.T=p,R.p=F}}(hn&3)!==0&&mo(),Wr(d),F=d.pendingLanes,(y&261930)!==0&&(F&42)!==0?d===fl?da++:(da=0,fl=d):da=0,fa(0)}}function Od(d,p){(d.pooledCacheLanes&=p)===0&&(p=d.pooledCache,p!=null&&(d.pooledCache=null,Ki(p)))}function mo(){return jd(),Id(),Bd(),Dd()}function Dd(){if(Wt!==5)return!1;var d=Tn,p=ul;ul=0;var y=it(hn),T=N.T,F=R.p;try{R.p=32>y?32:y,N.T=null,y=dl,dl=null;var H=Tn,ce=hn;if(Wt=0,$i=Tn=null,hn=0,(At&6)!==0)throw Error(r(331));var me=At;if(At|=4,xd(H.current),md(H,H.current,ce,y),At=me,fa(0,!1),be&&typeof be.onPostCommitFiberRoot=="function")try{be.onPostCommitFiberRoot(pe,H)}catch{}return!0}finally{R.p=F,N.T=T,Od(d,p)}}function Pd(d,p,y){p=Br(y,p),p=Hs(d.stateNode,p,2),d=En(d,p,2),d!==null&&(ne(d,2),Wr(d))}function Mt(d,p,y){if(d.tag===3)Pd(d,d,y);else for(;p!==null;){if(p.tag===3){Pd(p,d,y);break}else if(p.tag===1){var T=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(kn===null||!kn.has(T))){d=Br(y,d),y=Pu(2),T=En(p,y,2),T!==null&&(Lu(y,T,p,d),ne(T,2),Wr(T));break}}p=p.return}}function ml(d,p,y){var T=d.pingCache;if(T===null){T=d.pingCache=new Vh;var F=new Set;T.set(p,F)}else F=T.get(p),F===void 0&&(F=new Set,T.set(p,F));F.has(y)||(sl=!0,F.add(y),d=Yh.bind(null,d,p,y),p.then(d,d))}function Yh(d,p,y){var T=d.pingCache;T!==null&&T.delete(p),d.pingedLanes|=d.suspendedLanes&y,d.warmLanes&=~y,Bt===d&&(_t&y)===y&&(qt===4||qt===3&&(_t&62914560)===_t&&300>Ae()-lo?(At&2)===0&&Ci(d,0):ll|=y,Ri===_t&&(Ri=0)),Wr(d)}function Ld(d,p){p===0&&(p=ft()),d=zn(d,p),d!==null&&(ne(d,p),Wr(d))}function Jh(d){var p=d.memoizedState,y=0;p!==null&&(y=p.retryLane),Ld(d,y)}function Xh(d,p){var y=0;switch(d.tag){case 31:case 13:var T=d.stateNode,F=d.memoizedState;F!==null&&(y=F.retryLane);break;case 19:T=d.stateNode;break;case 22:T=d.stateNode._retryCache;break;default:throw Error(r(314))}T!==null&&T.delete(p),Ld(d,y)}function Qh(d,p){return Ue(d,p)}var go=null,ki=null,gl=!1,vo=!1,vl=!1,Nn=0;function Wr(d){d!==ki&&d.next===null&&(ki===null?go=ki=d:ki=ki.next=d),vo=!0,gl||(gl=!0,t0())}function fa(d,p){if(!vl&&vo){vl=!0;do for(var y=!1,T=go;T!==null;){if(d!==0){var F=T.pendingLanes;if(F===0)var H=0;else{var ce=T.suspendedLanes,me=T.pingedLanes;H=(1<<31-Re(42|d)+1)-1,H&=F&~(ce&~me),H=H&201326741?H&201326741|1:H?H|2:0}H!==0&&(y=!0,Ud(T,H))}else H=_t,H=ut(T,T===Bt?H:0,T.cancelPendingCommit!==null||T.timeoutHandle!==-1),(H&3)===0||nt(T,H)||(y=!0,Ud(T,H));T=T.next}while(y);vl=!1}}function e0(){qd()}function qd(){vo=gl=!1;var d=0;Nn!==0&&d0()&&(d=Nn);for(var p=Ae(),y=null,T=go;T!==null;){var F=T.next,H=Fd(T,p);H===0?(T.next=null,y===null?go=F:y.next=F,F===null&&(ki=y)):(y=T,(d!==0||(H&3)!==0)&&(vo=!0)),T=F}Wt!==0&&Wt!==5||fa(d),Nn!==0&&(Nn=0)}function Fd(d,p){for(var y=d.suspendedLanes,T=d.pingedLanes,F=d.expirationTimes,H=d.pendingLanes&-62914561;0<H;){var ce=31-Re(H),me=1<<ce,Se=F[ce];Se===-1?((me&y)===0||(me&T)!==0)&&(F[ce]=yt(me,p)):Se<=p&&(d.expiredLanes|=me),H&=~me}if(p=Bt,y=_t,y=ut(d,d===p?y:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),T=d.callbackNode,y===0||d===p&&(Tt===2||Tt===9)||d.cancelPendingCommit!==null)return T!==null&&T!==null&&Be(T),d.callbackNode=null,d.callbackPriority=0;if((y&3)===0||nt(d,y)){if(p=y&-y,p===d.callbackPriority)return p;switch(T!==null&&Be(T),it(y)){case 2:case 8:y=ye;break;case 32:y=Fe;break;case 268435456:y=oe;break;default:y=Fe}return T=zd.bind(null,d),y=Ue(y,T),d.callbackPriority=p,d.callbackNode=y,p}return T!==null&&T!==null&&Be(T),d.callbackPriority=2,d.callbackNode=null,2}function zd(d,p){if(Wt!==0&&Wt!==5)return d.callbackNode=null,d.callbackPriority=0,null;var y=d.callbackNode;if(mo()&&d.callbackNode!==y)return null;var T=_t;return T=ut(d,d===Bt?T:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),T===0?null:(Ed(d,T,p),Fd(d,Ae()),d.callbackNode!=null&&d.callbackNode===y?zd.bind(null,d):null)}function Ud(d,p){if(mo())return null;Ed(d,p,!0)}function t0(){h0(function(){(At&6)!==0?Ue(Te,e0):qd()})}function xl(){if(Nn===0){var d=pi;d===0&&(d=st,st<<=1,(st&261888)===0&&(st=256)),Nn=d}return Nn}function Hd(d){return d==null||typeof d=="symbol"||typeof d=="boolean"?null:typeof d=="function"?d:Sa(""+d)}function Vd(d,p){var y=p.ownerDocument.createElement("input");return y.name=p.name,y.value=p.value,d.id&&y.setAttribute("form",d.id),p.parentNode.insertBefore(y,p),d=new FormData(d),y.parentNode.removeChild(y),d}function r0(d,p,y,T,F){if(p==="submit"&&y&&y.stateNode===F){var H=Hd((F[rt]||null).action),ce=T.submitter;ce&&(p=(p=ce[rt]||null)?Hd(p.formAction):ce.getAttribute("formAction"),p!==null&&(H=p,ce=null));var me=new Aa("action","action",null,T,F);d.push({event:me,listeners:[{instance:null,listener:function(){if(T.defaultPrevented){if(Nn!==0){var Se=ce?Vd(F,ce):new FormData(F);Ps(y,{pending:!0,data:Se,method:F.method,action:H},null,Se)}}else typeof H=="function"&&(me.preventDefault(),Se=ce?Vd(F,ce):new FormData(F),Ps(y,{pending:!0,data:Se,method:F.method,action:H},H,Se))},currentTarget:F}]})}}for(var yl=0;yl<es.length;yl++){var bl=es[yl],n0=bl.toLowerCase(),i0=bl[0].toUpperCase()+bl.slice(1);zr(n0,"on"+i0)}zr(wc,"onAnimationEnd"),zr(_c,"onAnimationIteration"),zr(Ec,"onAnimationStart"),zr("dblclick","onDoubleClick"),zr("focusin","onFocus"),zr("focusout","onBlur"),zr(bh,"onTransitionRun"),zr(wh,"onTransitionStart"),zr(_h,"onTransitionCancel"),zr(Sc,"onTransitionEnd"),Xt("onMouseEnter",["mouseout","mouseover"]),Xt("onMouseLeave",["mouseout","mouseover"]),Xt("onPointerEnter",["pointerout","pointerover"]),Xt("onPointerLeave",["pointerout","pointerover"]),Gt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ha="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),a0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ha));function Kd(d,p){p=(p&4)!==0;for(var y=0;y<d.length;y++){var T=d[y],F=T.event;T=T.listeners;e:{var H=void 0;if(p)for(var ce=T.length-1;0<=ce;ce--){var me=T[ce],Se=me.instance,Pe=me.currentTarget;if(me=me.listener,Se!==H&&F.isPropagationStopped())break e;H=me,F.currentTarget=Pe;try{H(F)}catch(Ke){Ma(Ke)}F.currentTarget=null,H=Se}else for(ce=0;ce<T.length;ce++){if(me=T[ce],Se=me.instance,Pe=me.currentTarget,me=me.listener,Se!==H&&F.isPropagationStopped())break e;H=me,F.currentTarget=Pe;try{H(F)}catch(Ke){Ma(Ke)}F.currentTarget=null,H=Se}}}}function wt(d,p){var y=p[pt];y===void 0&&(y=p[pt]=new Set);var T=d+"__bubble";y.has(T)||(Gd(p,d,2,!1),y.add(T))}function wl(d,p,y){var T=0;p&&(T|=4),Gd(y,d,T,p)}var xo="_reactListening"+Math.random().toString(36).slice(2);function _l(d){if(!d[xo]){d[xo]=!0,cr.forEach(function(y){y!=="selectionchange"&&(a0.has(y)||wl(y,!1,d),wl(y,!0,d))});var p=d.nodeType===9?d:d.ownerDocument;p===null||p[xo]||(p[xo]=!0,wl("selectionchange",!1,p))}}function Gd(d,p,y,T){switch(Ef(p)){case 2:var F=j0;break;case 8:F=I0;break;default:F=Dl}y=F.bind(null,p,y,d),F=void 0,!Fo||p!=="touchstart"&&p!=="touchmove"&&p!=="wheel"||(F=!0),T?F!==void 0?d.addEventListener(p,y,{capture:!0,passive:F}):d.addEventListener(p,y,!0):F!==void 0?d.addEventListener(p,y,{passive:F}):d.addEventListener(p,y,!1)}function El(d,p,y,T,F){var H=T;if((p&1)===0&&(p&2)===0&&T!==null)e:for(;;){if(T===null)return;var ce=T.tag;if(ce===3||ce===4){var me=T.stateNode.containerInfo;if(me===F)break;if(ce===4)for(ce=T.return;ce!==null;){var Se=ce.tag;if((Se===3||Se===4)&&ce.stateNode.containerInfo===F)return;ce=ce.return}for(;me!==null;){if(ce=Zt(me),ce===null)return;if(Se=ce.tag,Se===5||Se===6||Se===26||Se===27){T=H=ce;continue e}me=me.parentNode}}T=T.return}Yl(function(){var Pe=H,Ke=Lo(y),Ze=[];e:{var Le=Rc.get(d);if(Le!==void 0){var ze=Aa,ot=d;switch(d){case"keypress":if($a(y)===0)break e;case"keydown":case"keyup":ze=Yf;break;case"focusin":ot="focus",ze=Vo;break;case"focusout":ot="blur",ze=Vo;break;case"beforeblur":case"afterblur":ze=Vo;break;case"click":if(y.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ze=Ql;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ze=Pf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ze=Qf;break;case wc:case _c:case Ec:ze=Ff;break;case Sc:ze=th;break;case"scroll":case"scrollend":ze=Of;break;case"wheel":ze=nh;break;case"copy":case"cut":case"paste":ze=Uf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ze=rc;break;case"toggle":case"beforetoggle":ze=ah}var ht=(p&4)!==0,It=!ht&&(d==="scroll"||d==="scrollend"),je=ht?Le!==null?Le+"Capture":null:Le;ht=[];for(var ke=Pe,Oe;ke!==null;){var We=ke;if(Oe=We.stateNode,We=We.tag,We!==5&&We!==26&&We!==27||Oe===null||je===null||(We=Bi(ke,je),We!=null&&ht.push(pa(ke,We,Oe))),It)break;ke=ke.return}0<ht.length&&(Le=new ze(Le,ot,null,y,Ke),Ze.push({event:Le,listeners:ht}))}}if((p&7)===0){e:{if(Le=d==="mouseover"||d==="pointerover",ze=d==="mouseout"||d==="pointerout",Le&&y!==Po&&(ot=y.relatedTarget||y.fromElement)&&(Zt(ot)||ot[Rt]))break e;if((ze||Le)&&(Le=Ke.window===Ke?Ke:(Le=Ke.ownerDocument)?Le.defaultView||Le.parentWindow:window,ze?(ot=y.relatedTarget||y.toElement,ze=Pe,ot=ot?Zt(ot):null,ot!==null&&(It=s(ot),ht=ot.tag,ot!==It||ht!==5&&ht!==27&&ht!==6)&&(ot=null)):(ze=null,ot=Pe),ze!==ot)){if(ht=Ql,We="onMouseLeave",je="onMouseEnter",ke="mouse",(d==="pointerout"||d==="pointerover")&&(ht=rc,We="onPointerLeave",je="onPointerEnter",ke="pointer"),It=ze==null?Le:tr(ze),Oe=ot==null?Le:tr(ot),Le=new ht(We,ke+"leave",ze,y,Ke),Le.target=It,Le.relatedTarget=Oe,We=null,Zt(Ke)===Pe&&(ht=new ht(je,ke+"enter",ot,y,Ke),ht.target=Oe,ht.relatedTarget=It,We=ht),It=We,ze&&ot)t:{for(ht=o0,je=ze,ke=ot,Oe=0,We=je;We;We=ht(We))Oe++;We=0;for(var dt=ke;dt;dt=ht(dt))We++;for(;0<Oe-We;)je=ht(je),Oe--;for(;0<We-Oe;)ke=ht(ke),We--;for(;Oe--;){if(je===ke||ke!==null&&je===ke.alternate){ht=je;break t}je=ht(je),ke=ht(ke)}ht=null}else ht=null;ze!==null&&Wd(Ze,Le,ze,ht,!1),ot!==null&&It!==null&&Wd(Ze,It,ot,ht,!0)}}e:{if(Le=Pe?tr(Pe):window,ze=Le.nodeName&&Le.nodeName.toLowerCase(),ze==="select"||ze==="input"&&Le.type==="file")var $t=uc;else if(lc(Le))if(dc)$t=gh;else{$t=ph;var lt=hh}else ze=Le.nodeName,!ze||ze.toLowerCase()!=="input"||Le.type!=="checkbox"&&Le.type!=="radio"?Pe&&Do(Pe.elementType)&&($t=uc):$t=mh;if($t&&($t=$t(d,Pe))){cc(Ze,$t,y,Ke);break e}lt&&lt(d,Le,Pe),d==="focusout"&&Pe&&Le.type==="number"&&Pe.memoizedProps.value!=null&&Oo(Le,"number",Le.value)}switch(lt=Pe?tr(Pe):window,d){case"focusin":(lc(lt)||lt.contentEditable==="true")&&(oi=lt,Jo=Pe,Ui=null);break;case"focusout":Ui=Jo=oi=null;break;case"mousedown":Xo=!0;break;case"contextmenu":case"mouseup":case"dragend":Xo=!1,yc(Ze,y,Ke);break;case"selectionchange":if(yh)break;case"keydown":case"keyup":yc(Ze,y,Ke)}var xt;if(Go)e:{switch(d){case"compositionstart":var Et="onCompositionStart";break e;case"compositionend":Et="onCompositionEnd";break e;case"compositionupdate":Et="onCompositionUpdate";break e}Et=void 0}else ai?oc(d,y)&&(Et="onCompositionEnd"):d==="keydown"&&y.keyCode===229&&(Et="onCompositionStart");Et&&(nc&&y.locale!=="ko"&&(ai||Et!=="onCompositionStart"?Et==="onCompositionEnd"&&ai&&(xt=Jl()):(mn=Ke,zo="value"in mn?mn.value:mn.textContent,ai=!0)),lt=yo(Pe,Et),0<lt.length&&(Et=new tc(Et,d,null,y,Ke),Ze.push({event:Et,listeners:lt}),xt?Et.data=xt:(xt=sc(y),xt!==null&&(Et.data=xt)))),(xt=sh?lh(d,y):ch(d,y))&&(Et=yo(Pe,"onBeforeInput"),0<Et.length&&(lt=new tc("onBeforeInput","beforeinput",null,y,Ke),Ze.push({event:lt,listeners:Et}),lt.data=xt)),r0(Ze,d,Pe,y,Ke)}Kd(Ze,p)})}function pa(d,p,y){return{instance:d,listener:p,currentTarget:y}}function yo(d,p){for(var y=p+"Capture",T=[];d!==null;){var F=d,H=F.stateNode;if(F=F.tag,F!==5&&F!==26&&F!==27||H===null||(F=Bi(d,y),F!=null&&T.unshift(pa(d,F,H)),F=Bi(d,p),F!=null&&T.push(pa(d,F,H))),d.tag===3)return T;d=d.return}return[]}function o0(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5&&d.tag!==27);return d||null}function Wd(d,p,y,T,F){for(var H=p._reactName,ce=[];y!==null&&y!==T;){var me=y,Se=me.alternate,Pe=me.stateNode;if(me=me.tag,Se!==null&&Se===T)break;me!==5&&me!==26&&me!==27||Pe===null||(Se=Pe,F?(Pe=Bi(y,H),Pe!=null&&ce.unshift(pa(y,Pe,Se))):F||(Pe=Bi(y,H),Pe!=null&&ce.push(pa(y,Pe,Se)))),y=y.return}ce.length!==0&&d.push({event:p,listeners:ce})}var s0=/\r\n?/g,l0=/\u0000|\uFFFD/g;function Zd(d){return(typeof d=="string"?d:""+d).replace(s0,`
`).replace(l0,"")}function Yd(d,p){return p=Zd(p),Zd(d)===p}function jt(d,p,y,T,F,H){switch(y){case"children":typeof T=="string"?p==="body"||p==="textarea"&&T===""||ri(d,T):(typeof T=="number"||typeof T=="bigint")&&p!=="body"&&ri(d,""+T);break;case"className":Mr(d,"class",T);break;case"tabIndex":Mr(d,"tabindex",T);break;case"dir":case"role":case"viewBox":case"width":case"height":Mr(d,y,T);break;case"style":Wl(d,T,H);break;case"data":if(p!=="object"){Mr(d,"data",T);break}case"src":case"href":if(T===""&&(p!=="a"||y!=="href")){d.removeAttribute(y);break}if(T==null||typeof T=="function"||typeof T=="symbol"||typeof T=="boolean"){d.removeAttribute(y);break}T=Sa(""+T),d.setAttribute(y,T);break;case"action":case"formAction":if(typeof T=="function"){d.setAttribute(y,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof H=="function"&&(y==="formAction"?(p!=="input"&&jt(d,p,"name",F.name,F,null),jt(d,p,"formEncType",F.formEncType,F,null),jt(d,p,"formMethod",F.formMethod,F,null),jt(d,p,"formTarget",F.formTarget,F,null)):(jt(d,p,"encType",F.encType,F,null),jt(d,p,"method",F.method,F,null),jt(d,p,"target",F.target,F,null)));if(T==null||typeof T=="symbol"||typeof T=="boolean"){d.removeAttribute(y);break}T=Sa(""+T),d.setAttribute(y,T);break;case"onClick":T!=null&&(d.onclick=Yr);break;case"onScroll":T!=null&&wt("scroll",d);break;case"onScrollEnd":T!=null&&wt("scrollend",d);break;case"dangerouslySetInnerHTML":if(T!=null){if(typeof T!="object"||!("__html"in T))throw Error(r(61));if(y=T.__html,y!=null){if(F.children!=null)throw Error(r(60));d.innerHTML=y}}break;case"multiple":d.multiple=T&&typeof T!="function"&&typeof T!="symbol";break;case"muted":d.muted=T&&typeof T!="function"&&typeof T!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(T==null||typeof T=="function"||typeof T=="boolean"||typeof T=="symbol"){d.removeAttribute("xlink:href");break}y=Sa(""+T),d.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",y);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":T!=null&&typeof T!="function"&&typeof T!="symbol"?d.setAttribute(y,""+T):d.removeAttribute(y);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":T&&typeof T!="function"&&typeof T!="symbol"?d.setAttribute(y,""):d.removeAttribute(y);break;case"capture":case"download":T===!0?d.setAttribute(y,""):T!==!1&&T!=null&&typeof T!="function"&&typeof T!="symbol"?d.setAttribute(y,T):d.removeAttribute(y);break;case"cols":case"rows":case"size":case"span":T!=null&&typeof T!="function"&&typeof T!="symbol"&&!isNaN(T)&&1<=T?d.setAttribute(y,T):d.removeAttribute(y);break;case"rowSpan":case"start":T==null||typeof T=="function"||typeof T=="symbol"||isNaN(T)?d.removeAttribute(y):d.setAttribute(y,T);break;case"popover":wt("beforetoggle",d),wt("toggle",d),Tr(d,"popover",T);break;case"xlinkActuate":Zr(d,"http://www.w3.org/1999/xlink","xlink:actuate",T);break;case"xlinkArcrole":Zr(d,"http://www.w3.org/1999/xlink","xlink:arcrole",T);break;case"xlinkRole":Zr(d,"http://www.w3.org/1999/xlink","xlink:role",T);break;case"xlinkShow":Zr(d,"http://www.w3.org/1999/xlink","xlink:show",T);break;case"xlinkTitle":Zr(d,"http://www.w3.org/1999/xlink","xlink:title",T);break;case"xlinkType":Zr(d,"http://www.w3.org/1999/xlink","xlink:type",T);break;case"xmlBase":Zr(d,"http://www.w3.org/XML/1998/namespace","xml:base",T);break;case"xmlLang":Zr(d,"http://www.w3.org/XML/1998/namespace","xml:lang",T);break;case"xmlSpace":Zr(d,"http://www.w3.org/XML/1998/namespace","xml:space",T);break;case"is":Tr(d,"is",T);break;case"innerText":case"textContent":break;default:(!(2<y.length)||y[0]!=="o"&&y[0]!=="O"||y[1]!=="n"&&y[1]!=="N")&&(y=If.get(y)||y,Tr(d,y,T))}}function Sl(d,p,y,T,F,H){switch(y){case"style":Wl(d,T,H);break;case"dangerouslySetInnerHTML":if(T!=null){if(typeof T!="object"||!("__html"in T))throw Error(r(61));if(y=T.__html,y!=null){if(F.children!=null)throw Error(r(60));d.innerHTML=y}}break;case"children":typeof T=="string"?ri(d,T):(typeof T=="number"||typeof T=="bigint")&&ri(d,""+T);break;case"onScroll":T!=null&&wt("scroll",d);break;case"onScrollEnd":T!=null&&wt("scrollend",d);break;case"onClick":T!=null&&(d.onclick=Yr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ur.hasOwnProperty(y))e:{if(y[0]==="o"&&y[1]==="n"&&(F=y.endsWith("Capture"),p=y.slice(2,F?y.length-7:void 0),H=d[rt]||null,H=H!=null?H[y]:null,typeof H=="function"&&d.removeEventListener(p,H,F),typeof T=="function")){typeof H!="function"&&H!==null&&(y in d?d[y]=null:d.hasAttribute(y)&&d.removeAttribute(y)),d.addEventListener(p,T,F);break e}y in d?d[y]=T:T===!0?d.setAttribute(y,""):Tr(d,y,T)}}}function ar(d,p,y){switch(p){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":wt("error",d),wt("load",d);var T=!1,F=!1,H;for(H in y)if(y.hasOwnProperty(H)){var ce=y[H];if(ce!=null)switch(H){case"src":T=!0;break;case"srcSet":F=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,p));default:jt(d,p,H,ce,y,null)}}F&&jt(d,p,"srcSet",y.srcSet,y,null),T&&jt(d,p,"src",y.src,y,null);return;case"input":wt("invalid",d);var me=H=ce=F=null,Se=null,Pe=null;for(T in y)if(y.hasOwnProperty(T)){var Ke=y[T];if(Ke!=null)switch(T){case"name":F=Ke;break;case"type":ce=Ke;break;case"checked":Se=Ke;break;case"defaultChecked":Pe=Ke;break;case"value":H=Ke;break;case"defaultValue":me=Ke;break;case"children":case"dangerouslySetInnerHTML":if(Ke!=null)throw Error(r(137,p));break;default:jt(d,p,T,Ke,y,null)}}Hl(d,H,me,Se,Pe,ce,F,!1);return;case"select":wt("invalid",d),T=ce=H=null;for(F in y)if(y.hasOwnProperty(F)&&(me=y[F],me!=null))switch(F){case"value":H=me;break;case"defaultValue":ce=me;break;case"multiple":T=me;default:jt(d,p,F,me,y,null)}p=H,y=ce,d.multiple=!!T,p!=null?ti(d,!!T,p,!1):y!=null&&ti(d,!!T,y,!0);return;case"textarea":wt("invalid",d),H=F=T=null;for(ce in y)if(y.hasOwnProperty(ce)&&(me=y[ce],me!=null))switch(ce){case"value":T=me;break;case"defaultValue":F=me;break;case"children":H=me;break;case"dangerouslySetInnerHTML":if(me!=null)throw Error(r(91));break;default:jt(d,p,ce,me,y,null)}Kl(d,T,F,H);return;case"option":for(Se in y)if(y.hasOwnProperty(Se)&&(T=y[Se],T!=null))switch(Se){case"selected":d.selected=T&&typeof T!="function"&&typeof T!="symbol";break;default:jt(d,p,Se,T,y,null)}return;case"dialog":wt("beforetoggle",d),wt("toggle",d),wt("cancel",d),wt("close",d);break;case"iframe":case"object":wt("load",d);break;case"video":case"audio":for(T=0;T<ha.length;T++)wt(ha[T],d);break;case"image":wt("error",d),wt("load",d);break;case"details":wt("toggle",d);break;case"embed":case"source":case"link":wt("error",d),wt("load",d);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Pe in y)if(y.hasOwnProperty(Pe)&&(T=y[Pe],T!=null))switch(Pe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,p));default:jt(d,p,Pe,T,y,null)}return;default:if(Do(p)){for(Ke in y)y.hasOwnProperty(Ke)&&(T=y[Ke],T!==void 0&&Sl(d,p,Ke,T,y,void 0));return}}for(me in y)y.hasOwnProperty(me)&&(T=y[me],T!=null&&jt(d,p,me,T,y,null))}function c0(d,p,y,T){switch(p){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var F=null,H=null,ce=null,me=null,Se=null,Pe=null,Ke=null;for(ze in y){var Ze=y[ze];if(y.hasOwnProperty(ze)&&Ze!=null)switch(ze){case"checked":break;case"value":break;case"defaultValue":Se=Ze;default:T.hasOwnProperty(ze)||jt(d,p,ze,null,T,Ze)}}for(var Le in T){var ze=T[Le];if(Ze=y[Le],T.hasOwnProperty(Le)&&(ze!=null||Ze!=null))switch(Le){case"type":H=ze;break;case"name":F=ze;break;case"checked":Pe=ze;break;case"defaultChecked":Ke=ze;break;case"value":ce=ze;break;case"defaultValue":me=ze;break;case"children":case"dangerouslySetInnerHTML":if(ze!=null)throw Error(r(137,p));break;default:ze!==Ze&&jt(d,p,Le,ze,T,Ze)}}Bo(d,ce,me,Se,Pe,Ke,H,F);return;case"select":ze=ce=me=Le=null;for(H in y)if(Se=y[H],y.hasOwnProperty(H)&&Se!=null)switch(H){case"value":break;case"multiple":ze=Se;default:T.hasOwnProperty(H)||jt(d,p,H,null,T,Se)}for(F in T)if(H=T[F],Se=y[F],T.hasOwnProperty(F)&&(H!=null||Se!=null))switch(F){case"value":Le=H;break;case"defaultValue":me=H;break;case"multiple":ce=H;default:H!==Se&&jt(d,p,F,H,T,Se)}p=me,y=ce,T=ze,Le!=null?ti(d,!!y,Le,!1):!!T!=!!y&&(p!=null?ti(d,!!y,p,!0):ti(d,!!y,y?[]:"",!1));return;case"textarea":ze=Le=null;for(me in y)if(F=y[me],y.hasOwnProperty(me)&&F!=null&&!T.hasOwnProperty(me))switch(me){case"value":break;case"children":break;default:jt(d,p,me,null,T,F)}for(ce in T)if(F=T[ce],H=y[ce],T.hasOwnProperty(ce)&&(F!=null||H!=null))switch(ce){case"value":Le=F;break;case"defaultValue":ze=F;break;case"children":break;case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(91));break;default:F!==H&&jt(d,p,ce,F,T,H)}Vl(d,Le,ze);return;case"option":for(var ot in y)if(Le=y[ot],y.hasOwnProperty(ot)&&Le!=null&&!T.hasOwnProperty(ot))switch(ot){case"selected":d.selected=!1;break;default:jt(d,p,ot,null,T,Le)}for(Se in T)if(Le=T[Se],ze=y[Se],T.hasOwnProperty(Se)&&Le!==ze&&(Le!=null||ze!=null))switch(Se){case"selected":d.selected=Le&&typeof Le!="function"&&typeof Le!="symbol";break;default:jt(d,p,Se,Le,T,ze)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ht in y)Le=y[ht],y.hasOwnProperty(ht)&&Le!=null&&!T.hasOwnProperty(ht)&&jt(d,p,ht,null,T,Le);for(Pe in T)if(Le=T[Pe],ze=y[Pe],T.hasOwnProperty(Pe)&&Le!==ze&&(Le!=null||ze!=null))switch(Pe){case"children":case"dangerouslySetInnerHTML":if(Le!=null)throw Error(r(137,p));break;default:jt(d,p,Pe,Le,T,ze)}return;default:if(Do(p)){for(var It in y)Le=y[It],y.hasOwnProperty(It)&&Le!==void 0&&!T.hasOwnProperty(It)&&Sl(d,p,It,void 0,T,Le);for(Ke in T)Le=T[Ke],ze=y[Ke],!T.hasOwnProperty(Ke)||Le===ze||Le===void 0&&ze===void 0||Sl(d,p,Ke,Le,T,ze);return}}for(var je in y)Le=y[je],y.hasOwnProperty(je)&&Le!=null&&!T.hasOwnProperty(je)&&jt(d,p,je,null,T,Le);for(Ze in T)Le=T[Ze],ze=y[Ze],!T.hasOwnProperty(Ze)||Le===ze||Le==null&&ze==null||jt(d,p,Ze,Le,T,ze)}function Jd(d){switch(d){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function u0(){if(typeof performance.getEntriesByType=="function"){for(var d=0,p=0,y=performance.getEntriesByType("resource"),T=0;T<y.length;T++){var F=y[T],H=F.transferSize,ce=F.initiatorType,me=F.duration;if(H&&me&&Jd(ce)){for(ce=0,me=F.responseEnd,T+=1;T<y.length;T++){var Se=y[T],Pe=Se.startTime;if(Pe>me)break;var Ke=Se.transferSize,Ze=Se.initiatorType;Ke&&Jd(Ze)&&(Se=Se.responseEnd,ce+=Ke*(Se<me?1:(me-Pe)/(Se-Pe)))}if(--T,p+=8*(H+ce)/(F.duration/1e3),d++,10<d)break}}if(0<d)return p/d/1e6}return navigator.connection&&(d=navigator.connection.downlink,typeof d=="number")?d:5}var Rl=null,$l=null;function bo(d){return d.nodeType===9?d:d.ownerDocument}function Xd(d){switch(d){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qd(d,p){if(d===0)switch(p){case"svg":return 1;case"math":return 2;default:return 0}return d===1&&p==="foreignObject"?0:d}function Cl(d,p){return d==="textarea"||d==="noscript"||typeof p.children=="string"||typeof p.children=="number"||typeof p.children=="bigint"||typeof p.dangerouslySetInnerHTML=="object"&&p.dangerouslySetInnerHTML!==null&&p.dangerouslySetInnerHTML.__html!=null}var Al=null;function d0(){var d=window.event;return d&&d.type==="popstate"?d===Al?!1:(Al=d,!0):(Al=null,!1)}var ef=typeof setTimeout=="function"?setTimeout:void 0,f0=typeof clearTimeout=="function"?clearTimeout:void 0,tf=typeof Promise=="function"?Promise:void 0,h0=typeof queueMicrotask=="function"?queueMicrotask:typeof tf<"u"?function(d){return tf.resolve(null).then(d).catch(p0)}:ef;function p0(d){setTimeout(function(){throw d})}function jn(d){return d==="head"}function rf(d,p){var y=p,T=0;do{var F=y.nextSibling;if(d.removeChild(y),F&&F.nodeType===8)if(y=F.data,y==="/$"||y==="/&"){if(T===0){d.removeChild(F),ji(p);return}T--}else if(y==="$"||y==="$?"||y==="$~"||y==="$!"||y==="&")T++;else if(y==="html")ma(d.ownerDocument.documentElement);else if(y==="head"){y=d.ownerDocument.head,ma(y);for(var H=y.firstChild;H;){var ce=H.nextSibling,me=H.nodeName;H[er]||me==="SCRIPT"||me==="STYLE"||me==="LINK"&&H.rel.toLowerCase()==="stylesheet"||y.removeChild(H),H=ce}}else y==="body"&&ma(d.ownerDocument.body);y=F}while(y);ji(p)}function nf(d,p){var y=d;d=0;do{var T=y.nextSibling;if(y.nodeType===1?p?(y._stashedDisplay=y.style.display,y.style.display="none"):(y.style.display=y._stashedDisplay||"",y.getAttribute("style")===""&&y.removeAttribute("style")):y.nodeType===3&&(p?(y._stashedText=y.nodeValue,y.nodeValue=""):y.nodeValue=y._stashedText||""),T&&T.nodeType===8)if(y=T.data,y==="/$"){if(d===0)break;d--}else y!=="$"&&y!=="$?"&&y!=="$~"&&y!=="$!"||d++;y=T}while(y)}function kl(d){var p=d.firstChild;for(p&&p.nodeType===10&&(p=p.nextSibling);p;){var y=p;switch(p=p.nextSibling,y.nodeName){case"HTML":case"HEAD":case"BODY":kl(y),or(y);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(y.rel.toLowerCase()==="stylesheet")continue}d.removeChild(y)}}function m0(d,p,y,T){for(;d.nodeType===1;){var F=y;if(d.nodeName.toLowerCase()!==p.toLowerCase()){if(!T&&(d.nodeName!=="INPUT"||d.type!=="hidden"))break}else if(T){if(!d[er])switch(p){case"meta":if(!d.hasAttribute("itemprop"))break;return d;case"link":if(H=d.getAttribute("rel"),H==="stylesheet"&&d.hasAttribute("data-precedence"))break;if(H!==F.rel||d.getAttribute("href")!==(F.href==null||F.href===""?null:F.href)||d.getAttribute("crossorigin")!==(F.crossOrigin==null?null:F.crossOrigin)||d.getAttribute("title")!==(F.title==null?null:F.title))break;return d;case"style":if(d.hasAttribute("data-precedence"))break;return d;case"script":if(H=d.getAttribute("src"),(H!==(F.src==null?null:F.src)||d.getAttribute("type")!==(F.type==null?null:F.type)||d.getAttribute("crossorigin")!==(F.crossOrigin==null?null:F.crossOrigin))&&H&&d.hasAttribute("async")&&!d.hasAttribute("itemprop"))break;return d;default:return d}}else if(p==="input"&&d.type==="hidden"){var H=F.name==null?null:""+F.name;if(F.type==="hidden"&&d.getAttribute("name")===H)return d}else return d;if(d=qr(d.nextSibling),d===null)break}return null}function g0(d,p,y){if(p==="")return null;for(;d.nodeType!==3;)if((d.nodeType!==1||d.nodeName!=="INPUT"||d.type!=="hidden")&&!y||(d=qr(d.nextSibling),d===null))return null;return d}function af(d,p){for(;d.nodeType!==8;)if((d.nodeType!==1||d.nodeName!=="INPUT"||d.type!=="hidden")&&!p||(d=qr(d.nextSibling),d===null))return null;return d}function Tl(d){return d.data==="$?"||d.data==="$~"}function Ml(d){return d.data==="$!"||d.data==="$?"&&d.ownerDocument.readyState!=="loading"}function v0(d,p){var y=d.ownerDocument;if(d.data==="$~")d._reactRetry=p;else if(d.data!=="$?"||y.readyState!=="loading")p();else{var T=function(){p(),y.removeEventListener("DOMContentLoaded",T)};y.addEventListener("DOMContentLoaded",T),d._reactRetry=T}}function qr(d){for(;d!=null;d=d.nextSibling){var p=d.nodeType;if(p===1||p===3)break;if(p===8){if(p=d.data,p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"||p==="F!"||p==="F")break;if(p==="/$"||p==="/&")return null}}return d}var Nl=null;function of(d){d=d.nextSibling;for(var p=0;d;){if(d.nodeType===8){var y=d.data;if(y==="/$"||y==="/&"){if(p===0)return qr(d.nextSibling);p--}else y!=="$"&&y!=="$!"&&y!=="$?"&&y!=="$~"&&y!=="&"||p++}d=d.nextSibling}return null}function sf(d){d=d.previousSibling;for(var p=0;d;){if(d.nodeType===8){var y=d.data;if(y==="$"||y==="$!"||y==="$?"||y==="$~"||y==="&"){if(p===0)return d;p--}else y!=="/$"&&y!=="/&"||p++}d=d.previousSibling}return null}function lf(d,p,y){switch(p=bo(y),d){case"html":if(d=p.documentElement,!d)throw Error(r(452));return d;case"head":if(d=p.head,!d)throw Error(r(453));return d;case"body":if(d=p.body,!d)throw Error(r(454));return d;default:throw Error(r(451))}}function ma(d){for(var p=d.attributes;p.length;)d.removeAttributeNode(p[0]);or(d)}var Fr=new Map,cf=new Set;function wo(d){return typeof d.getRootNode=="function"?d.getRootNode():d.nodeType===9?d:d.ownerDocument}var pn=R.d;R.d={f:x0,r:y0,D:b0,C:w0,L:_0,m:E0,X:R0,S:S0,M:$0};function x0(){var d=pn.f(),p=fo();return d||p}function y0(d){var p=Yt(d);p!==null&&p.tag===5&&p.type==="form"?Su(p):pn.r(d)}var Ti=typeof document>"u"?null:document;function uf(d,p,y){var T=Ti;if(T&&typeof p=="string"&&p){var F=jr(p);F='link[rel="'+d+'"][href="'+F+'"]',typeof y=="string"&&(F+='[crossorigin="'+y+'"]'),cf.has(F)||(cf.add(F),d={rel:d,crossOrigin:y,href:p},T.querySelector(F)===null&&(p=T.createElement("link"),ar(p,"link",d),kt(p),T.head.appendChild(p)))}}function b0(d){pn.D(d),uf("dns-prefetch",d,null)}function w0(d,p){pn.C(d,p),uf("preconnect",d,p)}function _0(d,p,y){pn.L(d,p,y);var T=Ti;if(T&&d&&p){var F='link[rel="preload"][as="'+jr(p)+'"]';p==="image"&&y&&y.imageSrcSet?(F+='[imagesrcset="'+jr(y.imageSrcSet)+'"]',typeof y.imageSizes=="string"&&(F+='[imagesizes="'+jr(y.imageSizes)+'"]')):F+='[href="'+jr(d)+'"]';var H=F;switch(p){case"style":H=Mi(d);break;case"script":H=Ni(d)}Fr.has(H)||(d=m({rel:"preload",href:p==="image"&&y&&y.imageSrcSet?void 0:d,as:p},y),Fr.set(H,d),T.querySelector(F)!==null||p==="style"&&T.querySelector(ga(H))||p==="script"&&T.querySelector(va(H))||(p=T.createElement("link"),ar(p,"link",d),kt(p),T.head.appendChild(p)))}}function E0(d,p){pn.m(d,p);var y=Ti;if(y&&d){var T=p&&typeof p.as=="string"?p.as:"script",F='link[rel="modulepreload"][as="'+jr(T)+'"][href="'+jr(d)+'"]',H=F;switch(T){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":H=Ni(d)}if(!Fr.has(H)&&(d=m({rel:"modulepreload",href:d},p),Fr.set(H,d),y.querySelector(F)===null)){switch(T){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(y.querySelector(va(H)))return}T=y.createElement("link"),ar(T,"link",d),kt(T),y.head.appendChild(T)}}}function S0(d,p,y){pn.S(d,p,y);var T=Ti;if(T&&d){var F=Jt(T).hoistableStyles,H=Mi(d);p=p||"default";var ce=F.get(H);if(!ce){var me={loading:0,preload:null};if(ce=T.querySelector(ga(H)))me.loading=5;else{d=m({rel:"stylesheet",href:d,"data-precedence":p},y),(y=Fr.get(H))&&jl(d,y);var Se=ce=T.createElement("link");kt(Se),ar(Se,"link",d),Se._p=new Promise(function(Pe,Ke){Se.onload=Pe,Se.onerror=Ke}),Se.addEventListener("load",function(){me.loading|=1}),Se.addEventListener("error",function(){me.loading|=2}),me.loading|=4,_o(ce,p,T)}ce={type:"stylesheet",instance:ce,count:1,state:me},F.set(H,ce)}}}function R0(d,p){pn.X(d,p);var y=Ti;if(y&&d){var T=Jt(y).hoistableScripts,F=Ni(d),H=T.get(F);H||(H=y.querySelector(va(F)),H||(d=m({src:d,async:!0},p),(p=Fr.get(F))&&Il(d,p),H=y.createElement("script"),kt(H),ar(H,"link",d),y.head.appendChild(H)),H={type:"script",instance:H,count:1,state:null},T.set(F,H))}}function $0(d,p){pn.M(d,p);var y=Ti;if(y&&d){var T=Jt(y).hoistableScripts,F=Ni(d),H=T.get(F);H||(H=y.querySelector(va(F)),H||(d=m({src:d,async:!0,type:"module"},p),(p=Fr.get(F))&&Il(d,p),H=y.createElement("script"),kt(H),ar(H,"link",d),y.head.appendChild(H)),H={type:"script",instance:H,count:1,state:null},T.set(F,H))}}function df(d,p,y,T){var F=(F=re.current)?wo(F):null;if(!F)throw Error(r(446));switch(d){case"meta":case"title":return null;case"style":return typeof y.precedence=="string"&&typeof y.href=="string"?(p=Mi(y.href),y=Jt(F).hoistableStyles,T=y.get(p),T||(T={type:"style",instance:null,count:0,state:null},y.set(p,T)),T):{type:"void",instance:null,count:0,state:null};case"link":if(y.rel==="stylesheet"&&typeof y.href=="string"&&typeof y.precedence=="string"){d=Mi(y.href);var H=Jt(F).hoistableStyles,ce=H.get(d);if(ce||(F=F.ownerDocument||F,ce={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},H.set(d,ce),(H=F.querySelector(ga(d)))&&!H._p&&(ce.instance=H,ce.state.loading=5),Fr.has(d)||(y={rel:"preload",as:"style",href:y.href,crossOrigin:y.crossOrigin,integrity:y.integrity,media:y.media,hrefLang:y.hrefLang,referrerPolicy:y.referrerPolicy},Fr.set(d,y),H||C0(F,d,y,ce.state))),p&&T===null)throw Error(r(528,""));return ce}if(p&&T!==null)throw Error(r(529,""));return null;case"script":return p=y.async,y=y.src,typeof y=="string"&&p&&typeof p!="function"&&typeof p!="symbol"?(p=Ni(y),y=Jt(F).hoistableScripts,T=y.get(p),T||(T={type:"script",instance:null,count:0,state:null},y.set(p,T)),T):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,d))}}function Mi(d){return'href="'+jr(d)+'"'}function ga(d){return'link[rel="stylesheet"]['+d+"]"}function ff(d){return m({},d,{"data-precedence":d.precedence,precedence:null})}function C0(d,p,y,T){d.querySelector('link[rel="preload"][as="style"]['+p+"]")?T.loading=1:(p=d.createElement("link"),T.preload=p,p.addEventListener("load",function(){return T.loading|=1}),p.addEventListener("error",function(){return T.loading|=2}),ar(p,"link",y),kt(p),d.head.appendChild(p))}function Ni(d){return'[src="'+jr(d)+'"]'}function va(d){return"script[async]"+d}function hf(d,p,y){if(p.count++,p.instance===null)switch(p.type){case"style":var T=d.querySelector('style[data-href~="'+jr(y.href)+'"]');if(T)return p.instance=T,kt(T),T;var F=m({},y,{"data-href":y.href,"data-precedence":y.precedence,href:null,precedence:null});return T=(d.ownerDocument||d).createElement("style"),kt(T),ar(T,"style",F),_o(T,y.precedence,d),p.instance=T;case"stylesheet":F=Mi(y.href);var H=d.querySelector(ga(F));if(H)return p.state.loading|=4,p.instance=H,kt(H),H;T=ff(y),(F=Fr.get(F))&&jl(T,F),H=(d.ownerDocument||d).createElement("link"),kt(H);var ce=H;return ce._p=new Promise(function(me,Se){ce.onload=me,ce.onerror=Se}),ar(H,"link",T),p.state.loading|=4,_o(H,y.precedence,d),p.instance=H;case"script":return H=Ni(y.src),(F=d.querySelector(va(H)))?(p.instance=F,kt(F),F):(T=y,(F=Fr.get(H))&&(T=m({},y),Il(T,F)),d=d.ownerDocument||d,F=d.createElement("script"),kt(F),ar(F,"link",T),d.head.appendChild(F),p.instance=F);case"void":return null;default:throw Error(r(443,p.type))}else p.type==="stylesheet"&&(p.state.loading&4)===0&&(T=p.instance,p.state.loading|=4,_o(T,y.precedence,d));return p.instance}function _o(d,p,y){for(var T=y.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),F=T.length?T[T.length-1]:null,H=F,ce=0;ce<T.length;ce++){var me=T[ce];if(me.dataset.precedence===p)H=me;else if(H!==F)break}H?H.parentNode.insertBefore(d,H.nextSibling):(p=y.nodeType===9?y.head:y,p.insertBefore(d,p.firstChild))}function jl(d,p){d.crossOrigin==null&&(d.crossOrigin=p.crossOrigin),d.referrerPolicy==null&&(d.referrerPolicy=p.referrerPolicy),d.title==null&&(d.title=p.title)}function Il(d,p){d.crossOrigin==null&&(d.crossOrigin=p.crossOrigin),d.referrerPolicy==null&&(d.referrerPolicy=p.referrerPolicy),d.integrity==null&&(d.integrity=p.integrity)}var Eo=null;function pf(d,p,y){if(Eo===null){var T=new Map,F=Eo=new Map;F.set(y,T)}else F=Eo,T=F.get(y),T||(T=new Map,F.set(y,T));if(T.has(d))return T;for(T.set(d,null),y=y.getElementsByTagName(d),F=0;F<y.length;F++){var H=y[F];if(!(H[er]||H[Qe]||d==="link"&&H.getAttribute("rel")==="stylesheet")&&H.namespaceURI!=="http://www.w3.org/2000/svg"){var ce=H.getAttribute(p)||"";ce=d+ce;var me=T.get(ce);me?me.push(H):T.set(ce,[H])}}return T}function mf(d,p,y){d=d.ownerDocument||d,d.head.insertBefore(y,p==="title"?d.querySelector("head > title"):null)}function A0(d,p,y){if(y===1||p.itemProp!=null)return!1;switch(d){case"meta":case"title":return!0;case"style":if(typeof p.precedence!="string"||typeof p.href!="string"||p.href==="")break;return!0;case"link":if(typeof p.rel!="string"||typeof p.href!="string"||p.href===""||p.onLoad||p.onError)break;switch(p.rel){case"stylesheet":return d=p.disabled,typeof p.precedence=="string"&&d==null;default:return!0}case"script":if(p.async&&typeof p.async!="function"&&typeof p.async!="symbol"&&!p.onLoad&&!p.onError&&p.src&&typeof p.src=="string")return!0}return!1}function gf(d){return!(d.type==="stylesheet"&&(d.state.loading&3)===0)}function k0(d,p,y,T){if(y.type==="stylesheet"&&(typeof T.media!="string"||matchMedia(T.media).matches!==!1)&&(y.state.loading&4)===0){if(y.instance===null){var F=Mi(T.href),H=p.querySelector(ga(F));if(H){p=H._p,p!==null&&typeof p=="object"&&typeof p.then=="function"&&(d.count++,d=So.bind(d),p.then(d,d)),y.state.loading|=4,y.instance=H,kt(H);return}H=p.ownerDocument||p,T=ff(T),(F=Fr.get(F))&&jl(T,F),H=H.createElement("link"),kt(H);var ce=H;ce._p=new Promise(function(me,Se){ce.onload=me,ce.onerror=Se}),ar(H,"link",T),y.instance=H}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(y,p),(p=y.state.preload)&&(y.state.loading&3)===0&&(d.count++,y=So.bind(d),p.addEventListener("load",y),p.addEventListener("error",y))}}var Bl=0;function T0(d,p){return d.stylesheets&&d.count===0&&$o(d,d.stylesheets),0<d.count||0<d.imgCount?function(y){var T=setTimeout(function(){if(d.stylesheets&&$o(d,d.stylesheets),d.unsuspend){var H=d.unsuspend;d.unsuspend=null,H()}},6e4+p);0<d.imgBytes&&Bl===0&&(Bl=62500*u0());var F=setTimeout(function(){if(d.waitingForImages=!1,d.count===0&&(d.stylesheets&&$o(d,d.stylesheets),d.unsuspend)){var H=d.unsuspend;d.unsuspend=null,H()}},(d.imgBytes>Bl?50:800)+p);return d.unsuspend=y,function(){d.unsuspend=null,clearTimeout(T),clearTimeout(F)}}:null}function So(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)$o(this,this.stylesheets);else if(this.unsuspend){var d=this.unsuspend;this.unsuspend=null,d()}}}var Ro=null;function $o(d,p){d.stylesheets=null,d.unsuspend!==null&&(d.count++,Ro=new Map,p.forEach(M0,d),Ro=null,So.call(d))}function M0(d,p){if(!(p.state.loading&4)){var y=Ro.get(d);if(y)var T=y.get(null);else{y=new Map,Ro.set(d,y);for(var F=d.querySelectorAll("link[data-precedence],style[data-precedence]"),H=0;H<F.length;H++){var ce=F[H];(ce.nodeName==="LINK"||ce.getAttribute("media")!=="not all")&&(y.set(ce.dataset.precedence,ce),T=ce)}T&&y.set(null,T)}F=p.instance,ce=F.getAttribute("data-precedence"),H=y.get(ce)||T,H===T&&y.set(null,F),y.set(ce,F),this.count++,T=So.bind(this),F.addEventListener("load",T),F.addEventListener("error",T),H?H.parentNode.insertBefore(F,H.nextSibling):(d=d.nodeType===9?d.head:d,d.insertBefore(F,d.firstChild)),p.state.loading|=4}}var xa={$$typeof:P,Provider:null,Consumer:null,_currentValue:k,_currentValue2:k,_threadCount:0};function N0(d,p,y,T,F,H,ce,me,Se){this.tag=1,this.containerInfo=d,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=de(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=de(0),this.hiddenUpdates=de(null),this.identifierPrefix=T,this.onUncaughtError=F,this.onCaughtError=H,this.onRecoverableError=ce,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Se,this.incompleteTransitions=new Map}function vf(d,p,y,T,F,H,ce,me,Se,Pe,Ke,Ze){return d=new N0(d,p,y,ce,Se,Pe,Ke,Ze,me),p=1,H===!0&&(p|=24),H=Sr(3,null,null,p),d.current=H,H.stateNode=d,p=hs(),p.refCount++,d.pooledCache=p,p.refCount++,H.memoizedState={element:T,isDehydrated:y,cache:p},vs(H),d}function xf(d){return d?(d=ci,d):ci}function yf(d,p,y,T,F,H){F=xf(F),T.context===null?T.context=F:T.pendingContext=F,T=_n(p),T.payload={element:y},H=H===void 0?null:H,H!==null&&(T.callback=H),y=En(d,T,p),y!==null&&(yr(y,d,p),Yi(y,d,p))}function bf(d,p){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var y=d.retryLane;d.retryLane=y!==0&&y<p?y:p}}function Ol(d,p){bf(d,p),(d=d.alternate)&&bf(d,p)}function wf(d){if(d.tag===13||d.tag===31){var p=zn(d,67108864);p!==null&&yr(p,d,67108864),Ol(d,67108864)}}function _f(d){if(d.tag===13||d.tag===31){var p=kr();p=Ne(p);var y=zn(d,p);y!==null&&yr(y,d,p),Ol(d,p)}}var Co=!0;function j0(d,p,y,T){var F=N.T;N.T=null;var H=R.p;try{R.p=2,Dl(d,p,y,T)}finally{R.p=H,N.T=F}}function I0(d,p,y,T){var F=N.T;N.T=null;var H=R.p;try{R.p=8,Dl(d,p,y,T)}finally{R.p=H,N.T=F}}function Dl(d,p,y,T){if(Co){var F=Pl(T);if(F===null)El(d,p,T,Ao,y),Sf(d,T);else if(O0(F,d,p,y,T))T.stopPropagation();else if(Sf(d,T),p&4&&-1<B0.indexOf(d)){for(;F!==null;){var H=Yt(F);if(H!==null)switch(H.tag){case 3:if(H=H.stateNode,H.current.memoizedState.isDehydrated){var ce=mt(H.pendingLanes);if(ce!==0){var me=H;for(me.pendingLanes|=2,me.entangledLanes|=2;ce;){var Se=1<<31-Re(ce);me.entanglements[1]|=Se,ce&=~Se}Wr(H),(At&6)===0&&(co=Ae()+500,fa(0))}}break;case 31:case 13:me=zn(H,2),me!==null&&yr(me,H,2),fo(),Ol(H,2)}if(H=Pl(T),H===null&&El(d,p,T,Ao,y),H===F)break;F=H}F!==null&&T.stopPropagation()}else El(d,p,T,null,y)}}function Pl(d){return d=Lo(d),Ll(d)}var Ao=null;function Ll(d){if(Ao=null,d=Zt(d),d!==null){var p=s(d);if(p===null)d=null;else{var y=p.tag;if(y===13){if(d=l(p),d!==null)return d;d=null}else if(y===31){if(d=c(p),d!==null)return d;d=null}else if(y===3){if(p.stateNode.current.memoizedState.isDehydrated)return p.tag===3?p.stateNode.containerInfo:null;d=null}else p!==d&&(d=null)}}return Ao=d,null}function Ef(d){switch(d){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ce()){case Te:return 2;case ye:return 8;case Fe:case qe:return 32;case oe:return 268435456;default:return 32}default:return 32}}var ql=!1,In=null,Bn=null,On=null,ya=new Map,ba=new Map,Dn=[],B0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sf(d,p){switch(d){case"focusin":case"focusout":In=null;break;case"dragenter":case"dragleave":Bn=null;break;case"mouseover":case"mouseout":On=null;break;case"pointerover":case"pointerout":ya.delete(p.pointerId);break;case"gotpointercapture":case"lostpointercapture":ba.delete(p.pointerId)}}function wa(d,p,y,T,F,H){return d===null||d.nativeEvent!==H?(d={blockedOn:p,domEventName:y,eventSystemFlags:T,nativeEvent:H,targetContainers:[F]},p!==null&&(p=Yt(p),p!==null&&wf(p)),d):(d.eventSystemFlags|=T,p=d.targetContainers,F!==null&&p.indexOf(F)===-1&&p.push(F),d)}function O0(d,p,y,T,F){switch(p){case"focusin":return In=wa(In,d,p,y,T,F),!0;case"dragenter":return Bn=wa(Bn,d,p,y,T,F),!0;case"mouseover":return On=wa(On,d,p,y,T,F),!0;case"pointerover":var H=F.pointerId;return ya.set(H,wa(ya.get(H)||null,d,p,y,T,F)),!0;case"gotpointercapture":return H=F.pointerId,ba.set(H,wa(ba.get(H)||null,d,p,y,T,F)),!0}return!1}function Rf(d){var p=Zt(d.target);if(p!==null){var y=s(p);if(y!==null){if(p=y.tag,p===13){if(p=l(y),p!==null){d.blockedOn=p,Xe(d.priority,function(){_f(y)});return}}else if(p===31){if(p=c(y),p!==null){d.blockedOn=p,Xe(d.priority,function(){_f(y)});return}}else if(p===3&&y.stateNode.current.memoizedState.isDehydrated){d.blockedOn=y.tag===3?y.stateNode.containerInfo:null;return}}}d.blockedOn=null}function ko(d){if(d.blockedOn!==null)return!1;for(var p=d.targetContainers;0<p.length;){var y=Pl(d.nativeEvent);if(y===null){y=d.nativeEvent;var T=new y.constructor(y.type,y);Po=T,y.target.dispatchEvent(T),Po=null}else return p=Yt(y),p!==null&&wf(p),d.blockedOn=y,!1;p.shift()}return!0}function $f(d,p,y){ko(d)&&y.delete(p)}function D0(){ql=!1,In!==null&&ko(In)&&(In=null),Bn!==null&&ko(Bn)&&(Bn=null),On!==null&&ko(On)&&(On=null),ya.forEach($f),ba.forEach($f)}function To(d,p){d.blockedOn===p&&(d.blockedOn=null,ql||(ql=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,D0)))}var Mo=null;function Cf(d){Mo!==d&&(Mo=d,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Mo===d&&(Mo=null);for(var p=0;p<d.length;p+=3){var y=d[p],T=d[p+1],F=d[p+2];if(typeof T!="function"){if(Ll(T||y)===null)continue;break}var H=Yt(y);H!==null&&(d.splice(p,3),p-=3,Ps(H,{pending:!0,data:F,method:y.method,action:T},T,F))}}))}function ji(d){function p(Se){return To(Se,d)}In!==null&&To(In,d),Bn!==null&&To(Bn,d),On!==null&&To(On,d),ya.forEach(p),ba.forEach(p);for(var y=0;y<Dn.length;y++){var T=Dn[y];T.blockedOn===d&&(T.blockedOn=null)}for(;0<Dn.length&&(y=Dn[0],y.blockedOn===null);)Rf(y),y.blockedOn===null&&Dn.shift();if(y=(d.ownerDocument||d).$$reactFormReplay,y!=null)for(T=0;T<y.length;T+=3){var F=y[T],H=y[T+1],ce=F[rt]||null;if(typeof H=="function")ce||Cf(y);else if(ce){var me=null;if(H&&H.hasAttribute("formAction")){if(F=H,ce=H[rt]||null)me=ce.formAction;else if(Ll(F)!==null)continue}else me=ce.action;typeof me=="function"?y[T+1]=me:(y.splice(T,3),T-=3),Cf(y)}}}function Af(){function d(H){H.canIntercept&&H.info==="react-transition"&&H.intercept({handler:function(){return new Promise(function(ce){return F=ce})},focusReset:"manual",scroll:"manual"})}function p(){F!==null&&(F(),F=null),T||setTimeout(y,20)}function y(){if(!T&&!navigation.transition){var H=navigation.currentEntry;H&&H.url!=null&&navigation.navigate(H.url,{state:H.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var T=!1,F=null;return navigation.addEventListener("navigate",d),navigation.addEventListener("navigatesuccess",p),navigation.addEventListener("navigateerror",p),setTimeout(y,100),function(){T=!0,navigation.removeEventListener("navigate",d),navigation.removeEventListener("navigatesuccess",p),navigation.removeEventListener("navigateerror",p),F!==null&&(F(),F=null)}}}function Fl(d){this._internalRoot=d}No.prototype.render=Fl.prototype.render=function(d){var p=this._internalRoot;if(p===null)throw Error(r(409));var y=p.current,T=kr();yf(y,T,d,p,null,null)},No.prototype.unmount=Fl.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var p=d.containerInfo;yf(d.current,2,null,d,null,null),fo(),p[Rt]=null}};function No(d){this._internalRoot=d}No.prototype.unstable_scheduleHydration=function(d){if(d){var p=at();d={blockedOn:null,target:d,priority:p};for(var y=0;y<Dn.length&&p!==0&&p<Dn[y].priority;y++);Dn.splice(y,0,d),y===0&&Rf(d)}};var kf=e.version;if(kf!=="19.2.0")throw Error(r(527,kf,"19.2.0"));R.findDOMNode=function(d){var p=d._reactInternals;if(p===void 0)throw typeof d.render=="function"?Error(r(188)):(d=Object.keys(d).join(","),Error(r(268,d)));return d=h(p),d=d!==null?f(d):null,d=d===null?null:d.stateNode,d};var P0={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:N,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jo.isDisabled&&jo.supportsFiber)try{pe=jo.inject(P0),be=jo}catch{}}return reactDomClient_production.createRoot=function(d,p){if(!o(d))throw Error(r(299));var y=!1,T="",F=Iu,H=Bu,ce=Ou;return p!=null&&(p.unstable_strictMode===!0&&(y=!0),p.identifierPrefix!==void 0&&(T=p.identifierPrefix),p.onUncaughtError!==void 0&&(F=p.onUncaughtError),p.onCaughtError!==void 0&&(H=p.onCaughtError),p.onRecoverableError!==void 0&&(ce=p.onRecoverableError)),p=vf(d,1,!1,null,null,y,T,null,F,H,ce,Af),d[Rt]=p.current,_l(d),new Fl(p)},reactDomClient_production.hydrateRoot=function(d,p,y){if(!o(d))throw Error(r(299));var T=!1,F="",H=Iu,ce=Bu,me=Ou,Se=null;return y!=null&&(y.unstable_strictMode===!0&&(T=!0),y.identifierPrefix!==void 0&&(F=y.identifierPrefix),y.onUncaughtError!==void 0&&(H=y.onUncaughtError),y.onCaughtError!==void 0&&(ce=y.onCaughtError),y.onRecoverableError!==void 0&&(me=y.onRecoverableError),y.formState!==void 0&&(Se=y.formState)),p=vf(d,1,!0,p,y??null,T,F,Se,H,ce,me,Af),p.context=xf(null),y=p.current,T=kr(),T=Ne(T),F=_n(T),F.callback=null,En(y,F,T),y=T,p.current.lanes=y,ne(p,y),Wr(p),d[Rt]=p.current,_l(d),new No(p)},reactDomClient_production.version="19.2.0",reactDomClient_production}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client.exports;hasRequiredClient=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),client.exports=requireReactDomClient_production(),client.exports}var clientExports=requireClient();const global$1=globalThis||void 0||self;var PopStateEventType="popstate";function createHashHistory(t={}){function e(o,s){let{pathname:l="/",search:c="",hash:u=""}=parsePath(o.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),createLocation("",{pathname:l,search:c,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function a(o,s){let l=o.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let u=o.location.href,h=u.indexOf("#");c=h===-1?u:u.slice(0,h)}return c+"#"+(typeof s=="string"?s:createPath(s))}function r(o,s){warning$2(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return getUrlBasedHistory(e,a,r,t)}function invariant$1(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function warning$2(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function createKey(){return Math.random().toString(36).substring(2,10)}function getHistoryState(t,e){return{usr:t.state,key:t.key,idx:e}}function createLocation(t,e,a=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?parsePath(e):e,state:a,key:e&&e.key||r||createKey()}}function createPath({pathname:t="/",search:e="",hash:a=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function parsePath(t){let e={};if(t){let a=t.indexOf("#");a>=0&&(e.hash=t.substring(a),t=t.substring(0,a));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function getUrlBasedHistory(t,e,a,r={}){let{window:o=document.defaultView,v5Compat:s=!1}=r,l=o.history,c="POP",u=null,h=f();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function f(){return(l.state||{idx:null}).idx}function m(){c="POP";let C=f(),B=C==null?null:C-h;h=C,u&&u({action:c,location:E.location,delta:B})}function g(C,B){c="PUSH";let O=createLocation(E.location,C,B);a&&a(O,C),h=f()+1;let P=getHistoryState(O,h),q=E.createHref(O);try{l.pushState(P,"",q)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;o.location.assign(q)}s&&u&&u({action:c,location:E.location,delta:1})}function b(C,B){c="REPLACE";let O=createLocation(E.location,C,B);a&&a(O,C),h=f();let P=getHistoryState(O,h),q=E.createHref(O);l.replaceState(P,"",q),s&&u&&u({action:c,location:E.location,delta:0})}function w(C){return createBrowserURLImpl(C)}let E={get action(){return c},get location(){return t(o,l)},listen(C){if(u)throw new Error("A history only accepts one active listener");return o.addEventListener(PopStateEventType,m),u=C,()=>{o.removeEventListener(PopStateEventType,m),u=null}},createHref(C){return e(o,C)},createURL:w,encodeLocation(C){let B=w(C);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:g,replace:b,go(C){return l.go(C)}};return E}function createBrowserURLImpl(t,e=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),invariant$1(a,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:createPath(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=a+r),new URL(r,a)}function matchRoutes(t,e,a="/"){return matchRoutesImpl(t,e,a,!1)}function matchRoutesImpl(t,e,a,r){let o=typeof e=="string"?parsePath(e):e,s=stripBasename(o.pathname||"/",a);if(s==null)return null;let l=flattenRoutes(t);rankRouteBranches(l);let c=null;for(let u=0;c==null&&u<l.length;++u){let h=decodePath(s);c=matchRouteBranch(l[u],h,r)}return c}function flattenRoutes(t,e=[],a=[],r="",o=!1){let s=(l,c,u=o,h)=>{let f={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(r)&&u)return;invariant$1(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length)}let m=joinPaths([r,f.relativePath]),g=a.concat(f);l.children&&l.children.length>0&&(invariant$1(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),flattenRoutes(l.children,e,g,m,u)),!(l.path==null&&!l.index)&&e.push({path:m,score:computeScore(m,l.index),routesMeta:g})};return t.forEach((l,c)=>{if(l.path===""||!l.path?.includes("?"))s(l,c);else for(let u of explodeOptionalSegments(l.path))s(l,c,!0,u)}),e}function explodeOptionalSegments(t){let e=t.split("/");if(e.length===0)return[];let[a,...r]=e,o=a.endsWith("?"),s=a.replace(/\?$/,"");if(r.length===0)return o?[s,""]:[s];let l=explodeOptionalSegments(r.join("/")),c=[];return c.push(...l.map(u=>u===""?s:[s,u].join("/"))),o&&c.push(...l),c.map(u=>t.startsWith("/")&&u===""?"/":u)}function rankRouteBranches(t){t.sort((e,a)=>e.score!==a.score?a.score-e.score:compareIndexes(e.routesMeta.map(r=>r.childrenIndex),a.routesMeta.map(r=>r.childrenIndex)))}var paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=t=>t==="*";function computeScore(t,e){let a=t.split("/"),r=a.length;return a.some(isSplat)&&(r+=splatPenalty),e&&(r+=indexRouteValue),a.filter(o=>!isSplat(o)).reduce((o,s)=>o+(paramRe.test(s)?dynamicSegmentValue:s===""?emptySegmentValue:staticSegmentValue),r)}function compareIndexes(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function matchRouteBranch(t,e,a=!1){let{routesMeta:r}=t,o={},s="/",l=[];for(let c=0;c<r.length;++c){let u=r[c],h=c===r.length-1,f=s==="/"?e:e.slice(s.length)||"/",m=matchPath({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},f),g=u.route;if(!m&&h&&a&&!r[r.length-1].route.index&&(m=matchPath({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!m)return null;Object.assign(o,m.params),l.push({params:o,pathname:joinPaths([s,m.pathname]),pathnameBase:normalizePathname(joinPaths([s,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(s=joinPaths([s,m.pathnameBase]))}return l}function matchPath(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[a,r]=compilePath(t.path,t.caseSensitive,t.end),o=e.match(a);if(!o)return null;let s=o[0],l=s.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:r.reduce((h,{paramName:f,isOptional:m},g)=>{if(f==="*"){let w=c[g]||"";l=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const b=c[g];return m&&!b?h[f]=void 0:h[f]=(b||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:l,pattern:t}}function compilePath(t,e=!1,a=!0){warning$2(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(r.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function decodePath(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return warning$2(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function stripBasename(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let a=e.endsWith("/")?e.length-1:e.length,r=t.charAt(a);return r&&r!=="/"?null:t.slice(a)||"/"}var ABSOLUTE_URL_REGEX=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,isAbsoluteUrl=t=>ABSOLUTE_URL_REGEX.test(t);function resolvePath(t,e="/"){let{pathname:a,search:r="",hash:o=""}=typeof t=="string"?parsePath(t):t,s;if(a)if(isAbsoluteUrl(a))s=a;else{if(a.includes("//")){let l=a;a=a.replace(/\/\/+/g,"/"),warning$2(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${a}`)}a.startsWith("/")?s=resolvePathname(a.substring(1),"/"):s=resolvePathname(a,e)}else s=e;return{pathname:s,search:normalizeSearch(r),hash:normalizeHash(o)}}function resolvePathname(t,e){let a=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?a.length>1&&a.pop():o!=="."&&a.push(o)}),a.length>1?a.join("/"):"/"}function getInvalidPathError(t,e,a,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function getPathContributingMatches(t){return t.filter((e,a)=>a===0||e.route.path&&e.route.path.length>0)}function getResolveToMatches(t){let e=getPathContributingMatches(t);return e.map((a,r)=>r===e.length-1?a.pathname:a.pathnameBase)}function resolveTo(t,e,a,r=!1){let o;typeof t=="string"?o=parsePath(t):(o={...t},invariant$1(!o.pathname||!o.pathname.includes("?"),getInvalidPathError("?","pathname","search",o)),invariant$1(!o.pathname||!o.pathname.includes("#"),getInvalidPathError("#","pathname","hash",o)),invariant$1(!o.search||!o.search.includes("#"),getInvalidPathError("#","search","hash",o)));let s=t===""||o.pathname==="",l=s?"/":o.pathname,c;if(l==null)c=a;else{let m=e.length-1;if(!r&&l.startsWith("..")){let g=l.split("/");for(;g[0]==="..";)g.shift(),m-=1;o.pathname=g.join("/")}c=m>=0?e[m]:"/"}let u=resolvePath(o,c),h=l&&l!=="/"&&l.endsWith("/"),f=(s||l===".")&&a.endsWith("/");return!u.pathname.endsWith("/")&&(h||f)&&(u.pathname+="/"),u}var joinPaths=t=>t.join("/").replace(/\/\/+/g,"/"),normalizePathname=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,normalizeHash=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function isRouteErrorResponse(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var validMutationMethodsArr=["POST","PUT","PATCH","DELETE"];new Set(validMutationMethodsArr);var validRequestMethodsArr=["GET",...validMutationMethodsArr];new Set(validRequestMethodsArr);var DataRouterContext=reactExports.createContext(null);DataRouterContext.displayName="DataRouter";var DataRouterStateContext=reactExports.createContext(null);DataRouterStateContext.displayName="DataRouterState";reactExports.createContext(!1);var ViewTransitionContext=reactExports.createContext({isTransitioning:!1});ViewTransitionContext.displayName="ViewTransition";var FetchersContext=reactExports.createContext(new Map);FetchersContext.displayName="Fetchers";var AwaitContext=reactExports.createContext(null);AwaitContext.displayName="Await";var NavigationContext=reactExports.createContext(null);NavigationContext.displayName="Navigation";var LocationContext=reactExports.createContext(null);LocationContext.displayName="Location";var RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1});RouteContext.displayName="Route";var RouteErrorContext=reactExports.createContext(null);RouteErrorContext.displayName="RouteError";function useHref(t,{relative:e}={}){invariant$1(useInRouterContext(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:r}=reactExports.useContext(NavigationContext),{hash:o,pathname:s,search:l}=useResolvedPath(t,{relative:e}),c=s;return a!=="/"&&(c=s==="/"?a:joinPaths([a,s])),r.createHref({pathname:c,search:l,hash:o})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return invariant$1(useInRouterContext(),"useLocation() may be used only in the context of a <Router> component."),reactExports.useContext(LocationContext).location}var navigateEffectWarning="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function useIsomorphicLayoutEffect$1(t){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(t)}function useNavigate(){let{isDataRoute:t}=reactExports.useContext(RouteContext);return t?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){invariant$1(useInRouterContext(),"useNavigate() may be used only in the context of a <Router> component.");let t=reactExports.useContext(DataRouterContext),{basename:e,navigator:a}=reactExports.useContext(NavigationContext),{matches:r}=reactExports.useContext(RouteContext),{pathname:o}=useLocation(),s=JSON.stringify(getResolveToMatches(r)),l=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{l.current=!0}),reactExports.useCallback((u,h={})=>{if(warning$2(l.current,navigateEffectWarning),!l.current)return;if(typeof u=="number"){a.go(u);return}let f=resolveTo(u,JSON.parse(s),o,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:joinPaths([e,f.pathname])),(h.replace?a.replace:a.push)(f,h.state,h)},[e,a,s,o,t])}var OutletContext=reactExports.createContext(null);function useOutlet(t){let e=reactExports.useContext(RouteContext).outlet;return reactExports.useMemo(()=>e&&reactExports.createElement(OutletContext.Provider,{value:t},e),[e,t])}function useParams(){let{matches:t}=reactExports.useContext(RouteContext),e=t[t.length-1];return e?e.params:{}}function useResolvedPath(t,{relative:e}={}){let{matches:a}=reactExports.useContext(RouteContext),{pathname:r}=useLocation(),o=JSON.stringify(getResolveToMatches(a));return reactExports.useMemo(()=>resolveTo(t,JSON.parse(o),r,e==="path"),[t,o,r,e])}function useRoutes(t,e){return useRoutesImpl(t,e)}function useRoutesImpl(t,e,a,r,o){invariant$1(useInRouterContext(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=reactExports.useContext(NavigationContext),{matches:l}=reactExports.useContext(RouteContext),c=l[l.length-1],u=c?c.params:{},h=c?c.pathname:"/",f=c?c.pathnameBase:"/",m=c&&c.route;{let O=m&&m.path||"";warningOnce(h,!m||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let g=useLocation(),b;if(e){let O=typeof e=="string"?parsePath(e):e;invariant$1(f==="/"||O.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${O.pathname}" was given in the \`location\` prop.`),b=O}else b=g;let w=b.pathname||"/",E=w;if(f!=="/"){let O=f.replace(/^\//,"").split("/");E="/"+w.replace(/^\//,"").split("/").slice(O.length).join("/")}let C=matchRoutes(t,{pathname:E});warning$2(m||C!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),warning$2(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let B=_renderMatches(C&&C.map(O=>Object.assign({},O,{params:Object.assign({},u,O.params),pathname:joinPaths([f,s.encodeLocation?s.encodeLocation(O.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?f:joinPaths([f,s.encodeLocation?s.encodeLocation(O.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:O.pathnameBase])})),l,a,r,o);return e&&B?reactExports.createElement(LocationContext.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},B):B}function DefaultErrorComponent(){let t=useRouteError(),e=isRouteErrorResponse(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),a=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("p",null," Hey developer "),reactExports.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",reactExports.createElement("code",{style:s},"ErrorBoundary")," or"," ",reactExports.createElement("code",{style:s},"errorElement")," prop on your route.")),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},e),a?reactExports.createElement("pre",{style:o},a):null,l)}var defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null),RenderErrorBoundary=class extends reactExports.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RenderedRoute({routeContext:t,match:e,children:a}){let r=reactExports.useContext(DataRouterContext);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),reactExports.createElement(RouteContext.Provider,{value:t},a)}function _renderMatches(t,e=[],a=null,r=null,o=null){if(t==null){if(!a)return null;if(a.errors)t=a.matches;else if(e.length===0&&!a.initialized&&a.matches.length>0)t=a.matches;else return null}let s=t,l=a?.errors;if(l!=null){let f=s.findIndex(m=>m.route.id&&l?.[m.route.id]!==void 0);invariant$1(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let c=!1,u=-1;if(a)for(let f=0;f<s.length;f++){let m=s[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=f),m.route.id){let{loaderData:g,errors:b}=a,w=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!b||b[m.route.id]===void 0);if(m.route.lazy||w){c=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}let h=a&&r?(f,m)=>{r(f,{location:a.location,params:a.matches?.[0]?.params??{},errorInfo:m})}:void 0;return s.reduceRight((f,m,g)=>{let b,w=!1,E=null,C=null;a&&(b=l&&m.route.id?l[m.route.id]:void 0,E=m.route.errorElement||defaultErrorElement,c&&(u<0&&g===0?(warningOnce("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,C=null):u===g&&(w=!0,C=m.route.hydrateFallbackElement||null)));let B=e.concat(s.slice(0,g+1)),O=()=>{let P;return b?P=E:w?P=C:m.route.Component?P=reactExports.createElement(m.route.Component,null):m.route.element?P=m.route.element:P=f,reactExports.createElement(RenderedRoute,{match:m,routeContext:{outlet:f,matches:B,isDataRoute:a!=null},children:P})};return a&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?reactExports.createElement(RenderErrorBoundary,{location:a.location,revalidation:a.revalidation,component:E,error:b,children:O(),routeContext:{outlet:null,matches:B,isDataRoute:!0},onError:h}):O()},null)}function getDataRouterConsoleError(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext(t){let e=reactExports.useContext(DataRouterContext);return invariant$1(e,getDataRouterConsoleError(t)),e}function useDataRouterState(t){let e=reactExports.useContext(DataRouterStateContext);return invariant$1(e,getDataRouterConsoleError(t)),e}function useRouteContext(t){let e=reactExports.useContext(RouteContext);return invariant$1(e,getDataRouterConsoleError(t)),e}function useCurrentRouteId(t){let e=useRouteContext(t),a=e.matches[e.matches.length-1];return invariant$1(a.route.id,`${t} can only be used on routes that contain a unique "id"`),a.route.id}function useRouteId(){return useCurrentRouteId("useRouteId")}function useRouteError(){let t=reactExports.useContext(RouteErrorContext),e=useDataRouterState("useRouteError"),a=useCurrentRouteId("useRouteError");return t!==void 0?t:e.errors?.[a]}function useNavigateStable(){let{router:t}=useDataRouterContext("useNavigate"),e=useCurrentRouteId("useNavigate"),a=reactExports.useRef(!1);return useIsomorphicLayoutEffect$1(()=>{a.current=!0}),reactExports.useCallback(async(o,s={})=>{warning$2(a.current,navigateEffectWarning),a.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...s}))},[t,e])}var alreadyWarned={};function warningOnce(t,e,a){!e&&!alreadyWarned[t]&&(alreadyWarned[t]=!0,warning$2(!1,a))}reactExports.memo(DataRoutes);function DataRoutes({routes:t,future:e,state:a,unstable_onError:r}){return useRoutesImpl(t,void 0,a,r,e)}function Navigate({to:t,replace:e,state:a,relative:r}){invariant$1(useInRouterContext(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=reactExports.useContext(NavigationContext);warning$2(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=reactExports.useContext(RouteContext),{pathname:l}=useLocation(),c=useNavigate(),u=resolveTo(t,getResolveToMatches(s),l,r==="path"),h=JSON.stringify(u);return reactExports.useEffect(()=>{c(JSON.parse(h),{replace:e,state:a,relative:r})},[c,h,r,e,a]),null}function Outlet(t){return useOutlet(t.context)}function Route(t){invariant$1(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Router({basename:t="/",children:e=null,location:a,navigationType:r="POP",navigator:o,static:s=!1}){invariant$1(!useInRouterContext(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=reactExports.useMemo(()=>({basename:l,navigator:o,static:s,future:{}}),[l,o,s]);typeof a=="string"&&(a=parsePath(a));let{pathname:u="/",search:h="",hash:f="",state:m=null,key:g="default"}=a,b=reactExports.useMemo(()=>{let w=stripBasename(u,l);return w==null?null:{location:{pathname:w,search:h,hash:f,state:m,key:g},navigationType:r}},[l,u,h,f,m,g,r]);return warning$2(b!=null,`<Router basename="${l}"> is not able to match the URL "${u}${h}${f}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:reactExports.createElement(NavigationContext.Provider,{value:c},reactExports.createElement(LocationContext.Provider,{children:e,value:b}))}function Routes({children:t,location:e}){return useRoutes(createRoutesFromChildren(t),e)}function createRoutesFromChildren(t,e=[]){let a=[];return reactExports.Children.forEach(t,(r,o)=>{if(!reactExports.isValidElement(r))return;let s=[...e,o];if(r.type===reactExports.Fragment){a.push.apply(a,createRoutesFromChildren(r.props.children,s));return}invariant$1(r.type===Route,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),invariant$1(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=createRoutesFromChildren(r.props.children,s)),a.push(l)}),a}var defaultMethod="get",defaultEncType="application/x-www-form-urlencoded";function isHtmlElement(t){return t!=null&&typeof t.tagName=="string"}function isButtonElement(t){return isHtmlElement(t)&&t.tagName.toLowerCase()==="button"}function isFormElement(t){return isHtmlElement(t)&&t.tagName.toLowerCase()==="form"}function isInputElement(t){return isHtmlElement(t)&&t.tagName.toLowerCase()==="input"}function isModifiedEvent(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function shouldProcessLinkClick(t,e){return t.button===0&&(!e||e==="_self")&&!isModifiedEvent(t)}var _formDataSupportsSubmitter=null;function isFormDataSubmitterSupported(){if(_formDataSupportsSubmitter===null)try{new FormData(document.createElement("form"),0),_formDataSupportsSubmitter=!1}catch{_formDataSupportsSubmitter=!0}return _formDataSupportsSubmitter}var supportedFormEncTypes=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function getFormEncType(t){return t!=null&&!supportedFormEncTypes.has(t)?(warning$2(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${defaultEncType}"`),null):t}function getFormSubmissionInfo(t,e){let a,r,o,s,l;if(isFormElement(t)){let c=t.getAttribute("action");r=c?stripBasename(c,e):null,a=t.getAttribute("method")||defaultMethod,o=getFormEncType(t.getAttribute("enctype"))||defaultEncType,s=new FormData(t)}else if(isButtonElement(t)||isInputElement(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||c.getAttribute("action");if(r=u?stripBasename(u,e):null,a=t.getAttribute("formmethod")||c.getAttribute("method")||defaultMethod,o=getFormEncType(t.getAttribute("formenctype"))||getFormEncType(c.getAttribute("enctype"))||defaultEncType,s=new FormData(c,t),!isFormDataSubmitterSupported()){let{name:h,type:f,value:m}=t;if(f==="image"){let g=h?`${h}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else h&&s.append(h,m)}}else{if(isHtmlElement(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=defaultMethod,r=null,o=defaultEncType,l=t}return s&&o==="text/plain"&&(l=s,s=void 0),{action:r,method:a.toLowerCase(),encType:o,formData:s,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function invariant2(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function singleFetchUrl(t,e,a){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r.pathname==="/"?r.pathname=`_root.${a}`:e&&stripBasename(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${a}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${a}`,r}async function loadRouteModule(t,e){if(t.id in e)return e[t.id];try{let a=await import(t.module);return e[t.id]=a,a}catch(a){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function isHtmlLinkDescriptor(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function getKeyedPrefetchLinks(t,e,a){let r=await Promise.all(t.map(async o=>{let s=e.routes[o.route.id];if(s){let l=await loadRouteModule(s,a);return l.links?l.links():[]}return[]}));return dedupeLinkDescriptors(r.flat(1).filter(isHtmlLinkDescriptor).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function getNewMatchesForLinks(t,e,a,r,o,s){let l=(u,h)=>a[h]?u.route.id!==a[h].route.id:!0,c=(u,h)=>a[h].pathname!==u.pathname||a[h].route.path?.endsWith("*")&&a[h].params["*"]!==u.params["*"];return s==="assets"?e.filter((u,h)=>l(u,h)||c(u,h)):s==="data"?e.filter((u,h)=>{let f=r.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(l(u,h)||c(u,h))return!0;if(u.route.shouldRevalidate){let m=u.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:a[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function getModuleLinkHrefs(t,e,{includeHydrateFallback:a}={}){return dedupeHrefs(t.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let s=[o.module];return o.clientActionModule&&(s=s.concat(o.clientActionModule)),o.clientLoaderModule&&(s=s.concat(o.clientLoaderModule)),a&&o.hydrateFallbackModule&&(s=s.concat(o.hydrateFallbackModule)),o.imports&&(s=s.concat(o.imports)),s}).flat(1))}function dedupeHrefs(t){return[...new Set(t)]}function sortKeys(t){let e={},a=Object.keys(t).sort();for(let r of a)e[r]=t[r];return e}function dedupeLinkDescriptors(t,e){let a=new Set;return new Set(e),t.reduce((r,o)=>{let s=JSON.stringify(sortKeys(o));return a.has(s)||(a.add(s),r.push({key:s,link:o})),r},[])}function useDataRouterContext2(){let t=reactExports.useContext(DataRouterContext);return invariant2(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function useDataRouterStateContext(){let t=reactExports.useContext(DataRouterStateContext);return invariant2(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var FrameworkContext=reactExports.createContext(void 0);FrameworkContext.displayName="FrameworkContext";function useFrameworkContext(){let t=reactExports.useContext(FrameworkContext);return invariant2(t,"You must render this element inside a <HydratedRouter> element"),t}function usePrefetchBehavior(t,e){let a=reactExports.useContext(FrameworkContext),[r,o]=reactExports.useState(!1),[s,l]=reactExports.useState(!1),{onFocus:c,onBlur:u,onMouseEnter:h,onMouseLeave:f,onTouchStart:m}=e,g=reactExports.useRef(null);reactExports.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let E=B=>{B.forEach(O=>{l(O.isIntersecting)})},C=new IntersectionObserver(E,{threshold:.5});return g.current&&C.observe(g.current),()=>{C.disconnect()}}},[t]),reactExports.useEffect(()=>{if(r){let E=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(E)}}},[r]);let b=()=>{o(!0)},w=()=>{o(!1),l(!1)};return a?t!=="intent"?[s,g,{}]:[s,g,{onFocus:composeEventHandlers(c,b),onBlur:composeEventHandlers(u,w),onMouseEnter:composeEventHandlers(h,b),onMouseLeave:composeEventHandlers(f,w),onTouchStart:composeEventHandlers(m,b)}]:[!1,g,{}]}function composeEventHandlers(t,e){return a=>{t&&t(a),a.defaultPrevented||e(a)}}function PrefetchPageLinks({page:t,...e}){let{router:a}=useDataRouterContext2(),r=reactExports.useMemo(()=>matchRoutes(a.routes,t,a.basename),[a.routes,t,a.basename]);return r?reactExports.createElement(PrefetchPageLinksImpl,{page:t,matches:r,...e}):null}function useKeyedPrefetchLinks(t){let{manifest:e,routeModules:a}=useFrameworkContext(),[r,o]=reactExports.useState([]);return reactExports.useEffect(()=>{let s=!1;return getKeyedPrefetchLinks(t,e,a).then(l=>{s||o(l)}),()=>{s=!0}},[t,e,a]),r}function PrefetchPageLinksImpl({page:t,matches:e,...a}){let r=useLocation(),{manifest:o,routeModules:s}=useFrameworkContext(),{basename:l}=useDataRouterContext2(),{loaderData:c,matches:u}=useDataRouterStateContext(),h=reactExports.useMemo(()=>getNewMatchesForLinks(t,e,u,o,r,"data"),[t,e,u,o,r]),f=reactExports.useMemo(()=>getNewMatchesForLinks(t,e,u,o,r,"assets"),[t,e,u,o,r]),m=reactExports.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let w=new Set,E=!1;if(e.forEach(B=>{let O=o.routes[B.route.id];!O||!O.hasLoader||(!h.some(P=>P.route.id===B.route.id)&&B.route.id in c&&s[B.route.id]?.shouldRevalidate||O.hasClientLoader?E=!0:w.add(B.route.id))}),w.size===0)return[];let C=singleFetchUrl(t,l,"data");return E&&w.size>0&&C.searchParams.set("_routes",e.filter(B=>w.has(B.route.id)).map(B=>B.route.id).join(",")),[C.pathname+C.search]},[l,c,r,o,h,e,t,s]),g=reactExports.useMemo(()=>getModuleLinkHrefs(f,o),[f,o]),b=useKeyedPrefetchLinks(f);return reactExports.createElement(reactExports.Fragment,null,m.map(w=>reactExports.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...a})),g.map(w=>reactExports.createElement("link",{key:w,rel:"modulepreload",href:w,...a})),b.map(({key:w,link:E})=>reactExports.createElement("link",{key:w,nonce:a.nonce,...E})))}function mergeRefs(...t){return e=>{t.forEach(a=>{typeof a=="function"?a(e):a!=null&&(a.current=e)})}}var isBrowser$1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{isBrowser$1&&(window.__reactRouterVersion="7.9.6")}catch{}function HashRouter({basename:t,children:e,window:a}){let r=reactExports.useRef();r.current==null&&(r.current=createHashHistory({window:a,v5Compat:!0}));let o=r.current,[s,l]=reactExports.useState({action:o.action,location:o.location}),c=reactExports.useCallback(u=>{reactExports.startTransition(()=>l(u))},[l]);return reactExports.useLayoutEffect(()=>o.listen(c),[o,c]),reactExports.createElement(Router,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:o})}var ABSOLUTE_URL_REGEX2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function({onClick:e,discover:a="render",prefetch:r="none",relative:o,reloadDocument:s,replace:l,state:c,target:u,to:h,preventScrollReset:f,viewTransition:m,...g},b){let{basename:w}=reactExports.useContext(NavigationContext),E=typeof h=="string"&&ABSOLUTE_URL_REGEX2.test(h),C,B=!1;if(typeof h=="string"&&E&&(C=h,isBrowser$1))try{let W=new URL(window.location.href),te=h.startsWith("//")?new URL(W.protocol+h):new URL(h),G=stripBasename(te.pathname,w);te.origin===W.origin&&G!=null?h=G+te.search+te.hash:B=!0}catch{warning$2(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=useHref(h,{relative:o}),[P,q,z]=usePrefetchBehavior(r,g),V=useLinkClickHandler(h,{replace:l,state:c,target:u,preventScrollReset:f,relative:o,viewTransition:m});function Z(W){e&&e(W),W.defaultPrevented||V(W)}let J=reactExports.createElement("a",{...g,...z,href:C||O,onClick:B||s?e:Z,ref:mergeRefs(b,q),target:u,"data-discover":!E&&a==="render"?"true":void 0});return P&&!E?reactExports.createElement(reactExports.Fragment,null,J,reactExports.createElement(PrefetchPageLinks,{page:O})):J});Link.displayName="Link";var NavLink=reactExports.forwardRef(function({"aria-current":e="page",caseSensitive:a=!1,className:r="",end:o=!1,style:s,to:l,viewTransition:c,children:u,...h},f){let m=useResolvedPath(l,{relative:h.relative}),g=useLocation(),b=reactExports.useContext(DataRouterStateContext),{navigator:w,basename:E}=reactExports.useContext(NavigationContext),C=b!=null&&useViewTransitionState(m)&&c===!0,B=w.encodeLocation?w.encodeLocation(m).pathname:m.pathname,O=g.pathname,P=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;a||(O=O.toLowerCase(),P=P?P.toLowerCase():null,B=B.toLowerCase()),P&&E&&(P=stripBasename(P,E)||P);const q=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let z=O===B||!o&&O.startsWith(B)&&O.charAt(q)==="/",V=P!=null&&(P===B||!o&&P.startsWith(B)&&P.charAt(B.length)==="/"),Z={isActive:z,isPending:V,isTransitioning:C},J=z?e:void 0,W;typeof r=="function"?W=r(Z):W=[r,z?"active":null,V?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let te=typeof s=="function"?s(Z):s;return reactExports.createElement(Link,{...h,"aria-current":J,className:W,ref:f,style:te,to:l,viewTransition:c},typeof u=="function"?u(Z):u)});NavLink.displayName="NavLink";var Form=reactExports.forwardRef(({discover:t="render",fetcherKey:e,navigate:a,reloadDocument:r,replace:o,state:s,method:l=defaultMethod,action:c,onSubmit:u,relative:h,preventScrollReset:f,viewTransition:m,...g},b)=>{let w=useSubmit(),E=useFormAction(c,{relative:h}),C=l.toLowerCase()==="get"?"get":"post",B=typeof c=="string"&&ABSOLUTE_URL_REGEX2.test(c),O=P=>{if(u&&u(P),P.defaultPrevented)return;P.preventDefault();let q=P.nativeEvent.submitter,z=q?.getAttribute("formmethod")||l;w(q||P.currentTarget,{fetcherKey:e,method:z,navigate:a,replace:o,state:s,relative:h,preventScrollReset:f,viewTransition:m})};return reactExports.createElement("form",{ref:b,method:C,action:E,onSubmit:r?u:O,...g,"data-discover":!B&&t==="render"?"true":void 0})});Form.displayName="Form";function getDataRouterConsoleError2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext3(t){let e=reactExports.useContext(DataRouterContext);return invariant$1(e,getDataRouterConsoleError2(t)),e}function useLinkClickHandler(t,{target:e,replace:a,state:r,preventScrollReset:o,relative:s,viewTransition:l}={}){let c=useNavigate(),u=useLocation(),h=useResolvedPath(t,{relative:s});return reactExports.useCallback(f=>{if(shouldProcessLinkClick(f,e)){f.preventDefault();let m=a!==void 0?a:createPath(u)===createPath(h);c(t,{replace:m,state:r,preventScrollReset:o,relative:s,viewTransition:l})}},[u,c,h,a,r,e,t,o,s,l])}var fetcherId=0,getUniqueFetcherId=()=>`__${String(++fetcherId)}__`;function useSubmit(){let{router:t}=useDataRouterContext3("useSubmit"),{basename:e}=reactExports.useContext(NavigationContext),a=useRouteId();return reactExports.useCallback(async(r,o={})=>{let{action:s,method:l,encType:c,formData:u,body:h}=getFormSubmissionInfo(r,e);if(o.navigate===!1){let f=o.fetcherKey||getUniqueFetcherId();await t.fetch(f,a,o.action||s,{preventScrollReset:o.preventScrollReset,formData:u,body:h,formMethod:o.method||l,formEncType:o.encType||c,flushSync:o.flushSync})}else await t.navigate(o.action||s,{preventScrollReset:o.preventScrollReset,formData:u,body:h,formMethod:o.method||l,formEncType:o.encType||c,replace:o.replace,state:o.state,fromRouteId:a,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,a])}function useFormAction(t,{relative:e}={}){let{basename:a}=reactExports.useContext(NavigationContext),r=reactExports.useContext(RouteContext);invariant$1(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),s={...useResolvedPath(t||".",{relative:e})},l=useLocation();if(t==null){s.search=l.search;let c=new URLSearchParams(s.search),u=c.getAll("index");if(u.some(f=>f==="")){c.delete("index"),u.filter(m=>m).forEach(m=>c.append("index",m));let f=c.toString();s.search=f?`?${f}`:""}}return(!t||t===".")&&o.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(s.pathname=s.pathname==="/"?a:joinPaths([a,s.pathname])),createPath(s)}function useViewTransitionState(t,{relative:e}={}){let a=reactExports.useContext(ViewTransitionContext);invariant$1(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=useDataRouterContext3("useViewTransitionState"),o=useResolvedPath(t,{relative:e});if(!a.isTransitioning)return!1;let s=stripBasename(a.currentLocation.pathname,r)||a.currentLocation.pathname,l=stripBasename(a.nextLocation.pathname,r)||a.nextLocation.pathname;return matchPath(o.pathname,l)!=null||matchPath(o.pathname,s)!=null}const LayoutGroupContext=reactExports.createContext({});function useConstant(t){const e=reactExports.useRef(null);return e.current===null&&(e.current=t()),e.current}const isBrowser=typeof window<"u",useIsomorphicLayoutEffect=isBrowser?reactExports.useLayoutEffect:reactExports.useEffect,PresenceContext=reactExports.createContext(null);function addUniqueItem(t,e){t.indexOf(e)===-1&&t.push(e)}function removeItem(t,e){const a=t.indexOf(e);a>-1&&t.splice(a,1)}const clamp=(t,e,a)=>a>e?e:a<t?t:a;let invariant=()=>{};const MotionGlobalConfig={},isNumericalString=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function isObject$4(t){return typeof t=="object"&&t!==null}const isZeroValueString=t=>/^0[^.\s]+$/u.test(t);function memo(t){let e;return()=>(e===void 0&&(e=t()),e)}const noop$2=t=>t,combineFunctions=(t,e)=>a=>e(t(a)),pipe$1=(...t)=>t.reduce(combineFunctions),progress=(t,e,a)=>{const r=e-t;return r===0?1:(a-t)/r};class SubscriptionManager{constructor(){this.subscriptions=[]}add(e){return addUniqueItem(this.subscriptions,e),()=>removeItem(this.subscriptions,e)}notify(e,a,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,a,r);else for(let s=0;s<o;s++){const l=this.subscriptions[s];l&&l(e,a,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const secondsToMilliseconds=t=>t*1e3,millisecondsToSeconds=t=>t/1e3;function velocityPerSecond(t,e){return e?t*(1e3/e):0}const calcBezier=(t,e,a)=>(((1-3*a+3*e)*t+(3*a-6*e))*t+3*e)*t,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(t,e,a,r,o){let s,l,c=0;do l=e+(a-e)/2,s=calcBezier(l,r,o)-t,s>0?a=l:e=l;while(Math.abs(s)>subdivisionPrecision&&++c<subdivisionMaxIterations);return l}function cubicBezier(t,e,a,r){if(t===e&&a===r)return noop$2;const o=s=>binarySubdivide(s,0,1,t,a);return s=>s===0||s===1?s:calcBezier(o(s),e,r)}const mirrorEasing=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,reverseEasing=t=>e=>1-t(1-e),backOut=cubicBezier(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=t=>(t*=2)<1?.5*backIn(t):.5*(2-Math.pow(2,-10*(t-1))),circIn=t=>1-Math.sin(Math.acos(t)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),easeIn=cubicBezier(.42,0,1,1),easeOut=cubicBezier(0,0,.58,1),easeInOut=cubicBezier(.42,0,.58,1),isEasingArray=t=>Array.isArray(t)&&typeof t[0]!="number",isBezierDefinition=t=>Array.isArray(t)&&typeof t[0]=="number",easingLookup={linear:noop$2,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},isValidEasing=t=>typeof t=="string",easingDefinitionToFunction=t=>{if(isBezierDefinition(t)){invariant(t.length===4);const[e,a,r,o]=t;return cubicBezier(e,a,r,o)}else if(isValidEasing(t))return easingLookup[t];return t},stepsOrder=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function createRenderStep(t,e){let a=new Set,r=new Set,o=!1,s=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function u(f){l.has(f)&&(h.schedule(f),t()),f(c)}const h={schedule:(f,m=!1,g=!1)=>{const w=g&&o?a:r;return m&&l.add(f),w.has(f)||w.add(f),f},cancel:f=>{r.delete(f),l.delete(f)},process:f=>{if(c=f,o){s=!0;return}o=!0,[a,r]=[r,a],a.forEach(u),a.clear(),o=!1,s&&(s=!1,h.process(f))}};return h}const maxElapsed=40;function createRenderBatcher(t,e){let a=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},s=()=>a=!0,l=stepsOrder.reduce((P,q)=>(P[q]=createRenderStep(s),P),{}),{setup:c,read:u,resolveKeyframes:h,preUpdate:f,update:m,preRender:g,render:b,postRender:w}=l,E=()=>{const P=MotionGlobalConfig.useManualTiming?o.timestamp:performance.now();a=!1,MotionGlobalConfig.useManualTiming||(o.delta=r?1e3/60:Math.max(Math.min(P-o.timestamp,maxElapsed),1)),o.timestamp=P,o.isProcessing=!0,c.process(o),u.process(o),h.process(o),f.process(o),m.process(o),g.process(o),b.process(o),w.process(o),o.isProcessing=!1,a&&e&&(r=!1,t(E))},C=()=>{a=!0,r=!0,o.isProcessing||t(E)};return{schedule:stepsOrder.reduce((P,q)=>{const z=l[q];return P[q]=(V,Z=!1,J=!1)=>(a||C(),z.schedule(V,Z,J)),P},{}),cancel:P=>{for(let q=0;q<stepsOrder.length;q++)l[stepsOrder[q]].cancel(P)},state:o,steps:l}}const{schedule:frame,cancel:cancelFrame,state:frameData,steps:frameSteps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop$2,!0);let now;function clearTime(){now=void 0}const time$2={now:()=>(now===void 0&&time$2.set(frameData.isProcessing||MotionGlobalConfig.useManualTiming?frameData.timestamp:performance.now()),now),set:t=>{now=t,queueMicrotask(clearTime)}},checkStringStartsWith=t=>e=>typeof e=="string"&&e.startsWith(t),isCSSVariableName=checkStringStartsWith("--"),startsAsVariableToken=checkStringStartsWith("var(--"),isCSSVariableToken=t=>startsAsVariableToken(t)?singleCssVariableRegex.test(t.split("/*")[0].trim()):!1,singleCssVariableRegex=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,number$2={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},alpha={...number$2,transform:t=>clamp(0,1,t)},scale={...number$2,default:1},sanitize=t=>Math.round(t*1e5)/1e5,floatRegex=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function isNullish(t){return t==null}const singleColorRegex=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,isColorString=(t,e)=>a=>!!(typeof a=="string"&&singleColorRegex.test(a)&&a.startsWith(t)||e&&!isNullish(a)&&Object.prototype.hasOwnProperty.call(a,e)),splitColor=(t,e,a)=>r=>{if(typeof r!="string")return r;const[o,s,l,c]=r.match(floatRegex);return{[t]:parseFloat(o),[e]:parseFloat(s),[a]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},clampRgbUnit=t=>clamp(0,255,t),rgbUnit={...number$2,transform:t=>Math.round(clampRgbUnit(t))},rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:t,green:e,blue:a,alpha:r=1})=>"rgba("+rgbUnit.transform(t)+", "+rgbUnit.transform(e)+", "+rgbUnit.transform(a)+", "+sanitize(alpha.transform(r))+")"};function parseHex(t){let e="",a="",r="",o="";return t.length>5?(e=t.substring(1,3),a=t.substring(3,5),r=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),a=t.substring(2,3),r=t.substring(3,4),o=t.substring(4,5),e+=e,a+=a,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(a,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex,transform:rgba.transform},createUnitType=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:t=>percent.parse(t)/100,transform:t=>percent.transform(t*100)},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:a,alpha:r=1})=>"hsla("+Math.round(t)+", "+percent.transform(sanitize(e))+", "+percent.transform(sanitize(a))+", "+sanitize(alpha.transform(r))+")"},color={test:t=>rgba.test(t)||hex.test(t)||hsla.test(t),parse:t=>rgba.test(t)?rgba.parse(t):hsla.test(t)?hsla.parse(t):hex.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?rgba.transform(t):hsla.transform(t),getAnimatableNone:t=>{const e=color.parse(t);return e.alpha=0,color.transform(e)}},colorRegex=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function test$1(t){return isNaN(t)&&typeof t=="string"&&(t.match(floatRegex)?.length||0)+(t.match(colorRegex)?.length||0)>0}const NUMBER_TOKEN="number",COLOR_TOKEN="color",VAR_TOKEN="var",VAR_FUNCTION_TOKEN="var(",SPLIT_TOKEN="${}",complexRegex=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue(t){const e=t.toString(),a=[],r={color:[],number:[],var:[]},o=[];let s=0;const c=e.replace(complexRegex,u=>(color.test(u)?(r.color.push(s),o.push(COLOR_TOKEN),a.push(color.parse(u))):u.startsWith(VAR_FUNCTION_TOKEN)?(r.var.push(s),o.push(VAR_TOKEN),a.push(u)):(r.number.push(s),o.push(NUMBER_TOKEN),a.push(parseFloat(u))),++s,SPLIT_TOKEN)).split(SPLIT_TOKEN);return{values:a,split:c,indexes:r,types:o}}function parseComplexValue(t){return analyseComplexValue(t).values}function createTransformer(t){const{split:e,types:a}=analyseComplexValue(t),r=e.length;return o=>{let s="";for(let l=0;l<r;l++)if(s+=e[l],o[l]!==void 0){const c=a[l];c===NUMBER_TOKEN?s+=sanitize(o[l]):c===COLOR_TOKEN?s+=color.transform(o[l]):s+=o[l]}return s}}const convertNumbersToZero=t=>typeof t=="number"?0:color.test(t)?color.getAnimatableNone(t):t;function getAnimatableNone$1(t){const e=parseComplexValue(t);return createTransformer(t)(e.map(convertNumbersToZero))}const complex={test:test$1,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1};function hueToRgb(t,e,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?t+(e-t)*6*a:a<1/2?e:a<2/3?t+(e-t)*(2/3-a)*6:t}function hslaToRgba({hue:t,saturation:e,lightness:a,alpha:r}){t/=360,e/=100,a/=100;let o=0,s=0,l=0;if(!e)o=s=l=a;else{const c=a<.5?a*(1+e):a+e-a*e,u=2*a-c;o=hueToRgb(u,c,t+1/3),s=hueToRgb(u,c,t),l=hueToRgb(u,c,t-1/3)}return{red:Math.round(o*255),green:Math.round(s*255),blue:Math.round(l*255),alpha:r}}function mixImmediate(t,e){return a=>a>0?e:t}const mixNumber$1=(t,e,a)=>t+(e-t)*a,mixLinearColor=(t,e,a)=>{const r=t*t,o=a*(e*e-r)+r;return o<0?0:Math.sqrt(o)},colorTypes=[hex,rgba,hsla],getColorType=t=>colorTypes.find(e=>e.test(t));function asRGBA(t){const e=getColorType(t);if(!e)return!1;let a=e.parse(t);return e===hsla&&(a=hslaToRgba(a)),a}const mixColor=(t,e)=>{const a=asRGBA(t),r=asRGBA(e);if(!a||!r)return mixImmediate(t,e);const o={...a};return s=>(o.red=mixLinearColor(a.red,r.red,s),o.green=mixLinearColor(a.green,r.green,s),o.blue=mixLinearColor(a.blue,r.blue,s),o.alpha=mixNumber$1(a.alpha,r.alpha,s),rgba.transform(o))},invisibleValues=new Set(["none","hidden"]);function mixVisibility(t,e){return invisibleValues.has(t)?a=>a<=0?t:e:a=>a>=1?e:t}function mixNumber(t,e){return a=>mixNumber$1(t,e,a)}function getMixer(t){return typeof t=="number"?mixNumber:typeof t=="string"?isCSSVariableToken(t)?mixImmediate:color.test(t)?mixColor:mixComplex:Array.isArray(t)?mixArray:typeof t=="object"?color.test(t)?mixColor:mixObject:mixImmediate}function mixArray(t,e){const a=[...t],r=a.length,o=t.map((s,l)=>getMixer(s)(s,e[l]));return s=>{for(let l=0;l<r;l++)a[l]=o[l](s);return a}}function mixObject(t,e){const a={...t,...e},r={};for(const o in a)t[o]!==void 0&&e[o]!==void 0&&(r[o]=getMixer(t[o])(t[o],e[o]));return o=>{for(const s in r)a[s]=r[s](o);return a}}function matchOrder(t,e){const a=[],r={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const s=e.types[o],l=t.indexes[s][r[s]],c=t.values[l]??0;a[o]=c,r[s]++}return a}const mixComplex=(t,e)=>{const a=complex.createTransformer(e),r=analyseComplexValue(t),o=analyseComplexValue(e);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?invisibleValues.has(t)&&!o.values.length||invisibleValues.has(e)&&!r.values.length?mixVisibility(t,e):pipe$1(mixArray(matchOrder(r,o),o.values),a):mixImmediate(t,e)};function mix(t,e,a){return typeof t=="number"&&typeof e=="number"&&typeof a=="number"?mixNumber$1(t,e,a):getMixer(t)(t,e)}const frameloopDriver=t=>{const e=({timestamp:a})=>t(a);return{start:(a=!0)=>frame.update(e,a),stop:()=>cancelFrame(e),now:()=>frameData.isProcessing?frameData.timestamp:time$2.now()}},generateLinearEasing=(t,e,a=10)=>{let r="";const o=Math.max(Math.round(e/a),2);for(let s=0;s<o;s++)r+=Math.round(t(s/(o-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},maxGeneratorDuration=2e4;function calcGeneratorDuration(t){let e=0;const a=50;let r=t.next(e);for(;!r.done&&e<maxGeneratorDuration;)e+=a,r=t.next(e);return e>=maxGeneratorDuration?1/0:e}function createGeneratorEasing(t,e=100,a){const r=a({...t,keyframes:[0,e]}),o=Math.min(calcGeneratorDuration(r),maxGeneratorDuration);return{type:"keyframes",ease:s=>r.next(o*s).value/e,duration:millisecondsToSeconds(o)}}const velocitySampleDuration=5;function calcGeneratorVelocity(t,e,a){const r=Math.max(e-velocitySampleDuration,0);return velocityPerSecond(a-t(r),e-r)}const springDefaults={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},safeMin=.001;function findSpring({duration:t=springDefaults.duration,bounce:e=springDefaults.bounce,velocity:a=springDefaults.velocity,mass:r=springDefaults.mass}){let o,s,l=1-e;l=clamp(springDefaults.minDamping,springDefaults.maxDamping,l),t=clamp(springDefaults.minDuration,springDefaults.maxDuration,millisecondsToSeconds(t)),l<1?(o=h=>{const f=h*l,m=f*t,g=f-a,b=calcAngularFreq(h,l),w=Math.exp(-m);return safeMin-g/b*w},s=h=>{const m=h*l*t,g=m*a+a,b=Math.pow(l,2)*Math.pow(h,2)*t,w=Math.exp(-m),E=calcAngularFreq(Math.pow(h,2),l);return(-o(h)+safeMin>0?-1:1)*((g-b)*w)/E}):(o=h=>{const f=Math.exp(-h*t),m=(h-a)*t+1;return-safeMin+f*m},s=h=>{const f=Math.exp(-h*t),m=(a-h)*(t*t);return f*m});const c=5/t,u=approximateRoot(o,s,c);if(t=secondsToMilliseconds(t),isNaN(u))return{stiffness:springDefaults.stiffness,damping:springDefaults.damping,duration:t};{const h=Math.pow(u,2)*r;return{stiffness:h,damping:l*2*Math.sqrt(r*h),duration:t}}}const rootIterations=12;function approximateRoot(t,e,a){let r=a;for(let o=1;o<rootIterations;o++)r=r-t(r)/e(r);return r}function calcAngularFreq(t,e){return t*Math.sqrt(1-e*e)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(t,e){return e.some(a=>t[a]!==void 0)}function getSpringOptions(t){let e={velocity:springDefaults.velocity,stiffness:springDefaults.stiffness,damping:springDefaults.damping,mass:springDefaults.mass,isResolvedFromDuration:!1,...t};if(!isSpringType(t,physicsKeys)&&isSpringType(t,durationKeys))if(t.visualDuration){const a=t.visualDuration,r=2*Math.PI/(a*1.2),o=r*r,s=2*clamp(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:springDefaults.mass,stiffness:o,damping:s}}else{const a=findSpring(t);e={...e,...a,mass:springDefaults.mass},e.isResolvedFromDuration=!0}return e}function spring(t=springDefaults.visualDuration,e=springDefaults.bounce){const a=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:o}=a;const s=a.keyframes[0],l=a.keyframes[a.keyframes.length-1],c={done:!1,value:s},{stiffness:u,damping:h,mass:f,duration:m,velocity:g,isResolvedFromDuration:b}=getSpringOptions({...a,velocity:-millisecondsToSeconds(a.velocity||0)}),w=g||0,E=h/(2*Math.sqrt(u*f)),C=l-s,B=millisecondsToSeconds(Math.sqrt(u/f)),O=Math.abs(C)<5;r||(r=O?springDefaults.restSpeed.granular:springDefaults.restSpeed.default),o||(o=O?springDefaults.restDelta.granular:springDefaults.restDelta.default);let P;if(E<1){const z=calcAngularFreq(B,E);P=V=>{const Z=Math.exp(-E*B*V);return l-Z*((w+E*B*C)/z*Math.sin(z*V)+C*Math.cos(z*V))}}else if(E===1)P=z=>l-Math.exp(-B*z)*(C+(w+B*C)*z);else{const z=B*Math.sqrt(E*E-1);P=V=>{const Z=Math.exp(-E*B*V),J=Math.min(z*V,300);return l-Z*((w+E*B*C)*Math.sinh(J)+z*C*Math.cosh(J))/z}}const q={calculatedDuration:b&&m||null,next:z=>{const V=P(z);if(b)c.done=z>=m;else{let Z=z===0?w:0;E<1&&(Z=z===0?secondsToMilliseconds(w):calcGeneratorVelocity(P,z,V));const J=Math.abs(Z)<=r,W=Math.abs(l-V)<=o;c.done=J&&W}return c.value=c.done?l:V,c},toString:()=>{const z=Math.min(calcGeneratorDuration(q),maxGeneratorDuration),V=generateLinearEasing(Z=>q.next(z*Z).value,z,30);return z+"ms "+V},toTransition:()=>{}};return q}spring.applyToOptions=t=>{const e=createGeneratorEasing(t,100,spring);return t.ease=e.ease,t.duration=secondsToMilliseconds(e.duration),t.type="keyframes",t};function inertia({keyframes:t,velocity:e=0,power:a=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:s=500,modifyTarget:l,min:c,max:u,restDelta:h=.5,restSpeed:f}){const m=t[0],g={done:!1,value:m},b=J=>c!==void 0&&J<c||u!==void 0&&J>u,w=J=>c===void 0?u:u===void 0||Math.abs(c-J)<Math.abs(u-J)?c:u;let E=a*e;const C=m+E,B=l===void 0?C:l(C);B!==C&&(E=B-m);const O=J=>-E*Math.exp(-J/r),P=J=>B+O(J),q=J=>{const W=O(J),te=P(J);g.done=Math.abs(W)<=h,g.value=g.done?B:te};let z,V;const Z=J=>{b(g.value)&&(z=J,V=spring({keyframes:[g.value,w(g.value)],velocity:calcGeneratorVelocity(P,J,g.value),damping:o,stiffness:s,restDelta:h,restSpeed:f}))};return Z(0),{calculatedDuration:null,next:J=>{let W=!1;return!V&&z===void 0&&(W=!0,q(J),Z(J)),z!==void 0&&J>=z?V.next(J-z):(!W&&q(J),g)}}}function createMixers(t,e,a){const r=[],o=a||MotionGlobalConfig.mix||mix,s=t.length-1;for(let l=0;l<s;l++){let c=o(t[l],t[l+1]);if(e){const u=Array.isArray(e)?e[l]||noop$2:e;c=pipe$1(u,c)}r.push(c)}return r}function interpolate(t,e,{clamp:a=!0,ease:r,mixer:o}={}){const s=t.length;if(invariant(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=createMixers(e,r,o),u=c.length,h=f=>{if(l&&f<t[0])return e[0];let m=0;if(u>1)for(;m<t.length-2&&!(f<t[m+1]);m++);const g=progress(t[m],t[m+1],f);return c[m](g)};return a?f=>h(clamp(t[0],t[s-1],f)):h}function fillOffset(t,e){const a=t[t.length-1];for(let r=1;r<=e;r++){const o=progress(0,e,r);t.push(mixNumber$1(a,1,o))}}function defaultOffset(t){const e=[0];return fillOffset(e,t.length-1),e}function convertOffsetToTimes(t,e){return t.map(a=>a*e)}function defaultEasing(t,e){return t.map(()=>e||easeInOut).splice(0,t.length-1)}function keyframes({duration:t=300,keyframes:e,times:a,ease:r="easeInOut"}){const o=isEasingArray(r)?r.map(easingDefinitionToFunction):easingDefinitionToFunction(r),s={done:!1,value:e[0]},l=convertOffsetToTimes(a&&a.length===e.length?a:defaultOffset(e),t),c=interpolate(l,e,{ease:Array.isArray(o)?o:defaultEasing(e,o)});return{calculatedDuration:t,next:u=>(s.value=c(u),s.done=u>=t,s)}}const isNotNull$1=t=>t!==null;function getFinalKeyframe$1(t,{repeat:e,repeatType:a="loop"},r,o=1){const s=t.filter(isNotNull$1),c=o<0||e&&a!=="loop"&&e%2===1?0:s.length-1;return!c||r===void 0?s[c]:r}const transitionTypeMap={decay:inertia,inertia,tween:keyframes,keyframes,spring};function replaceTransitionType(t){typeof t.type=="string"&&(t.type=transitionTypeMap[t.type])}class WithPromise{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,a){return this.finished.then(e,a)}}const percentToProgress=t=>t/100;class JSAnimation extends WithPromise{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:a}=this.options;a&&a.updatedAt!==time$2.now()&&this.tick(time$2.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;replaceTransitionType(e);const{type:a=keyframes,repeat:r=0,repeatDelay:o=0,repeatType:s,velocity:l=0}=e;let{keyframes:c}=e;const u=a||keyframes;u!==keyframes&&typeof c[0]!="number"&&(this.mixKeyframes=pipe$1(percentToProgress,mix(c[0],c[1])),c=[0,100]);const h=u({...e,keyframes:c});s==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...c].reverse(),velocity:-l})),h.calculatedDuration===null&&(h.calculatedDuration=calcGeneratorDuration(h));const{calculatedDuration:f}=h;this.calculatedDuration=f,this.resolvedDuration=f+o,this.totalDuration=this.resolvedDuration*(r+1)-o,this.generator=h}updateTime(e){const a=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=a}tick(e,a=!1){const{generator:r,totalDuration:o,mixKeyframes:s,mirroredGenerator:l,resolvedDuration:c,calculatedDuration:u}=this;if(this.startTime===null)return r.next(0);const{delay:h=0,keyframes:f,repeat:m,repeatType:g,repeatDelay:b,type:w,onUpdate:E,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-o/this.speed,this.startTime)),a?this.currentTime=e:this.updateTime(e);const B=this.currentTime-h*(this.playbackSpeed>=0?1:-1),O=this.playbackSpeed>=0?B<0:B>o;this.currentTime=Math.max(B,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=o);let P=this.currentTime,q=r;if(m){const J=Math.min(this.currentTime,o)/c;let W=Math.floor(J),te=J%1;!te&&J>=1&&(te=1),te===1&&W--,W=Math.min(W,m+1),!!(W%2)&&(g==="reverse"?(te=1-te,b&&(te-=b/c)):g==="mirror"&&(q=l)),P=clamp(0,1,te)*c}const z=O?{done:!1,value:f[0]}:q.next(P);s&&(z.value=s(z.value));let{done:V}=z;!O&&u!==null&&(V=this.playbackSpeed>=0?this.currentTime>=o:this.currentTime<=0);const Z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&V);return Z&&w!==inertia&&(z.value=getFinalKeyframe$1(f,this.options,C,this.speed)),E&&E(z.value),Z&&this.finish(),z}then(e,a){return this.finished.then(e,a)}get duration(){return millisecondsToSeconds(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+millisecondsToSeconds(e)}get time(){return millisecondsToSeconds(this.currentTime)}set time(e){e=secondsToMilliseconds(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(time$2.now());const a=this.playbackSpeed!==e;this.playbackSpeed=e,a&&(this.time=millisecondsToSeconds(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=frameloopDriver,startTime:a}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),this.options.onPlay?.();const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=a??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(time$2.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function fillWildcards(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const radToDeg=t=>t*180/Math.PI,rotate=t=>{const e=radToDeg(Math.atan2(t[1],t[0]));return rebaseAngle(e)},matrix2dParsers={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate,rotateZ:rotate,skewX:t=>radToDeg(Math.atan(t[1])),skewY:t=>radToDeg(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},rebaseAngle=t=>(t=t%360,t<0&&(t+=360),t),rotateZ=rotate,scaleX=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),scaleY=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),matrix3dParsers={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX,scaleY,scale:t=>(scaleX(t)+scaleY(t))/2,rotateX:t=>rebaseAngle(radToDeg(Math.atan2(t[6],t[5]))),rotateY:t=>rebaseAngle(radToDeg(Math.atan2(-t[2],t[0]))),rotateZ,rotate:rotateZ,skewX:t=>radToDeg(Math.atan(t[4])),skewY:t=>radToDeg(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function defaultTransformValue(t){return t.includes("scale")?1:0}function parseValueFromTransform(t,e){if(!t||t==="none")return defaultTransformValue(e);const a=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,o;if(a)r=matrix3dParsers,o=a;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=matrix2dParsers,o=c}if(!o)return defaultTransformValue(e);const s=r[e],l=o[1].split(",").map(convertTransformToNumber);return typeof s=="function"?s(l):l[s]}const readTransformValue=(t,e)=>{const{transform:a="none"}=getComputedStyle(t);return parseValueFromTransform(a,e)};function convertTransformToNumber(t){return parseFloat(t.trim())}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder),isNumOrPxType=t=>t===number$2||t===px,transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(t=>!transformKeys.has(t));function removeNonTranslationalTransform(t){const e=[];return nonTranslationalTransformKeys.forEach(a=>{const r=t.getValue(a);r!==void 0&&(e.push([a,r.get()]),r.set(a.startsWith("scale")?1:0))}),e}const positionalValues={width:({x:t},{paddingLeft:e="0",paddingRight:a="0"})=>t.max-t.min-parseFloat(e)-parseFloat(a),height:({y:t},{paddingTop:e="0",paddingBottom:a="0"})=>t.max-t.min-parseFloat(e)-parseFloat(a),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>parseValueFromTransform(e,"x"),y:(t,{transform:e})=>parseValueFromTransform(e,"y")};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const toResolve=new Set;let isScheduled=!1,anyNeedsMeasurement=!1,isForced=!1;function measureAllKeyframes(){if(anyNeedsMeasurement){const t=Array.from(toResolve).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),a=new Map;e.forEach(r=>{const o=removeNonTranslationalTransform(r);o.length&&(a.set(r,o),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const o=a.get(r);o&&o.forEach(([s,l])=>{r.getValue(s)?.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}anyNeedsMeasurement=!1,isScheduled=!1,toResolve.forEach(t=>t.complete(isForced)),toResolve.clear()}function readAllKeyframes(){toResolve.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(anyNeedsMeasurement=!0)})}function flushKeyframeResolvers(){isForced=!0,readAllKeyframes(),measureAllKeyframes(),isForced=!1}class KeyframeResolver{constructor(e,a,r,o,s,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=a,this.name=r,this.motionValue=o,this.element=s,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(toResolve.add(this),isScheduled||(isScheduled=!0,frame.read(readAllKeyframes),frame.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:a,element:r,motionValue:o}=this;if(e[0]===null){const s=o?.get(),l=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&a){const c=r.readValue(a,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),o&&s===void 0&&o.set(e[0])}fillWildcards(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),toResolve.delete(this)}cancel(){this.state==="scheduled"&&(toResolve.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const isCSSVar=t=>t.startsWith("--");function setStyle(t,e,a){isCSSVar(e)?t.style.setProperty(e,a):t.style[e]=a}const supportsScrollTimeline=memo(()=>window.ScrollTimeline!==void 0),supportsFlags={};function memoSupports(t,e){const a=memo(t);return()=>supportsFlags[e]??a()}const supportsLinearEasing=memoSupports(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),cubicBezierAsString=([t,e,a,r])=>`cubic-bezier(${t}, ${e}, ${a}, ${r})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(t,e){if(t)return typeof t=="function"?supportsLinearEasing()?generateLinearEasing(t,e):"ease-out":isBezierDefinition(t)?cubicBezierAsString(t):Array.isArray(t)?t.map(a=>mapEasingToNativeEasing(a,e)||supportedWaapiEasing.easeOut):supportedWaapiEasing[t]}function startWaapiAnimation(t,e,a,{delay:r=0,duration:o=300,repeat:s=0,repeatType:l="loop",ease:c="easeOut",times:u}={},h=void 0){const f={[e]:a};u&&(f.offset=u);const m=mapEasingToNativeEasing(c,o);Array.isArray(m)&&(f.easing=m);const g={delay:r,duration:o,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:s+1,direction:l==="reverse"?"alternate":"normal"};return h&&(g.pseudoElement=h),t.animate(f,g)}function isGenerator(t){return typeof t=="function"&&"applyToOptions"in t}function applyGeneratorOptions({type:t,...e}){return isGenerator(t)&&supportsLinearEasing()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class NativeAnimation extends WithPromise{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:a,name:r,keyframes:o,pseudoElement:s,allowFlatten:l=!1,finalKeyframe:c,onComplete:u}=e;this.isPseudoElement=!!s,this.allowFlatten=l,this.options=e,invariant(typeof e.type!="string");const h=applyGeneratorOptions(e);this.animation=startWaapiAnimation(a,r,o,h,s),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const f=getFinalKeyframe$1(o,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(f):setStyle(a,r,f),this.animation.cancel()}u?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return millisecondsToSeconds(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+millisecondsToSeconds(e)}get time(){return millisecondsToSeconds(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=secondsToMilliseconds(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:a}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&supportsScrollTimeline()?(this.animation.timeline=e,noop$2):a(this)}}const unsupportedEasingFunctions={anticipate,backInOut,circInOut};function isUnsupportedEase(t){return t in unsupportedEasingFunctions}function replaceStringEasing(t){typeof t.ease=="string"&&isUnsupportedEase(t.ease)&&(t.ease=unsupportedEasingFunctions[t.ease])}const sampleDelta=10;class NativeAnimationExtended extends NativeAnimation{constructor(e){replaceStringEasing(e),replaceTransitionType(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:a,onUpdate:r,onComplete:o,element:s,...l}=this.options;if(!a)return;if(e!==void 0){a.set(e);return}const c=new JSAnimation({...l,autoplay:!1}),u=secondsToMilliseconds(this.finishedTime??this.time);a.setWithVelocity(c.sample(u-sampleDelta).value,c.sample(u).value,sampleDelta),c.stop()}}const isAnimatable=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(complex.test(t)||t==="0")&&!t.startsWith("url("));function hasKeyframesChanged(t){const e=t[0];if(t.length===1)return!0;for(let a=0;a<t.length;a++)if(t[a]!==e)return!0}function canAnimate(t,e,a,r){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],l=isAnimatable(o,e),c=isAnimatable(s,e);return!l||!c?!1:hasKeyframesChanged(t)||(a==="spring"||isGenerator(a))&&r}function makeAnimationInstant(t){t.duration=0,t.type="keyframes"}const acceleratedValues=new Set(["opacity","clipPath","filter","transform"]),supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function supportsBrowserAnimation(t){const{motionValue:e,name:a,repeatDelay:r,repeatType:o,damping:s,type:l}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:h}=e.owner.getProps();return supportsWaapi()&&a&&acceleratedValues.has(a)&&(a!=="transform"||!h)&&!u&&!r&&o!=="mirror"&&s!==0&&l!=="inertia"}const MAX_RESOLVE_DELAY=40;class AsyncMotionValueAnimation extends WithPromise{constructor({autoplay:e=!0,delay:a=0,type:r="keyframes",repeat:o=0,repeatDelay:s=0,repeatType:l="loop",keyframes:c,name:u,motionValue:h,element:f,...m}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=time$2.now();const g={autoplay:e,delay:a,type:r,repeat:o,repeatDelay:s,repeatType:l,name:u,motionValue:h,element:f,...m},b=f?.KeyframeResolver||KeyframeResolver;this.keyframeResolver=new b(c,(w,E,C)=>this.onKeyframesResolved(w,E,g,!C),u,h,f),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,a,r,o){this.keyframeResolver=void 0;const{name:s,type:l,velocity:c,delay:u,isHandoff:h,onUpdate:f}=r;this.resolvedAt=time$2.now(),canAnimate(e,s,l,c)||((MotionGlobalConfig.instantAnimations||!u)&&f?.(getFinalKeyframe$1(e,r,a)),e[0]=e[e.length-1],makeAnimationInstant(r),r.repeat=0);const g={startTime:o?this.resolvedAt?this.resolvedAt-this.createdAt>MAX_RESOLVE_DELAY?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:a,...r,keyframes:e},b=!h&&supportsBrowserAnimation(g)?new NativeAnimationExtended({...g,element:g.motionValue.owner.current}):new JSAnimation(g);b.finished.then(()=>this.notifyFinished()).catch(noop$2),this.pendingTimeline&&(this.stopTimeline=b.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=b}get finished(){return this._animation?this.animation.finished:this._finished}then(e,a){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),flushKeyframeResolvers()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const splitCSSVariableRegex=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable(t){const e=splitCSSVariableRegex.exec(t);if(!e)return[,];const[,a,r,o]=e;return[`--${a??r}`,o]}function getVariableValue(t,e,a=1){const[r,o]=parseCSSVariable(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const l=s.trim();return isNumericalString(l)?parseFloat(l):l}return isCSSVariableToken(o)?getVariableValue(o,e,a+1):o}function getValueTransition(t,e){return t?.[e]??t?.default??t}const positionalKeys=new Set(["width","height","top","left","right","bottom",...transformPropOrder]),auto={test:t=>t==="auto",parse:t=>t},testValueType=t=>e=>e.test(t),dimensionValueTypes=[number$2,px,percent,degrees,vw,vh,auto],findDimensionValueType=t=>dimensionValueTypes.find(testValueType(t));function isNone(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||isZeroValueString(t):!0}const maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(t){const[e,a]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=a.match(floatRegex)||[];if(!r)return t;const o=a.replace(r,"");let s=maxDefaults.has(e)?1:0;return r!==a&&(s*=100),e+"("+s+o+")"}const functionRegex=/\b([a-z-]*)\(.*?\)/gu,filter={...complex,getAnimatableNone:t=>{const e=t.match(functionRegex);return e?e.map(applyDefaultFilter).join(" "):t}},int$1={...number$2,transform:Math.round},transformValueTypes={rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px},numberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,backgroundPositionX:px,backgroundPositionY:px,...transformValueTypes,zIndex:int$1,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int$1},defaultValueTypes={...numberValueTypes,color,backgroundColor:color,outlineColor:color,fill:color,stroke:color,borderColor:color,borderTopColor:color,borderRightColor:color,borderBottomColor:color,borderLeftColor:color,filter,WebkitFilter:filter},getDefaultValueType=t=>defaultValueTypes[t];function getAnimatableNone(t,e){let a=getDefaultValueType(t);return a!==filter&&(a=complex),a.getAnimatableNone?a.getAnimatableNone(e):void 0}const invalidTemplates=new Set(["auto","none","0"]);function makeNoneKeyframesAnimatable(t,e,a){let r=0,o;for(;r<t.length&&!o;){const s=t[r];typeof s=="string"&&!invalidTemplates.has(s)&&analyseComplexValue(s).values.length&&(o=t[r]),r++}if(o&&a)for(const s of e)t[s]=getAnimatableNone(a,o)}class DOMKeyframesResolver extends KeyframeResolver{constructor(e,a,r,o,s){super(e,a,r,o,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:a,name:r}=this;if(!a||!a.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let h=e[u];if(typeof h=="string"&&(h=h.trim(),isCSSVariableToken(h))){const f=getVariableValue(h,a.current);f!==void 0&&(e[u]=f),u===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!positionalKeys.has(r)||e.length!==2)return;const[o,s]=e,l=findDimensionValueType(o),c=findDimensionValueType(s);if(l!==c)if(isNumOrPxType(l)&&isNumOrPxType(c))for(let u=0;u<e.length;u++){const h=e[u];typeof h=="string"&&(e[u]=parseFloat(h))}else positionalValues[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:a}=this,r=[];for(let o=0;o<e.length;o++)(e[o]===null||isNone(e[o]))&&r.push(o);r.length&&makeNoneKeyframesAnimatable(e,r,a)}measureInitialState(){const{element:e,unresolvedKeyframes:a,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues[r](e.measureViewportBox(),window.getComputedStyle(e.current)),a[0]=this.measuredOrigin;const o=a[a.length-1];o!==void 0&&e.getValue(r,o).jump(o,!1)}measureEndState(){const{element:e,name:a,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const o=e.getValue(a);o&&o.jump(this.measuredOrigin,!1);const s=r.length-1,l=r[s];r[s]=positionalValues[a](e.measureViewportBox(),window.getComputedStyle(e.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,u])=>{e.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function resolveElements(t,e,a){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const o=a?.[t]??r.querySelectorAll(t);return o?Array.from(o):[]}return Array.from(t)}const getValueAsType=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function isHTMLElement(t){return isObject$4(t)&&"offsetHeight"in t}const MAX_VELOCITY_DELTA=30,isFloat=t=>!isNaN(parseFloat(t));class MotionValue{constructor(e,a={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{const o=time$2.now();if(this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const s of this.dependents)s.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=a.owner}setCurrent(e){this.current=e,this.updatedAt=time$2.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=isFloat(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,a){this.events[e]||(this.events[e]=new SubscriptionManager);const r=this.events[e].add(a);return e==="change"?()=>{r(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,a){this.passiveEffect=e,this.stopPassiveEffect=a}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,a,r){this.set(a),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,a=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,a&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=time$2.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>MAX_VELOCITY_DELTA)return 0;const a=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),a)}start(e){return this.stop(),new Promise(a=>{this.hasAnimated=!0,this.animation=e(a),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(t,e){return new MotionValue(t,e)}const{schedule:microtask}=createRenderBatcher(queueMicrotask,!1),isDragging={x:!1,y:!1};function isDragActive(){return isDragging.x||isDragging.y}function setDragLock(t){return t==="x"||t==="y"?isDragging[t]?null:(isDragging[t]=!0,()=>{isDragging[t]=!1}):isDragging.x||isDragging.y?null:(isDragging.x=isDragging.y=!0,()=>{isDragging.x=isDragging.y=!1})}function setupGesture(t,e){const a=resolveElements(t),r=new AbortController,o={passive:!0,...e,signal:r.signal};return[a,o,()=>r.abort()]}function isValidHover(t){return!(t.pointerType==="touch"||isDragActive())}function hover(t,e,a={}){const[r,o,s]=setupGesture(t,a),l=c=>{if(!isValidHover(c))return;const{target:u}=c,h=e(u,c);if(typeof h!="function"||!u)return;const f=m=>{isValidHover(m)&&(h(m),u.removeEventListener("pointerleave",f))};u.addEventListener("pointerleave",f,o)};return r.forEach(c=>{c.addEventListener("pointerenter",l,o)}),s}const isNodeOrChild=(t,e)=>e?t===e?!0:isNodeOrChild(t,e.parentElement):!1,isPrimaryPointer=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,focusableElements=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function isElementKeyboardAccessible(t){return focusableElements.has(t.tagName)||t.tabIndex!==-1}const isPressing=new WeakSet;function filterEvents(t){return e=>{e.key==="Enter"&&t(e)}}function firePointerEvent(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const enableKeyboardPress=(t,e)=>{const a=t.currentTarget;if(!a)return;const r=filterEvents(()=>{if(isPressing.has(a))return;firePointerEvent(a,"down");const o=filterEvents(()=>{firePointerEvent(a,"up")}),s=()=>firePointerEvent(a,"cancel");a.addEventListener("keyup",o,e),a.addEventListener("blur",s,e)});a.addEventListener("keydown",r,e),a.addEventListener("blur",()=>a.removeEventListener("keydown",r),e)};function isValidPressEvent(t){return isPrimaryPointer(t)&&!isDragActive()}function press(t,e,a={}){const[r,o,s]=setupGesture(t,a),l=c=>{const u=c.currentTarget;if(!isValidPressEvent(c))return;isPressing.add(u);const h=e(u,c),f=(b,w)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",g),isPressing.has(u)&&isPressing.delete(u),isValidPressEvent(b)&&typeof h=="function"&&h(b,{success:w})},m=b=>{f(b,u===window||u===document||a.useGlobalTarget||isNodeOrChild(u,b.target))},g=b=>{f(b,!1)};window.addEventListener("pointerup",m,o),window.addEventListener("pointercancel",g,o)};return r.forEach(c=>{(a.useGlobalTarget?window:c).addEventListener("pointerdown",l,o),isHTMLElement(c)&&(c.addEventListener("focus",h=>enableKeyboardPress(h,o)),!isElementKeyboardAccessible(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),s}function isSVGElement$1(t){return isObject$4(t)&&"ownerSVGElement"in t}function isSVGSVGElement(t){return isSVGElement$1(t)&&t.tagName==="svg"}const isMotionValue=t=>!!(t&&t.getVelocity),valueTypes=[...dimensionValueTypes,color,complex],findValueType=t=>valueTypes.find(testValueType(t)),MotionConfigContext=reactExports.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function setRef(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function composeRefs(...t){return e=>{let a=!1;const r=t.map(o=>{const s=setRef(o,e);return!a&&typeof s=="function"&&(a=!0),s});if(a)return()=>{for(let o=0;o<r.length;o++){const s=r[o];typeof s=="function"?s():setRef(t[o],null)}}}}function useComposedRefs(...t){return reactExports.useCallback(composeRefs(...t),t)}class PopChildMeasure extends reactExports.Component{getSnapshotBeforeUpdate(e){const a=this.props.childRef.current;if(a&&e.isPresent&&!this.props.isPresent){const r=a.offsetParent,o=isHTMLElement(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=a.offsetHeight||0,s.width=a.offsetWidth||0,s.top=a.offsetTop,s.left=a.offsetLeft,s.right=o-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:t,isPresent:e,anchorX:a,root:r}){const o=reactExports.useId(),s=reactExports.useRef(null),l=reactExports.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=reactExports.useContext(MotionConfigContext),u=useComposedRefs(s,t?.ref);return reactExports.useInsertionEffect(()=>{const{width:h,height:f,top:m,left:g,right:b}=l.current;if(e||!s.current||!h||!f)return;const w=a==="left"?`left: ${g}`:`right: ${b}`;s.current.dataset.motionPopId=o;const E=document.createElement("style");c&&(E.nonce=c);const C=r??document.head;return C.appendChild(E),E.sheet&&E.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${f}px !important;
            ${w}px !important;
            top: ${m}px !important;
          }
        `),()=>{C.contains(E)&&C.removeChild(E)}},[e]),jsxRuntimeExports.jsx(PopChildMeasure,{isPresent:e,childRef:s,sizeRef:l,children:reactExports.cloneElement(t,{ref:u})})}const PresenceChild=({children:t,initial:e,isPresent:a,onExitComplete:r,custom:o,presenceAffectsLayout:s,mode:l,anchorX:c,root:u})=>{const h=useConstant(newChildrenMap),f=reactExports.useId();let m=!0,g=reactExports.useMemo(()=>(m=!1,{id:f,initial:e,isPresent:a,custom:o,onExitComplete:b=>{h.set(b,!0);for(const w of h.values())if(!w)return;r&&r()},register:b=>(h.set(b,!1),()=>h.delete(b))}),[a,h,r]);return s&&m&&(g={...g}),reactExports.useMemo(()=>{h.forEach((b,w)=>h.set(w,!1))},[a]),reactExports.useEffect(()=>{!a&&!h.size&&r&&r()},[a]),l==="popLayout"&&(t=jsxRuntimeExports.jsx(PopChild,{isPresent:a,anchorX:c,root:u,children:t})),jsxRuntimeExports.jsx(PresenceContext.Provider,{value:g,children:t})};function newChildrenMap(){return new Map}function usePresence(t=!0){const e=reactExports.useContext(PresenceContext);if(e===null)return[!0,null];const{isPresent:a,onExitComplete:r,register:o}=e,s=reactExports.useId();reactExports.useEffect(()=>{if(t)return o(s)},[t]);const l=reactExports.useCallback(()=>t&&r&&r(s),[s,r,t]);return!a&&r?[!1,l]:[!0]}const getChildKey=t=>t.key||"";function onlyElements(t){const e=[];return reactExports.Children.forEach(t,a=>{reactExports.isValidElement(a)&&e.push(a)}),e}const AnimatePresence=({children:t,custom:e,initial:a=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:s="sync",propagate:l=!1,anchorX:c="left",root:u})=>{const[h,f]=usePresence(l),m=reactExports.useMemo(()=>onlyElements(t),[t]),g=l&&!h?[]:m.map(getChildKey),b=reactExports.useRef(!0),w=reactExports.useRef(m),E=useConstant(()=>new Map),[C,B]=reactExports.useState(m),[O,P]=reactExports.useState(m);useIsomorphicLayoutEffect(()=>{b.current=!1,w.current=m;for(let V=0;V<O.length;V++){const Z=getChildKey(O[V]);g.includes(Z)?E.delete(Z):E.get(Z)!==!0&&E.set(Z,!1)}},[O,g.length,g.join("-")]);const q=[];if(m!==C){let V=[...m];for(let Z=0;Z<O.length;Z++){const J=O[Z],W=getChildKey(J);g.includes(W)||(V.splice(Z,0,J),q.push(J))}return s==="wait"&&q.length&&(V=q),P(onlyElements(V)),B(m),null}const{forceRender:z}=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:O.map(V=>{const Z=getChildKey(V),J=l&&!h?!1:m===O||g.includes(Z),W=()=>{if(E.has(Z))E.set(Z,!0);else return;let te=!0;E.forEach(G=>{G||(te=!1)}),te&&(z?.(),P(w.current),l&&f?.(),r&&r())};return jsxRuntimeExports.jsx(PresenceChild,{isPresent:J,initial:!b.current||a?void 0:!1,custom:e,presenceAffectsLayout:o,mode:s,root:u,onExitComplete:J?void 0:W,anchorX:c,children:V},Z)})})},LazyContext=reactExports.createContext({strict:!1}),featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const t in featureProps)featureDefinitions[t]={isEnabled:e=>featureProps[t].some(a=>!!e[a])};function loadFeatures(t){for(const e in t)featureDefinitions[e]={...featureDefinitions[e],...t[e]}}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||validMotionProps.has(t)}let shouldForward=t=>!isValidMotionProp(t);function loadExternalIsValidProp(t){typeof t=="function"&&(shouldForward=e=>e.startsWith("on")?!isValidMotionProp(e):t(e))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps(t,e,a){const r={};for(const o in t)o==="values"&&typeof t.values=="object"||(shouldForward(o)||a===!0&&isValidMotionProp(o)||!e&&!isValidMotionProp(o)||t.draggable&&o.startsWith("onDrag"))&&(r[o]=t[o]);return r}const MotionContext=reactExports.createContext({});function isAnimationControls(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function isVariantLabel(t){return typeof t=="string"||Array.isArray(t)}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(t){return isAnimationControls(t.animate)||variantProps.some(e=>isVariantLabel(t[e]))}function isVariantNode(t){return!!(isControllingVariants(t)||t.variants)}function getCurrentTreeVariants(t,e){if(isControllingVariants(t)){const{initial:a,animate:r}=t;return{initial:a===!1||isVariantLabel(a)?a:void 0,animate:isVariantLabel(r)?r:void 0}}return t.inherit!==!1?e:{}}function useCreateMotionContext(t){const{initial:e,animate:a}=getCurrentTreeVariants(t,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:e,animate:a}),[variantLabelsAsDependency(e),variantLabelsAsDependency(a)])}function variantLabelsAsDependency(t){return Array.isArray(t)?t.join(" "):t}const scaleCorrectors={};function addScaleCorrector(t){for(const e in t)scaleCorrectors[e]=t[e],isCSSVariableName(e)&&(scaleCorrectors[e].isCSSVariable=!0)}function isForcedMotionValue(t,{layout:e,layoutId:a}){return transformProps.has(t)||t.startsWith("origin")||(e||a!==void 0)&&(!!scaleCorrectors[t]||t==="opacity")}const translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(t,e,a){let r="",o=!0;for(let s=0;s<numTransforms;s++){const l=transformPropOrder[s],c=t[l];if(c===void 0)continue;let u=!0;if(typeof c=="number"?u=c===(l.startsWith("scale")?1:0):u=parseFloat(c)===0,!u||a){const h=getValueAsType(c,numberValueTypes[l]);if(!u){o=!1;const f=translateAlias[l]||l;r+=`${f}(${h}) `}a&&(e[l]=h)}}return r=r.trim(),a?r=a(e,o?"":r):o&&(r="none"),r}function buildHTMLStyles(t,e,a){const{style:r,vars:o,transformOrigin:s}=t;let l=!1,c=!1;for(const u in e){const h=e[u];if(transformProps.has(u)){l=!0;continue}else if(isCSSVariableName(u)){o[u]=h;continue}else{const f=getValueAsType(h,numberValueTypes[u]);u.startsWith("origin")?(c=!0,s[u]=f):r[u]=f}}if(e.transform||(l||a?r.transform=buildTransform(e,t.transform,a):r.transform&&(r.transform="none")),c){const{originX:u="50%",originY:h="50%",originZ:f=0}=s;r.transformOrigin=`${u} ${h} ${f}`}}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function copyRawValuesOnly(t,e,a){for(const r in e)!isMotionValue(e[r])&&!isForcedMotionValue(r,a)&&(t[r]=e[r])}function useInitialMotionValues({transformTemplate:t},e){return reactExports.useMemo(()=>{const a=createHtmlRenderState();return buildHTMLStyles(a,e,t),Object.assign({},a.vars,a.style)},[e])}function useStyle(t,e){const a=t.style||{},r={};return copyRawValuesOnly(r,a,t),Object.assign(r,useInitialMotionValues(t,e)),r}function useHTMLProps(t,e){const a={},r=useStyle(t,e);return t.drag&&t.dragListener!==!1&&(a.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(a.tabIndex=0),a.style=r,a}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(t,e,a=1,r=0,o=!0){t.pathLength=1;const s=o?dashKeys:camelKeys;t[s.offset]=px.transform(-r);const l=px.transform(e),c=px.transform(a);t[s.array]=`${l} ${c}`}function buildSVGAttrs(t,{attrX:e,attrY:a,attrScale:r,pathLength:o,pathSpacing:s=1,pathOffset:l=0,...c},u,h,f){if(buildHTMLStyles(t,c,h),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:g}=t;m.transform&&(g.transform=m.transform,delete m.transform),(g.transform||m.transformOrigin)&&(g.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),g.transform&&(g.transformBox=f?.transformBox??"fill-box",delete m.transformBox),e!==void 0&&(m.x=e),a!==void 0&&(m.y=a),r!==void 0&&(m.scale=r),o!==void 0&&buildSVGPath(m,o,s,l,!1)}const createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=t=>typeof t=="string"&&t.toLowerCase()==="svg";function useSVGProps(t,e,a,r){const o=reactExports.useMemo(()=>{const s=createSvgRenderState();return buildSVGAttrs(s,e,isSVGTag(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};copyRawValuesOnly(s,t.style,t),o.style={...s,...o.style}}return o}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(t){return typeof t!="string"||t.includes("-")?!1:!!(lowercaseSVGElements.indexOf(t)>-1||/[A-Z]/u.test(t))}function useRender(t,e,a,{latestValues:r},o,s=!1){const c=(isSVGComponent(t)?useSVGProps:useHTMLProps)(e,r,o,t),u=filterProps(e,typeof t=="string",s),h=t!==reactExports.Fragment?{...u,...c,ref:a}:{},{children:f}=e,m=reactExports.useMemo(()=>isMotionValue(f)?f.get():f,[f]);return reactExports.createElement(t,{...h,children:m})}function getValueState(t){const e=[{},{}];return t?.values.forEach((a,r)=>{e[0][r]=a.get(),e[1][r]=a.getVelocity()}),e}function resolveVariantFromProps(t,e,a,r){if(typeof e=="function"){const[o,s]=getValueState(r);e=e(a!==void 0?a:t.custom,o,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,s]=getValueState(r);e=e(a!==void 0?a:t.custom,o,s)}return e}function resolveMotionValue(t){return isMotionValue(t)?t.get():t}function makeState({scrapeMotionValuesFromProps:t,createRenderState:e},a,r,o){return{latestValues:makeLatestValues(a,r,o,t),renderState:e()}}function makeLatestValues(t,e,a,r){const o={},s=r(t,{});for(const g in s)o[g]=resolveMotionValue(s[g]);let{initial:l,animate:c}=t;const u=isControllingVariants(t),h=isVariantNode(t);e&&h&&!u&&t.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let f=a?a.initial===!1:!1;f=f||l===!1;const m=f?c:l;if(m&&typeof m!="boolean"&&!isAnimationControls(m)){const g=Array.isArray(m)?m:[m];for(let b=0;b<g.length;b++){const w=resolveVariantFromProps(t,g[b]);if(w){const{transitionEnd:E,transition:C,...B}=w;for(const O in B){let P=B[O];if(Array.isArray(P)){const q=f?P.length-1:0;P=P[q]}P!==null&&(o[O]=P)}for(const O in E)o[O]=E[O]}}}return o}const makeUseVisualState=t=>(e,a)=>{const r=reactExports.useContext(MotionContext),o=reactExports.useContext(PresenceContext),s=()=>makeState(t,e,r,o);return a?s():useConstant(s)};function scrapeMotionValuesFromProps$1(t,e,a){const{style:r}=t,o={};for(const s in r)(isMotionValue(r[s])||e.style&&isMotionValue(e.style[s])||isForcedMotionValue(s,t)||a?.getValue(s)?.liveStyle!==void 0)&&(o[s]=r[s]);return o}const useHTMLVisualState=makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState});function scrapeMotionValuesFromProps(t,e,a){const r=scrapeMotionValuesFromProps$1(t,e,a);for(const o in t)if(isMotionValue(t[o])||isMotionValue(e[o])){const s=transformPropOrder.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[s]=t[o]}return r}const useSVGVisualState=makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState}),motionComponentSymbol=Symbol.for("motionComponentSymbol");function isRefObject(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function useMotionRef(t,e,a){return reactExports.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),a&&(typeof a=="function"?a(r):isRefObject(a)&&(a.current=r))},[e])}const camelToDash=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId),SwitchLayoutGroupContext=reactExports.createContext({});function useVisualElement(t,e,a,r,o){const{visualElement:s}=reactExports.useContext(MotionContext),l=reactExports.useContext(LazyContext),c=reactExports.useContext(PresenceContext),u=reactExports.useContext(MotionConfigContext).reducedMotion,h=reactExports.useRef(null);r=r||l.renderer,!h.current&&r&&(h.current=r(t,{visualState:e,parent:s,props:a,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:u}));const f=h.current,m=reactExports.useContext(SwitchLayoutGroupContext);f&&!f.projection&&o&&(f.type==="html"||f.type==="svg")&&createProjectionNode$1(h.current,a,o,m);const g=reactExports.useRef(!1);reactExports.useInsertionEffect(()=>{f&&g.current&&f.update(a,c)});const b=a[optimizedAppearDataAttribute],w=reactExports.useRef(!!b&&!window.MotionHandoffIsComplete?.(b)&&window.MotionHasOptimisedAnimation?.(b));return useIsomorphicLayoutEffect(()=>{f&&(g.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),w.current&&f.animationState&&f.animationState.animateChanges())}),reactExports.useEffect(()=>{f&&(!w.current&&f.animationState&&f.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(b)}),w.current=!1),f.enteringChildren=void 0)}),f}function createProjectionNode$1(t,e,a,r){const{layoutId:o,layout:s,drag:l,dragConstraints:c,layoutScroll:u,layoutRoot:h,layoutCrossfade:f}=e;t.projection=new a(t.latestValues,e["data-framer-portal-id"]?void 0:getClosestProjectingNode(t.parent)),t.projection.setOptions({layoutId:o,layout:s,alwaysMeasureLayout:!!l||c&&isRefObject(c),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:f,layoutScroll:u,layoutRoot:h})}function getClosestProjectingNode(t){if(t)return t.options.allowProjection!==!1?t.projection:getClosestProjectingNode(t.parent)}function createMotionComponent(t,{forwardMotionProps:e=!1}={},a,r){a&&loadFeatures(a);const o=isSVGComponent(t)?useSVGVisualState:useHTMLVisualState;function s(c,u){let h;const f={...reactExports.useContext(MotionConfigContext),...c,layoutId:useLayoutId(c)},{isStatic:m}=f,g=useCreateMotionContext(c),b=o(c,m);if(!m&&isBrowser){useStrictMode();const w=getProjectionFunctionality(f);h=w.MeasureLayout,g.visualElement=useVisualElement(t,b,f,r,w.ProjectionNode)}return jsxRuntimeExports.jsxs(MotionContext.Provider,{value:g,children:[h&&g.visualElement?jsxRuntimeExports.jsx(h,{visualElement:g.visualElement,...f}):null,useRender(t,c,useMotionRef(b,g.visualElement,u),b,m,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=reactExports.forwardRef(s);return l[motionComponentSymbol]=t,l}function useLayoutId({layoutId:t}){const e=reactExports.useContext(LayoutGroupContext).id;return e&&t!==void 0?e+"-"+t:t}function useStrictMode(t,e){reactExports.useContext(LazyContext).strict}function getProjectionFunctionality(t){const{drag:e,layout:a}=featureDefinitions;if(!e&&!a)return{};const r={...e,...a};return{MeasureLayout:e?.isEnabled(t)||a?.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function createMotionProxy(t,e){if(typeof Proxy>"u")return createMotionComponent;const a=new Map,r=(s,l)=>createMotionComponent(s,l,t,e),o=(s,l)=>r(s,l);return new Proxy(o,{get:(s,l)=>l==="create"?r:(a.has(l)||a.set(l,createMotionComponent(l,void 0,t,e)),a.get(l))})}function convertBoundingBoxToBox({top:t,left:e,right:a,bottom:r}){return{x:{min:e,max:a},y:{min:t,max:r}}}function convertBoxToBoundingBox({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function transformBoxPoints(t,e){if(!e)return t;const a=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:a.y,left:a.x,bottom:r.y,right:r.x}}function isIdentityScale(t){return t===void 0||t===1}function hasScale({scale:t,scaleX:e,scaleY:a}){return!isIdentityScale(t)||!isIdentityScale(e)||!isIdentityScale(a)}function hasTransform(t){return hasScale(t)||has2DTranslate(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function has2DTranslate(t){return is2DTranslate(t.x)||is2DTranslate(t.y)}function is2DTranslate(t){return t&&t!=="0%"}function scalePoint(t,e,a){const r=t-a,o=e*r;return a+o}function applyPointDelta(t,e,a,r,o){return o!==void 0&&(t=scalePoint(t,o,r)),scalePoint(t,a,r)+e}function applyAxisDelta(t,e=0,a=1,r,o){t.min=applyPointDelta(t.min,e,a,r,o),t.max=applyPointDelta(t.max,e,a,r,o)}function applyBoxDelta(t,{x:e,y:a}){applyAxisDelta(t.x,e.translate,e.scale,e.originPoint),applyAxisDelta(t.y,a.translate,a.scale,a.originPoint)}const TREE_SCALE_SNAP_MIN=.999999999999,TREE_SCALE_SNAP_MAX=1.0000000000001;function applyTreeDeltas(t,e,a,r=!1){const o=a.length;if(!o)return;e.x=e.y=1;let s,l;for(let c=0;c<o;c++){s=a[c],l=s.projectionDelta;const{visualElement:u}=s.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&transformBox(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,applyBoxDelta(t,l)),r&&hasTransform(s.latestValues)&&transformBox(t,s.latestValues))}e.x<TREE_SCALE_SNAP_MAX&&e.x>TREE_SCALE_SNAP_MIN&&(e.x=1),e.y<TREE_SCALE_SNAP_MAX&&e.y>TREE_SCALE_SNAP_MIN&&(e.y=1)}function translateAxis(t,e){t.min=t.min+e,t.max=t.max+e}function transformAxis(t,e,a,r,o=.5){const s=mixNumber$1(t.min,t.max,o);applyAxisDelta(t,e,a,s,r)}function transformBox(t,e){transformAxis(t.x,e.x,e.scaleX,e.scale,e.originX),transformAxis(t.y,e.y,e.scaleY,e.scale,e.originY)}function measureViewportBox(t,e){return convertBoundingBoxToBox(transformBoxPoints(t.getBoundingClientRect(),e))}function measurePageBox(t,e,a){const r=measureViewportBox(t,a),{scroll:o}=e;return o&&(translateAxis(r.x,o.offset.x),translateAxis(r.y,o.offset.y)),r}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()}),prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>prefersReducedMotion.current=t.matches;t.addEventListener("change",e),e()}else prefersReducedMotion.current=!1}const visualElementStore=new WeakMap;function updateMotionValuesFromProps(t,e,a){for(const r in e){const o=e[r],s=a[r];if(isMotionValue(o))t.addValue(r,o);else if(isMotionValue(s))t.addValue(r,motionValue(o,{owner:t}));else if(s!==o)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(o):l.hasAnimated||l.set(o)}else{const l=t.getStaticValue(r);t.addValue(r,motionValue(l!==void 0?l:o,{owner:t}))}}for(const r in a)e[r]===void 0&&t.removeValue(r);return e}const propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VisualElement{scrapeMotionValuesFromProps(e,a,r){return{}}constructor({parent:e,props:a,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:s,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=time$2.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,frame.render(this.render,!1,!0))};const{latestValues:u,renderState:h}=l;this.latestValues=u,this.baseTarget={...u},this.initialValues=a.initial?{...u}:{},this.renderState=h,this.parent=e,this.props=a,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=c,this.blockInitialAnimation=!!s,this.isControllingVariants=isControllingVariants(a),this.isVariantNode=isVariantNode(a),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...m}=this.scrapeMotionValuesFromProps(a,{},this);for(const g in m){const b=m[g];u[g]!==void 0&&isMotionValue(b)&&b.set(u[g])}}mount(e){this.current=e,visualElementStore.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,r)=>this.bindToMotionValue(r,a)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const a=this.features[e];a&&(a.unmount(),a.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,a){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=transformProps.has(e);r&&this.onBindTransform&&this.onBindTransform();const o=a.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&frame.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,a)),this.valueSubscriptions.set(e,()=>{o(),s&&s(),a.owner&&a.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in featureDefinitions){const a=featureDefinitions[e];if(!a)continue;const{isEnabled:r,Feature:o}=a;if(!this.features[e]&&o&&r(this.props)&&(this.features[e]=new o(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,a){this.latestValues[e]=a}update(e,a){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=a;for(let r=0;r<propEventHandlers.length;r++){const o=propEventHandlers[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const s="on"+o,l=e[s];l&&(this.propEventSubscriptions[o]=this.on(o,l))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const a=this.getClosestVariantNode();if(a)return a.variantChildren&&a.variantChildren.add(e),()=>a.variantChildren.delete(e)}addValue(e,a){const r=this.values.get(e);a!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,a),this.values.set(e,a),this.latestValues[e]=a.get())}removeValue(e){this.values.delete(e);const a=this.valueSubscriptions.get(e);a&&(a(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,a){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&a!==void 0&&(r=motionValue(a===null?void 0:a,{owner:this}),this.addValue(e,r)),r}readValue(e,a){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(isNumericalString(r)||isZeroValueString(r))?r=parseFloat(r):!findValueType(r)&&complex.test(a)&&(r=getAnimatableNone(e,a)),this.setBaseTarget(e,isMotionValue(r)?r.get():r)),isMotionValue(r)?r.get():r}setBaseTarget(e,a){this.baseTarget[e]=a}getBaseTarget(e){const{initial:a}=this.props;let r;if(typeof a=="string"||typeof a=="object"){const s=resolveVariantFromProps(this.props,a,this.presenceContext?.custom);s&&(r=s[e])}if(a&&r!==void 0)return r;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!isMotionValue(o)?o:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,a){return this.events[e]||(this.events[e]=new SubscriptionManager),this.events[e].add(a)}notify(e,...a){this.events[e]&&this.events[e].notify(...a)}scheduleRenderMicrotask(){microtask.render(this.render)}}class DOMVisualElement extends VisualElement{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver}sortInstanceNodePosition(e,a){return e.compareDocumentPosition(a)&2?1:-1}getBaseTargetFromProps(e,a){return e.style?e.style[a]:void 0}removeValueFromRenderState(e,{vars:a,style:r}){delete a[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;isMotionValue(e)&&(this.childSubscription=e.on("change",a=>{this.current&&(this.current.textContent=`${a}`)}))}}function renderHTML(t,{style:e,vars:a},r,o){const s=t.style;let l;for(l in e)s[l]=e[l];o?.applyProjectionStyles(s,r);for(l in a)s.setProperty(l,a[l])}function getComputedStyle$1(t){return window.getComputedStyle(t)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html",this.renderInstance=renderHTML}readValueFromInstance(e,a){if(transformProps.has(a))return this.projection?.isProjecting?defaultTransformValue(a):readTransformValue(e,a);{const r=getComputedStyle$1(e),o=(isCSSVariableName(a)?r.getPropertyValue(a):r[a])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:a}){return measureViewportBox(e,a)}build(e,a,r){buildHTMLStyles(e,a,r.transformTemplate)}scrapeMotionValuesFromProps(e,a,r){return scrapeMotionValuesFromProps$1(e,a,r)}}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(t,e,a,r){renderHTML(t,e,void 0,r);for(const o in e.attrs)t.setAttribute(camelCaseAttributes.has(o)?o:camelToDash(o),e.attrs[o])}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=createBox}getBaseTargetFromProps(e,a){return e[a]}readValueFromInstance(e,a){if(transformProps.has(a)){const r=getDefaultValueType(a);return r&&r.default||0}return a=camelCaseAttributes.has(a)?a:camelToDash(a),e.getAttribute(a)}scrapeMotionValuesFromProps(e,a,r){return scrapeMotionValuesFromProps(e,a,r)}build(e,a,r){buildSVGAttrs(e,a,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,a,r,o){renderSVG(e,a,r,o)}mount(e){this.isSVGTag=isSVGTag(e.tagName),super.mount(e)}}const createDomVisualElement=(t,e)=>isSVGComponent(t)?new SVGVisualElement(e):new HTMLVisualElement(e,{allowProjection:t!==reactExports.Fragment});function resolveVariant(t,e,a){const r=t.getProps();return resolveVariantFromProps(r,e,a!==void 0?a:r.custom,t)}const isKeyframesTarget=t=>Array.isArray(t);function setMotionValue(t,e,a){t.hasValue(e)?t.getValue(e).set(a):t.addValue(e,motionValue(a))}function resolveFinalValueInKeyframes(t){return isKeyframesTarget(t)?t[t.length-1]||0:t}function setTarget(t,e){const a=resolveVariant(t,e);let{transitionEnd:r={},transition:o={},...s}=a||{};s={...s,...r};for(const l in s){const c=resolveFinalValueInKeyframes(s[l]);setMotionValue(t,l,c)}}function isWillChangeMotionValue(t){return!!(isMotionValue(t)&&t.add)}function addValueToWillChange(t,e){const a=t.getValue("willChange");if(isWillChangeMotionValue(a))return a.add(e);if(!a&&MotionGlobalConfig.WillChange){const r=new MotionGlobalConfig.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function getOptimisedAppearId(t){return t.props[optimizedAppearDataAttribute]}const isNotNull=t=>t!==null;function getFinalKeyframe(t,{repeat:e,repeatType:a="loop"},r){const o=t.filter(isNotNull),s=e&&a!=="loop"&&e%2===1?0:o.length-1;return o[s]}const underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(t,{keyframes:e})=>e.length>2?keyframesTransition:transformProps.has(t)?t.startsWith("scale")?criticallyDampedSpring(e[1]):underDampedSpring:ease;function isTransitionDefined({when:t,delay:e,delayChildren:a,staggerChildren:r,staggerDirection:o,repeat:s,repeatType:l,repeatDelay:c,from:u,elapsed:h,...f}){return!!Object.keys(f).length}const animateMotionValue=(t,e,a,r={},o,s)=>l=>{const c=getValueTransition(r,t)||{},u=c.delay||r.delay||0;let{elapsed:h=0}=r;h=h-secondsToMilliseconds(u);const f={keyframes:Array.isArray(a)?a:[null,a],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-h,onUpdate:g=>{e.set(g),c.onUpdate&&c.onUpdate(g)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:s?void 0:o};isTransitionDefined(c)||Object.assign(f,getDefaultTransition(t,f)),f.duration&&(f.duration=secondsToMilliseconds(f.duration)),f.repeatDelay&&(f.repeatDelay=secondsToMilliseconds(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let m=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(makeAnimationInstant(f),f.delay===0&&(m=!0)),(MotionGlobalConfig.instantAnimations||MotionGlobalConfig.skipAnimations)&&(m=!0,makeAnimationInstant(f),f.delay=0),f.allowFlatten=!c.type&&!c.ease,m&&!s&&e.get()!==void 0){const g=getFinalKeyframe(f.keyframes,c);if(g!==void 0){frame.update(()=>{f.onUpdate(g),f.onComplete()});return}}return c.isSync?new JSAnimation(f):new AsyncMotionValueAnimation(f)};function shouldBlockAnimation({protectedKeys:t,needsAnimating:e},a){const r=t.hasOwnProperty(a)&&e[a]!==!0;return e[a]=!1,r}function animateTarget(t,e,{delay:a=0,transitionOverride:r,type:o}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:l,...c}=e;r&&(s=r);const u=[],h=o&&t.animationState&&t.animationState.getState()[o];for(const f in c){const m=t.getValue(f,t.latestValues[f]??null),g=c[f];if(g===void 0||h&&shouldBlockAnimation(h,f))continue;const b={delay:a,...getValueTransition(s||{},f)},w=m.get();if(w!==void 0&&!m.isAnimating&&!Array.isArray(g)&&g===w&&!b.velocity)continue;let E=!1;if(window.MotionHandoffAnimation){const B=getOptimisedAppearId(t);if(B){const O=window.MotionHandoffAnimation(B,f,frame);O!==null&&(b.startTime=O,E=!0)}}addValueToWillChange(t,f),m.start(animateMotionValue(f,m,g,t.shouldReduceMotion&&positionalKeys.has(f)?{type:!1}:b,t,E));const C=m.animation;C&&u.push(C)}return l&&Promise.all(u).then(()=>{frame.update(()=>{l&&setTarget(t,l)})}),u}function calcChildStagger(t,e,a,r=0,o=1){const s=Array.from(t).sort((h,f)=>h.sortNodePosition(f)).indexOf(e),l=t.size,c=(l-1)*r;return typeof a=="function"?a(s,l):o===1?s*r:c-s*r}function animateVariant(t,e,a={}){const r=resolveVariant(t,e,a.type==="exit"?t.presenceContext?.custom:void 0);let{transition:o=t.getDefaultTransition()||{}}=r||{};a.transitionOverride&&(o=a.transitionOverride);const s=r?()=>Promise.all(animateTarget(t,r,a)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:f,staggerDirection:m}=o;return animateChildren(t,e,u,h,f,m,a)}:()=>Promise.resolve(),{when:c}=o;if(c){const[u,h]=c==="beforeChildren"?[s,l]:[l,s];return u().then(()=>h())}else return Promise.all([s(),l(a.delay)])}function animateChildren(t,e,a=0,r=0,o=0,s=1,l){const c=[];for(const u of t.variantChildren)u.notify("AnimationStart",e),c.push(animateVariant(u,e,{...l,delay:a+(typeof r=="function"?0:r)+calcChildStagger(t.variantChildren,u,r,o,s)}).then(()=>u.notify("AnimationComplete",e)));return Promise.all(c)}function animateVisualElement(t,e,a={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(s=>animateVariant(t,s,a));r=Promise.all(o)}else if(typeof e=="string")r=animateVariant(t,e,a);else{const o=typeof e=="function"?resolveVariant(t,e,a.custom):e;r=Promise.all(animateTarget(t,o,a))}return r.then(()=>{t.notify("AnimationComplete",e)})}function shallowCompare(t,e){if(!Array.isArray(e))return!1;const a=e.length;if(a!==t.length)return!1;for(let r=0;r<a;r++)if(e[r]!==t[r])return!1;return!0}const numVariantProps=variantProps.length;function getVariantContext(t){if(!t)return;if(!t.isControllingVariants){const a=t.parent?getVariantContext(t.parent)||{}:{};return t.props.initial!==void 0&&(a.initial=t.props.initial),a}const e={};for(let a=0;a<numVariantProps;a++){const r=variantProps[a],o=t.props[r];(isVariantLabel(o)||o===!1)&&(e[r]=o)}return e}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(t){return e=>Promise.all(e.map(({animation:a,options:r})=>animateVisualElement(t,a,r)))}function createAnimationState(t){let e=animateList(t),a=createState(),r=!0;const o=u=>(h,f)=>{const m=resolveVariant(t,f,u==="exit"?t.presenceContext?.custom:void 0);if(m){const{transition:g,transitionEnd:b,...w}=m;h={...h,...w,...b}}return h};function s(u){e=u(t)}function l(u){const{props:h}=t,f=getVariantContext(t.parent)||{},m=[],g=new Set;let b={},w=1/0;for(let C=0;C<numAnimationTypes;C++){const B=reversePriorityOrder[C],O=a[B],P=h[B]!==void 0?h[B]:f[B],q=isVariantLabel(P),z=B===u?O.isActive:null;z===!1&&(w=C);let V=P===f[B]&&P!==h[B]&&q;if(V&&r&&t.manuallyAnimateOnMount&&(V=!1),O.protectedKeys={...b},!O.isActive&&z===null||!P&&!O.prevProp||isAnimationControls(P)||typeof P=="boolean")continue;const Z=checkVariantsDidChange(O.prevProp,P);let J=Z||B===u&&O.isActive&&!V&&q||C>w&&q,W=!1;const te=Array.isArray(P)?P:[P];let G=te.reduce(o(B),{});z===!1&&(G={});const{prevResolvedValues:D={}}=O,M={...D,...G},v=R=>{J=!0,g.has(R)&&(W=!0,g.delete(R)),O.needsAnimating[R]=!0;const k=t.getValue(R);k&&(k.liveStyle=!1)};for(const R in M){const k=G[R],j=D[R];if(b.hasOwnProperty(R))continue;let I=!1;isKeyframesTarget(k)&&isKeyframesTarget(j)?I=!shallowCompare(k,j):I=k!==j,I?k!=null?v(R):g.add(R):k!==void 0&&g.has(R)?v(R):O.protectedKeys[R]=!0}O.prevProp=P,O.prevResolvedValues=G,O.isActive&&(b={...b,...G}),r&&t.blockInitialAnimation&&(J=!1);const S=V&&Z;J&&(!S||W)&&m.push(...te.map(R=>{const k={type:B};if(typeof R=="string"&&r&&!S&&t.manuallyAnimateOnMount&&t.parent){const{parent:j}=t,I=resolveVariant(j,R);if(j.enteringChildren&&I){const{delayChildren:A}=I.transition||{};k.delay=calcChildStagger(j.enteringChildren,t,A)}}return{animation:R,options:k}}))}if(g.size){const C={};if(typeof h.initial!="boolean"){const B=resolveVariant(t,Array.isArray(h.initial)?h.initial[0]:h.initial);B&&B.transition&&(C.transition=B.transition)}g.forEach(B=>{const O=t.getBaseTarget(B),P=t.getValue(B);P&&(P.liveStyle=!0),C[B]=O??null}),m.push({animation:C})}let E=!!m.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(E=!1),r=!1,E?e(m):Promise.resolve()}function c(u,h){if(a[u].isActive===h)return Promise.resolve();t.variantChildren?.forEach(m=>m.animationState?.setActive(u,h)),a[u].isActive=h;const f=l(u);for(const m in a)a[m].protectedKeys={};return f}return{animateChanges:l,setActive:c,setAnimateFunction:s,getState:()=>a,reset:()=>{a=createState()}}}function checkVariantsDidChange(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!shallowCompare(e,t):!1}function createTypeState(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class Feature{constructor(e){this.isMounted=!1,this.node=e}update(){}}class AnimationFeature extends Feature{constructor(e){super(e),e.animationState||(e.animationState=createAnimationState(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();isAnimationControls(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:a}=this.node.prevProps||{};e!==a&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let id$1=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$1++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:a}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const o=this.node.animationState.setActive("exit",!e);a&&!e&&o.then(()=>{a(this.id)})}mount(){const{register:e,onExitComplete:a}=this.node.presenceContext||{};a&&a(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}};function addDomEvent(t,e,a,r={passive:!0}){return t.addEventListener(e,a,r),()=>t.removeEventListener(e,a)}function extractEventInfo(t){return{point:{x:t.pageX,y:t.pageY}}}const addPointerInfo=t=>e=>isPrimaryPointer(e)&&t(e,extractEventInfo(e));function addPointerEvent(t,e,a,r){return addDomEvent(t,e,addPointerInfo(a),r)}const SCALE_PRECISION=1e-4,SCALE_MIN=1-SCALE_PRECISION,SCALE_MAX=1+SCALE_PRECISION,TRANSLATE_PRECISION=.01,TRANSLATE_MIN=0-TRANSLATE_PRECISION,TRANSLATE_MAX=0+TRANSLATE_PRECISION;function calcLength(t){return t.max-t.min}function isNear(t,e,a){return Math.abs(t-e)<=a}function calcAxisDelta(t,e,a,r=.5){t.origin=r,t.originPoint=mixNumber$1(e.min,e.max,t.origin),t.scale=calcLength(a)/calcLength(e),t.translate=mixNumber$1(a.min,a.max,t.origin)-t.originPoint,(t.scale>=SCALE_MIN&&t.scale<=SCALE_MAX||isNaN(t.scale))&&(t.scale=1),(t.translate>=TRANSLATE_MIN&&t.translate<=TRANSLATE_MAX||isNaN(t.translate))&&(t.translate=0)}function calcBoxDelta(t,e,a,r){calcAxisDelta(t.x,e.x,a.x,r?r.originX:void 0),calcAxisDelta(t.y,e.y,a.y,r?r.originY:void 0)}function calcRelativeAxis(t,e,a){t.min=a.min+e.min,t.max=t.min+calcLength(e)}function calcRelativeBox(t,e,a){calcRelativeAxis(t.x,e.x,a.x),calcRelativeAxis(t.y,e.y,a.y)}function calcRelativeAxisPosition(t,e,a){t.min=e.min-a.min,t.max=t.min+calcLength(e)}function calcRelativePosition(t,e,a){calcRelativeAxisPosition(t.x,e.x,a.x),calcRelativeAxisPosition(t.y,e.y,a.y)}function eachAxis(t){return[t("x"),t("y")]}const getContextWindow=({current:t})=>t?t.ownerDocument.defaultView:null,distance=(t,e)=>Math.abs(t-e);function distance2D(t,e){const a=distance(t.x,e.x),r=distance(t.y,e.y);return Math.sqrt(a**2+r**2)}class PanSession{constructor(e,a,{transformPagePoint:r,contextWindow:o=window,dragSnapToOrigin:s=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=getPanInfo(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,w=distance2D(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!w)return;const{point:E}=g,{timestamp:C}=frameData;this.history.push({...E,timestamp:C});const{onStart:B,onMove:O}=this.handlers;b||(B&&B(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),O&&O(this.lastMoveEvent,g)},this.handlePointerMove=(g,b)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=transformPoint(b,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(g,b)=>{this.end();const{onEnd:w,onSessionEnd:E,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const B=getPanInfo(g.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(b,this.transformPagePoint),this.history);this.startEvent&&w&&w(g,B),E&&E(g,B)},!isPrimaryPointer(e))return;this.dragSnapToOrigin=s,this.handlers=a,this.transformPagePoint=r,this.distanceThreshold=l,this.contextWindow=o||window;const c=extractEventInfo(e),u=transformPoint(c,this.transformPagePoint),{point:h}=u,{timestamp:f}=frameData;this.history=[{...h,timestamp:f}];const{onSessionStart:m}=a;m&&m(e,getPanInfo(u,this.history)),this.removeListeners=pipe$1(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(t,e){return e?{point:e(t.point)}:t}function subtractPoint(t,e){return{x:t.x-e.x,y:t.y-e.y}}function getPanInfo({point:t},e){return{point:t,delta:subtractPoint(t,lastDevicePoint(e)),offset:subtractPoint(t,startDevicePoint(e)),velocity:getVelocity(e,.1)}}function startDevicePoint(t){return t[0]}function lastDevicePoint(t){return t[t.length-1]}function getVelocity(t,e){if(t.length<2)return{x:0,y:0};let a=t.length-1,r=null;const o=lastDevicePoint(t);for(;a>=0&&(r=t[a],!(o.timestamp-r.timestamp>secondsToMilliseconds(e)));)a--;if(!r)return{x:0,y:0};const s=millisecondsToSeconds(o.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const l={x:(o.x-r.x)/s,y:(o.y-r.y)/s};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function applyConstraints(t,{min:e,max:a},r){return e!==void 0&&t<e?t=r?mixNumber$1(e,t,r.min):Math.max(t,e):a!==void 0&&t>a&&(t=r?mixNumber$1(a,t,r.max):Math.min(t,a)),t}function calcRelativeAxisConstraints(t,e,a){return{min:e!==void 0?t.min+e:void 0,max:a!==void 0?t.max+a-(t.max-t.min):void 0}}function calcRelativeConstraints(t,{top:e,left:a,bottom:r,right:o}){return{x:calcRelativeAxisConstraints(t.x,a,o),y:calcRelativeAxisConstraints(t.y,e,r)}}function calcViewportAxisConstraints(t,e){let a=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([a,r]=[r,a]),{min:a,max:r}}function calcViewportConstraints(t,e){return{x:calcViewportAxisConstraints(t.x,e.x),y:calcViewportAxisConstraints(t.y,e.y)}}function calcOrigin(t,e){let a=.5;const r=calcLength(t),o=calcLength(e);return o>r?a=progress(e.min,e.max-r,t.min):r>o&&(a=progress(t.min,t.max-o,e.min)),clamp(0,1,a)}function rebaseAxisConstraints(t,e){const a={};return e.min!==void 0&&(a.min=e.min-t.min),e.max!==void 0&&(a.max=e.max-t.min),a}const defaultElastic=.35;function resolveDragElastic(t=defaultElastic){return t===!1?t=0:t===!0&&(t=defaultElastic),{x:resolveAxisElastic(t,"left","right"),y:resolveAxisElastic(t,"top","bottom")}}function resolveAxisElastic(t,e,a){return{min:resolvePointElastic(t,e),max:resolvePointElastic(t,a)}}function resolvePointElastic(t,e){return typeof t=="number"?t:t[e]||0}const elementDragControls=new WeakMap;class VisualElementDragControls{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:a=!1,distanceThreshold:r}={}){const{presenceContext:o}=this.visualElement;if(o&&o.isPresent===!1)return;const s=m=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),a&&this.snapToCursor(extractEventInfo(m).point)},l=(m,g)=>{const{drag:b,dragPropagation:w,onDragStart:E}=this.getProps();if(b&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=setDragLock(b),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(B=>{let O=this.getAxisMotionValue(B).get()||0;if(percent.test(O)){const{projection:P}=this.visualElement;if(P&&P.layout){const q=P.layout.layoutBox[B];q&&(O=calcLength(q)*(parseFloat(O)/100))}}this.originPoint[B]=O}),E&&frame.postRender(()=>E(m,g)),addValueToWillChange(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},c=(m,g)=>{this.latestPointerEvent=m,this.latestPanInfo=g;const{dragPropagation:b,dragDirectionLock:w,onDirectionLock:E,onDrag:C}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:B}=g;if(w&&this.currentDirection===null){this.currentDirection=getCurrentDirection(B),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",g.point,B),this.updateAxis("y",g.point,B),this.visualElement.render(),C&&C(m,g)},u=(m,g)=>{this.latestPointerEvent=m,this.latestPanInfo=g,this.stop(m,g),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>eachAxis(m=>this.getAnimationState(m)==="paused"&&this.getAxisMotionValue(m).animation?.play()),{dragSnapToOrigin:f}=this.getProps();this.panSession=new PanSession(e,{onSessionStart:s,onStart:l,onMove:c,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:r,contextWindow:getContextWindow(this.visualElement)})}stop(e,a){const r=e||this.latestPointerEvent,o=a||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!o||!r)return;const{velocity:l}=o;this.startAnimation(l);const{onDragEnd:c}=this.getProps();c&&frame.postRender(()=>c(r,o))}cancel(){this.isDragging=!1;const{projection:e,animationState:a}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),a&&a.setActive("whileDrag",!1)}updateAxis(e,a,r){const{drag:o}=this.getProps();if(!r||!shouldDrag(e,o,this.currentDirection))return;const s=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=applyConstraints(l,this.constraints[e],this.elastic[e])),s.set(l)}resolveConstraints(){const{dragConstraints:e,dragElastic:a}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,o=this.constraints;e&&isRefObject(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=calcRelativeConstraints(r.layoutBox,e):this.constraints=!1,this.elastic=resolveDragElastic(a),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(s=>{this.constraints!==!1&&this.getAxisMotionValue(s)&&(this.constraints[s]=rebaseAxisConstraints(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:a}=this.getProps();if(!e||!isRefObject(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const s=measurePageBox(r,o.root,this.visualElement.getTransformPagePoint());let l=calcViewportConstraints(o.layout.layoutBox,s);if(a){const c=a(convertBoxToBoundingBox(l));this.hasMutatedConstraints=!!c,c&&(l=convertBoundingBoxToBox(c))}return l}startAnimation(e){const{drag:a,dragMomentum:r,dragElastic:o,dragTransition:s,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),u=this.constraints||{},h=eachAxis(f=>{if(!shouldDrag(f,a,this.currentDirection))return;let m=u&&u[f]||{};l&&(m={min:0,max:0});const g=o?200:1e6,b=o?40:1e7,w={type:"inertia",velocity:r?e[f]:0,bounceStiffness:g,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...s,...m};return this.startAxisValueAnimation(f,w)});return Promise.all(h).then(c)}startAxisValueAnimation(e,a){const r=this.getAxisMotionValue(e);return addValueToWillChange(this.visualElement,e),r.start(animateMotionValue(e,r,0,a,this.visualElement,!1))}stopAnimation(){eachAxis(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){eachAxis(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const a=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),o=r[a];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){eachAxis(a=>{const{drag:r}=this.getProps();if(!shouldDrag(a,r,this.currentDirection))return;const{projection:o}=this.visualElement,s=this.getAxisMotionValue(a);if(o&&o.layout){const{min:l,max:c}=o.layout.layoutBox[a];s.set(e[a]-mixNumber$1(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:a}=this.getProps(),{projection:r}=this.visualElement;if(!isRefObject(a)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};eachAxis(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const u=c.get();o[l]=calcOrigin({min:u,max:u},this.constraints[l])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),eachAxis(l=>{if(!shouldDrag(l,e,null))return;const c=this.getAxisMotionValue(l),{min:u,max:h}=this.constraints[l];c.set(mixNumber$1(u,h,o[l]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const e=this.visualElement.current,a=addPointerEvent(e,"pointerdown",u=>{const{drag:h,dragListener:f=!0}=this.getProps();h&&f&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();isRefObject(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,s=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),frame.read(r);const l=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),c=o.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:h})=>{this.isDragging&&h&&(eachAxis(f=>{const m=this.getAxisMotionValue(f);m&&(this.originPoint[f]+=u[f].translate,m.set(m.get()+u[f].translate))}),this.visualElement.render())}));return()=>{l(),a(),s(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:a=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:s=!1,dragElastic:l=defaultElastic,dragMomentum:c=!0}=e;return{...e,drag:a,dragDirectionLock:r,dragPropagation:o,dragConstraints:s,dragElastic:l,dragMomentum:c}}}function shouldDrag(t,e,a){return(e===!0||e===t)&&(a===null||a===t)}function getCurrentDirection(t,e=10){let a=null;return Math.abs(t.y)>e?a="y":Math.abs(t.x)>e&&(a="x"),a}class DragGesture extends Feature{constructor(e){super(e),this.removeGroupControls=noop$2,this.removeListeners=noop$2,this.controls=new VisualElementDragControls(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop$2}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=t=>(e,a)=>{t&&frame.postRender(()=>t(e,a))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop$2}onPointerDown(e){this.session=new PanSession(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:a,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:asyncHandler(e),onStart:asyncHandler(a),onMove:r,onEnd:(s,l)=>{delete this.session,o&&frame.postRender(()=>o(s,l))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const correctBorderRadius={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(px.test(t))t=parseFloat(t);else return t;const a=pixelsToPercent(t,e.target.x),r=pixelsToPercent(t,e.target.y);return`${a}% ${r}%`}},correctBoxShadow={correct:(t,{treeScale:e,projectionDelta:a})=>{const r=t,o=complex.parse(t);if(o.length>5)return r;const s=complex.createTransformer(t),l=typeof o[0]!="number"?1:0,c=a.x.scale*e.x,u=a.y.scale*e.y;o[0+l]/=c,o[1+l]/=u;const h=mixNumber$1(c,u,.5);return typeof o[2+l]=="number"&&(o[2+l]/=h),typeof o[3+l]=="number"&&(o[3+l]/=h),s(o)}};let hasTakenAnySnapshot=!1;class MeasureLayoutWithContext extends reactExports.Component{componentDidMount(){const{visualElement:e,layoutGroup:a,switchLayoutGroup:r,layoutId:o}=this.props,{projection:s}=e;addScaleCorrector(defaultScaleCorrectors),s&&(a.group&&a.group.add(s),r&&r.register&&o&&r.register(s),hasTakenAnySnapshot&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:a,visualElement:r,drag:o,isPresent:s}=this.props,{projection:l}=r;return l&&(l.isPresent=s,hasTakenAnySnapshot=!0,o||e.layoutDependency!==a||a===void 0||e.isPresent!==s?l.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?l.promote():l.relegate()||frame.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),microtask.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:a,switchLayoutGroup:r}=this.props,{projection:o}=e;hasTakenAnySnapshot=!0,o&&(o.scheduleCheckAfterUnmount(),a&&a.group&&a.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function MeasureLayout(t){const[e,a]=usePresence(),r=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(MeasureLayoutWithContext,{...t,layoutGroup:r,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:e,safeToRemove:a})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow};function animateSingleValue(t,e,a){const r=isMotionValue(t)?t:motionValue(t);return r.start(animateMotionValue("",r,e,a)),r.animation}const compareByDepth=(t,e)=>t.depth-e.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(e){addUniqueItem(this.children,e),this.isDirty=!0}remove(e){removeItem(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(e)}}function delay(t,e){const a=time$2.now(),r=({timestamp:o})=>{const s=o-a;s>=e&&(cancelFrame(r),t(s-e))};return frame.setup(r,!0),()=>cancelFrame(r)}const borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=t=>typeof t=="string"?parseFloat(t):t,isPx=t=>typeof t=="number"||px.test(t);function mixValues(t,e,a,r,o,s){o?(t.opacity=mixNumber$1(0,a.opacity??1,easeCrossfadeIn(r)),t.opacityExit=mixNumber$1(e.opacity??1,0,easeCrossfadeOut(r))):s&&(t.opacity=mixNumber$1(e.opacity??1,a.opacity??1,r));for(let l=0;l<numBorders;l++){const c=`border${borders[l]}Radius`;let u=getRadius(e,c),h=getRadius(a,c);if(u===void 0&&h===void 0)continue;u||(u=0),h||(h=0),u===0||h===0||isPx(u)===isPx(h)?(t[c]=Math.max(mixNumber$1(asNumber(u),asNumber(h),r),0),(percent.test(h)||percent.test(u))&&(t[c]+="%")):t[c]=h}(e.rotate||a.rotate)&&(t.rotate=mixNumber$1(e.rotate||0,a.rotate||0,r))}function getRadius(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const easeCrossfadeIn=compress$1(0,.5,circOut),easeCrossfadeOut=compress$1(.5,.95,noop$2);function compress$1(t,e,a){return r=>r<t?0:r>e?1:a(progress(t,e,r))}function copyAxisInto(t,e){t.min=e.min,t.max=e.max}function copyBoxInto(t,e){copyAxisInto(t.x,e.x),copyAxisInto(t.y,e.y)}function copyAxisDeltaInto(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function removePointDelta(t,e,a,r,o){return t-=e,t=scalePoint(t,1/a,r),o!==void 0&&(t=scalePoint(t,1/o,r)),t}function removeAxisDelta(t,e=0,a=1,r=.5,o,s=t,l=t){if(percent.test(e)&&(e=parseFloat(e),e=mixNumber$1(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=mixNumber$1(s.min,s.max,r);t===s&&(c-=e),t.min=removePointDelta(t.min,e,a,c,o),t.max=removePointDelta(t.max,e,a,c,o)}function removeAxisTransforms(t,e,[a,r,o],s,l){removeAxisDelta(t,e[a],e[r],e[o],e.scale,s,l)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(t,e,a,r){removeAxisTransforms(t.x,e,xKeys,a?a.x:void 0,r?r.x:void 0),removeAxisTransforms(t.y,e,yKeys,a?a.y:void 0,r?r.y:void 0)}function isAxisDeltaZero(t){return t.translate===0&&t.scale===1}function isDeltaZero(t){return isAxisDeltaZero(t.x)&&isAxisDeltaZero(t.y)}function axisEquals(t,e){return t.min===e.min&&t.max===e.max}function boxEquals(t,e){return axisEquals(t.x,e.x)&&axisEquals(t.y,e.y)}function axisEqualsRounded(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function boxEqualsRounded(t,e){return axisEqualsRounded(t.x,e.x)&&axisEqualsRounded(t.y,e.y)}function aspectRatio(t){return calcLength(t.x)/calcLength(t.y)}function axisDeltaEquals(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class NodeStack{constructor(){this.members=[]}add(e){addUniqueItem(this.members,e),e.scheduleRender()}remove(e){if(removeItem(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const a=this.members[this.members.length-1];a&&this.promote(a)}}relegate(e){const a=this.members.findIndex(o=>e===o);if(a===0)return!1;let r;for(let o=a;o>=0;o--){const s=this.members[o];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,a){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,a&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:a,resumingFrom:r}=e;a.onExitComplete&&a.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(t,e,a){let r="";const o=t.x.translate/e.x,s=t.y.translate/e.y,l=a?.z||0;if((o||s||l)&&(r=`translate3d(${o}px, ${s}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),a){const{transformPerspective:h,rotate:f,rotateX:m,rotateY:g,skewX:b,skewY:w}=a;h&&(r=`perspective(${h}px) ${r}`),f&&(r+=`rotate(${f}deg) `),m&&(r+=`rotateX(${m}deg) `),g&&(r+=`rotateY(${g}deg) `),b&&(r+=`skewX(${b}deg) `),w&&(r+=`skewY(${w}deg) `)}const c=t.x.scale*e.x,u=t.y.scale*e.y;return(c!==1||u!==1)&&(r+=`scale(${c}, ${u})`),r||"none"}const transformAxes=["","X","Y","Z"],animationTarget=1e3;let id=0;function resetDistortingTransform(t,e,a,r){const{latestValues:o}=e;o[t]&&(a[t]=o[t],e.setStaticValue(t,0),r&&(r[t]=0))}function cancelTreeOptimisedTransformAnimations(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const a=getOptimisedAppearId(e);if(window.MotionHasOptimisedAnimation(a,"transform")){const{layout:o,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(a,"transform",frame,!(o||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(r)}function createProjectionNode({attachResizeListener:t,defaultParent:e,measureScroll:a,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(l={},c=e?.()){this.id=id++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new SubscriptionManager),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const u=this.eventHandlers.get(l);u&&u.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=isSVGElement$1(l)&&!isSVGSVGElement(l),this.instance=l;const{layoutId:c,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||c)&&(this.isLayoutDirty=!0),t){let f,m=0;const g=()=>this.root.updateBlockedByResize=!1;frame.read(()=>{m=window.innerWidth}),t(l,()=>{const b=window.innerWidth;b!==m&&(m=b,this.root.updateBlockedByResize=!0,f&&f(),f=delay(g,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeLayoutChanged:g,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||h.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:E,onLayoutAnimationComplete:C}=h.getProps(),B=!this.targetLayout||!boxEqualsRounded(this.targetLayout,b),O=!m&&g;if(this.options.layoutRoot||this.resumeFrom||O||m&&(B||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const P={...getValueTransition(w,"layout"),onPlay:E,onComplete:C};(h.shouldReduceMotion||this.options.layoutRoot)&&(P.delay=0,P.type=!1),this.startAnimation(P),this.setAnimationOrigin(f,O)}else m||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const m=this.path[f];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:c,layout:u}=this.options;if(c===void 0&&!u)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(clearIsLayoutDirty);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate)):this.nodes.forEach(clearIsLayoutDirty),this.clearAllSnapshots();const c=time$2.now();frameData.delta=clamp(0,1e3/60,c-frameData.timestamp),frameData.timestamp=c,frameData.isProcessing=!0,frameSteps.update.process(frameData),frameSteps.preRender.process(frameData),frameSteps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!calcLength(this.snapshot.measuredBox.x)&&!calcLength(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&this.instance){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:u,offset:a(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!o)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!isDeltaZero(this.projectionDelta),u=this.getTransformTemplate(),h=u?u(this.latestValues,""):void 0,f=h!==this.prevTransformTemplateValue;l&&this.instance&&(c||hasTransform(this.latestValues)||f)&&(o(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let u=this.removeElementScroll(c);return l&&(u=this.removeTransform(u)),roundBox(u),{animationId:this.root.animationId,measuredBox:c,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return createBox();const c=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(checkNodeWasScrollRoot))){const{scroll:h}=this.root;h&&(translateAxis(c.x,h.offset.x),translateAxis(c.y,h.offset.y))}return c}removeElementScroll(l){const c=createBox();if(copyBoxInto(c,l),this.scroll?.wasRoot)return c;for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:f,options:m}=h;h!==this.root&&f&&m.layoutScroll&&(f.wasRoot&&copyBoxInto(c,l),translateAxis(c.x,f.offset.x),translateAxis(c.y,f.offset.y))}return c}applyTransform(l,c=!1){const u=createBox();copyBoxInto(u,l);for(let h=0;h<this.path.length;h++){const f=this.path[h];!c&&f.options.layoutScroll&&f.scroll&&f!==f.root&&transformBox(u,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),hasTransform(f.latestValues)&&transformBox(u,f.latestValues)}return hasTransform(this.latestValues)&&transformBox(u,this.latestValues),u}removeTransform(l){const c=createBox();copyBoxInto(c,l);for(let u=0;u<this.path.length;u++){const h=this.path[u];if(!h.instance||!hasTransform(h.latestValues))continue;hasScale(h.latestValues)&&h.updateSnapshot();const f=createBox(),m=h.measurePageBox();copyBoxInto(f,m),removeBoxTransforms(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,f)}return hasTransform(this.latestValues)&&removeBoxTransforms(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(l||u&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:m}=this.options;if(!(!this.layout||!(f||m))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,g.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(u=!1),u)return;const{layout:h,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||f))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,g=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=createBox());const{target:b}=l;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(copyAxisDeltaInto(this.prevProjectionDelta.x,this.projectionDelta.x),copyAxisDeltaInto(this.prevProjectionDelta.y,this.projectionDelta.y)),calcBoxDelta(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==g||!axisDeltaEquals(this.projectionDelta.x,this.prevProjectionDelta.x)||!axisDeltaEquals(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=createDelta(),this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta()}setAnimationOrigin(l,c=!1){const u=this.snapshot,h=u?u.latestValues:{},f={...this.latestValues},m=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const g=createBox(),b=u?u.source:void 0,w=this.layout?this.layout.source:void 0,E=b!==w,C=this.getStack(),B=!C||C.members.length<=1,O=!!(E&&!B&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let P;this.mixTargetDelta=q=>{const z=q/1e3;mixAxisDelta(m.x,l.x,z),mixAxisDelta(m.y,l.y,z),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,g,z),P&&boxEquals(this.relativeTarget,P)&&(this.isProjectionDirty=!1),P||(P=createBox()),copyBoxInto(P,this.relativeTarget)),E&&(this.animationValues=f,mixValues(f,h,this.latestValues,z,O,B)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=motionValue(0)),this.currentAnimation=animateSingleValue(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:u,layout:h,latestValues:f}=l;if(!(!c||!u||!h)){if(this!==l&&this.layout&&h&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,h.layoutBox)){u=this.target||createBox();const m=calcLength(this.layout.layoutBox.x);u.x.min=l.target.x.min,u.x.max=u.x.min+m;const g=calcLength(this.layout.layoutBox.y);u.y.min=l.target.y.min,u.y.max=u.y.min+g}copyBoxInto(c,u),transformBox(c,f),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,c,f)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new NodeStack),this.sharedNodes.get(l).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:u}={}){const h=this.getStack();h&&h.promote(this,u),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:u}=l;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(c=!0),!c)return;const h={};u.z&&resetDistortingTransform("z",l,h,this.animationValues);for(let f=0;f<transformAxes.length;f++)resetDistortingTransform(`rotate${transformAxes[f]}`,l,h,this.animationValues),resetDistortingTransform(`skew${transformAxes[f]}`,l,h,this.animationValues);l.render();for(const f in h)l.setStaticValue(f,h[f]),this.animationValues&&(this.animationValues[f]=h[f]);l.scheduleRender()}applyProjectionStyles(l,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=resolveMotionValue(c?.pointerEvents)||"",l.transform=u?u(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=resolveMotionValue(c?.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(l.transform=u?u({},""):"none",this.hasProjected=!1);return}l.visibility="";const f=h.animationValues||h.latestValues;this.applyTransformsToTarget();let m=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,f);u&&(m=u(f,m)),l.transform=m;const{x:g,y:b}=this.projectionDelta;l.transformOrigin=`${g.origin*100}% ${b.origin*100}% 0`,h.animationValues?l.opacity=h===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:l.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const w in scaleCorrectors){if(f[w]===void 0)continue;const{correct:E,applyTo:C,isCSSVariable:B}=scaleCorrectors[w],O=m==="none"?f[w]:E(f[w],h);if(C){const P=C.length;for(let q=0;q<P;q++)l[C[q]]=O}else B?this.options.visualElement.renderState.vars[w]=O:l[w]=O}this.options.layoutId&&(l.pointerEvents=h===this?resolveMotionValue(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(t){t.updateLayout()}function notifyLayoutUpdate(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:r}=t.layout,{animationType:o}=t.options,s=e.source!==t.layout.source;o==="size"?eachAxis(f=>{const m=s?e.measuredBox[f]:e.layoutBox[f],g=calcLength(m);m.min=a[f].min,m.max=m.min+g}):shouldAnimatePositionOnly(o,e.layoutBox,a)&&eachAxis(f=>{const m=s?e.measuredBox[f]:e.layoutBox[f],g=calcLength(a[f]);m.max=m.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+g)});const l=createDelta();calcBoxDelta(l,a,e.layoutBox);const c=createDelta();s?calcBoxDelta(c,t.applyTransform(r,!0),e.measuredBox):calcBoxDelta(c,a,e.layoutBox);const u=!isDeltaZero(l);let h=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:g}=f;if(m&&g){const b=createBox();calcRelativePosition(b,e.layoutBox,m.layoutBox);const w=createBox();calcRelativePosition(w,a,g.layoutBox),boxEqualsRounded(b,w)||(h=!0),f.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=b,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:a,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:a}=t.options;a&&a()}t.options.transition=void 0}function propagateDirtyNodes(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function cleanDirtyNodes(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function clearSnapshot(t){t.clearSnapshot()}function clearMeasurements(t){t.clearMeasurements()}function clearIsLayoutDirty(t){t.isLayoutDirty=!1}function resetTransformStyle(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function finishAnimation(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function resolveTargetDelta(t){t.resolveTargetDelta()}function calcProjection(t){t.calcProjection()}function resetSkewAndRotation(t){t.resetSkewAndRotation()}function removeLeadSnapshots(t){t.removeLeadSnapshot()}function mixAxisDelta(t,e,a){t.translate=mixNumber$1(e.translate,0,a),t.scale=mixNumber$1(e.scale,1,a),t.origin=e.origin,t.originPoint=e.originPoint}function mixAxis(t,e,a,r){t.min=mixNumber$1(e.min,a.min,r),t.max=mixNumber$1(e.max,a.max,r)}function mixBox(t,e,a,r){mixAxis(t.x,e.x,a.x,r),mixAxis(t.y,e.y,a.y,r)}function hasOpacityCrossfade(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop$2;function roundAxis(t){t.min=roundPoint(t.min),t.max=roundPoint(t.max)}function roundBox(t){roundAxis(t.x),roundAxis(t.y)}function shouldAnimatePositionOnly(t,e,a){return t==="position"||t==="preserve-aspect"&&!isNear(aspectRatio(e),aspectRatio(a),.2)}function checkNodeWasScrollRoot(t){return t!==t.root&&t.scroll?.wasRoot}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(t,e)=>addDomEvent(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const t=new DocumentProjectionNode({});t.mount(window),t.setOptions({layoutScroll:!0}),rootProjectionNode.current=t}return rootProjectionNode.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}};function handleHoverEvent(t,e,a){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",a==="Start");const o="onHover"+a,s=r[o];s&&frame.postRender(()=>s(e,extractEventInfo(e)))}class HoverGesture extends Feature{mount(){const{current:e}=this.node;e&&(this.unmount=hover(e,(a,r)=>(handleHoverEvent(this.node,r,"Start"),o=>handleHoverEvent(this.node,o,"End"))))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe$1(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function handlePressEvent(t,e,a){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",a==="Start");const o="onTap"+(a==="End"?"":a),s=r[o];s&&frame.postRender(()=>s(e,extractEventInfo(e)))}class PressGesture extends Feature{mount(){const{current:e}=this.node;e&&(this.unmount=press(e,(a,r)=>(handlePressEvent(this.node,r,"Start"),(o,{success:s})=>handlePressEvent(this.node,o,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=t=>{const e=observerCallbacks.get(t.target);e&&e(t)},fireAllObserverCallbacks=t=>{t.forEach(fireObserverCallback)};function initIntersectionObserver({root:t,...e}){const a=t||document;observers.has(a)||observers.set(a,{});const r=observers.get(a),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(fireAllObserverCallbacks,{root:t,...e})),r[o]}function observeIntersection(t,e,a){const r=initIntersectionObserver(e);return observerCallbacks.set(t,a),r.observe(t),()=>{observerCallbacks.delete(t),r.unobserve(t)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:a,margin:r,amount:o="some",once:s}=e,l={root:a?a.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:thresholdNames[o]},c=u=>{const{isIntersecting:h}=u;if(this.isInView===h||(this.isInView=h,s&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:f,onViewportLeave:m}=this.node.getProps(),g=h?f:m;g&&g(u)};return observeIntersection(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:a}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(e,a))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:t={}},{viewport:e={}}={}){return a=>t[a]!==e[a]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}},layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},featureBundle={...animations,...gestureAnimations,...drag,...layout},motion=createMotionProxy(featureBundle,createDomVisualElement);const toKebabCase=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),toCamelCase$1=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,a,r)=>r?r.toUpperCase():a.toLowerCase()),toPascalCase=t=>{const e=toCamelCase$1(t);return e.charAt(0).toUpperCase()+e.slice(1)},mergeClasses=(...t)=>t.filter((e,a,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===a).join(" ").trim(),hasA11yProp=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Icon=reactExports.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:a=2,absoluteStrokeWidth:r,className:o="",children:s,iconNode:l,...c},u)=>reactExports.createElement("svg",{ref:u,...defaultAttributes,width:e,height:e,stroke:t,strokeWidth:r?Number(a)*24/Number(e):a,className:mergeClasses("lucide",o),...!s&&!hasA11yProp(c)&&{"aria-hidden":"true"},...c},[...l.map(([h,f])=>reactExports.createElement(h,f)),...Array.isArray(s)?s:[s]]));const createLucideIcon=(t,e)=>{const a=reactExports.forwardRef(({className:r,...o},s)=>reactExports.createElement(Icon,{ref:s,iconNode:e,className:mergeClasses(`lucide-${toKebabCase(toPascalCase(t))}`,`lucide-${t}`,r),...o}));return a.displayName=toPascalCase(t),a};const __iconNode$1e=[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]],ArrowDownLeft=createLucideIcon("arrow-down-left",__iconNode$1e);const __iconNode$1d=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],ArrowLeftRight=createLucideIcon("arrow-left-right",__iconNode$1d);const __iconNode$1c=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ArrowLeft=createLucideIcon("arrow-left",__iconNode$1c);const __iconNode$1b=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],ArrowRightLeft=createLucideIcon("arrow-right-left",__iconNode$1b);const __iconNode$1a=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ArrowRight=createLucideIcon("arrow-right",__iconNode$1a);const __iconNode$19=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],ArrowUpRight=createLucideIcon("arrow-up-right",__iconNode$19);const __iconNode$18=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]],AtSign=createLucideIcon("at-sign",__iconNode$18);const __iconNode$17=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],Banknote=createLucideIcon("banknote",__iconNode$17);const __iconNode$16=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Bell=createLucideIcon("bell",__iconNode$16);const __iconNode$15=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],Box=createLucideIcon("box",__iconNode$15);const __iconNode$14=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],Brain=createLucideIcon("brain",__iconNode$14);const __iconNode$13=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],CheckCheck=createLucideIcon("check-check",__iconNode$13);const __iconNode$12=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Check=createLucideIcon("check",__iconNode$12);const __iconNode$11=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ChevronDown=createLucideIcon("chevron-down",__iconNode$11);const __iconNode$10=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ChevronRight=createLucideIcon("chevron-right",__iconNode$10);const __iconNode$$=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],ChevronUp=createLucideIcon("chevron-up",__iconNode$$);const __iconNode$_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],CircleAlert=createLucideIcon("circle-alert",__iconNode$_);const __iconNode$Z=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],CircleCheckBig=createLucideIcon("circle-check-big",__iconNode$Z);const __iconNode$Y=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],CircleCheck=createLucideIcon("circle-check",__iconNode$Y);const __iconNode$X=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],CircleX=createLucideIcon("circle-x",__iconNode$X);const __iconNode$W=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Clock=createLucideIcon("clock",__iconNode$W);const __iconNode$V=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],Coins=createLucideIcon("coins",__iconNode$V);const __iconNode$U=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Copy=createLucideIcon("copy",__iconNode$U);const __iconNode$T=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],Cpu=createLucideIcon("cpu",__iconNode$T);const __iconNode$S=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],CreditCard=createLucideIcon("credit-card",__iconNode$S);const __iconNode$R=[["rect",{width:"12",height:"12",x:"2",y:"10",rx:"2",ry:"2",key:"6agr2n"}],["path",{d:"m17.92 14 3.5-3.5a2.24 2.24 0 0 0 0-3l-5-4.92a2.24 2.24 0 0 0-3 0L10 6",key:"1o487t"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 14h.01",key:"ssrbsk"}],["path",{d:"M15 6h.01",key:"cblpky"}],["path",{d:"M18 9h.01",key:"2061c0"}]],Dices=createLucideIcon("dices",__iconNode$R);const __iconNode$Q=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Download=createLucideIcon("download",__iconNode$Q);const __iconNode$P=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],ExternalLink=createLucideIcon("external-link",__iconNode$P);const __iconNode$O=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],EyeOff=createLucideIcon("eye-off",__iconNode$O);const __iconNode$N=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Eye=createLucideIcon("eye",__iconNode$N);const __iconNode$M=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],FileText=createLucideIcon("file-text",__iconNode$M);const __iconNode$L=[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]],Gamepad2=createLucideIcon("gamepad-2",__iconNode$L);const __iconNode$K=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],Github=createLucideIcon("github",__iconNode$K);const __iconNode$J=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Globe=createLucideIcon("globe",__iconNode$J);const __iconNode$I=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Hash$1=createLucideIcon("hash",__iconNode$I);const __iconNode$H=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],History=createLucideIcon("history",__iconNode$H);const __iconNode$G=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Image=createLucideIcon("image",__iconNode$G);const __iconNode$F=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Info=createLucideIcon("info",__iconNode$F);const __iconNode$E=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],KeyRound=createLucideIcon("key-round",__iconNode$E);const __iconNode$D=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Key=createLucideIcon("key",__iconNode$D);const __iconNode$C=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Layers=createLucideIcon("layers",__iconNode$C);const __iconNode$B=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],LoaderCircle=createLucideIcon("loader-circle",__iconNode$B);const __iconNode$A=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Lock=createLucideIcon("lock",__iconNode$A);const __iconNode$z=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Menu=createLucideIcon("menu",__iconNode$z);const __iconNode$y=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],MessageCircle=createLucideIcon("message-circle",__iconNode$y);const __iconNode$x=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}],["path",{d:"M12 8v6",key:"1ib9pf"}],["path",{d:"M9 11h6",key:"1fldmi"}]],MessageSquarePlus=createLucideIcon("message-square-plus",__iconNode$x);const __iconNode$w=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],MessageSquare=createLucideIcon("message-square",__iconNode$w);const __iconNode$v=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Moon=createLucideIcon("moon",__iconNode$v);const __iconNode$u=[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]],Network=createLucideIcon("network",__iconNode$u);const __iconNode$t=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Package=createLucideIcon("package",__iconNode$t);const __iconNode$s=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]],PanelLeftClose=createLucideIcon("panel-left-close",__iconNode$s);const __iconNode$r=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],PanelLeft=createLucideIcon("panel-left",__iconNode$r);const __iconNode$q=[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]],Pill=createLucideIcon("pill",__iconNode$q);const __iconNode$p=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Plus=createLucideIcon("plus",__iconNode$p);const __iconNode$o=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],Receipt=createLucideIcon("receipt",__iconNode$o);const __iconNode$n=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],Repeat=createLucideIcon("repeat",__iconNode$n);const __iconNode$m=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],Rocket=createLucideIcon("rocket",__iconNode$m);const __iconNode$l=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],Scissors=createLucideIcon("scissors",__iconNode$l);const __iconNode$k=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Search=createLucideIcon("search",__iconNode$k);const __iconNode$j=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Send=createLucideIcon("send",__iconNode$j);const __iconNode$i=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],ShieldAlert=createLucideIcon("shield-alert",__iconNode$i);const __iconNode$h=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ShieldCheck=createLucideIcon("shield-check",__iconNode$h);const __iconNode$g=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Shield=createLucideIcon("shield",__iconNode$g);const __iconNode$f=[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]],Shirt=createLucideIcon("shirt",__iconNode$f);const __iconNode$e=[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]],ShoppingBag=createLucideIcon("shopping-bag",__iconNode$e);const __iconNode$d=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Sparkles=createLucideIcon("sparkles",__iconNode$d);const __iconNode$c=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],SquareCheckBig=createLucideIcon("square-check-big",__iconNode$c);const __iconNode$b=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Square=createLucideIcon("square",__iconNode$b);const __iconNode$a=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],Sun=createLucideIcon("sun",__iconNode$a);const __iconNode$9=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Tag=createLucideIcon("tag",__iconNode$9);const __iconNode$8=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Trash2=createLucideIcon("trash-2",__iconNode$8);const __iconNode$7=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],TrendingUp=createLucideIcon("trending-up",__iconNode$7);const __iconNode$6=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],TriangleAlert=createLucideIcon("triangle-alert",__iconNode$6);const __iconNode$5=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Trophy=createLucideIcon("trophy",__iconNode$5);const __iconNode$4=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Upload=createLucideIcon("upload",__iconNode$4);const __iconNode$3=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],User=createLucideIcon("user",__iconNode$3);const __iconNode$2=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Wallet$1=createLucideIcon("wallet",__iconNode$2);const __iconNode$1=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],X=createLucideIcon("x",__iconNode$1);const __iconNode=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Zap=createLucideIcon("zap",__iconNode),byteToHex=[];for(let t=0;t<256;++t)byteToHex.push((t+256).toString(16).slice(1));function unsafeStringify(t,e=0){return(byteToHex[t[e+0]]+byteToHex[t[e+1]]+byteToHex[t[e+2]]+byteToHex[t[e+3]]+"-"+byteToHex[t[e+4]]+byteToHex[t[e+5]]+"-"+byteToHex[t[e+6]]+byteToHex[t[e+7]]+"-"+byteToHex[t[e+8]]+byteToHex[t[e+9]]+"-"+byteToHex[t[e+10]]+byteToHex[t[e+11]]+byteToHex[t[e+12]]+byteToHex[t[e+13]]+byteToHex[t[e+14]]+byteToHex[t[e+15]]).toLowerCase()}let getRandomValues;const rnds8=new Uint8Array(16);function rng(){if(!getRandomValues){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");getRandomValues=crypto.getRandomValues.bind(crypto)}return getRandomValues(rnds8)}const randomUUID=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),native={randomUUID};function _v4(t,e,a){t=t||{};const r=t.random??t.rng?.()??rng();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,unsafeStringify(r)}function v4(t,e,a){return native.randomUUID&&!t?native.randomUUID():_v4(t)}const mockMatches=[{id:"1",team1:"Finland",team2:"Estonia",team1Flag:"",team2Flag:"",date:"28.12.25",time:"19:00",odds1:1.85,oddsDraw:3.4,odds2:4.2,image:"https://images.unsplash.com/photo-1574629810360-7efbbe195018?w=400&h=200&fit=crop"},{id:"2",team1:"Germany",team2:"France",team1Flag:"",team2Flag:"",date:"29.12.25",time:"21:00",odds1:2.1,oddsDraw:3.2,odds2:2.9,image:"https://images.unsplash.com/photo-1508098682722-e99c43a406b2?w=400&h=200&fit=crop"}],p2pListings=[{id:"1",name:"Leather Sofa",price:450,seller:{id:"1",name:"Sarah Williams",avatar:"SW"},image:"https://images.unsplash.com/photo-1555041469-a586c61ea9bc?w=400&h=200&fit=crop",description:"Genuine leather 3-seater sofa in excellent condition",location:"New York"},{id:"2",name:"iPhone 14 Pro",price:800,seller:{id:"2",name:"Mike Johnson",avatar:"MJ"},image:"https://images.unsplash.com/photo-1592750475338-74b7b21085ab?w=400&h=200&fit=crop",description:"128GB, Space Black, like new with original box",location:"Los Angeles"},{id:"3",name:"Mountain Bike",price:350,seller:{id:"3",name:"Alex Chen",avatar:"AC"},image:"https://images.unsplash.com/photo-1532298229144-0ec0c57515c7?w=400&h=200&fit=crop",description:"21-speed, aluminum frame, barely used",location:"Chicago"},{id:"4",name:"Gaming PC",price:1200,seller:{id:"4",name:"Emma Davis",avatar:"ED"},image:"https://images.unsplash.com/photo-1587202372775-e229f172b9d7?w=400&h=200&fit=crop",description:"RTX 3070, Ryzen 7, 32GB RAM, RGB setup",location:"Miami"}],merchItems=[{id:"1",name:"Unicity Hoodie",price:59.99,image:"https://images.unsplash.com/photo-1556821840-3a63f95609a7?w=400&h=200&fit=crop",description:"Premium black hoodie with embroidered Unicity logo",sizes:["S","M","L","XL","XXL"]},{id:"2",name:"Crypto T-Shirt",price:29.99,image:"https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?w=400&h=200&fit=crop",description:"Classic fit cotton t-shirt with blockchain design",sizes:["S","M","L","XL"]},{id:"3",name:"Dev Cap",price:24.99,image:"https://images.unsplash.com/photo-1588850561407-ed78c282e89b?w=400&h=200&fit=crop",description:'Snapback cap with "Code & Crypto" embroidery',sizes:["One Size"]},{id:"4",name:"Sphere Mug",price:14.99,image:"https://images.unsplash.com/photo-1514228742587-6b1558fcca3d?w=400&h=200&fit=crop",description:"Ceramic mug with color-changing Sphere logo",sizes:["Standard"]}],MEMORY_KEY_PREFIX="unicity_agent_memory";function getMemoryKey(t,e){return`${MEMORY_KEY_PREFIX}:${t}:${e}`}function loadMemory(t,e){try{const a=getMemoryKey(t,e),r=localStorage.getItem(a);if(!r)return console.log(`[Memory] No stored memory for ${t}:${e}`),{};const o=JSON.parse(r);return console.log(`[Memory] Loaded memory for ${t}:${e}:`,Object.keys(o)),o}catch(a){return console.warn("[Memory] Failed to load memory:",a),{}}}function saveMemory(t,e,a){try{const r=getMemoryKey(t,e),o=JSON.stringify(a);return localStorage.setItem(r,o),console.log(`[Memory] Saved memory for ${t}:${e}:`,Object.keys(a)),!0}catch(r){return r instanceof DOMException&&(r.name==="QuotaExceededError"||r.name==="NS_ERROR_DOM_QUOTA_REACHED")?console.error("[Memory] localStorage quota exceeded. Unable to save memory."):console.error("[Memory] Failed to save memory:",r),!1}}function isLocalStorageAvailable(){try{const t="__localStorage_test__";return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch{return!1}}function isMock(){return!1}function getAgentMode(){return"real"}function getAgentApiUrl(){return"https://sphere.unicity.network/api"}function useAgentChat({activityId:t,userId:e}){const[a,r]=reactExports.useState([]),[o,s]=reactExports.useState(!1),[l,c]=reactExports.useState(null),u=reactExports.useRef(v4()),h=e||u.current,f=reactExports.useRef(null),m=reactExports.useCallback(()=>{f.current&&(f.current.abort(),f.current=null),s(!1),c(null)},[]),g=reactExports.useCallback(async w=>{const E={id:v4(),role:"user",content:w,timestamp:Date.now()};r(B=>[...B,E]);const C={id:v4(),role:"assistant",content:"",timestamp:Date.now()};r(B=>[...B,C]),s(!0),c("Thinking...");try{f.current=new AbortController;const B=getAgentApiUrl(),O=[...a,E].map(W=>({id:W.id,role:W.role,content:[{type:"text",text:W.content}],timestamp:W.timestamp})),P=isLocalStorageAvailable()?loadMemory(h,t):{};console.log("[useAgentChat] Sending memory state:",P);const q=await fetch(`${B}/chat/stream`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({activityId:t,userId:h,messages:O,userContext:{userId:h,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,locale:navigator.language},memoryState:P}),signal:f.current.signal});if(!q.ok)throw new Error(`HTTP ${q.status}`);const z=q.body?.getReader();if(!z)throw new Error("No response body");const V=new TextDecoder;let Z="",J="";for(;;){const{done:W,value:te}=await z.read();if(W)break;Z+=V.decode(te,{stream:!0});const G=Z.split(`
`);Z=G.pop()||"";for(const D of G)if(D.startsWith("data: "))try{const M=JSON.parse(D.slice(6));switch(M.type){case"text-delta":J+=M.text,r(v=>v.map(S=>S.id===C.id?{...S,content:J}:S));break;case"tool-call":c(`Using ${M.toolName}...`);break;case"reasoning":r(v=>v.map(S=>S.id===C.id?{...S,thinking:(S.thinking||"")+M.text}:S));break;case"memory-update":isLocalStorageAvailable()&&M.memoryState&&saveMemory(h,t,M.memoryState);break;case"done":s(!1),c(null);break;case"error":r(v=>v.map(S=>S.id===C.id?{...S,content:`Error: ${M.message}`}:S)),s(!1),c(null);break}}catch{}}}catch(B){if(B instanceof Error&&B.name==="AbortError")return;r(O=>O.map(P=>P.id===C.id?{...P,content:"Failed to connect to agent server. Make sure agentic-chatbot is running."}:P)),s(!1),c(null)}},[t,a,h]),b=reactExports.useCallback(()=>{r([])},[]);return{messages:a,setMessages:r,isStreaming:o,currentStatus:l,sendMessage:g,clearMessages:b,stopGeneration:m,agentMode:getAgentMode()}}var Subscribable=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},defaultTimeoutProvider={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},TimeoutManager=class{#e=defaultTimeoutProvider;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},timeoutManager=new TimeoutManager;function systemSetTimeoutZero(t){setTimeout(t,0)}var isServer=typeof window>"u"||"Deno"in globalThis;function noop$1(){}function functionalUpdate(t,e){return typeof t=="function"?t(e):t}function isValidTimeout(t){return typeof t=="number"&&t>=0&&t!==1/0}function timeUntilStale(t,e){return Math.max(t+(e||0)-Date.now(),0)}function resolveStaleTime(t,e){return typeof t=="function"?t(e):t}function resolveEnabled(t,e){return typeof t=="function"?t(e):t}function matchQuery(t,e){const{type:a="all",exact:r,fetchStatus:o,predicate:s,queryKey:l,stale:c}=t;if(l){if(r){if(e.queryHash!==hashQueryKeyByOptions(l,e.options))return!1}else if(!partialMatchKey(e.queryKey,l))return!1}if(a!=="all"){const u=e.isActive();if(a==="active"&&!u||a==="inactive"&&u)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||o&&o!==e.state.fetchStatus||s&&!s(e))}function matchMutation(t,e){const{exact:a,status:r,predicate:o,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(a){if(hashKey(e.options.mutationKey)!==hashKey(s))return!1}else if(!partialMatchKey(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||o&&!o(e))}function hashQueryKeyByOptions(t,e){return(e?.queryKeyHashFn||hashKey)(t)}function hashKey(t){return JSON.stringify(t,(e,a)=>isPlainObject$2(a)?Object.keys(a).sort().reduce((r,o)=>(r[o]=a[o],r),{}):a)}function partialMatchKey(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(a=>partialMatchKey(t[a],e[a])):!1}var hasOwn=Object.prototype.hasOwnProperty;function replaceEqualDeep(t,e){if(t===e)return t;const a=isPlainArray(t)&&isPlainArray(e);if(!a&&!(isPlainObject$2(t)&&isPlainObject$2(e)))return e;const o=(a?t:Object.keys(t)).length,s=a?e:Object.keys(e),l=s.length,c=a?new Array(l):{};let u=0;for(let h=0;h<l;h++){const f=a?h:s[h],m=t[f],g=e[f];if(m===g){c[f]=m,(a?h<o:hasOwn.call(t,f))&&u++;continue}if(m===null||g===null||typeof m!="object"||typeof g!="object"){c[f]=g;continue}const b=replaceEqualDeep(m,g);c[f]=b,b===m&&u++}return o===l&&u===o?t:c}function shallowEqualObjects(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const a in t)if(t[a]!==e[a])return!1;return!0}function isPlainArray(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function isPlainObject$2(t){if(!hasObjectPrototype(t))return!1;const e=t.constructor;if(e===void 0)return!0;const a=e.prototype;return!(!hasObjectPrototype(a)||!a.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function hasObjectPrototype(t){return Object.prototype.toString.call(t)==="[object Object]"}function sleep$1(t){return new Promise(e=>{timeoutManager.setTimeout(e,t)})}function replaceData(t,e,a){return typeof a.structuralSharing=="function"?a.structuralSharing(t,e):a.structuralSharing!==!1?replaceEqualDeep(t,e):e}function addToEnd(t,e,a=0){const r=[...t,e];return a&&r.length>a?r.slice(1):r}function addToStart(t,e,a=0){const r=[e,...t];return a&&r.length>a?r.slice(0,-1):r}var skipToken=Symbol();function ensureQueryFn(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===skipToken?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function shouldThrowError(t,e){return typeof t=="function"?t(...e):!!t}var FocusManager=class extends Subscribable{#e;#t;#r;constructor(){super(),this.#r=t=>{if(!isServer&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},focusManager=new FocusManager;function pendingThenable(){let t,e;const a=new Promise((o,s)=>{t=o,e=s});a.status="pending",a.catch(()=>{});function r(o){Object.assign(a,o),delete a.resolve,delete a.reject}return a.resolve=o=>{r({status:"fulfilled",value:o}),t(o)},a.reject=o=>{r({status:"rejected",reason:o}),e(o)},a}var defaultScheduler=systemSetTimeoutZero;function createNotifyManager(){let t=[],e=0,a=c=>{c()},r=c=>{c()},o=defaultScheduler;const s=c=>{e?t.push(c):o(()=>{a(c)})},l=()=>{const c=t;t=[],c.length&&o(()=>{r(()=>{c.forEach(u=>{a(u)})})})};return{batch:c=>{let u;e++;try{u=c()}finally{e--,e||l()}return u},batchCalls:c=>(...u)=>{s(()=>{c(...u)})},schedule:s,setNotifyFunction:c=>{a=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{o=c}}}var notifyManager=createNotifyManager(),OnlineManager=class extends Subscribable{#e=!0;#t;#r;constructor(){super(),this.#r=t=>{if(!isServer&&window.addEventListener){const e=()=>t(!0),a=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",a)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#r=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(a=>{a(t)}))}isOnline(){return this.#e}},onlineManager=new OnlineManager;function defaultRetryDelay(t){return Math.min(1e3*2**t,3e4)}function canFetch(t){return(t??"online")==="online"?onlineManager.isOnline():!0}var CancelledError=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function createRetryer(t){let e=!1,a=0,r;const o=pendingThenable(),s=()=>o.status!=="pending",l=E=>{if(!s()){const C=new CancelledError(E);g(C),t.onCancel?.(C)}},c=()=>{e=!0},u=()=>{e=!1},h=()=>focusManager.isFocused()&&(t.networkMode==="always"||onlineManager.isOnline())&&t.canRun(),f=()=>canFetch(t.networkMode)&&t.canRun(),m=E=>{s()||(r?.(),o.resolve(E))},g=E=>{s()||(r?.(),o.reject(E))},b=()=>new Promise(E=>{r=C=>{(s()||h())&&E(C)},t.onPause?.()}).then(()=>{r=void 0,s()||t.onContinue?.()}),w=()=>{if(s())return;let E;const C=a===0?t.initialPromise:void 0;try{E=C??t.fn()}catch(B){E=Promise.reject(B)}Promise.resolve(E).then(m).catch(B=>{if(s())return;const O=t.retry??(isServer?0:3),P=t.retryDelay??defaultRetryDelay,q=typeof P=="function"?P(a,B):P,z=O===!0||typeof O=="number"&&a<O||typeof O=="function"&&O(a,B);if(e||!z){g(B);return}a++,t.onFail?.(a,B),sleep$1(q).then(()=>h()?void 0:b()).then(()=>{e?g(B):w()})})};return{promise:o,status:()=>o.status,cancel:l,continue:()=>(r?.(),o),cancelRetry:c,continueRetry:u,canStart:f,start:()=>(f()?w():b().then(w),o)}}var Removable=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),isValidTimeout(this.gcTime)&&(this.#e=timeoutManager.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(isServer?1/0:300*1e3))}clearGcTimeout(){this.#e&&(timeoutManager.clearTimeout(this.#e),this.#e=void 0)}},Query=class extends Removable{#e;#t;#r;#i;#n;#o;#s;constructor(t){super(),this.#s=!1,this.#o=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#i=t.client,this.#r=this.#i.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=getDefaultState$1(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#n?.promise}setOptions(t){if(this.options={...this.#o,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=getDefaultState$1(this.options);e.data!==void 0&&(this.setState(successState(e.data,e.dataUpdatedAt)),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(t,e){const a=replaceData(this.state.data,t,this.options);return this.#a({data:a,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),a}setState(t,e){this.#a({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#n?.promise;return this.#n?.cancel(t),e?e.then(noop$1).catch(noop$1):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>resolveEnabled(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===skipToken||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>resolveStaleTime(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!timeUntilStale(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#n?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#n?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#n&&(this.#s?this.#n.cancel({revert:!0}):this.#n.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#n?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#n)return this.#n.continueRetry(),this.#n.promise}if(t&&this.setOptions(t),!this.options.queryFn){const c=this.observers.find(u=>u.options.queryFn);c&&this.setOptions(c.options)}const a=new AbortController,r=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#s=!0,a.signal)})},o=()=>{const c=ensureQueryFn(this.options,e),h=(()=>{const f={client:this.#i,queryKey:this.queryKey,meta:this.meta};return r(f),f})();return this.#s=!1,this.options.persister?this.options.persister(c,h,this):c(h)},l=(()=>{const c={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:o};return r(c),c})();this.options.behavior?.onFetch(l,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==l.fetchOptions?.meta)&&this.#a({type:"fetch",meta:l.fetchOptions?.meta}),this.#n=createRetryer({initialPromise:e?.initialPromise,fn:l.fetchFn,onCancel:c=>{c instanceof CancelledError&&c.revert&&this.setState({...this.#t,fetchStatus:"idle"}),a.abort()},onFail:(c,u)=>{this.#a({type:"failed",failureCount:c,error:u})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0});try{const c=await this.#n.start();if(c===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(c),this.#r.config.onSuccess?.(c,this),this.#r.config.onSettled?.(c,this.state.error,this),c}catch(c){if(c instanceof CancelledError){if(c.silent)return this.#n.promise;if(c.revert){if(this.state.data===void 0)throw c;return this.state.data}}throw this.#a({type:"error",error:c}),this.#r.config.onError?.(c,this),this.#r.config.onSettled?.(this.state.data,c,this),c}finally{this.scheduleGc()}}#a(t){const e=a=>{switch(t.type){case"failed":return{...a,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...fetchState(a.data,this.options),fetchMeta:t.meta??null};case"success":const r={...a,...successState(t.data,t.dataUpdatedAt),dataUpdateCount:a.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?r:void 0,r;case"error":const o=t.error;return{...a,error:o,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...t.state}}};this.state=e(this.state),notifyManager.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:t})})}};function fetchState(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:canFetch(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function successState(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function getDefaultState$1(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,a=e!==void 0,r=a?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:a?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:a?"success":"pending",fetchStatus:"idle"}}var QueryObserver=class extends Subscribable{constructor(t,e){super(),this.options=e,this.#e=t,this.#a=null,this.#s=pendingThenable(),this.bindMethods(),this.setOptions(e)}#e;#t=void 0;#r=void 0;#i=void 0;#n;#o;#s;#a;#m;#f;#h;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),shouldFetchOnMount(this.#t,this.options)?this.#d():this.updateResult(),this.#y())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return shouldFetchOn(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return shouldFetchOn(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#t.removeObserver(this)}setOptions(t){const e=this.options,a=this.#t;if(this.options=this.#e.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof resolveEnabled(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#t.setOptions(this.options),e._defaulted&&!shallowEqualObjects(this.options,e)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&shouldFetchOptionally(this.#t,a,this.options,e)&&this.#d(),this.updateResult(),r&&(this.#t!==a||resolveEnabled(this.options.enabled,this.#t)!==resolveEnabled(e.enabled,this.#t)||resolveStaleTime(this.options.staleTime,this.#t)!==resolveStaleTime(e.staleTime,this.#t))&&this.#g();const o=this.#v();r&&(this.#t!==a||resolveEnabled(this.options.enabled,this.#t)!==resolveEnabled(e.enabled,this.#t)||o!==this.#l)&&this.#x(o)}getOptimisticResult(t){const e=this.#e.getQueryCache().build(this.#e,t),a=this.createResult(e,t);return shouldAssignObserverCurrentProperties(this,a)&&(this.#i=a,this.#o=this.options,this.#n=this.#t.state),a}getCurrentResult(){return this.#i}trackResult(t,e){return new Proxy(t,{get:(a,r)=>(this.trackProp(r),e?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#s.status==="pending"&&this.#s.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(a,r))})}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#t}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#e.defaultQueryOptions(t),a=this.#e.getQueryCache().build(this.#e,e);return a.fetch().then(()=>this.createResult(a,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#d(t){this.#_();let e=this.#t.fetch(this.options,t);return t?.throwOnError||(e=e.catch(noop$1)),e}#g(){this.#b();const t=resolveStaleTime(this.options.staleTime,this.#t);if(isServer||this.#i.isStale||!isValidTimeout(t))return;const a=timeUntilStale(this.#i.dataUpdatedAt,t)+1;this.#c=timeoutManager.setTimeout(()=>{this.#i.isStale||this.updateResult()},a)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#x(t){this.#w(),this.#l=t,!(isServer||resolveEnabled(this.options.enabled,this.#t)===!1||!isValidTimeout(this.#l)||this.#l===0)&&(this.#u=timeoutManager.setInterval(()=>{(this.options.refetchIntervalInBackground||focusManager.isFocused())&&this.#d()},this.#l))}#y(){this.#g(),this.#x(this.#v())}#b(){this.#c&&(timeoutManager.clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(timeoutManager.clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const a=this.#t,r=this.options,o=this.#i,s=this.#n,l=this.#o,u=t!==a?t.state:this.#r,{state:h}=t;let f={...h},m=!1,g;if(e._optimisticResults){const J=this.hasListeners(),W=!J&&shouldFetchOnMount(t,e),te=J&&shouldFetchOptionally(t,a,e,r);(W||te)&&(f={...f,...fetchState(h.data,t.options)}),e._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:b,errorUpdatedAt:w,status:E}=f;g=f.data;let C=!1;if(e.placeholderData!==void 0&&g===void 0&&E==="pending"){let J;o?.isPlaceholderData&&e.placeholderData===l?.placeholderData?(J=o.data,C=!0):J=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,J!==void 0&&(E="success",g=replaceData(o?.data,J,e),m=!0)}if(e.select&&g!==void 0&&!C)if(o&&g===s?.data&&e.select===this.#m)g=this.#f;else try{this.#m=e.select,g=e.select(g),g=replaceData(o?.data,g,e),this.#f=g,this.#a=null}catch(J){this.#a=J}this.#a&&(b=this.#a,g=this.#f,w=Date.now(),E="error");const B=f.fetchStatus==="fetching",O=E==="pending",P=E==="error",q=O&&B,z=g!==void 0,Z={status:E,fetchStatus:f.fetchStatus,isPending:O,isSuccess:E==="success",isError:P,isInitialLoading:q,isLoading:q,data:g,dataUpdatedAt:f.dataUpdatedAt,error:b,errorUpdatedAt:w,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>u.dataUpdateCount||f.errorUpdateCount>u.errorUpdateCount,isFetching:B,isRefetching:B&&!O,isLoadingError:P&&!z,isPaused:f.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:P&&z,isStale:isStale(t,e),refetch:this.refetch,promise:this.#s,isEnabled:resolveEnabled(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const J=G=>{Z.status==="error"?G.reject(Z.error):Z.data!==void 0&&G.resolve(Z.data)},W=()=>{const G=this.#s=Z.promise=pendingThenable();J(G)},te=this.#s;switch(te.status){case"pending":t.queryHash===a.queryHash&&J(te);break;case"fulfilled":(Z.status==="error"||Z.data!==te.value)&&W();break;case"rejected":(Z.status!=="error"||Z.error!==te.reason)&&W();break}}return Z}updateResult(){const t=this.#i,e=this.createResult(this.#t,this.options);if(this.#n=this.#t.state,this.#o=this.options,this.#n.data!==void 0&&(this.#h=this.#t),shallowEqualObjects(e,t))return;this.#i=e;const a=()=>{if(!t)return!0;const{notifyOnChangeProps:r}=this.options,o=typeof r=="function"?r():r;if(o==="all"||!o&&!this.#p.size)return!0;const s=new Set(o??this.#p);return this.options.throwOnError&&s.add("error"),Object.keys(this.#i).some(l=>{const c=l;return this.#i[c]!==t[c]&&s.has(c)})};this.#E({listeners:a()})}#_(){const t=this.#e.getQueryCache().build(this.#e,this.options);if(t===this.#t)return;const e=this.#t;this.#t=t,this.#r=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#y()}#E(t){notifyManager.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#i)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function shouldLoadOnMount(t,e){return resolveEnabled(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function shouldFetchOnMount(t,e){return shouldLoadOnMount(t,e)||t.state.data!==void 0&&shouldFetchOn(t,e,e.refetchOnMount)}function shouldFetchOn(t,e,a){if(resolveEnabled(e.enabled,t)!==!1&&resolveStaleTime(e.staleTime,t)!=="static"){const r=typeof a=="function"?a(t):a;return r==="always"||r!==!1&&isStale(t,e)}return!1}function shouldFetchOptionally(t,e,a,r){return(t!==e||resolveEnabled(r.enabled,t)===!1)&&(!a.suspense||t.state.status!=="error")&&isStale(t,a)}function isStale(t,e){return resolveEnabled(e.enabled,t)!==!1&&t.isStaleByTime(resolveStaleTime(e.staleTime,t))}function shouldAssignObserverCurrentProperties(t,e){return!shallowEqualObjects(t.getCurrentResult(),e)}function infiniteQueryBehavior(t){return{onFetch:(e,a)=>{const r=e.options,o=e.fetchOptions?.meta?.fetchMore?.direction,s=e.state.data?.pages||[],l=e.state.data?.pageParams||[];let c={pages:[],pageParams:[]},u=0;const h=async()=>{let f=!1;const m=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(e.signal.aborted?f=!0:e.signal.addEventListener("abort",()=>{f=!0}),e.signal)})},g=ensureQueryFn(e.options,e.fetchOptions),b=async(w,E,C)=>{if(f)return Promise.reject();if(E==null&&w.pages.length)return Promise.resolve(w);const O=(()=>{const V={client:e.client,queryKey:e.queryKey,pageParam:E,direction:C?"backward":"forward",meta:e.options.meta};return m(V),V})(),P=await g(O),{maxPages:q}=e.options,z=C?addToStart:addToEnd;return{pages:z(w.pages,P,q),pageParams:z(w.pageParams,E,q)}};if(o&&s.length){const w=o==="backward",E=w?getPreviousPageParam:getNextPageParam,C={pages:s,pageParams:l},B=E(r,C);c=await b(C,B,w)}else{const w=t??s.length;do{const E=u===0?l[0]??r.initialPageParam:getNextPageParam(r,c);if(u>0&&E==null)break;c=await b(c,E),u++}while(u<w)}return c};e.options.persister?e.fetchFn=()=>e.options.persister?.(h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},a):e.fetchFn=h}}}function getNextPageParam(t,{pages:e,pageParams:a}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,a[r],a):void 0}function getPreviousPageParam(t,{pages:e,pageParams:a}){return e.length>0?t.getPreviousPageParam?.(e[0],e,a[0],a):void 0}var Mutation=class extends Removable{#e;#t;#r;#i;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#r=t.mutationCache,this.#t=[],this.state=t.state||getDefaultState(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#r.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#r.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#n({type:"continue"})},a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#i=createRetryer({fn:()=>this.options.mutationFn?this.options.mutationFn(t,a):Promise.reject(new Error("No mutationFn found")),onFail:(s,l)=>{this.#n({type:"failed",failureCount:s,error:l})},onPause:()=>{this.#n({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#r.canRun(this)});const r=this.state.status==="pending",o=!this.#i.canStart();try{if(r)e();else{this.#n({type:"pending",variables:t,isPaused:o}),await this.#r.config.onMutate?.(t,this,a);const l=await this.options.onMutate?.(t,a);l!==this.state.context&&this.#n({type:"pending",context:l,variables:t,isPaused:o})}const s=await this.#i.start();return await this.#r.config.onSuccess?.(s,t,this.state.context,this,a),await this.options.onSuccess?.(s,t,this.state.context,a),await this.#r.config.onSettled?.(s,null,this.state.variables,this.state.context,this,a),await this.options.onSettled?.(s,null,t,this.state.context,a),this.#n({type:"success",data:s}),s}catch(s){try{throw await this.#r.config.onError?.(s,t,this.state.context,this,a),await this.options.onError?.(s,t,this.state.context,a),await this.#r.config.onSettled?.(void 0,s,this.state.variables,this.state.context,this,a),await this.options.onSettled?.(void 0,s,t,this.state.context,a),s}finally{this.#n({type:"error",error:s})}}finally{this.#r.runNext(this)}}#n(t){const e=a=>{switch(t.type){case"failed":return{...a,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...a,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:t.error,failureCount:a.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),notifyManager.batch(()=>{this.#t.forEach(a=>{a.onMutationUpdate(t)}),this.#r.notify({mutation:this,type:"updated",action:t})})}};function getDefaultState(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var MutationCache=class extends Subscribable{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#r=0}#e;#t;#r;build(t,e,a){const r=new Mutation({client:t,mutationCache:this,mutationId:++this.#r,options:t.defaultMutationOptions(e),state:a});return this.add(r),r}add(t){this.#e.add(t);const e=scopeFor(t);if(typeof e=="string"){const a=this.#t.get(e);a?a.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=scopeFor(t);if(typeof e=="string"){const a=this.#t.get(e);if(a)if(a.length>1){const r=a.indexOf(t);r!==-1&&a.splice(r,1)}else a[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=scopeFor(t);if(typeof e=="string"){const r=this.#t.get(e)?.find(o=>o.state.status==="pending");return!r||r===t}else return!0}runNext(t){const e=scopeFor(t);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==t&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){notifyManager.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(a=>matchMutation(e,a))}findAll(t={}){return this.getAll().filter(e=>matchMutation(t,e))}notify(t){notifyManager.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return notifyManager.batch(()=>Promise.all(t.map(e=>e.continue().catch(noop$1))))}};function scopeFor(t){return t.options.scope?.id}var MutationObserver$1=class extends Subscribable{#e;#t=void 0;#r;#i;constructor(e,a){super(),this.#e=e,this.setOptions(a),this.bindMethods(),this.#n()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const a=this.options;this.options=this.#e.defaultMutationOptions(e),shallowEqualObjects(this.options,a)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),a?.mutationKey&&this.options.mutationKey&&hashKey(a.mutationKey)!==hashKey(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#n(),this.#o(e)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#n(),this.#o()}mutate(e,a){return this.#i=a,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(e)}#n(){const e=this.#r?.state??getDefaultState();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#o(e){notifyManager.batch(()=>{if(this.#i&&this.hasListeners()){const a=this.#t.variables,r=this.#t.context,o={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#i.onSuccess?.(e.data,a,r,o),this.#i.onSettled?.(e.data,null,a,r,o)):e?.type==="error"&&(this.#i.onError?.(e.error,a,r,o),this.#i.onSettled?.(void 0,e.error,a,r,o))}this.listeners.forEach(a=>{a(this.#t)})})}},QueryCache=class extends Subscribable{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,a){const r=e.queryKey,o=e.queryHash??hashQueryKeyByOptions(r,e);let s=this.get(o);return s||(s=new Query({client:t,queryKey:r,queryHash:o,options:t.defaultQueryOptions(e),state:a,defaultOptions:t.getQueryDefaults(r)}),this.add(s)),s}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){notifyManager.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(a=>matchQuery(e,a))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(a=>matchQuery(t,a)):e}notify(t){notifyManager.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){notifyManager.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){notifyManager.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},QueryClient=class{#e;#t;#r;#i;#n;#o;#s;#a;constructor(t={}){this.#e=t.queryCache||new QueryCache,this.#t=t.mutationCache||new MutationCache,this.#r=t.defaultOptions||{},this.#i=new Map,this.#n=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#s=focusManager.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=onlineManager.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#s?.(),this.#s=void 0,this.#a?.(),this.#a=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),a=this.#e.build(this,e),r=a.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&a.isStaleByTime(resolveStaleTime(e.staleTime,a))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:a})=>{const r=a.data;return[e,r]})}setQueryData(t,e,a){const r=this.defaultQueryOptions({queryKey:t}),s=this.#e.get(r.queryHash)?.state.data,l=functionalUpdate(e,s);if(l!==void 0)return this.#e.build(this,r).setData(l,{...a,manual:!0})}setQueriesData(t,e,a){return notifyManager.batch(()=>this.#e.findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,a)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;notifyManager.batch(()=>{e.findAll(t).forEach(a=>{e.remove(a)})})}resetQueries(t,e){const a=this.#e;return notifyManager.batch(()=>(a.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const a={revert:!0,...e},r=notifyManager.batch(()=>this.#e.findAll(t).map(o=>o.cancel(a)));return Promise.all(r).then(noop$1).catch(noop$1)}invalidateQueries(t,e={}){return notifyManager.batch(()=>(this.#e.findAll(t).forEach(a=>{a.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const a={...e,cancelRefetch:e.cancelRefetch??!0},r=notifyManager.batch(()=>this.#e.findAll(t).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let s=o.fetch(void 0,a);return a.throwOnError||(s=s.catch(noop$1)),o.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(noop$1)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const a=this.#e.build(this,e);return a.isStaleByTime(resolveStaleTime(e.staleTime,a))?a.fetch(e):Promise.resolve(a.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(noop$1).catch(noop$1)}fetchInfiniteQuery(t){return t.behavior=infiniteQueryBehavior(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(noop$1).catch(noop$1)}ensureInfiniteQueryData(t){return t.behavior=infiniteQueryBehavior(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return onlineManager.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#r}setDefaultOptions(t){this.#r=t}setQueryDefaults(t,e){this.#i.set(hashKey(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#i.values()],a={};return e.forEach(r=>{partialMatchKey(t,r.queryKey)&&Object.assign(a,r.defaultOptions)}),a}setMutationDefaults(t,e){this.#n.set(hashKey(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#n.values()],a={};return e.forEach(r=>{partialMatchKey(t,r.mutationKey)&&Object.assign(a,r.defaultOptions)}),a}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#r.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=hashQueryKeyByOptions(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===skipToken&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#r.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},QueryClientContext=reactExports.createContext(void 0),useQueryClient=t=>{const e=reactExports.useContext(QueryClientContext);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},QueryClientProvider=({client:t,children:e})=>(reactExports.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),jsxRuntimeExports.jsx(QueryClientContext.Provider,{value:t,children:e})),IsRestoringContext=reactExports.createContext(!1),useIsRestoring=()=>reactExports.useContext(IsRestoringContext);IsRestoringContext.Provider;function createValue(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var QueryErrorResetBoundaryContext=reactExports.createContext(createValue()),useQueryErrorResetBoundary=()=>reactExports.useContext(QueryErrorResetBoundaryContext),ensurePreventErrorBoundaryRetry=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},useClearResetErrorBoundary=t=>{reactExports.useEffect(()=>{t.clearReset()},[t])},getHasError=({result:t,errorResetBoundary:e,throwOnError:a,query:r,suspense:o})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&(o&&t.data===void 0||shouldThrowError(a,[t.error,r])),ensureSuspenseTimers=t=>{if(t.suspense){const a=o=>o==="static"?o:Math.max(o??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...o)=>a(r(...o)):a(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},willFetch=(t,e)=>t.isLoading&&t.isFetching&&!e,shouldSuspend=(t,e)=>t?.suspense&&e.isPending,fetchOptimistic=(t,e,a)=>e.fetchOptimistic(t).catch(()=>{a.clearReset()});function useBaseQuery(t,e,a){const r=useIsRestoring(),o=useQueryErrorResetBoundary(),s=useQueryClient(),l=s.defaultQueryOptions(t);s.getDefaultOptions().queries?._experimental_beforeQuery?.(l),l._optimisticResults=r?"isRestoring":"optimistic",ensureSuspenseTimers(l),ensurePreventErrorBoundaryRetry(l,o),useClearResetErrorBoundary(o);const c=!s.getQueryCache().get(l.queryHash),[u]=reactExports.useState(()=>new e(s,l)),h=u.getOptimisticResult(l),f=!r&&t.subscribed!==!1;if(reactExports.useSyncExternalStore(reactExports.useCallback(m=>{const g=f?u.subscribe(notifyManager.batchCalls(m)):noop$1;return u.updateResult(),g},[u,f]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),reactExports.useEffect(()=>{u.setOptions(l)},[l,u]),shouldSuspend(l,h))throw fetchOptimistic(l,u,o);if(getHasError({result:h,errorResetBoundary:o,throwOnError:l.throwOnError,query:s.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw h.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(l,h),l.experimental_prefetchInRender&&!isServer&&willFetch(h,r)&&(c?fetchOptimistic(l,u,o):s.getQueryCache().get(l.queryHash)?.promise)?.catch(noop$1).finally(()=>{u.updateResult()}),l.notifyOnChangeProps?h:u.trackResult(h)}function useQuery(t,e){return useBaseQuery(t,QueryObserver)}function useMutation(t,e){const a=useQueryClient(),[r]=reactExports.useState(()=>new MutationObserver$1(a,t));reactExports.useEffect(()=>{r.setOptions(t)},[r,t]);const o=reactExports.useSyncExternalStore(reactExports.useCallback(l=>r.subscribe(notifyManager.batchCalls(l)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=reactExports.useCallback((l,c)=>{r.mutate(l,c).catch(noop$1)},[r]);if(o.error&&shouldThrowError(r.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:s,mutateAsync:o.mutate}}const THEME_STORAGE_KEY="sphere-theme",THEME_QUERY_KEY=["theme"];function getStoredTheme(){if(typeof window>"u")return"dark";const t=localStorage.getItem(THEME_STORAGE_KEY);return t==="light"||t==="dark"?t:window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark"}function applyTheme(t){const e=document.documentElement;t==="dark"?(e.classList.add("dark"),e.classList.remove("light")):(e.classList.add("light"),e.classList.remove("dark"));const a=document.querySelector('meta[name="theme-color"]');a&&a.setAttribute("content",t==="dark"?"#0a0a0a":"#f5f5f5")}function useTheme(){const t=useQueryClient(),{data:e="dark"}=useQuery({queryKey:THEME_QUERY_KEY,queryFn:getStoredTheme,staleTime:1/0,gcTime:1/0});reactExports.useEffect(()=>{applyTheme(e)},[e]),reactExports.useEffect(()=>{const o=window.matchMedia("(prefers-color-scheme: dark)"),s=l=>{if(!localStorage.getItem(THEME_STORAGE_KEY)){const u=l.matches?"dark":"light";t.setQueryData(THEME_QUERY_KEY,u)}};return o.addEventListener("change",s),()=>o.removeEventListener("change",s)},[t]);const a=reactExports.useCallback(o=>{localStorage.setItem(THEME_STORAGE_KEY,o),t.setQueryData(THEME_QUERY_KEY,o),applyTheme(o)},[t]),r=reactExports.useCallback(()=>{a(e==="dark"?"light":"dark")},[e,a]);return{theme:e,setTheme:a,toggleTheme:r,isDark:e==="dark",isLight:e==="light"}}function ThemeToggle(){const{isDark:t,toggleTheme:e}=useTheme();return jsxRuntimeExports.jsxs(motion.button,{onClick:e,whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},transition:{duration:.05},className:"relative p-2 sm:p-2.5 lg:p-3 rounded-lg sm:rounded-xl transition-all group bg-transparent hover:bg-theme-bg-tertiary dark:hover:bg-neutral-800/80","aria-label":t?"Switch to light mode":"Switch to dark mode",children:[jsxRuntimeExports.jsxs("div",{className:"relative w-4 h-4 sm:w-5 sm:h-5",children:[jsxRuntimeExports.jsx(motion.div,{initial:!1,animate:{scale:t?1:0,opacity:t?1:0,rotate:t?0:180},transition:{duration:.2},className:"absolute inset-0 flex items-center justify-center",children:jsxRuntimeExports.jsx(Moon,{className:"w-4 h-4 sm:w-5 sm:h-5 text-theme-text-secondary group-hover:text-orange-400 transition-colors"})}),jsxRuntimeExports.jsx(motion.div,{initial:!1,animate:{scale:t?0:1,opacity:t?0:1,rotate:t?-180:0},transition:{duration:.2},className:"absolute inset-0 flex items-center justify-center",children:jsxRuntimeExports.jsx(Sun,{className:"w-4 h-4 sm:w-5 sm:h-5 text-theme-text-secondary group-hover:text-orange-400 transition-colors"})})]}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 rounded-lg sm:rounded-xl bg-orange-500/0 group-hover:bg-orange-500/10 transition-colors"})]})}function ThemeInitializer({children:t}){const{theme:e}=useTheme();return reactExports.useEffect(()=>{document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(e)},[e]),jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:t})}const logoUrl="/sphere/main/Union.svg",DiscordIcon$1=({className:t})=>jsxRuntimeExports.jsx("svg",{className:t,viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028 14.09 14.09 0 0 0 1.226-1.994.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"})});function Header(){return jsxRuntimeExports.jsxs("header",{className:"border-b border-neutral-200 dark:border-neutral-800/50 bg-white/80 dark:bg-neutral-900/80 backdrop-blur-2xl sticky top-0 z-50 overflow-hidden theme-transition",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-0 left-0 w-96 h-full bg-linear-to-r from-orange-500/5 dark:from-orange-500/10 to-transparent blur-3xl"}),jsxRuntimeExports.jsx("div",{className:"absolute top-0 right-0 w-96 h-full bg-linear-to-l from-purple-500/5 dark:from-purple-500/10 to-transparent blur-3xl"}),jsxRuntimeExports.jsx("div",{className:"absolute top-0 left-0 right-0 h-0.5 bg-linear-to-r from-transparent via-orange-500 to-transparent opacity-50"}),jsxRuntimeExports.jsxs("div",{className:"max-w-[1800px] mx-auto px-3 sm:px-6 lg:px-8 h-14 sm:h-14 lg:h-14 flex items-center justify-between relative z-10",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 lg:gap-4",children:[jsxRuntimeExports.jsx(motion.div,{whileHover:{scale:1.05,rotate:5},className:"relative",children:jsxRuntimeExports.jsx("img",{src:logoUrl,alt:"Logo",className:"relative z-10 w-7 h-7 sm:w-9 sm:h-9 lg:w-11 lg:h-11"})}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[jsxRuntimeExports.jsx("h1",{className:"text-base sm:text-lg lg:text-xl text-neutral-900 dark:text-white bg-clip-text",children:"AgentSphere"}),jsxRuntimeExports.jsx(Sparkles,{className:"w-3 h-3 sm:w-4 sm:h-4 text-orange-500 animate-pulse"}),isMock()]}),jsxRuntimeExports.jsx("p",{className:"text-[10px] sm:text-xs text-neutral-500 dark:text-neutral-400",children:"AI-Powered Agent Platform"}),jsxRuntimeExports.jsx("div",{className:"absolute -bottom-1 left-0 w-16 sm:w-20 h-0.5 bg-linear-to-r from-orange-500 to-transparent rounded-full"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 lg:gap-3",children:[jsxRuntimeExports.jsxs(motion.a,{href:"https://github.com/unicitynetwork",target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},transition:{duration:.05},className:"relative p-2 sm:p-2.5 lg:p-3 hover:bg-neutral-100 dark:hover:bg-neutral-800/80 rounded-lg sm:rounded-xl transition-all group",children:[jsxRuntimeExports.jsx(Github,{className:"w-4 h-4 sm:w-5 sm:h-5 text-neutral-500 dark:text-neutral-400 group-hover:text-orange-400 transition-colors"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 rounded-lg sm:rounded-xl bg-orange-500/0 group-hover:bg-orange-500/10 transition-colors"})]}),jsxRuntimeExports.jsxs(motion.a,{href:"https://discord.gg/S9f57ZKdt",target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},transition:{duration:.05},className:"relative p-2 sm:p-2.5 lg:p-3 hover:bg-neutral-100 dark:hover:bg-neutral-800/80 rounded-lg sm:rounded-xl transition-all group",children:[jsxRuntimeExports.jsx(DiscordIcon$1,{className:"w-4 h-4 sm:w-5 sm:h-5 text-neutral-500 dark:text-neutral-400 group-hover:text-orange-400 transition-colors"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 rounded-lg sm:rounded-xl bg-orange-500/0 group-hover:bg-orange-500/10 transition-colors"})]}),jsxRuntimeExports.jsx(ThemeToggle,{})]})]}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-linear-to-r from-transparent via-neutral-300 dark:via-neutral-700 to-transparent"})]})}function DashboardLayout(){return jsxRuntimeExports.jsxs("div",{className:"h-full flex flex-col bg-neutral-100 dark:bg-linear-to-br dark:from-neutral-950 dark:via-neutral-900 dark:to-neutral-950 theme-transition lg:overflow-auto",children:[jsxRuntimeExports.jsx(Header,{}),jsxRuntimeExports.jsx("div",{className:"flex-1 min-h-0 max-w-[1800px] w-full mx-auto px-4 pt-4 pb-0 md:p-8 lg:pb-8",children:jsxRuntimeExports.jsx(Outlet,{})})]})}var buffer$1={},base64Js={};base64Js.byteLength=byteLength;base64Js.toByteArray=toByteArray;base64Js.fromByteArray=fromByteArray;var lookup$1=[],revLookup=[],Arr=typeof Uint8Array<"u"?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var i=0,len=code.length;i<len;++i)lookup$1[i]=code[i],revLookup[code.charCodeAt(i)]=i;revLookup[45]=62;revLookup[95]=63;function getLens(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var a=t.indexOf("=");a===-1&&(a=e);var r=a===e?0:4-a%4;return[a,r]}function byteLength(t){var e=getLens(t),a=e[0],r=e[1];return(a+r)*3/4-r}function _byteLength(t,e,a){return(e+a)*3/4-a}function toByteArray(t){var e,a=getLens(t),r=a[0],o=a[1],s=new Arr(_byteLength(t,r,o)),l=0,c=o>0?r-4:r,u;for(u=0;u<c;u+=4)e=revLookup[t.charCodeAt(u)]<<18|revLookup[t.charCodeAt(u+1)]<<12|revLookup[t.charCodeAt(u+2)]<<6|revLookup[t.charCodeAt(u+3)],s[l++]=e>>16&255,s[l++]=e>>8&255,s[l++]=e&255;return o===2&&(e=revLookup[t.charCodeAt(u)]<<2|revLookup[t.charCodeAt(u+1)]>>4,s[l++]=e&255),o===1&&(e=revLookup[t.charCodeAt(u)]<<10|revLookup[t.charCodeAt(u+1)]<<4|revLookup[t.charCodeAt(u+2)]>>2,s[l++]=e>>8&255,s[l++]=e&255),s}function tripletToBase64(t){return lookup$1[t>>18&63]+lookup$1[t>>12&63]+lookup$1[t>>6&63]+lookup$1[t&63]}function encodeChunk(t,e,a){for(var r,o=[],s=e;s<a;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),o.push(tripletToBase64(r));return o.join("")}function fromByteArray(t){for(var e,a=t.length,r=a%3,o=[],s=16383,l=0,c=a-r;l<c;l+=s)o.push(encodeChunk(t,l,l+s>c?c:l+s));return r===1?(e=t[a-1],o.push(lookup$1[e>>2]+lookup$1[e<<4&63]+"==")):r===2&&(e=(t[a-2]<<8)+t[a-1],o.push(lookup$1[e>>10]+lookup$1[e>>4&63]+lookup$1[e<<2&63]+"=")),o.join("")}var ieee754={};ieee754.read=function(t,e,a,r,o){var s,l,c=o*8-r-1,u=(1<<c)-1,h=u>>1,f=-7,m=a?o-1:0,g=a?-1:1,b=t[e+m];for(m+=g,s=b&(1<<-f)-1,b>>=-f,f+=c;f>0;s=s*256+t[e+m],m+=g,f-=8);for(l=s&(1<<-f)-1,s>>=-f,f+=r;f>0;l=l*256+t[e+m],m+=g,f-=8);if(s===0)s=1-h;else{if(s===u)return l?NaN:(b?-1:1)*(1/0);l=l+Math.pow(2,r),s=s-h}return(b?-1:1)*l*Math.pow(2,s-r)};ieee754.write=function(t,e,a,r,o,s){var l,c,u,h=s*8-o-1,f=(1<<h)-1,m=f>>1,g=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=r?0:s-1,w=r?1:-1,E=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(c=isNaN(e)?1:0,l=f):(l=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-l))<1&&(l--,u*=2),l+m>=1?e+=g/u:e+=g*Math.pow(2,1-m),e*u>=2&&(l++,u/=2),l+m>=f?(c=0,l=f):l+m>=1?(c=(e*u-1)*Math.pow(2,o),l=l+m):(c=e*Math.pow(2,m-1)*Math.pow(2,o),l=0));o>=8;t[a+b]=c&255,b+=w,c/=256,o-=8);for(l=l<<o|c,h+=o;h>0;t[a+b]=l&255,b+=w,l/=256,h-=8);t[a+b-w]|=E*128};(function(t){const e=base64Js,a=ieee754,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=f,t.SlowBuffer=z,t.INSPECT_MAX_BYTES=50;const o=2147483647;t.kMaxLength=o;const{Uint8Array:s,ArrayBuffer:l,SharedArrayBuffer:c}=globalThis;f.TYPED_ARRAY_SUPPORT=u(),!f.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function u(){try{const oe=new s(1),Q={foo:function(){return 42}};return Object.setPrototypeOf(Q,s.prototype),Object.setPrototypeOf(oe,Q),oe.foo()===42}catch{return!1}}Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}});function h(oe){if(oe>o)throw new RangeError('The value "'+oe+'" is invalid for option "size"');const Q=new s(oe);return Object.setPrototypeOf(Q,f.prototype),Q}function f(oe,Q,ie){if(typeof oe=="number"){if(typeof Q=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return w(oe)}return m(oe,Q,ie)}f.poolSize=8192;function m(oe,Q,ie){if(typeof oe=="string")return E(oe,Q);if(l.isView(oe))return B(oe);if(oe==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof oe);if(Ce(oe,l)||oe&&Ce(oe.buffer,l)||typeof c<"u"&&(Ce(oe,c)||oe&&Ce(oe.buffer,c)))return O(oe,Q,ie);if(typeof oe=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const pe=oe.valueOf&&oe.valueOf();if(pe!=null&&pe!==oe)return f.from(pe,Q,ie);const be=P(oe);if(be)return be;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof oe[Symbol.toPrimitive]=="function")return f.from(oe[Symbol.toPrimitive]("string"),Q,ie);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof oe)}f.from=function(oe,Q,ie){return m(oe,Q,ie)},Object.setPrototypeOf(f.prototype,s.prototype),Object.setPrototypeOf(f,s);function g(oe){if(typeof oe!="number")throw new TypeError('"size" argument must be of type number');if(oe<0)throw new RangeError('The value "'+oe+'" is invalid for option "size"')}function b(oe,Q,ie){return g(oe),oe<=0?h(oe):Q!==void 0?typeof ie=="string"?h(oe).fill(Q,ie):h(oe).fill(Q):h(oe)}f.alloc=function(oe,Q,ie){return b(oe,Q,ie)};function w(oe){return g(oe),h(oe<0?0:q(oe)|0)}f.allocUnsafe=function(oe){return w(oe)},f.allocUnsafeSlow=function(oe){return w(oe)};function E(oe,Q){if((typeof Q!="string"||Q==="")&&(Q="utf8"),!f.isEncoding(Q))throw new TypeError("Unknown encoding: "+Q);const ie=V(oe,Q)|0;let pe=h(ie);const be=pe.write(oe,Q);return be!==ie&&(pe=pe.slice(0,be)),pe}function C(oe){const Q=oe.length<0?0:q(oe.length)|0,ie=h(Q);for(let pe=0;pe<Q;pe+=1)ie[pe]=oe[pe]&255;return ie}function B(oe){if(Ce(oe,s)){const Q=new s(oe);return O(Q.buffer,Q.byteOffset,Q.byteLength)}return C(oe)}function O(oe,Q,ie){if(Q<0||oe.byteLength<Q)throw new RangeError('"offset" is outside of buffer bounds');if(oe.byteLength<Q+(ie||0))throw new RangeError('"length" is outside of buffer bounds');let pe;return Q===void 0&&ie===void 0?pe=new s(oe):ie===void 0?pe=new s(oe,Q):pe=new s(oe,Q,ie),Object.setPrototypeOf(pe,f.prototype),pe}function P(oe){if(f.isBuffer(oe)){const Q=q(oe.length)|0,ie=h(Q);return ie.length===0||oe.copy(ie,0,0,Q),ie}if(oe.length!==void 0)return typeof oe.length!="number"||Te(oe.length)?h(0):C(oe);if(oe.type==="Buffer"&&Array.isArray(oe.data))return C(oe.data)}function q(oe){if(oe>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return oe|0}function z(oe){return+oe!=oe&&(oe=0),f.alloc(+oe)}f.isBuffer=function(Q){return Q!=null&&Q._isBuffer===!0&&Q!==f.prototype},f.compare=function(Q,ie){if(Ce(Q,s)&&(Q=f.from(Q,Q.offset,Q.byteLength)),Ce(ie,s)&&(ie=f.from(ie,ie.offset,ie.byteLength)),!f.isBuffer(Q)||!f.isBuffer(ie))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(Q===ie)return 0;let pe=Q.length,be=ie.length;for(let we=0,Re=Math.min(pe,be);we<Re;++we)if(Q[we]!==ie[we]){pe=Q[we],be=ie[we];break}return pe<be?-1:be<pe?1:0},f.isEncoding=function(Q){switch(String(Q).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(Q,ie){if(!Array.isArray(Q))throw new TypeError('"list" argument must be an Array of Buffers');if(Q.length===0)return f.alloc(0);let pe;if(ie===void 0)for(ie=0,pe=0;pe<Q.length;++pe)ie+=Q[pe].length;const be=f.allocUnsafe(ie);let we=0;for(pe=0;pe<Q.length;++pe){let Re=Q[pe];if(Ce(Re,s))we+Re.length>be.length?(f.isBuffer(Re)||(Re=f.from(Re)),Re.copy(be,we)):s.prototype.set.call(be,Re,we);else if(f.isBuffer(Re))Re.copy(be,we);else throw new TypeError('"list" argument must be an Array of Buffers');we+=Re.length}return be};function V(oe,Q){if(f.isBuffer(oe))return oe.length;if(l.isView(oe)||Ce(oe,l))return oe.byteLength;if(typeof oe!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof oe);const ie=oe.length,pe=arguments.length>2&&arguments[2]===!0;if(!pe&&ie===0)return 0;let be=!1;for(;;)switch(Q){case"ascii":case"latin1":case"binary":return ie;case"utf8":case"utf-8":return Ue(oe).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ie*2;case"hex":return ie>>>1;case"base64":return He(oe).length;default:if(be)return pe?-1:Ue(oe).length;Q=(""+Q).toLowerCase(),be=!0}}f.byteLength=V;function Z(oe,Q,ie){let pe=!1;if((Q===void 0||Q<0)&&(Q=0),Q>this.length||((ie===void 0||ie>this.length)&&(ie=this.length),ie<=0)||(ie>>>=0,Q>>>=0,ie<=Q))return"";for(oe||(oe="utf8");;)switch(oe){case"hex":return $(this,Q,ie);case"utf8":case"utf-8":return R(this,Q,ie);case"ascii":return I(this,Q,ie);case"latin1":case"binary":return A(this,Q,ie);case"base64":return N(this,Q,ie);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,Q,ie);default:if(pe)throw new TypeError("Unknown encoding: "+oe);oe=(oe+"").toLowerCase(),pe=!0}}f.prototype._isBuffer=!0;function J(oe,Q,ie){const pe=oe[Q];oe[Q]=oe[ie],oe[ie]=pe}f.prototype.swap16=function(){const Q=this.length;if(Q%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let ie=0;ie<Q;ie+=2)J(this,ie,ie+1);return this},f.prototype.swap32=function(){const Q=this.length;if(Q%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let ie=0;ie<Q;ie+=4)J(this,ie,ie+3),J(this,ie+1,ie+2);return this},f.prototype.swap64=function(){const Q=this.length;if(Q%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let ie=0;ie<Q;ie+=8)J(this,ie,ie+7),J(this,ie+1,ie+6),J(this,ie+2,ie+5),J(this,ie+3,ie+4);return this},f.prototype.toString=function(){const Q=this.length;return Q===0?"":arguments.length===0?R(this,0,Q):Z.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(Q){if(!f.isBuffer(Q))throw new TypeError("Argument must be a Buffer");return this===Q?!0:f.compare(this,Q)===0},f.prototype.inspect=function(){let Q="";const ie=t.INSPECT_MAX_BYTES;return Q=this.toString("hex",0,ie).replace(/(.{2})/g,"$1 ").trim(),this.length>ie&&(Q+=" ... "),"<Buffer "+Q+">"},r&&(f.prototype[r]=f.prototype.inspect),f.prototype.compare=function(Q,ie,pe,be,we){if(Ce(Q,s)&&(Q=f.from(Q,Q.offset,Q.byteLength)),!f.isBuffer(Q))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof Q);if(ie===void 0&&(ie=0),pe===void 0&&(pe=Q?Q.length:0),be===void 0&&(be=0),we===void 0&&(we=this.length),ie<0||pe>Q.length||be<0||we>this.length)throw new RangeError("out of range index");if(be>=we&&ie>=pe)return 0;if(be>=we)return-1;if(ie>=pe)return 1;if(ie>>>=0,pe>>>=0,be>>>=0,we>>>=0,this===Q)return 0;let Re=we-be,Ge=pe-ie;const Ye=Math.min(Re,Ge),Je=this.slice(be,we),st=Q.slice(ie,pe);for(let et=0;et<Ye;++et)if(Je[et]!==st[et]){Re=Je[et],Ge=st[et];break}return Re<Ge?-1:Ge<Re?1:0};function W(oe,Q,ie,pe,be){if(oe.length===0)return-1;if(typeof ie=="string"?(pe=ie,ie=0):ie>2147483647?ie=2147483647:ie<-2147483648&&(ie=-2147483648),ie=+ie,Te(ie)&&(ie=be?0:oe.length-1),ie<0&&(ie=oe.length+ie),ie>=oe.length){if(be)return-1;ie=oe.length-1}else if(ie<0)if(be)ie=0;else return-1;if(typeof Q=="string"&&(Q=f.from(Q,pe)),f.isBuffer(Q))return Q.length===0?-1:te(oe,Q,ie,pe,be);if(typeof Q=="number")return Q=Q&255,typeof s.prototype.indexOf=="function"?be?s.prototype.indexOf.call(oe,Q,ie):s.prototype.lastIndexOf.call(oe,Q,ie):te(oe,[Q],ie,pe,be);throw new TypeError("val must be string, number or Buffer")}function te(oe,Q,ie,pe,be){let we=1,Re=oe.length,Ge=Q.length;if(pe!==void 0&&(pe=String(pe).toLowerCase(),pe==="ucs2"||pe==="ucs-2"||pe==="utf16le"||pe==="utf-16le")){if(oe.length<2||Q.length<2)return-1;we=2,Re/=2,Ge/=2,ie/=2}function Ye(st,et){return we===1?st[et]:st.readUInt16BE(et*we)}let Je;if(be){let st=-1;for(Je=ie;Je<Re;Je++)if(Ye(oe,Je)===Ye(Q,st===-1?0:Je-st)){if(st===-1&&(st=Je),Je-st+1===Ge)return st*we}else st!==-1&&(Je-=Je-st),st=-1}else for(ie+Ge>Re&&(ie=Re-Ge),Je=ie;Je>=0;Je--){let st=!0;for(let et=0;et<Ge;et++)if(Ye(oe,Je+et)!==Ye(Q,et)){st=!1;break}if(st)return Je}return-1}f.prototype.includes=function(Q,ie,pe){return this.indexOf(Q,ie,pe)!==-1},f.prototype.indexOf=function(Q,ie,pe){return W(this,Q,ie,pe,!0)},f.prototype.lastIndexOf=function(Q,ie,pe){return W(this,Q,ie,pe,!1)};function G(oe,Q,ie,pe){ie=Number(ie)||0;const be=oe.length-ie;pe?(pe=Number(pe),pe>be&&(pe=be)):pe=be;const we=Q.length;pe>we/2&&(pe=we/2);let Re;for(Re=0;Re<pe;++Re){const Ge=parseInt(Q.substr(Re*2,2),16);if(Te(Ge))return Re;oe[ie+Re]=Ge}return Re}function D(oe,Q,ie,pe){return Ae(Ue(Q,oe.length-ie),oe,ie,pe)}function M(oe,Q,ie,pe){return Ae(Be(Q),oe,ie,pe)}function v(oe,Q,ie,pe){return Ae(He(Q),oe,ie,pe)}function S(oe,Q,ie,pe){return Ae(Ve(Q,oe.length-ie),oe,ie,pe)}f.prototype.write=function(Q,ie,pe,be){if(ie===void 0)be="utf8",pe=this.length,ie=0;else if(pe===void 0&&typeof ie=="string")be=ie,pe=this.length,ie=0;else if(isFinite(ie))ie=ie>>>0,isFinite(pe)?(pe=pe>>>0,be===void 0&&(be="utf8")):(be=pe,pe=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const we=this.length-ie;if((pe===void 0||pe>we)&&(pe=we),Q.length>0&&(pe<0||ie<0)||ie>this.length)throw new RangeError("Attempt to write outside buffer bounds");be||(be="utf8");let Re=!1;for(;;)switch(be){case"hex":return G(this,Q,ie,pe);case"utf8":case"utf-8":return D(this,Q,ie,pe);case"ascii":case"latin1":case"binary":return M(this,Q,ie,pe);case"base64":return v(this,Q,ie,pe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,Q,ie,pe);default:if(Re)throw new TypeError("Unknown encoding: "+be);be=(""+be).toLowerCase(),Re=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function N(oe,Q,ie){return Q===0&&ie===oe.length?e.fromByteArray(oe):e.fromByteArray(oe.slice(Q,ie))}function R(oe,Q,ie){ie=Math.min(oe.length,ie);const pe=[];let be=Q;for(;be<ie;){const we=oe[be];let Re=null,Ge=we>239?4:we>223?3:we>191?2:1;if(be+Ge<=ie){let Ye,Je,st,et;switch(Ge){case 1:we<128&&(Re=we);break;case 2:Ye=oe[be+1],(Ye&192)===128&&(et=(we&31)<<6|Ye&63,et>127&&(Re=et));break;case 3:Ye=oe[be+1],Je=oe[be+2],(Ye&192)===128&&(Je&192)===128&&(et=(we&15)<<12|(Ye&63)<<6|Je&63,et>2047&&(et<55296||et>57343)&&(Re=et));break;case 4:Ye=oe[be+1],Je=oe[be+2],st=oe[be+3],(Ye&192)===128&&(Je&192)===128&&(st&192)===128&&(et=(we&15)<<18|(Ye&63)<<12|(Je&63)<<6|st&63,et>65535&&et<1114112&&(Re=et))}}Re===null?(Re=65533,Ge=1):Re>65535&&(Re-=65536,pe.push(Re>>>10&1023|55296),Re=56320|Re&1023),pe.push(Re),be+=Ge}return j(pe)}const k=4096;function j(oe){const Q=oe.length;if(Q<=k)return String.fromCharCode.apply(String,oe);let ie="",pe=0;for(;pe<Q;)ie+=String.fromCharCode.apply(String,oe.slice(pe,pe+=k));return ie}function I(oe,Q,ie){let pe="";ie=Math.min(oe.length,ie);for(let be=Q;be<ie;++be)pe+=String.fromCharCode(oe[be]&127);return pe}function A(oe,Q,ie){let pe="";ie=Math.min(oe.length,ie);for(let be=Q;be<ie;++be)pe+=String.fromCharCode(oe[be]);return pe}function $(oe,Q,ie){const pe=oe.length;(!Q||Q<0)&&(Q=0),(!ie||ie<0||ie>pe)&&(ie=pe);let be="";for(let we=Q;we<ie;++we)be+=ye[oe[we]];return be}function L(oe,Q,ie){const pe=oe.slice(Q,ie);let be="";for(let we=0;we<pe.length-1;we+=2)be+=String.fromCharCode(pe[we]+pe[we+1]*256);return be}f.prototype.slice=function(Q,ie){const pe=this.length;Q=~~Q,ie=ie===void 0?pe:~~ie,Q<0?(Q+=pe,Q<0&&(Q=0)):Q>pe&&(Q=pe),ie<0?(ie+=pe,ie<0&&(ie=0)):ie>pe&&(ie=pe),ie<Q&&(ie=Q);const be=this.subarray(Q,ie);return Object.setPrototypeOf(be,f.prototype),be};function Y(oe,Q,ie){if(oe%1!==0||oe<0)throw new RangeError("offset is not uint");if(oe+Q>ie)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUintLE=f.prototype.readUIntLE=function(Q,ie,pe){Q=Q>>>0,ie=ie>>>0,pe||Y(Q,ie,this.length);let be=this[Q],we=1,Re=0;for(;++Re<ie&&(we*=256);)be+=this[Q+Re]*we;return be},f.prototype.readUintBE=f.prototype.readUIntBE=function(Q,ie,pe){Q=Q>>>0,ie=ie>>>0,pe||Y(Q,ie,this.length);let be=this[Q+--ie],we=1;for(;ie>0&&(we*=256);)be+=this[Q+--ie]*we;return be},f.prototype.readUint8=f.prototype.readUInt8=function(Q,ie){return Q=Q>>>0,ie||Y(Q,1,this.length),this[Q]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(Q,ie){return Q=Q>>>0,ie||Y(Q,2,this.length),this[Q]|this[Q+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(Q,ie){return Q=Q>>>0,ie||Y(Q,2,this.length),this[Q]<<8|this[Q+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(Q,ie){return Q=Q>>>0,ie||Y(Q,4,this.length),(this[Q]|this[Q+1]<<8|this[Q+2]<<16)+this[Q+3]*16777216},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(Q,ie){return Q=Q>>>0,ie||Y(Q,4,this.length),this[Q]*16777216+(this[Q+1]<<16|this[Q+2]<<8|this[Q+3])},f.prototype.readBigUInt64LE=Fe(function(Q){Q=Q>>>0,_e(Q,"offset");const ie=this[Q],pe=this[Q+7];(ie===void 0||pe===void 0)&&Ie(Q,this.length-8);const be=ie+this[++Q]*2**8+this[++Q]*2**16+this[++Q]*2**24,we=this[++Q]+this[++Q]*2**8+this[++Q]*2**16+pe*2**24;return BigInt(be)+(BigInt(we)<<BigInt(32))}),f.prototype.readBigUInt64BE=Fe(function(Q){Q=Q>>>0,_e(Q,"offset");const ie=this[Q],pe=this[Q+7];(ie===void 0||pe===void 0)&&Ie(Q,this.length-8);const be=ie*2**24+this[++Q]*2**16+this[++Q]*2**8+this[++Q],we=this[++Q]*2**24+this[++Q]*2**16+this[++Q]*2**8+pe;return(BigInt(be)<<BigInt(32))+BigInt(we)}),f.prototype.readIntLE=function(Q,ie,pe){Q=Q>>>0,ie=ie>>>0,pe||Y(Q,ie,this.length);let be=this[Q],we=1,Re=0;for(;++Re<ie&&(we*=256);)be+=this[Q+Re]*we;return we*=128,be>=we&&(be-=Math.pow(2,8*ie)),be},f.prototype.readIntBE=function(Q,ie,pe){Q=Q>>>0,ie=ie>>>0,pe||Y(Q,ie,this.length);let be=ie,we=1,Re=this[Q+--be];for(;be>0&&(we*=256);)Re+=this[Q+--be]*we;return we*=128,Re>=we&&(Re-=Math.pow(2,8*ie)),Re},f.prototype.readInt8=function(Q,ie){return Q=Q>>>0,ie||Y(Q,1,this.length),this[Q]&128?(255-this[Q]+1)*-1:this[Q]},f.prototype.readInt16LE=function(Q,ie){Q=Q>>>0,ie||Y(Q,2,this.length);const pe=this[Q]|this[Q+1]<<8;return pe&32768?pe|4294901760:pe},f.prototype.readInt16BE=function(Q,ie){Q=Q>>>0,ie||Y(Q,2,this.length);const pe=this[Q+1]|this[Q]<<8;return pe&32768?pe|4294901760:pe},f.prototype.readInt32LE=function(Q,ie){return Q=Q>>>0,ie||Y(Q,4,this.length),this[Q]|this[Q+1]<<8|this[Q+2]<<16|this[Q+3]<<24},f.prototype.readInt32BE=function(Q,ie){return Q=Q>>>0,ie||Y(Q,4,this.length),this[Q]<<24|this[Q+1]<<16|this[Q+2]<<8|this[Q+3]},f.prototype.readBigInt64LE=Fe(function(Q){Q=Q>>>0,_e(Q,"offset");const ie=this[Q],pe=this[Q+7];(ie===void 0||pe===void 0)&&Ie(Q,this.length-8);const be=this[Q+4]+this[Q+5]*2**8+this[Q+6]*2**16+(pe<<24);return(BigInt(be)<<BigInt(32))+BigInt(ie+this[++Q]*2**8+this[++Q]*2**16+this[++Q]*2**24)}),f.prototype.readBigInt64BE=Fe(function(Q){Q=Q>>>0,_e(Q,"offset");const ie=this[Q],pe=this[Q+7];(ie===void 0||pe===void 0)&&Ie(Q,this.length-8);const be=(ie<<24)+this[++Q]*2**16+this[++Q]*2**8+this[++Q];return(BigInt(be)<<BigInt(32))+BigInt(this[++Q]*2**24+this[++Q]*2**16+this[++Q]*2**8+pe)}),f.prototype.readFloatLE=function(Q,ie){return Q=Q>>>0,ie||Y(Q,4,this.length),a.read(this,Q,!0,23,4)},f.prototype.readFloatBE=function(Q,ie){return Q=Q>>>0,ie||Y(Q,4,this.length),a.read(this,Q,!1,23,4)},f.prototype.readDoubleLE=function(Q,ie){return Q=Q>>>0,ie||Y(Q,8,this.length),a.read(this,Q,!0,52,8)},f.prototype.readDoubleBE=function(Q,ie){return Q=Q>>>0,ie||Y(Q,8,this.length),a.read(this,Q,!1,52,8)};function le(oe,Q,ie,pe,be,we){if(!f.isBuffer(oe))throw new TypeError('"buffer" argument must be a Buffer instance');if(Q>be||Q<we)throw new RangeError('"value" argument is out of bounds');if(ie+pe>oe.length)throw new RangeError("Index out of range")}f.prototype.writeUintLE=f.prototype.writeUIntLE=function(Q,ie,pe,be){if(Q=+Q,ie=ie>>>0,pe=pe>>>0,!be){const Ge=Math.pow(2,8*pe)-1;le(this,Q,ie,pe,Ge,0)}let we=1,Re=0;for(this[ie]=Q&255;++Re<pe&&(we*=256);)this[ie+Re]=Q/we&255;return ie+pe},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(Q,ie,pe,be){if(Q=+Q,ie=ie>>>0,pe=pe>>>0,!be){const Ge=Math.pow(2,8*pe)-1;le(this,Q,ie,pe,Ge,0)}let we=pe-1,Re=1;for(this[ie+we]=Q&255;--we>=0&&(Re*=256);)this[ie+we]=Q/Re&255;return ie+pe},f.prototype.writeUint8=f.prototype.writeUInt8=function(Q,ie,pe){return Q=+Q,ie=ie>>>0,pe||le(this,Q,ie,1,255,0),this[ie]=Q&255,ie+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(Q,ie,pe){return Q=+Q,ie=ie>>>0,pe||le(this,Q,ie,2,65535,0),this[ie]=Q&255,this[ie+1]=Q>>>8,ie+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(Q,ie,pe){return Q=+Q,ie=ie>>>0,pe||le(this,Q,ie,2,65535,0),this[ie]=Q>>>8,this[ie+1]=Q&255,ie+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(Q,ie,pe){return Q=+Q,ie=ie>>>0,pe||le(this,Q,ie,4,4294967295,0),this[ie+3]=Q>>>24,this[ie+2]=Q>>>16,this[ie+1]=Q>>>8,this[ie]=Q&255,ie+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(Q,ie,pe){return Q=+Q,ie=ie>>>0,pe||le(this,Q,ie,4,4294967295,0),this[ie]=Q>>>24,this[ie+1]=Q>>>16,this[ie+2]=Q>>>8,this[ie+3]=Q&255,ie+4};function re(oe,Q,ie,pe,be){xe(Q,pe,be,oe,ie,7);let we=Number(Q&BigInt(4294967295));oe[ie++]=we,we=we>>8,oe[ie++]=we,we=we>>8,oe[ie++]=we,we=we>>8,oe[ie++]=we;let Re=Number(Q>>BigInt(32)&BigInt(4294967295));return oe[ie++]=Re,Re=Re>>8,oe[ie++]=Re,Re=Re>>8,oe[ie++]=Re,Re=Re>>8,oe[ie++]=Re,ie}function U(oe,Q,ie,pe,be){xe(Q,pe,be,oe,ie,7);let we=Number(Q&BigInt(4294967295));oe[ie+7]=we,we=we>>8,oe[ie+6]=we,we=we>>8,oe[ie+5]=we,we=we>>8,oe[ie+4]=we;let Re=Number(Q>>BigInt(32)&BigInt(4294967295));return oe[ie+3]=Re,Re=Re>>8,oe[ie+2]=Re,Re=Re>>8,oe[ie+1]=Re,Re=Re>>8,oe[ie]=Re,ie+8}f.prototype.writeBigUInt64LE=Fe(function(Q,ie=0){return re(this,Q,ie,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeBigUInt64BE=Fe(function(Q,ie=0){return U(this,Q,ie,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeIntLE=function(Q,ie,pe,be){if(Q=+Q,ie=ie>>>0,!be){const Ye=Math.pow(2,8*pe-1);le(this,Q,ie,pe,Ye-1,-Ye)}let we=0,Re=1,Ge=0;for(this[ie]=Q&255;++we<pe&&(Re*=256);)Q<0&&Ge===0&&this[ie+we-1]!==0&&(Ge=1),this[ie+we]=(Q/Re>>0)-Ge&255;return ie+pe},f.prototype.writeIntBE=function(Q,ie,pe,be){if(Q=+Q,ie=ie>>>0,!be){const Ye=Math.pow(2,8*pe-1);le(this,Q,ie,pe,Ye-1,-Ye)}let we=pe-1,Re=1,Ge=0;for(this[ie+we]=Q&255;--we>=0&&(Re*=256);)Q<0&&Ge===0&&this[ie+we+1]!==0&&(Ge=1),this[ie+we]=(Q/Re>>0)-Ge&255;return ie+pe},f.prototype.writeInt8=function(Q,ie,pe){return Q=+Q,ie=ie>>>0,pe||le(this,Q,ie,1,127,-128),Q<0&&(Q=255+Q+1),this[ie]=Q&255,ie+1},f.prototype.writeInt16LE=function(Q,ie,pe){return Q=+Q,ie=ie>>>0,pe||le(this,Q,ie,2,32767,-32768),this[ie]=Q&255,this[ie+1]=Q>>>8,ie+2},f.prototype.writeInt16BE=function(Q,ie,pe){return Q=+Q,ie=ie>>>0,pe||le(this,Q,ie,2,32767,-32768),this[ie]=Q>>>8,this[ie+1]=Q&255,ie+2},f.prototype.writeInt32LE=function(Q,ie,pe){return Q=+Q,ie=ie>>>0,pe||le(this,Q,ie,4,2147483647,-2147483648),this[ie]=Q&255,this[ie+1]=Q>>>8,this[ie+2]=Q>>>16,this[ie+3]=Q>>>24,ie+4},f.prototype.writeInt32BE=function(Q,ie,pe){return Q=+Q,ie=ie>>>0,pe||le(this,Q,ie,4,2147483647,-2147483648),Q<0&&(Q=4294967295+Q+1),this[ie]=Q>>>24,this[ie+1]=Q>>>16,this[ie+2]=Q>>>8,this[ie+3]=Q&255,ie+4},f.prototype.writeBigInt64LE=Fe(function(Q,ie=0){return re(this,Q,ie,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),f.prototype.writeBigInt64BE=Fe(function(Q,ie=0){return U(this,Q,ie,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function K(oe,Q,ie,pe,be,we){if(ie+pe>oe.length)throw new RangeError("Index out of range");if(ie<0)throw new RangeError("Index out of range")}function se(oe,Q,ie,pe,be){return Q=+Q,ie=ie>>>0,be||K(oe,Q,ie,4),a.write(oe,Q,ie,pe,23,4),ie+4}f.prototype.writeFloatLE=function(Q,ie,pe){return se(this,Q,ie,!0,pe)},f.prototype.writeFloatBE=function(Q,ie,pe){return se(this,Q,ie,!1,pe)};function he(oe,Q,ie,pe,be){return Q=+Q,ie=ie>>>0,be||K(oe,Q,ie,8),a.write(oe,Q,ie,pe,52,8),ie+8}f.prototype.writeDoubleLE=function(Q,ie,pe){return he(this,Q,ie,!0,pe)},f.prototype.writeDoubleBE=function(Q,ie,pe){return he(this,Q,ie,!1,pe)},f.prototype.copy=function(Q,ie,pe,be){if(!f.isBuffer(Q))throw new TypeError("argument should be a Buffer");if(pe||(pe=0),!be&&be!==0&&(be=this.length),ie>=Q.length&&(ie=Q.length),ie||(ie=0),be>0&&be<pe&&(be=pe),be===pe||Q.length===0||this.length===0)return 0;if(ie<0)throw new RangeError("targetStart out of bounds");if(pe<0||pe>=this.length)throw new RangeError("Index out of range");if(be<0)throw new RangeError("sourceEnd out of bounds");be>this.length&&(be=this.length),Q.length-ie<be-pe&&(be=Q.length-ie+pe);const we=be-pe;return this===Q&&typeof s.prototype.copyWithin=="function"?this.copyWithin(ie,pe,be):s.prototype.set.call(Q,this.subarray(pe,be),ie),we},f.prototype.fill=function(Q,ie,pe,be){if(typeof Q=="string"){if(typeof ie=="string"?(be=ie,ie=0,pe=this.length):typeof pe=="string"&&(be=pe,pe=this.length),be!==void 0&&typeof be!="string")throw new TypeError("encoding must be a string");if(typeof be=="string"&&!f.isEncoding(be))throw new TypeError("Unknown encoding: "+be);if(Q.length===1){const Re=Q.charCodeAt(0);(be==="utf8"&&Re<128||be==="latin1")&&(Q=Re)}}else typeof Q=="number"?Q=Q&255:typeof Q=="boolean"&&(Q=Number(Q));if(ie<0||this.length<ie||this.length<pe)throw new RangeError("Out of range index");if(pe<=ie)return this;ie=ie>>>0,pe=pe===void 0?this.length:pe>>>0,Q||(Q=0);let we;if(typeof Q=="number")for(we=ie;we<pe;++we)this[we]=Q;else{const Re=f.isBuffer(Q)?Q:f.from(Q,be),Ge=Re.length;if(Ge===0)throw new TypeError('The value "'+Q+'" is invalid for argument "value"');for(we=0;we<pe-ie;++we)this[we+ie]=Re[we%Ge]}return this};const ue={};function ee(oe,Q,ie){ue[oe]=class extends ie{constructor(){super(),Object.defineProperty(this,"message",{value:Q.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${oe}]`,this.stack,delete this.name}get code(){return oe}set code(be){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:be,writable:!0})}toString(){return`${this.name} [${oe}]: ${this.message}`}}}ee("ERR_BUFFER_OUT_OF_BOUNDS",function(oe){return oe?`${oe} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ee("ERR_INVALID_ARG_TYPE",function(oe,Q){return`The "${oe}" argument must be of type number. Received type ${typeof Q}`},TypeError),ee("ERR_OUT_OF_RANGE",function(oe,Q,ie){let pe=`The value of "${oe}" is out of range.`,be=ie;return Number.isInteger(ie)&&Math.abs(ie)>2**32?be=fe(String(ie)):typeof ie=="bigint"&&(be=String(ie),(ie>BigInt(2)**BigInt(32)||ie<-(BigInt(2)**BigInt(32)))&&(be=fe(be)),be+="n"),pe+=` It must be ${Q}. Received ${be}`,pe},RangeError);function fe(oe){let Q="",ie=oe.length;const pe=oe[0]==="-"?1:0;for(;ie>=pe+4;ie-=3)Q=`_${oe.slice(ie-3,ie)}${Q}`;return`${oe.slice(0,ie)}${Q}`}function ge(oe,Q,ie){_e(Q,"offset"),(oe[Q]===void 0||oe[Q+ie]===void 0)&&Ie(Q,oe.length-(ie+1))}function xe(oe,Q,ie,pe,be,we){if(oe>ie||oe<Q){const Re=typeof Q=="bigint"?"n":"";let Ge;throw Q===0||Q===BigInt(0)?Ge=`>= 0${Re} and < 2${Re} ** ${(we+1)*8}${Re}`:Ge=`>= -(2${Re} ** ${(we+1)*8-1}${Re}) and < 2 ** ${(we+1)*8-1}${Re}`,new ue.ERR_OUT_OF_RANGE("value",Ge,oe)}ge(pe,be,we)}function _e(oe,Q){if(typeof oe!="number")throw new ue.ERR_INVALID_ARG_TYPE(Q,"number",oe)}function Ie(oe,Q,ie){throw Math.floor(oe)!==oe?(_e(oe,ie),new ue.ERR_OUT_OF_RANGE("offset","an integer",oe)):Q<0?new ue.ERR_BUFFER_OUT_OF_BOUNDS:new ue.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${Q}`,oe)}const De=/[^+/0-9A-Za-z-_]/g;function $e(oe){if(oe=oe.split("=")[0],oe=oe.trim().replace(De,""),oe.length<2)return"";for(;oe.length%4!==0;)oe=oe+"=";return oe}function Ue(oe,Q){Q=Q||1/0;let ie;const pe=oe.length;let be=null;const we=[];for(let Re=0;Re<pe;++Re){if(ie=oe.charCodeAt(Re),ie>55295&&ie<57344){if(!be){if(ie>56319){(Q-=3)>-1&&we.push(239,191,189);continue}else if(Re+1===pe){(Q-=3)>-1&&we.push(239,191,189);continue}be=ie;continue}if(ie<56320){(Q-=3)>-1&&we.push(239,191,189),be=ie;continue}ie=(be-55296<<10|ie-56320)+65536}else be&&(Q-=3)>-1&&we.push(239,191,189);if(be=null,ie<128){if((Q-=1)<0)break;we.push(ie)}else if(ie<2048){if((Q-=2)<0)break;we.push(ie>>6|192,ie&63|128)}else if(ie<65536){if((Q-=3)<0)break;we.push(ie>>12|224,ie>>6&63|128,ie&63|128)}else if(ie<1114112){if((Q-=4)<0)break;we.push(ie>>18|240,ie>>12&63|128,ie>>6&63|128,ie&63|128)}else throw new Error("Invalid code point")}return we}function Be(oe){const Q=[];for(let ie=0;ie<oe.length;++ie)Q.push(oe.charCodeAt(ie)&255);return Q}function Ve(oe,Q){let ie,pe,be;const we=[];for(let Re=0;Re<oe.length&&!((Q-=2)<0);++Re)ie=oe.charCodeAt(Re),pe=ie>>8,be=ie%256,we.push(be),we.push(pe);return we}function He(oe){return e.toByteArray($e(oe))}function Ae(oe,Q,ie,pe){let be;for(be=0;be<pe&&!(be+ie>=Q.length||be>=oe.length);++be)Q[be+ie]=oe[be];return be}function Ce(oe,Q){return oe instanceof Q||oe!=null&&oe.constructor!=null&&oe.constructor.name!=null&&oe.constructor.name===Q.name}function Te(oe){return oe!==oe}const ye=(function(){const oe="0123456789abcdef",Q=new Array(256);for(let ie=0;ie<16;++ie){const pe=ie*16;for(let be=0;be<16;++be)Q[pe+be]=oe[ie]+oe[be]}return Q})();function Fe(oe){return typeof BigInt>"u"?qe:oe}function qe(){throw new Error("BigInt not supported")}})(buffer$1);const Buffer=buffer$1.Buffer,Buffer$1=buffer$1.Buffer,TokenStatus={TRANSFERRED:"TRANSFERRED",CONFIRMED:"CONFIRMED",BURNED:"BURNED"};let Token$1=class{id;name;type;timestamp;unicityAddress;jsonData;sizeBytes;status;transactionId;isOfflineTransfer;pendingOfflineData;amount;coinId;symbol;iconUrl;transferredAt;splitSourceTokenId;splitSentAmount;senderPubkey;constructor(e){this.id=e.id||v4(),this.name=e.name||"Unknown Token",this.type=e.type||"Unknown",this.timestamp=e.timestamp||Date.now(),this.unicityAddress=e.unicityAddress,this.jsonData=e.jsonData,this.sizeBytes=e.sizeBytes||0,this.status=e.status||TokenStatus.CONFIRMED,this.transactionId=e.transactionId,this.isOfflineTransfer=e.isOfflineTransfer||!1,this.pendingOfflineData=e.pendingOfflineData,this.amount=e.amount,this.coinId=e.coinId,this.symbol=e.symbol,this.iconUrl=e.iconUrl,this.transferredAt=e.transferredAt,this.splitSourceTokenId=e.splitSourceTokenId,this.splitSentAmount=e.splitSentAmount,this.senderPubkey=e.senderPubkey}getFormattedSize(){return this.sizeBytes<1024?`${this.sizeBytes}B`:this.sizeBytes<1024*1024?`${Math.floor(this.sizeBytes/1024)}KB`:`${Math.floor(this.sizeBytes/(1024*1024))}MB`}getAmountAsBigInteger(){try{return this.amount?BigInt(this.amount):null}catch{return null}}};class AggregatedAsset{coinId;symbol;name;totalAmount;decimals;tokenCount;iconUrl;priceUsd;priceEur;change24h;constructor(e){this.coinId=e.coinId,this.symbol=e.symbol,this.name=e.name||null,this.totalAmount=e.totalAmount,this.decimals=e.decimals,this.tokenCount=e.tokenCount,this.iconUrl=e.iconUrl||null,this.priceUsd=e.priceUsd||0,this.priceEur=e.priceEur||0,this.change24h=e.change24h||0}getAmountAsBigInt(){try{return BigInt(this.totalAmount)}catch{return BigInt(0)}}getFormattedAmount(){const e=this.getAmountAsBigInt();if(e===BigInt(0))return"0";const a=e.toString();if(a.length<=this.decimals){const s=a.padStart(this.decimals+1,"0"),l="0",c=s.slice(-this.decimals);return this.stripTrailingZeros(`${l}.${c}`)}const r=a.slice(0,a.length-this.decimals),o=a.slice(a.length-this.decimals);return this.stripTrailingZeros(`${r}.${o}`)}stripTrailingZeros(e){return e.includes(".")?e.replace(/\.?0+$/,""):e}getAmountAsDecimal(){const e=this.getAmountAsBigInt(),a=Math.pow(10,this.decimals);return Number(e)/a}getTotalFiatValue(e){const a=e==="EUR"?this.priceEur:this.priceUsd;return this.getAmountAsDecimal()*a}getFormattedFiatValue(e){const a=e==="EUR"?"":"$",r=this.getTotalFiatValue(e);return`${a}${r.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`}getFormattedChange(){return`${this.change24h>=0?"+":""}${this.change24h.toFixed(2)}%`}}class Wallet{id;name;address;tokens;constructor(e,a,r,o=[]){this.id=e,this.name=a,this.address=r,this.tokens=o}}const PaymentRequestStatus={PENDING:"PENDING",ACCEPTED:"ACCEPTED",REJECTED:"REJECTED",PAID:"PAID"};var AddressScheme;(function(t){t.DIRECT="DIRECT",t.PROXY="PROXY"})(AddressScheme||(AddressScheme={}));function isBytes$2(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function anumber$2(t,e=""){if(!Number.isSafeInteger(t)||t<0){const a=e&&`"${e}" `;throw new Error(`${a}expected integer >= 0, got ${t}`)}}function abytes$2(t,e,a=""){const r=isBytes$2(t),o=t?.length,s=e!==void 0;if(!r||s&&o!==e){const l=a&&`"${a}" `,c=s?` of length ${e}`:"",u=r?`length=${o}`:`type=${typeof t}`;throw new Error(l+"expected Uint8Array"+c+", got "+u)}return t}function ahash$1(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash must wrapped by utils.createHasher");anumber$2(t.outputLen),anumber$2(t.blockLen)}function aexists$2(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function aoutput$2(t,e){abytes$2(t,void 0,"digestInto() output");const a=e.outputLen;if(t.length<a)throw new Error('"digestInto() output" expected to be of length >='+a)}function clean$2(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function createView$2(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function rotr$1(t,e){return t<<32-e|t>>>e}function rotl$1(t,e){return t<<e|t>>>32-e>>>0}const hasHexBuiltin$1=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",hexes$1=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function bytesToHex$3(t){if(abytes$2(t),hasHexBuiltin$1)return t.toHex();let e="";for(let a=0;a<t.length;a++)e+=hexes$1[t[a]];return e}const asciis$1={_0:48,_9:57,A:65,F:70,a:97,f:102};function asciiToBase16$1(t){if(t>=asciis$1._0&&t<=asciis$1._9)return t-asciis$1._0;if(t>=asciis$1.A&&t<=asciis$1.F)return t-(asciis$1.A-10);if(t>=asciis$1.a&&t<=asciis$1.f)return t-(asciis$1.a-10)}function hexToBytes$2(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(hasHexBuiltin$1)return Uint8Array.fromHex(t);const e=t.length,a=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(a);for(let o=0,s=0;o<a;o++,s+=2){const l=asciiToBase16$1(t.charCodeAt(s)),c=asciiToBase16$1(t.charCodeAt(s+1));if(l===void 0||c===void 0){const u=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+s)}r[o]=l*16+c}return r}function concatBytes$1(...t){let e=0;for(let r=0;r<t.length;r++){const o=t[r];abytes$2(o),e+=o.length}const a=new Uint8Array(e);for(let r=0,o=0;r<t.length;r++){const s=t[r];a.set(s,o),o+=s.length}return a}function createHasher$1(t,e={}){const a=(o,s)=>t(s).update(o).digest(),r=t(void 0);return a.outputLen=r.outputLen,a.blockLen=r.blockLen,a.create=o=>t(o),Object.assign(a,e),Object.freeze(a)}function randomBytes$1(t=32){const e=typeof globalThis=="object"?globalThis.crypto:null;if(typeof e?.getRandomValues!="function")throw new Error("crypto.getRandomValues must be defined");return e.getRandomValues(new Uint8Array(t))}const oidNist=t=>({oid:Uint8Array.from([6,9,96,134,72,1,101,3,4,2,t])});function Chi$1(t,e,a){return t&e^~t&a}function Maj$1(t,e,a){return t&e^t&a^e&a}let HashMD$1=class{blockLen;outputLen;padOffset;isLE;buffer;view;finished=!1;length=0;pos=0;destroyed=!1;constructor(e,a,r,o){this.blockLen=e,this.outputLen=a,this.padOffset=r,this.isLE=o,this.buffer=new Uint8Array(e),this.view=createView$2(this.buffer)}update(e){aexists$2(this),abytes$2(e);const{view:a,buffer:r,blockLen:o}=this,s=e.length;for(let l=0;l<s;){const c=Math.min(o-this.pos,s-l);if(c===o){const u=createView$2(e);for(;o<=s-l;l+=o)this.process(u,l);continue}r.set(e.subarray(l,l+c),this.pos),this.pos+=c,l+=c,this.pos===o&&(this.process(a,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){aexists$2(this),aoutput$2(e,this),this.finished=!0;const{buffer:a,view:r,blockLen:o,isLE:s}=this;let{pos:l}=this;a[l++]=128,clean$2(this.buffer.subarray(l)),this.padOffset>o-l&&(this.process(r,0),l=0);for(let m=l;m<o;m++)a[m]=0;r.setBigUint64(o-8,BigInt(this.length*8),s),this.process(r,0);const c=createView$2(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen must be aligned to 32bit");const h=u/4,f=this.get();if(h>f.length)throw new Error("_sha2: outputLen bigger than state");for(let m=0;m<h;m++)c.setUint32(4*m,f[m],s)}digest(){const{buffer:e,outputLen:a}=this;this.digestInto(e);const r=e.slice(0,a);return this.destroy(),r}_cloneInto(e){e||=new this.constructor,e.set(...this.get());const{blockLen:a,buffer:r,length:o,finished:s,destroyed:l,pos:c}=this;return e.destroyed=l,e.finished=s,e.length=o,e.pos=c,o%a&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const SHA256_IV$1=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA224_IV=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]),SHA384_IV=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),SHA512_IV=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Rho160=Uint8Array.from([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),Id160=Uint8Array.from(new Array(16).fill(0).map((t,e)=>e)),Pi160=Id160.map(t=>(9*t+5)%16),idxLR=(()=>{const a=[[Id160],[Pi160]];for(let r=0;r<4;r++)for(let o of a)o.push(o[r].map(s=>Rho160[s]));return a})(),idxL=idxLR[0],idxR=idxLR[1],shifts160=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>Uint8Array.from(t)),shiftsL160=idxL.map((t,e)=>t.map(a=>shifts160[e][a])),shiftsR160=idxR.map((t,e)=>t.map(a=>shifts160[e][a])),Kl160=Uint32Array.from([0,1518500249,1859775393,2400959708,2840853838]),Kr160=Uint32Array.from([1352829926,1548603684,1836072691,2053994217,0]);function ripemd_f(t,e,a,r){return t===0?e^a^r:t===1?e&a|~e&r:t===2?(e|~a)^r:t===3?e&r|a&~r:e^(a|~r)}const BUF_160=new Uint32Array(16);class _RIPEMD160 extends HashMD$1{h0=1732584193;h1=-271733879;h2=-1732584194;h3=271733878;h4=-1009589776;constructor(){super(64,20,8,!0)}get(){const{h0:e,h1:a,h2:r,h3:o,h4:s}=this;return[e,a,r,o,s]}set(e,a,r,o,s){this.h0=e|0,this.h1=a|0,this.h2=r|0,this.h3=o|0,this.h4=s|0}process(e,a){for(let b=0;b<16;b++,a+=4)BUF_160[b]=e.getUint32(a,!0);let r=this.h0|0,o=r,s=this.h1|0,l=s,c=this.h2|0,u=c,h=this.h3|0,f=h,m=this.h4|0,g=m;for(let b=0;b<5;b++){const w=4-b,E=Kl160[b],C=Kr160[b],B=idxL[b],O=idxR[b],P=shiftsL160[b],q=shiftsR160[b];for(let z=0;z<16;z++){const V=rotl$1(r+ripemd_f(b,s,c,h)+BUF_160[B[z]]+E,P[z])+m|0;r=m,m=h,h=rotl$1(c,10)|0,c=s,s=V}for(let z=0;z<16;z++){const V=rotl$1(o+ripemd_f(w,l,u,f)+BUF_160[O[z]]+C,q[z])+g|0;o=g,g=f,f=rotl$1(u,10)|0,u=l,l=V}}this.set(this.h1+c+f|0,this.h2+h+g|0,this.h3+m+o|0,this.h4+r+l|0,this.h0+s+u|0)}roundClean(){clean$2(BUF_160)}destroy(){this.destroyed=!0,clean$2(this.buffer),this.set(0,0,0,0,0)}}const ripemd160$3=createHasher$1(()=>new _RIPEMD160),U32_MASK64=BigInt(2**32-1),_32n=BigInt(32);function fromBig(t,e=!1){return e?{h:Number(t&U32_MASK64),l:Number(t>>_32n&U32_MASK64)}:{h:Number(t>>_32n&U32_MASK64)|0,l:Number(t&U32_MASK64)|0}}function split(t,e=!1){const a=t.length;let r=new Uint32Array(a),o=new Uint32Array(a);for(let s=0;s<a;s++){const{h:l,l:c}=fromBig(t[s],e);[r[s],o[s]]=[l,c]}return[r,o]}const shrSH=(t,e,a)=>t>>>a,shrSL=(t,e,a)=>t<<32-a|e>>>a,rotrSH=(t,e,a)=>t>>>a|e<<32-a,rotrSL=(t,e,a)=>t<<32-a|e>>>a,rotrBH=(t,e,a)=>t<<64-a|e>>>a-32,rotrBL=(t,e,a)=>t>>>a-32|e<<64-a;function add(t,e,a,r){const o=(e>>>0)+(r>>>0);return{h:t+a+(o/2**32|0)|0,l:o|0}}const add3L=(t,e,a)=>(t>>>0)+(e>>>0)+(a>>>0),add3H=(t,e,a,r)=>e+a+r+(t/2**32|0)|0,add4L=(t,e,a,r)=>(t>>>0)+(e>>>0)+(a>>>0)+(r>>>0),add4H=(t,e,a,r,o)=>e+a+r+o+(t/2**32|0)|0,add5L=(t,e,a,r,o)=>(t>>>0)+(e>>>0)+(a>>>0)+(r>>>0)+(o>>>0),add5H=(t,e,a,r,o,s)=>e+a+r+o+s+(t/2**32|0)|0,SHA256_K$1=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),SHA256_W$1=new Uint32Array(64);class SHA2_32B extends HashMD$1{constructor(e){super(64,e,8,!1)}get(){const{A:e,B:a,C:r,D:o,E:s,F:l,G:c,H:u}=this;return[e,a,r,o,s,l,c,u]}set(e,a,r,o,s,l,c,u){this.A=e|0,this.B=a|0,this.C=r|0,this.D=o|0,this.E=s|0,this.F=l|0,this.G=c|0,this.H=u|0}process(e,a){for(let m=0;m<16;m++,a+=4)SHA256_W$1[m]=e.getUint32(a,!1);for(let m=16;m<64;m++){const g=SHA256_W$1[m-15],b=SHA256_W$1[m-2],w=rotr$1(g,7)^rotr$1(g,18)^g>>>3,E=rotr$1(b,17)^rotr$1(b,19)^b>>>10;SHA256_W$1[m]=E+SHA256_W$1[m-7]+w+SHA256_W$1[m-16]|0}let{A:r,B:o,C:s,D:l,E:c,F:u,G:h,H:f}=this;for(let m=0;m<64;m++){const g=rotr$1(c,6)^rotr$1(c,11)^rotr$1(c,25),b=f+g+Chi$1(c,u,h)+SHA256_K$1[m]+SHA256_W$1[m]|0,E=(rotr$1(r,2)^rotr$1(r,13)^rotr$1(r,22))+Maj$1(r,o,s)|0;f=h,h=u,u=c,c=l+b|0,l=s,s=o,o=r,r=b+E|0}r=r+this.A|0,o=o+this.B|0,s=s+this.C|0,l=l+this.D|0,c=c+this.E|0,u=u+this.F|0,h=h+this.G|0,f=f+this.H|0,this.set(r,o,s,l,c,u,h,f)}roundClean(){clean$2(SHA256_W$1)}destroy(){this.set(0,0,0,0,0,0,0,0),clean$2(this.buffer)}}class _SHA256 extends SHA2_32B{A=SHA256_IV$1[0]|0;B=SHA256_IV$1[1]|0;C=SHA256_IV$1[2]|0;D=SHA256_IV$1[3]|0;E=SHA256_IV$1[4]|0;F=SHA256_IV$1[5]|0;G=SHA256_IV$1[6]|0;H=SHA256_IV$1[7]|0;constructor(){super(32)}}class _SHA224 extends SHA2_32B{A=SHA224_IV[0]|0;B=SHA224_IV[1]|0;C=SHA224_IV[2]|0;D=SHA224_IV[3]|0;E=SHA224_IV[4]|0;F=SHA224_IV[5]|0;G=SHA224_IV[6]|0;H=SHA224_IV[7]|0;constructor(){super(28)}}const K512=split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),SHA512_Kh=K512[0],SHA512_Kl=K512[1],SHA512_W_H=new Uint32Array(80),SHA512_W_L=new Uint32Array(80);class SHA2_64B extends HashMD$1{constructor(e){super(128,e,16,!1)}get(){const{Ah:e,Al:a,Bh:r,Bl:o,Ch:s,Cl:l,Dh:c,Dl:u,Eh:h,El:f,Fh:m,Fl:g,Gh:b,Gl:w,Hh:E,Hl:C}=this;return[e,a,r,o,s,l,c,u,h,f,m,g,b,w,E,C]}set(e,a,r,o,s,l,c,u,h,f,m,g,b,w,E,C){this.Ah=e|0,this.Al=a|0,this.Bh=r|0,this.Bl=o|0,this.Ch=s|0,this.Cl=l|0,this.Dh=c|0,this.Dl=u|0,this.Eh=h|0,this.El=f|0,this.Fh=m|0,this.Fl=g|0,this.Gh=b|0,this.Gl=w|0,this.Hh=E|0,this.Hl=C|0}process(e,a){for(let P=0;P<16;P++,a+=4)SHA512_W_H[P]=e.getUint32(a),SHA512_W_L[P]=e.getUint32(a+=4);for(let P=16;P<80;P++){const q=SHA512_W_H[P-15]|0,z=SHA512_W_L[P-15]|0,V=rotrSH(q,z,1)^rotrSH(q,z,8)^shrSH(q,z,7),Z=rotrSL(q,z,1)^rotrSL(q,z,8)^shrSL(q,z,7),J=SHA512_W_H[P-2]|0,W=SHA512_W_L[P-2]|0,te=rotrSH(J,W,19)^rotrBH(J,W,61)^shrSH(J,W,6),G=rotrSL(J,W,19)^rotrBL(J,W,61)^shrSL(J,W,6),D=add4L(Z,G,SHA512_W_L[P-7],SHA512_W_L[P-16]),M=add4H(D,V,te,SHA512_W_H[P-7],SHA512_W_H[P-16]);SHA512_W_H[P]=M|0,SHA512_W_L[P]=D|0}let{Ah:r,Al:o,Bh:s,Bl:l,Ch:c,Cl:u,Dh:h,Dl:f,Eh:m,El:g,Fh:b,Fl:w,Gh:E,Gl:C,Hh:B,Hl:O}=this;for(let P=0;P<80;P++){const q=rotrSH(m,g,14)^rotrSH(m,g,18)^rotrBH(m,g,41),z=rotrSL(m,g,14)^rotrSL(m,g,18)^rotrBL(m,g,41),V=m&b^~m&E,Z=g&w^~g&C,J=add5L(O,z,Z,SHA512_Kl[P],SHA512_W_L[P]),W=add5H(J,B,q,V,SHA512_Kh[P],SHA512_W_H[P]),te=J|0,G=rotrSH(r,o,28)^rotrBH(r,o,34)^rotrBH(r,o,39),D=rotrSL(r,o,28)^rotrBL(r,o,34)^rotrBL(r,o,39),M=r&s^r&c^s&c,v=o&l^o&u^l&u;B=E|0,O=C|0,E=b|0,C=w|0,b=m|0,w=g|0,{h:m,l:g}=add(h|0,f|0,W|0,te|0),h=c|0,f=u|0,c=s|0,u=l|0,s=r|0,l=o|0;const S=add3L(te,D,v);r=add3H(S,W,G,M),o=S|0}({h:r,l:o}=add(this.Ah|0,this.Al|0,r|0,o|0)),{h:s,l}=add(this.Bh|0,this.Bl|0,s|0,l|0),{h:c,l:u}=add(this.Ch|0,this.Cl|0,c|0,u|0),{h,l:f}=add(this.Dh|0,this.Dl|0,h|0,f|0),{h:m,l:g}=add(this.Eh|0,this.El|0,m|0,g|0),{h:b,l:w}=add(this.Fh|0,this.Fl|0,b|0,w|0),{h:E,l:C}=add(this.Gh|0,this.Gl|0,E|0,C|0),{h:B,l:O}=add(this.Hh|0,this.Hl|0,B|0,O|0),this.set(r,o,s,l,c,u,h,f,m,g,b,w,E,C,B,O)}roundClean(){clean$2(SHA512_W_H,SHA512_W_L)}destroy(){clean$2(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class _SHA512 extends SHA2_64B{Ah=SHA512_IV[0]|0;Al=SHA512_IV[1]|0;Bh=SHA512_IV[2]|0;Bl=SHA512_IV[3]|0;Ch=SHA512_IV[4]|0;Cl=SHA512_IV[5]|0;Dh=SHA512_IV[6]|0;Dl=SHA512_IV[7]|0;Eh=SHA512_IV[8]|0;El=SHA512_IV[9]|0;Fh=SHA512_IV[10]|0;Fl=SHA512_IV[11]|0;Gh=SHA512_IV[12]|0;Gl=SHA512_IV[13]|0;Hh=SHA512_IV[14]|0;Hl=SHA512_IV[15]|0;constructor(){super(64)}}class _SHA384 extends SHA2_64B{Ah=SHA384_IV[0]|0;Al=SHA384_IV[1]|0;Bh=SHA384_IV[2]|0;Bl=SHA384_IV[3]|0;Ch=SHA384_IV[4]|0;Cl=SHA384_IV[5]|0;Dh=SHA384_IV[6]|0;Dl=SHA384_IV[7]|0;Eh=SHA384_IV[8]|0;El=SHA384_IV[9]|0;Fh=SHA384_IV[10]|0;Fl=SHA384_IV[11]|0;Gh=SHA384_IV[12]|0;Gl=SHA384_IV[13]|0;Hh=SHA384_IV[14]|0;Hl=SHA384_IV[15]|0;constructor(){super(48)}}const sha256$8=createHasher$1(()=>new _SHA256,oidNist(1)),sha224$4=createHasher$1(()=>new _SHA224,oidNist(4)),sha512$5=createHasher$1(()=>new _SHA512,oidNist(3)),sha384$4=createHasher$1(()=>new _SHA384,oidNist(2));var HashAlgorithm;(function(t){t[t.SHA256=0]="SHA256",t[t.SHA224=1]="SHA224",t[t.SHA384=2]="SHA384",t[t.SHA512=3]="SHA512",t[t.RIPEMD160=4]="RIPEMD160"})(HashAlgorithm||(HashAlgorithm={}));class HashError extends Error{constructor(e){super(e),this.name="HashError"}}class CborError extends Error{}class CborMapEntry{_key;_value;constructor(e,a){this._key=e,this._value=a,this._key=new Uint8Array(e),this._value=new Uint8Array(a)}get key(){return new Uint8Array(this._key)}get value(){return new Uint8Array(this._value)}}var MajorType;(function(t){t[t.UNSIGNED_INTEGER=0]="UNSIGNED_INTEGER",t[t.NEGATIVE_INTEGER=32]="NEGATIVE_INTEGER",t[t.BYTE_STRING=64]="BYTE_STRING",t[t.TEXT_STRING=96]="TEXT_STRING",t[t.ARRAY=128]="ARRAY",t[t.MAP=160]="MAP",t[t.TAG=192]="TAG",t[t.FLOAT_SIMPLE_BREAK=224]="FLOAT_SIMPLE_BREAK"})(MajorType||(MajorType={}));class CborReader{data;static MAJOR_TYPE_MASK=224;static ADDITIONAL_INFORMATION_MASK=31;position=0;constructor(e){this.data=e}readByte(){if(this.position>=this.data.length)throw new CborError("Premature end of data.");return this.data[this.position++]}read(e){try{if(this.position+e>this.data.length)throw new CborError("Premature end of data.");return this.data.slice(this.position,this.position+e)}finally{this.position+=e}}readLength(e){const a=this.readByte();if((a&CborReader.MAJOR_TYPE_MASK)!==e)throw new CborError("Major type mismatch.");const r=a&CborReader.ADDITIONAL_INFORMATION_MASK;if(r<24)return BigInt(r);switch(e){case MajorType.ARRAY:case MajorType.BYTE_STRING:case MajorType.TEXT_STRING:if(r==31)throw new CborError("Indefinite length array not supported.");break}if(r>27)throw new CborError("Encoded item is not well-formed.");let o=0n;const s=Math.pow(2,r-24);for(let l=0;l<s;++l)o=o<<8n|BigInt(this.readByte());return o}readRawCbor(){if(this.position>=this.data.length)throw new CborError("Premature end of data.");const e=this.data[this.position]&CborReader.MAJOR_TYPE_MASK,a=this.position,r=this.readLength(e);switch(e){case MajorType.BYTE_STRING:case MajorType.TEXT_STRING:this.read(Number(r));break;case MajorType.ARRAY:for(let o=0;o<r;o++)this.readRawCbor();break;case MajorType.MAP:for(let o=0;o<r;o++)this.readRawCbor(),this.readRawCbor();break;case MajorType.TAG:this.readRawCbor();break}return this.data.slice(a,this.position)}}class HexConverter{static encode(e){return bytesToHex$3(e)}static decode(e){return(e.startsWith("0x")||e.startsWith("0X"))&&(e=e.slice(2)),hexToBytes$2(e)}}class CborDeserializer{static readOptional(e,a){return new CborReader(e).readByte()===246?null:a(e)}static readUnsignedInteger(e){return new CborReader(e).readLength(MajorType.UNSIGNED_INTEGER)}static readNegativeInteger(){throw new CborError("Not implemented.")}static readByteString(e){const a=new CborReader(e),r=a.readLength(MajorType.BYTE_STRING);if(r>BigInt(Number.MAX_SAFE_INTEGER))throw new CborError("Byte string too long.");return a.read(Number(r))}static readTextString(e){const a=new CborReader(e),r=a.readLength(MajorType.TEXT_STRING);if(r>BigInt(Number.MAX_SAFE_INTEGER))throw new CborError("Text string too long.");return new TextDecoder().decode(a.read(Number(r)))}static readArray(e){const a=new CborReader(e),r=a.readLength(MajorType.ARRAY);if(r>BigInt(Number.MAX_SAFE_INTEGER))throw new CborError("Array too long.");const o=[];for(let s=0;s<r;s++)o.push(a.readRawCbor());return o}static readMap(e){const a=new CborReader(e),r=a.readLength(MajorType.MAP);if(r>BigInt(Number.MAX_SAFE_INTEGER))throw new CborError("Map too long.");const o=[],s=new Set;for(let l=0;l<r;l++){const c=a.readRawCbor(),u=a.readRawCbor(),h=HexConverter.encode(c);if(s.has(h))throw new CborError("Duplicate map key found.");s.add(h),o.push(new CborMapEntry(c,u))}return o}static readTag(e){const a=new CborReader(e),r=a.readLength(MajorType.TAG);return{data:a.readRawCbor(),tag:r}}static readBoolean(e){const a=new CborReader(e).readByte();if(a===245)return!0;if(a===244)return!1;throw new CborError("Type mismatch, expected boolean.")}}class CborSerializer{static encodeOptional(e,a){return e==null?new Uint8Array([246]):a(e)}static encodeUnsignedInteger(e){if(e<0)throw new CborError("Only unsigned numbers are allowed.");if(e<24)return new Uint8Array([MajorType.UNSIGNED_INTEGER|Number(e)]);const a=CborSerializer.getUnsignedIntegerAsPaddedBytes(e);return new Uint8Array([MajorType.UNSIGNED_INTEGER|CborSerializer.getAdditionalInformationBits(a.length),...a])}static encodeByteString(e){if(e.length<24)return new Uint8Array([MajorType.BYTE_STRING|e.length,...e]);const a=CborSerializer.getUnsignedIntegerAsPaddedBytes(e.length);return new Uint8Array([MajorType.BYTE_STRING|CborSerializer.getAdditionalInformationBits(a.length),...a,...e])}static encodeTextString(e){const a=new TextEncoder().encode(e);if(a.length<24)return new Uint8Array([MajorType.TEXT_STRING|a.length,...a]);const r=CborSerializer.getUnsignedIntegerAsPaddedBytes(a.length);return new Uint8Array([MajorType.TEXT_STRING|CborSerializer.getAdditionalInformationBits(r.length),...r,...a])}static encodeArray(...e){const a=new Uint8Array(e.reduce((s,l)=>s+l.length,0));let r=0;for(const s of e)a.set(s,r),r+=s.length;if(e.length<24)return new Uint8Array([MajorType.ARRAY|e.length,...a]);const o=CborSerializer.getUnsignedIntegerAsPaddedBytes(e.length);return new Uint8Array([MajorType.ARRAY|CborSerializer.getAdditionalInformationBits(o.length),...o,...a])}static encodeMap(e){const a=e.entries,r=a.reduce((c,u)=>c+u.key.length+u.value.length,0),o=new Uint8Array(r);let s=0;for(const c of a)o.set(c.key,s),s+=c.key.length,o.set(c.value,s),s+=c.value.length;if(a.length<24)return new Uint8Array([MajorType.MAP|a.length,...o]);const l=CborSerializer.getUnsignedIntegerAsPaddedBytes(a.length);return new Uint8Array([MajorType.MAP|CborSerializer.getAdditionalInformationBits(l.length),...l,...o])}static encodeTag(e,a){if(e<24)return new Uint8Array([MajorType.TAG|Number(e),...a]);const r=CborSerializer.getUnsignedIntegerAsPaddedBytes(e);return new Uint8Array([MajorType.TAG|CborSerializer.getAdditionalInformationBits(r.length),...r,...a])}static encodeBoolean(e){return e?new Uint8Array([245]):new Uint8Array([244])}static encodeNull(){return new Uint8Array([246])}static getAdditionalInformationBits(e){return 24+Math.ceil(Math.log2(e))}static getUnsignedIntegerAsPaddedBytes(e){if(e<0)throw new CborError("Only unsigned numbers are allowed.");let a;const r=[];for(a=BigInt(e);a>0;a=a>>8n)r.push(Number(a&255n));if(r.length>8)throw new CborError("Number is not unsigned long.");r.length===0&&r.push(0),r.reverse();const o=new Uint8Array(Math.pow(2,Math.ceil(Math.log2(r.length))));return o.set(r,o.length-r.length),o}}class DataHash{algorithm;_data;_imprint;constructor(e,a){this.algorithm=e,this._data=a,this._data=new Uint8Array(a),this._imprint=new Uint8Array(a.length+2),this._imprint.set([(e&65280)>>8,e&255]),this._imprint.set(new Uint8Array(a),2)}get data(){return new Uint8Array(this._data)}get imprint(){return new Uint8Array(this._imprint)}static fromImprint(e){if(e.length<3)throw new HashError("Imprint must have 2 bytes of algorithm and at least 1 byte of data.");const a=e[0]<<8|e[1];return new DataHash(a,e.subarray(2))}static fromJSON(e){return DataHash.fromImprint(HexConverter.decode(e))}static fromCBOR(e){return DataHash.fromImprint(CborDeserializer.readByteString(e))}toJSON(){return HexConverter.encode(this._imprint)}toCBOR(){return CborSerializer.encodeByteString(this._imprint)}equals(e){return HexConverter.encode(this._imprint)===HexConverter.encode(e._imprint)}toString(){return`[${HashAlgorithm[this.algorithm]}]${HexConverter.encode(this._data)}`}}class UnsupportedHashAlgorithmError extends Error{constructor(e){super(`Unsupported hash algorithm: ${e}`),this.name="UnsupportedHashAlgorithm"}}const Algorithm={[HashAlgorithm.RIPEMD160]:ripemd160$3,[HashAlgorithm.SHA224]:sha224$4,[HashAlgorithm.SHA256]:sha256$8,[HashAlgorithm.SHA384]:sha384$4,[HashAlgorithm.SHA512]:sha512$5};class DataHasher{algorithm;_messageDigest;constructor(e){if(this.algorithm=e,!Algorithm[e])throw new UnsupportedHashAlgorithmError(e);this._messageDigest=Algorithm[e].create()}update(e){return this._messageDigest.update(e),this}digest(){return Promise.resolve(new DataHash(this.algorithm,this._messageDigest.digest()))}}class DirectAddress{data;checksum;constructor(e,a){this.data=e,this.checksum=a,this.checksum=new Uint8Array(a.slice(0,4))}get scheme(){return AddressScheme.DIRECT}get address(){return this.toString()}static async create(e){const a=await new DataHasher(HashAlgorithm.SHA256).update(e.imprint).digest();return new DirectAddress(e,a.data.slice(0,4))}toString(){return`${this.scheme}://${HexConverter.encode(this.data.imprint)}${HexConverter.encode(this.checksum)}`}}class BigintConverter{static decode(e,a,r){if(a=a??0,r=r??e.length,a<0||r<0||a+r>e.length)throw new Error("Index out of bounds");let o=0n;for(let s=0;s<r;++s)o=o<<8n|BigInt(e[a+s]&255);return o}static encode(e){const a=[];for(let r=e;r>0n;r>>=8n)a.unshift(Number(r&0xffn));return new Uint8Array(a)}}class BitString{value;constructor(e){this.value=BigInt(`0x01${HexConverter.encode(e)}`)}static fromDataHash(e){return new BitString(e.imprint)}toBigInt(){return this.value}toBytes(){return BigintConverter.encode(this.value).slice(1)}toString(){return this.value.toString(2).slice(1)}}function areUint8ArraysEqual(t,e){return t===e?!0:!t||!e?!1:compareUint8Arrays(t,e)===0}function compareUint8Arrays(t,e){if(t.length!==e.length)return t.length-e.length;for(let a=0;a<t.length;a++)if(t[a]!==e[a])return t[a]-e[a];return 0}const textEncoder$1=new TextEncoder;class TokenId{_bytes;constructor(e){this._bytes=e,this._bytes=new Uint8Array(e)}get bytes(){return new Uint8Array(this._bytes)}static async fromNameTag(e){const a=await new DataHasher(HashAlgorithm.SHA256).update(textEncoder$1.encode(e)).digest();return new TokenId(a.imprint)}static fromJSON(e){return new TokenId(HexConverter.decode(e))}static fromCBOR(e){return new TokenId(CborDeserializer.readByteString(e))}toJSON(){return HexConverter.encode(this._bytes)}toCBOR(){return CborSerializer.encodeByteString(this._bytes)}toString(){return`TokenId[${HexConverter.encode(this._bytes)}]`}toBitString(){return new BitString(this._bytes)}equals(e){return this===e?!0:e instanceof TokenId?areUint8ArraysEqual(this._bytes,e._bytes):!1}}class AddressFactory{static async createAddress(e){const a=e.split("://",2);if(a.length!=2)throw new Error("Invalid address format");let r;const o=HexConverter.decode(a[1]);switch(a.at(0)){case AddressScheme.DIRECT:r=await DirectAddress.create(DataHash.fromImprint(o.slice(0,-4)));break;case AddressScheme.PROXY:r=await ProxyAddress.fromTokenId(new TokenId(o.slice(0,-4)));break;default:throw new Error(`Invalid address format: ${a.at(0)}`)}if(r.address!==e)throw new Error("Address checksum mismatch");return r}}const textDecoder=new TextDecoder;class ProxyAddress{data;checksum;constructor(e,a){this.data=e,this.checksum=a,this.checksum=a.slice()}get scheme(){return AddressScheme.PROXY}get address(){return this.toString()}static async fromNameTag(e){return ProxyAddress.fromTokenId(await TokenId.fromNameTag(e))}static async fromTokenId(e){const a=await new DataHasher(HashAlgorithm.SHA256).update(e.bytes).digest();return new ProxyAddress(e,a.data.slice(0,4))}static async resolve(e,a){const r=new Map;for(const s of a){if(s==null)throw new Error("Nametag tokens list cannot contain null elements");const l=await ProxyAddress.fromTokenId(s.id).then(c=>c.address);if(r.has(l))throw new Error(`Nametag tokens list contains duplicate addresses: ${l}`);if(s.data==null)throw new Error("Nametag token data cannot be null");r.set(l,await AddressFactory.createAddress(textDecoder.decode(s.data)))}let o=e;for(;o!==null&&o.scheme!=AddressScheme.DIRECT;)o=r.get(o.address)??null;return o}toString(){return`${AddressScheme.PROXY}://${HexConverter.encode(this.data.bytes)}${HexConverter.encode(this.checksum)}`}}class InvalidJsonStructureError extends Error{constructor(){super("Invalid JSON structure.")}}var PredicateEngineType;(function(t){t[t.EMBEDDED=0]="EMBEDDED"})(PredicateEngineType||(PredicateEngineType={}));class EncodedPredicate{engine;_code;_parameters;constructor(e,a,r){this.engine=e,this._code=a,this._parameters=r,this._code=a.slice(),this._parameters=r.slice()}static fromCBOR(e){const a=CborDeserializer.readArray(e),r=CborDeserializer.readUnsignedInteger(a[0]);if(r>Number.MAX_SAFE_INTEGER||!PredicateEngineType[Number(r)])throw new CborError("Invalid predicate engine type");return new EncodedPredicate(Number(r),CborDeserializer.readByteString(a[1]),CborDeserializer.readByteString(a[2]))}encode(){return this._code.slice()}encodeParameters(){return this._parameters.slice()}}function dedent(t,...e){if(t.length===0)return"";let a=t[0].split(`
`);if(a.shift()?.length!==0)throw new Error("First line must be empty");const r=a[0].length-a[0].trimStart().length,o=[];for(let s=0;s<t.length;s++){o.push(`${o.pop()||""}${a[0].slice(Math.min(a[0].length-a[0].trim().length,r))}`);for(let h=1;h<a.length;h++)o.push(a[h].slice(r));const l=o.pop(),c=l.length-l.trimStart().length,u=s<e.length?String(e[s]).split(`
`):[""];o.push(`${l}${u[0]}`);for(let h=1;h<u.length;h++)o.push(`${" ".repeat(c)}${u[h]}`);a=s+1<t.length?t[s+1].split(`
`):[]}return o.join(`
`)}class TokenState{predicate;_data;constructor(e,a){this.predicate=e,this._data=a,this._data=a?new Uint8Array(a):null}get data(){return this._data?new Uint8Array(this._data):null}static fromCBOR(e){const a=CborDeserializer.readArray(e);return new TokenState(EncodedPredicate.fromCBOR(a[0]),CborDeserializer.readOptional(a[1],CborDeserializer.readByteString))}static isJSON(e){return typeof e=="object"&&e!=null&&"predicate"in e&&typeof e.predicate=="string"&&"data"in e&&(typeof e.data=="string"||e.data===null)}static fromJSON(e){if(!TokenState.isJSON(e))throw new InvalidJsonStructureError;return new TokenState(EncodedPredicate.fromCBOR(HexConverter.decode(e.predicate)),e.data?HexConverter.decode(e.data):null)}toCBOR(){return CborSerializer.encodeArray(CborSerializer.encodeArray(CborSerializer.encodeUnsignedInteger(this.predicate.engine),CborSerializer.encodeByteString(this.predicate.encode()),CborSerializer.encodeByteString(this.predicate.encodeParameters())),CborSerializer.encodeOptional(this.data,CborSerializer.encodeByteString))}toJSON(){return{data:this._data?HexConverter.encode(this._data):null,predicate:HexConverter.encode(CborSerializer.encodeArray(CborSerializer.encodeUnsignedInteger(this.predicate.engine),CborSerializer.encodeByteString(this.predicate.encode()),CborSerializer.encodeByteString(this.predicate.encodeParameters())))}}calculateHash(){return new DataHasher(HashAlgorithm.SHA256).update(this.toCBOR()).digest()}toString(){return dedent`
        TokenState:
          ${this.predicate.toString()}
          Data: ${this._data?HexConverter.encode(this._data):null}`}}var EmbeddedPredicateType;(function(t){t[t.UNMASKED=0]="UNMASKED",t[t.MASKED=1]="MASKED",t[t.BURN=2]="BURN"})(EmbeddedPredicateType||(EmbeddedPredicateType={}));class BurnPredicateReference{hash;constructor(e){this.hash=e}static async create(e,a){return new BurnPredicateReference(await new DataHasher(HashAlgorithm.SHA256).update(CborSerializer.encodeArray(CborSerializer.encodeByteString(new Uint8Array([EmbeddedPredicateType.BURN])),CborSerializer.encodeByteString(e.toCBOR()),CborSerializer.encodeByteString(a.imprint))).digest())}toAddress(){return DirectAddress.create(this.hash)}}class TokenType{_bytes;constructor(e){this._bytes=e,this._bytes=new Uint8Array(e)}get bytes(){return new Uint8Array(this._bytes)}static fromJSON(e){return new TokenType(HexConverter.decode(e))}static fromCBOR(e){return new TokenType(CborDeserializer.readByteString(e))}toJSON(){return HexConverter.encode(this._bytes)}toCBOR(){return CborSerializer.encodeByteString(this._bytes)}toString(){return`TokenType[${HexConverter.encode(this._bytes)}]`}equals(e){return this===e?!0:e instanceof TokenType?areUint8ArraysEqual(this._bytes,e._bytes):!1}}class BurnPredicate{tokenId;tokenType;reason;constructor(e,a,r){this.tokenId=e,this.tokenType=a,this.reason=r}get engine(){return PredicateEngineType.EMBEDDED}static fromCBOR(e){const a=CborDeserializer.readArray(e);return new BurnPredicate(TokenId.fromCBOR(a[0]),TokenType.fromCBOR(a[1]),DataHash.fromCBOR(a[2]))}verify(){return Promise.resolve(!1)}isOwner(){return Promise.resolve(!1)}getReference(){return BurnPredicateReference.create(this.tokenType,this.reason)}encode(){return new Uint8Array([EmbeddedPredicateType.BURN])}encodeParameters(){return CborSerializer.encodeArray(this.tokenId.toCBOR(),this.tokenType.toCBOR(),this.reason.toCBOR())}async calculateHash(){const e=await this.getReference();return new DataHasher(HashAlgorithm.SHA256).update(CborSerializer.encodeArray(e.hash.toCBOR(),this.tokenId.toCBOR())).digest()}toString(){return dedent`
          Predicate[${EmbeddedPredicateType[EmbeddedPredicateType.BURN]}]:
            TokenId: ${this.tokenId.toString()}
            TokenType: ${this.tokenType.toString()}
            Reason: ${this.reason.toString()}`}}class RequestId extends DataHash{hash;constructor(e){super(e.algorithm,e.data),this.hash=e}static create(e,a){return RequestId.createFromImprint(e,a.imprint)}static async createFromImprint(e,a){const r=await new DataHasher(HashAlgorithm.SHA256).update(e).update(a).digest();return new RequestId(r)}static fromCBOR(e){return new RequestId(DataHash.fromCBOR(e))}static fromJSON(e){return new RequestId(DataHash.fromJSON(e))}toBitString(){return BitString.fromDataHash(this)}toString(){return`RequestId[${this.hash.toString()}]`}}class Signature{_bytes;recovery;algorithm="secp256k1";constructor(e,a){this._bytes=e,this.recovery=a,this._bytes=new Uint8Array(e)}get bytes(){return new Uint8Array(this._bytes)}static fromCBOR(e){return Signature.decode(CborDeserializer.readByteString(e))}static decode(e){if(e.length!==65)throw new Error("Signature must contain signature and recovery byte.");return new Signature(e.slice(0,-1),e[e.length-1])}static fromJSON(e){return Signature.decode(HexConverter.decode(e))}toJSON(){return HexConverter.encode(this.encode())}toCBOR(){return CborSerializer.encodeByteString(this.encode())}encode(){return new Uint8Array([...this._bytes,this.recovery])}toString(){return`${HexConverter.encode(this.encode())}`}}const _0n$8=BigInt(0),_1n$8=BigInt(1);function abool$1(t,e=""){if(typeof t!="boolean"){const a=e&&`"${e}" `;throw new Error(a+"expected boolean, got type="+typeof t)}return t}function abignumber(t){if(typeof t=="bigint"){if(!isPosBig$1(t))throw new Error("positive bigint expected, got "+t)}else anumber$2(t);return t}function numberToHexUnpadded$1(t){const e=abignumber(t).toString(16);return e.length&1?"0"+e:e}function hexToNumber$1(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?_0n$8:BigInt("0x"+t)}function bytesToNumberBE$1(t){return hexToNumber$1(bytesToHex$3(t))}function bytesToNumberLE$1(t){return hexToNumber$1(bytesToHex$3(copyBytes$1(abytes$2(t)).reverse()))}function numberToBytesBE$1(t,e){anumber$2(e),t=abignumber(t);const a=hexToBytes$2(t.toString(16).padStart(e*2,"0"));if(a.length!==e)throw new Error("number too large");return a}function numberToBytesLE$1(t,e){return numberToBytesBE$1(t,e).reverse()}function copyBytes$1(t){return Uint8Array.from(t)}const isPosBig$1=t=>typeof t=="bigint"&&_0n$8<=t;function inRange$1(t,e,a){return isPosBig$1(t)&&isPosBig$1(e)&&isPosBig$1(a)&&e<=t&&t<a}function aInRange$1(t,e,a,r){if(!inRange$1(e,a,r))throw new Error("expected valid "+t+": "+a+" <= n < "+r+", got "+e)}function bitLen$1(t){let e;for(e=0;t>_0n$8;t>>=_1n$8,e+=1);return e}const bitMask$1=t=>(_1n$8<<BigInt(t))-_1n$8;function createHmacDrbg$1(t,e,a){if(anumber$2(t,"hashLen"),anumber$2(e,"qByteLen"),typeof a!="function")throw new Error("hmacFn must be a function");const r=C=>new Uint8Array(C),o=Uint8Array.of(),s=Uint8Array.of(0),l=Uint8Array.of(1),c=1e3;let u=r(t),h=r(t),f=0;const m=()=>{u.fill(1),h.fill(0),f=0},g=(...C)=>a(h,concatBytes$1(u,...C)),b=(C=o)=>{h=g(s,C),u=g(),C.length!==0&&(h=g(l,C),u=g())},w=()=>{if(f++>=c)throw new Error("drbg: tried max amount of iterations");let C=0;const B=[];for(;C<e;){u=g();const O=u.slice();B.push(O),C+=u.length}return concatBytes$1(...B)};return(C,B)=>{m(),b(C);let O;for(;!(O=B(w()));)b();return m(),O}}function validateObject(t,e={},a={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(s,l,c){const u=t[s];if(c&&u===void 0)return;const h=typeof u;if(h!==l||u===null)throw new Error(`param "${s}" is invalid: expected ${l}, got ${h}`)}const o=(s,l)=>Object.entries(s).forEach(([c,u])=>r(c,u,l));o(e,!1),o(a,!0)}function memoized$1(t){const e=new WeakMap;return(a,...r)=>{const o=e.get(a);if(o!==void 0)return o;const s=t(a,...r);return e.set(a,s),s}}const _0n$7=BigInt(0),_1n$7=BigInt(1),_2n$5=BigInt(2),_3n$3=BigInt(3),_4n$3=BigInt(4),_5n$1=BigInt(5),_7n$1=BigInt(7),_8n$1=BigInt(8),_9n$1=BigInt(9),_16n$1=BigInt(16);function mod$1(t,e){const a=t%e;return a>=_0n$7?a:e+a}function pow2$1(t,e,a){let r=t;for(;e-- >_0n$7;)r*=r,r%=a;return r}function invert$1(t,e){if(t===_0n$7)throw new Error("invert: expected non-zero number");if(e<=_0n$7)throw new Error("invert: expected positive modulus, got "+e);let a=mod$1(t,e),r=e,o=_0n$7,s=_1n$7;for(;a!==_0n$7;){const c=r/a,u=r%a,h=o-s*c;r=a,a=u,o=s,s=h}if(r!==_1n$7)throw new Error("invert: does not exist");return mod$1(o,e)}function assertIsSquare$1(t,e,a){if(!t.eql(t.sqr(e),a))throw new Error("Cannot find square root")}function sqrt3mod4$1(t,e){const a=(t.ORDER+_1n$7)/_4n$3,r=t.pow(e,a);return assertIsSquare$1(t,r,e),r}function sqrt5mod8$1(t,e){const a=(t.ORDER-_5n$1)/_8n$1,r=t.mul(e,_2n$5),o=t.pow(r,a),s=t.mul(e,o),l=t.mul(t.mul(s,_2n$5),o),c=t.mul(s,t.sub(l,t.ONE));return assertIsSquare$1(t,c,e),c}function sqrt9mod16$1(t){const e=Field$1(t),a=tonelliShanks$1(t),r=a(e,e.neg(e.ONE)),o=a(e,r),s=a(e,e.neg(r)),l=(t+_7n$1)/_16n$1;return(c,u)=>{let h=c.pow(u,l),f=c.mul(h,r);const m=c.mul(h,o),g=c.mul(h,s),b=c.eql(c.sqr(f),u),w=c.eql(c.sqr(m),u);h=c.cmov(h,f,b),f=c.cmov(g,m,w);const E=c.eql(c.sqr(f),u),C=c.cmov(h,f,E);return assertIsSquare$1(c,C,u),C}}function tonelliShanks$1(t){if(t<_3n$3)throw new Error("sqrt is not defined for small field");let e=t-_1n$7,a=0;for(;e%_2n$5===_0n$7;)e/=_2n$5,a++;let r=_2n$5;const o=Field$1(t);for(;FpLegendre$1(o,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(a===1)return sqrt3mod4$1;let s=o.pow(r,e);const l=(e+_1n$7)/_2n$5;return function(u,h){if(u.is0(h))return h;if(FpLegendre$1(u,h)!==1)throw new Error("Cannot find square root");let f=a,m=u.mul(u.ONE,s),g=u.pow(h,e),b=u.pow(h,l);for(;!u.eql(g,u.ONE);){if(u.is0(g))return u.ZERO;let w=1,E=u.sqr(g);for(;!u.eql(E,u.ONE);)if(w++,E=u.sqr(E),w===f)throw new Error("Cannot find square root");const C=_1n$7<<BigInt(f-w-1),B=u.pow(m,C);f=w,m=u.sqr(B),g=u.mul(g,m),b=u.mul(b,B)}return b}}function FpSqrt$1(t){return t%_4n$3===_3n$3?sqrt3mod4$1:t%_8n$1===_5n$1?sqrt5mod8$1:t%_16n$1===_9n$1?sqrt9mod16$1(t):tonelliShanks$1(t)}const FIELD_FIELDS$1=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function validateField$1(t){const e={ORDER:"bigint",BYTES:"number",BITS:"number"},a=FIELD_FIELDS$1.reduce((r,o)=>(r[o]="function",r),e);return validateObject(t,a),t}function FpPow$1(t,e,a){if(a<_0n$7)throw new Error("invalid exponent, negatives unsupported");if(a===_0n$7)return t.ONE;if(a===_1n$7)return e;let r=t.ONE,o=e;for(;a>_0n$7;)a&_1n$7&&(r=t.mul(r,o)),o=t.sqr(o),a>>=_1n$7;return r}function FpInvertBatch$1(t,e,a=!1){const r=new Array(e.length).fill(a?t.ZERO:void 0),o=e.reduce((l,c,u)=>t.is0(c)?l:(r[u]=l,t.mul(l,c)),t.ONE),s=t.inv(o);return e.reduceRight((l,c,u)=>t.is0(c)?l:(r[u]=t.mul(l,r[u]),t.mul(l,c)),s),r}function FpLegendre$1(t,e){const a=(t.ORDER-_1n$7)/_2n$5,r=t.pow(e,a),o=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),l=t.eql(r,t.neg(t.ONE));if(!o&&!s&&!l)throw new Error("invalid Legendre symbol result");return o?1:s?0:-1}function nLength$1(t,e){e!==void 0&&anumber$2(e);const a=e!==void 0?e:t.toString(2).length,r=Math.ceil(a/8);return{nBitLength:a,nByteLength:r}}class _Field{ORDER;BITS;BYTES;isLE;ZERO=_0n$7;ONE=_1n$7;_lengths;_sqrt;_mod;constructor(e,a={}){if(e<=_0n$7)throw new Error("invalid field: expected ORDER > 0, got "+e);let r;this.isLE=!1,a!=null&&typeof a=="object"&&(typeof a.BITS=="number"&&(r=a.BITS),typeof a.sqrt=="function"&&(this.sqrt=a.sqrt),typeof a.isLE=="boolean"&&(this.isLE=a.isLE),a.allowedLengths&&(this._lengths=a.allowedLengths?.slice()),typeof a.modFromBytes=="boolean"&&(this._mod=a.modFromBytes));const{nBitLength:o,nByteLength:s}=nLength$1(e,r);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");this.ORDER=e,this.BITS=o,this.BYTES=s,this._sqrt=void 0,Object.preventExtensions(this)}create(e){return mod$1(e,this.ORDER)}isValid(e){if(typeof e!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof e);return _0n$7<=e&&e<this.ORDER}is0(e){return e===_0n$7}isValidNot0(e){return!this.is0(e)&&this.isValid(e)}isOdd(e){return(e&_1n$7)===_1n$7}neg(e){return mod$1(-e,this.ORDER)}eql(e,a){return e===a}sqr(e){return mod$1(e*e,this.ORDER)}add(e,a){return mod$1(e+a,this.ORDER)}sub(e,a){return mod$1(e-a,this.ORDER)}mul(e,a){return mod$1(e*a,this.ORDER)}pow(e,a){return FpPow$1(this,e,a)}div(e,a){return mod$1(e*invert$1(a,this.ORDER),this.ORDER)}sqrN(e){return e*e}addN(e,a){return e+a}subN(e,a){return e-a}mulN(e,a){return e*a}inv(e){return invert$1(e,this.ORDER)}sqrt(e){return this._sqrt||(this._sqrt=FpSqrt$1(this.ORDER)),this._sqrt(this,e)}toBytes(e){return this.isLE?numberToBytesLE$1(e,this.BYTES):numberToBytesBE$1(e,this.BYTES)}fromBytes(e,a=!1){abytes$2(e);const{_lengths:r,BYTES:o,isLE:s,ORDER:l,_mod:c}=this;if(r){if(!r.includes(e.length)||e.length>o)throw new Error("Field.fromBytes: expected "+r+" bytes, got "+e.length);const h=new Uint8Array(o);h.set(e,s?0:h.length-e.length),e=h}if(e.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+e.length);let u=s?bytesToNumberLE$1(e):bytesToNumberBE$1(e);if(c&&(u=mod$1(u,l)),!a&&!this.isValid(u))throw new Error("invalid field element: outside of range 0..ORDER");return u}invertBatch(e){return FpInvertBatch$1(this,e)}cmov(e,a,r){return r?a:e}}function Field$1(t,e={}){return new _Field(t,e)}function getFieldBytesLength$1(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function getMinHashLength$1(t){const e=getFieldBytesLength$1(t);return e+Math.ceil(e/2)}function mapHashToField$1(t,e,a=!1){abytes$2(t);const r=t.length,o=getFieldBytesLength$1(e),s=getMinHashLength$1(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const l=a?bytesToNumberLE$1(t):bytesToNumberBE$1(t),c=mod$1(l,e-_1n$7)+_1n$7;return a?numberToBytesLE$1(c,o):numberToBytesBE$1(c,o)}const _0n$6=BigInt(0),_1n$6=BigInt(1);function negateCt$1(t,e){const a=e.negate();return t?a:e}function normalizeZ$1(t,e){const a=FpInvertBatch$1(t.Fp,e.map(r=>r.Z));return e.map((r,o)=>t.fromAffine(r.toAffine(a[o])))}function validateW$1(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function calcWOpts$1(t,e){validateW$1(t,e);const a=Math.ceil(e/t)+1,r=2**(t-1),o=2**t,s=bitMask$1(t),l=BigInt(t);return{windows:a,windowSize:r,mask:s,maxNumber:o,shiftBy:l}}function calcOffsets$1(t,e,a){const{windowSize:r,mask:o,maxNumber:s,shiftBy:l}=a;let c=Number(t&o),u=t>>l;c>r&&(c-=s,u+=_1n$6);const h=e*r,f=h+Math.abs(c)-1,m=c===0,g=c<0,b=e%2!==0;return{nextN:u,offset:f,isZero:m,isNeg:g,isNegF:b,offsetF:h}}const pointPrecomputes$1=new WeakMap,pointWindowSizes$1=new WeakMap;function getW$1(t){return pointWindowSizes$1.get(t)||1}function assert0$1(t){if(t!==_0n$6)throw new Error("invalid wNAF")}let wNAF$1=class{BASE;ZERO;Fn;bits;constructor(e,a){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=a}_unsafeLadder(e,a,r=this.ZERO){let o=e;for(;a>_0n$6;)a&_1n$6&&(r=r.add(o)),o=o.double(),a>>=_1n$6;return r}precomputeWindow(e,a){const{windows:r,windowSize:o}=calcWOpts$1(a,this.bits),s=[];let l=e,c=l;for(let u=0;u<r;u++){c=l,s.push(c);for(let h=1;h<o;h++)c=c.add(l),s.push(c);l=c.double()}return s}wNAF(e,a,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let o=this.ZERO,s=this.BASE;const l=calcWOpts$1(e,this.bits);for(let c=0;c<l.windows;c++){const{nextN:u,offset:h,isZero:f,isNeg:m,isNegF:g,offsetF:b}=calcOffsets$1(r,c,l);r=u,f?s=s.add(negateCt$1(g,a[b])):o=o.add(negateCt$1(m,a[h]))}return assert0$1(r),{p:o,f:s}}wNAFUnsafe(e,a,r,o=this.ZERO){const s=calcWOpts$1(e,this.bits);for(let l=0;l<s.windows&&r!==_0n$6;l++){const{nextN:c,offset:u,isZero:h,isNeg:f}=calcOffsets$1(r,l,s);if(r=c,!h){const m=a[u];o=o.add(f?m.negate():m)}}return assert0$1(r),o}getPrecomputes(e,a,r){let o=pointPrecomputes$1.get(a);return o||(o=this.precomputeWindow(a,e),e!==1&&(typeof r=="function"&&(o=r(o)),pointPrecomputes$1.set(a,o))),o}cached(e,a,r){const o=getW$1(e);return this.wNAF(o,this.getPrecomputes(o,e,r),a)}unsafe(e,a,r,o){const s=getW$1(e);return s===1?this._unsafeLadder(e,a,o):this.wNAFUnsafe(s,this.getPrecomputes(s,e,r),a,o)}createCache(e,a){validateW$1(a,this.bits),pointWindowSizes$1.set(e,a),pointPrecomputes$1.delete(e)}hasCache(e){return getW$1(e)!==1}};function mulEndoUnsafe$1(t,e,a,r){let o=e,s=t.ZERO,l=t.ZERO;for(;a>_0n$6||r>_0n$6;)a&_1n$6&&(s=s.add(o)),r&_1n$6&&(l=l.add(o)),o=o.double(),a>>=_1n$6,r>>=_1n$6;return{p1:s,p2:l}}function createField$1(t,e,a){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return validateField$1(e),e}else return Field$1(t,{isLE:a})}function createCurveFields(t,e,a={},r){if(r===void 0&&(r=t==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const u of["p","n","h"]){const h=e[u];if(!(typeof h=="bigint"&&h>_0n$6))throw new Error(`CURVE.${u} must be positive bigint`)}const o=createField$1(e.p,a.Fp,r),s=createField$1(e.n,a.Fn,r),c=["Gx","Gy","a","b"];for(const u of c)if(!o.isValid(e[u]))throw new Error(`CURVE.${u} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:o,Fn:s}}function createKeygen(t,e){return function(r){const o=t(r);return{secretKey:o,publicKey:e(o)}}}class _HMAC{oHash;iHash;blockLen;outputLen;finished=!1;destroyed=!1;constructor(e,a){if(ahash$1(e),abytes$2(a,void 0,"key"),this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const r=this.blockLen,o=new Uint8Array(r);o.set(a.length>r?e.create().update(a).digest():a);for(let s=0;s<o.length;s++)o[s]^=54;this.iHash.update(o),this.oHash=e.create();for(let s=0;s<o.length;s++)o[s]^=106;this.oHash.update(o),clean$2(o)}update(e){return aexists$2(this),this.iHash.update(e),this}digestInto(e){aexists$2(this),abytes$2(e,this.outputLen,"output"),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||=Object.create(Object.getPrototypeOf(this),{});const{oHash:a,iHash:r,finished:o,destroyed:s,blockLen:l,outputLen:c}=this;return e=e,e.finished=o,e.destroyed=s,e.blockLen=l,e.outputLen=c,e.oHash=a._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hmac$5=(t,e,a)=>new _HMAC(t,e).update(a).digest();hmac$5.create=(t,e)=>new _HMAC(t,e);const divNearest$1=(t,e)=>(t+(t>=0?e:-e)/_2n$4)/e;function _splitEndoScalar$1(t,e,a){const[[r,o],[s,l]]=e,c=divNearest$1(l*t,a),u=divNearest$1(-o*t,a);let h=t-c*r-u*s,f=-c*o-u*l;const m=h<_0n$5,g=f<_0n$5;m&&(h=-h),g&&(f=-f);const b=bitMask$1(Math.ceil(bitLen$1(a)/2))+_1n$5;if(h<_0n$5||h>=b||f<_0n$5||f>=b)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:m,k1:h,k2neg:g,k2:f}}function validateSigFormat$1(t){if(!["compact","recovered","der"].includes(t))throw new Error('Signature format must be "compact", "recovered", or "der"');return t}function validateSigOpts$1(t,e){const a={};for(let r of Object.keys(e))a[r]=t[r]===void 0?e[r]:t[r];return abool$1(a.lowS,"lowS"),abool$1(a.prehash,"prehash"),a.format!==void 0&&validateSigFormat$1(a.format),a}let DERErr$1=class extends Error{constructor(e=""){super(e)}};const DER$1={Err:DERErr$1,_tlv:{encode:(t,e)=>{const{Err:a}=DER$1;if(t<0||t>256)throw new a("tlv.encode: wrong tag");if(e.length&1)throw new a("tlv.encode: unpadded data");const r=e.length/2,o=numberToHexUnpadded$1(r);if(o.length/2&128)throw new a("tlv.encode: long form length too big");const s=r>127?numberToHexUnpadded$1(o.length/2|128):"";return numberToHexUnpadded$1(t)+s+o+e},decode(t,e){const{Err:a}=DER$1;let r=0;if(t<0||t>256)throw new a("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new a("tlv.decode: wrong tlv");const o=e[r++],s=!!(o&128);let l=0;if(!s)l=o;else{const u=o&127;if(!u)throw new a("tlv.decode(long): indefinite length not supported");if(u>4)throw new a("tlv.decode(long): byte length is too big");const h=e.subarray(r,r+u);if(h.length!==u)throw new a("tlv.decode: length bytes not complete");if(h[0]===0)throw new a("tlv.decode(long): zero leftmost byte");for(const f of h)l=l<<8|f;if(r+=u,l<128)throw new a("tlv.decode(long): not minimal encoding")}const c=e.subarray(r,r+l);if(c.length!==l)throw new a("tlv.decode: wrong value length");return{v:c,l:e.subarray(r+l)}}},_int:{encode(t){const{Err:e}=DER$1;if(t<_0n$5)throw new e("integer: negative integers are not allowed");let a=numberToHexUnpadded$1(t);if(Number.parseInt(a[0],16)&8&&(a="00"+a),a.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return a},decode(t){const{Err:e}=DER$1;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return bytesToNumberBE$1(t)}},toSig(t){const{Err:e,_int:a,_tlv:r}=DER$1,o=abytes$2(t,void 0,"signature"),{v:s,l}=r.decode(48,o);if(l.length)throw new e("invalid signature: left bytes after parsing");const{v:c,l:u}=r.decode(2,s),{v:h,l:f}=r.decode(2,u);if(f.length)throw new e("invalid signature: left bytes after parsing");return{r:a.decode(c),s:a.decode(h)}},hexFromSig(t){const{_tlv:e,_int:a}=DER$1,r=e.encode(2,a.encode(t.r)),o=e.encode(2,a.encode(t.s)),s=r+o;return e.encode(48,s)}},_0n$5=BigInt(0),_1n$5=BigInt(1),_2n$4=BigInt(2),_3n$2=BigInt(3),_4n$2=BigInt(4);function weierstrass$1(t,e={}){const a=createCurveFields("weierstrass",t,e),{Fp:r,Fn:o}=a;let s=a.CURVE;const{h:l,n:c}=s;validateObject(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object"});const{endo:u}=e;if(u&&(!r.is0(s.a)||typeof u.beta!="bigint"||!Array.isArray(u.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const h=getWLengths$1(r,o);function f(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function m(D,M,v){const{x:S,y:N}=M.toAffine(),R=r.toBytes(S);if(abool$1(v,"isCompressed"),v){f();const k=!r.isOdd(N);return concatBytes$1(pprefix$1(k),R)}else return concatBytes$1(Uint8Array.of(4),R,r.toBytes(N))}function g(D){abytes$2(D,void 0,"Point");const{publicKey:M,publicKeyUncompressed:v}=h,S=D.length,N=D[0],R=D.subarray(1);if(S===M&&(N===2||N===3)){const k=r.fromBytes(R);if(!r.isValid(k))throw new Error("bad point: is not on curve, wrong x");const j=E(k);let I;try{I=r.sqrt(j)}catch(L){const Y=L instanceof Error?": "+L.message:"";throw new Error("bad point: is not on curve, sqrt error"+Y)}f();const A=r.isOdd(I);return(N&1)===1!==A&&(I=r.neg(I)),{x:k,y:I}}else if(S===v&&N===4){const k=r.BYTES,j=r.fromBytes(R.subarray(0,k)),I=r.fromBytes(R.subarray(k,k*2));if(!C(j,I))throw new Error("bad point: is not on curve");return{x:j,y:I}}else throw new Error(`bad point: got length ${S}, expected compressed=${M} or uncompressed=${v}`)}const b=e.toBytes||m,w=e.fromBytes||g;function E(D){const M=r.sqr(D),v=r.mul(M,D);return r.add(r.add(v,r.mul(D,s.a)),s.b)}function C(D,M){const v=r.sqr(M),S=E(D);return r.eql(v,S)}if(!C(s.Gx,s.Gy))throw new Error("bad curve params: generator point");const B=r.mul(r.pow(s.a,_3n$2),_4n$2),O=r.mul(r.sqr(s.b),BigInt(27));if(r.is0(r.add(B,O)))throw new Error("bad curve params: a or b");function P(D,M,v=!1){if(!r.isValid(M)||v&&r.is0(M))throw new Error(`bad point coordinate ${D}`);return M}function q(D){if(!(D instanceof W))throw new Error("Weierstrass Point expected")}function z(D){if(!u||!u.basises)throw new Error("no endo");return _splitEndoScalar$1(D,u.basises,o.ORDER)}const V=memoized$1((D,M)=>{const{X:v,Y:S,Z:N}=D;if(r.eql(N,r.ONE))return{x:v,y:S};const R=D.is0();M==null&&(M=R?r.ONE:r.inv(N));const k=r.mul(v,M),j=r.mul(S,M),I=r.mul(N,M);if(R)return{x:r.ZERO,y:r.ZERO};if(!r.eql(I,r.ONE))throw new Error("invZ was invalid");return{x:k,y:j}}),Z=memoized$1(D=>{if(D.is0()){if(e.allowInfinityPoint&&!r.is0(D.Y))return;throw new Error("bad point: ZERO")}const{x:M,y:v}=D.toAffine();if(!r.isValid(M)||!r.isValid(v))throw new Error("bad point: x or y not field elements");if(!C(M,v))throw new Error("bad point: equation left != right");if(!D.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function J(D,M,v,S,N){return v=new W(r.mul(v.X,D),v.Y,v.Z),M=negateCt$1(S,M),v=negateCt$1(N,v),M.add(v)}class W{static BASE=new W(s.Gx,s.Gy,r.ONE);static ZERO=new W(r.ZERO,r.ONE,r.ZERO);static Fp=r;static Fn=o;X;Y;Z;constructor(M,v,S){this.X=P("x",M),this.Y=P("y",v,!0),this.Z=P("z",S),Object.freeze(this)}static CURVE(){return s}static fromAffine(M){const{x:v,y:S}=M||{};if(!M||!r.isValid(v)||!r.isValid(S))throw new Error("invalid affine point");if(M instanceof W)throw new Error("projective point not allowed");return r.is0(v)&&r.is0(S)?W.ZERO:new W(v,S,r.ONE)}static fromBytes(M){const v=W.fromAffine(w(abytes$2(M,void 0,"point")));return v.assertValidity(),v}static fromHex(M){return W.fromBytes(hexToBytes$2(M))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(M=8,v=!0){return G.createCache(this,M),v||this.multiply(_3n$2),this}assertValidity(){Z(this)}hasEvenY(){const{y:M}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(M)}equals(M){q(M);const{X:v,Y:S,Z:N}=this,{X:R,Y:k,Z:j}=M,I=r.eql(r.mul(v,j),r.mul(R,N)),A=r.eql(r.mul(S,j),r.mul(k,N));return I&&A}negate(){return new W(this.X,r.neg(this.Y),this.Z)}double(){const{a:M,b:v}=s,S=r.mul(v,_3n$2),{X:N,Y:R,Z:k}=this;let j=r.ZERO,I=r.ZERO,A=r.ZERO,$=r.mul(N,N),L=r.mul(R,R),Y=r.mul(k,k),le=r.mul(N,R);return le=r.add(le,le),A=r.mul(N,k),A=r.add(A,A),j=r.mul(M,A),I=r.mul(S,Y),I=r.add(j,I),j=r.sub(L,I),I=r.add(L,I),I=r.mul(j,I),j=r.mul(le,j),A=r.mul(S,A),Y=r.mul(M,Y),le=r.sub($,Y),le=r.mul(M,le),le=r.add(le,A),A=r.add($,$),$=r.add(A,$),$=r.add($,Y),$=r.mul($,le),I=r.add(I,$),Y=r.mul(R,k),Y=r.add(Y,Y),$=r.mul(Y,le),j=r.sub(j,$),A=r.mul(Y,L),A=r.add(A,A),A=r.add(A,A),new W(j,I,A)}add(M){q(M);const{X:v,Y:S,Z:N}=this,{X:R,Y:k,Z:j}=M;let I=r.ZERO,A=r.ZERO,$=r.ZERO;const L=s.a,Y=r.mul(s.b,_3n$2);let le=r.mul(v,R),re=r.mul(S,k),U=r.mul(N,j),K=r.add(v,S),se=r.add(R,k);K=r.mul(K,se),se=r.add(le,re),K=r.sub(K,se),se=r.add(v,N);let he=r.add(R,j);return se=r.mul(se,he),he=r.add(le,U),se=r.sub(se,he),he=r.add(S,N),I=r.add(k,j),he=r.mul(he,I),I=r.add(re,U),he=r.sub(he,I),$=r.mul(L,se),I=r.mul(Y,U),$=r.add(I,$),I=r.sub(re,$),$=r.add(re,$),A=r.mul(I,$),re=r.add(le,le),re=r.add(re,le),U=r.mul(L,U),se=r.mul(Y,se),re=r.add(re,U),U=r.sub(le,U),U=r.mul(L,U),se=r.add(se,U),le=r.mul(re,se),A=r.add(A,le),le=r.mul(he,se),I=r.mul(K,I),I=r.sub(I,le),le=r.mul(K,re),$=r.mul(he,$),$=r.add($,le),new W(I,A,$)}subtract(M){return this.add(M.negate())}is0(){return this.equals(W.ZERO)}multiply(M){const{endo:v}=e;if(!o.isValidNot0(M))throw new Error("invalid scalar: out of range");let S,N;const R=k=>G.cached(this,k,j=>normalizeZ$1(W,j));if(v){const{k1neg:k,k1:j,k2neg:I,k2:A}=z(M),{p:$,f:L}=R(j),{p:Y,f:le}=R(A);N=L.add(le),S=J(v.beta,$,Y,k,I)}else{const{p:k,f:j}=R(M);S=k,N=j}return normalizeZ$1(W,[S,N])[0]}multiplyUnsafe(M){const{endo:v}=e,S=this;if(!o.isValid(M))throw new Error("invalid scalar: out of range");if(M===_0n$5||S.is0())return W.ZERO;if(M===_1n$5)return S;if(G.hasCache(this))return this.multiply(M);if(v){const{k1neg:N,k1:R,k2neg:k,k2:j}=z(M),{p1:I,p2:A}=mulEndoUnsafe$1(W,S,R,j);return J(v.beta,I,A,N,k)}else return G.unsafe(S,M)}toAffine(M){return V(this,M)}isTorsionFree(){const{isTorsionFree:M}=e;return l===_1n$5?!0:M?M(W,this):G.unsafe(this,c).is0()}clearCofactor(){const{clearCofactor:M}=e;return l===_1n$5?this:M?M(W,this):this.multiplyUnsafe(l)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}toBytes(M=!0){return abool$1(M,"isCompressed"),this.assertValidity(),b(W,this,M)}toHex(M=!0){return bytesToHex$3(this.toBytes(M))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}const te=o.BITS,G=new wNAF$1(W,e.endo?Math.ceil(te/2):te);return W.BASE.precompute(8),W}function pprefix$1(t){return Uint8Array.of(t?2:3)}function getWLengths$1(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function ecdh$1(t,e={}){const{Fn:a}=t,r=e.randomBytes||randomBytes$1,o=Object.assign(getWLengths$1(t.Fp,a),{seed:getMinHashLength$1(a.ORDER)});function s(b){try{const w=a.fromBytes(b);return a.isValidNot0(w)}catch{return!1}}function l(b,w){const{publicKey:E,publicKeyUncompressed:C}=o;try{const B=b.length;return w===!0&&B!==E||w===!1&&B!==C?!1:!!t.fromBytes(b)}catch{return!1}}function c(b=r(o.seed)){return mapHashToField$1(abytes$2(b,o.seed,"seed"),a.ORDER)}function u(b,w=!0){return t.BASE.multiply(a.fromBytes(b)).toBytes(w)}function h(b){const{secretKey:w,publicKey:E,publicKeyUncompressed:C}=o;if(!isBytes$2(b)||"_lengths"in a&&a._lengths||w===E)return;const B=abytes$2(b,void 0,"key").length;return B===E||B===C}function f(b,w,E=!0){if(h(b)===!0)throw new Error("first arg must be private key");if(h(w)===!1)throw new Error("second arg must be public key");const C=a.fromBytes(b);return t.fromBytes(w).multiply(C).toBytes(E)}const m={isValidSecretKey:s,isValidPublicKey:l,randomSecretKey:c},g=createKeygen(c,u);return Object.freeze({getPublicKey:u,getSharedSecret:f,keygen:g,Point:t,utils:m,lengths:o})}function ecdsa$1(t,e,a={}){ahash$1(e),validateObject(a,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"}),a=Object.assign({},a);const r=a.randomBytes||randomBytes$1,o=a.hmac||((v,S)=>hmac$5(e,v,S)),{Fp:s,Fn:l}=t,{ORDER:c,BITS:u}=l,{keygen:h,getPublicKey:f,getSharedSecret:m,utils:g,lengths:b}=ecdh$1(t,a),w={prehash:!0,lowS:typeof a.lowS=="boolean"?a.lowS:!0,format:"compact",extraEntropy:!1},E=c*_2n$4<s.ORDER;function C(v){const S=c>>_1n$5;return v>S}function B(v,S){if(!l.isValidNot0(S))throw new Error(`invalid signature ${v}: out of range 1..Point.Fn.ORDER`);return S}function O(){if(E)throw new Error('"recovered" sig type is not supported for cofactor >2 curves')}function P(v,S){validateSigFormat$1(S);const N=b.signature,R=S==="compact"?N:S==="recovered"?N+1:void 0;return abytes$2(v,R)}class q{r;s;recovery;constructor(S,N,R){if(this.r=B("r",S),this.s=B("s",N),R!=null){if(O(),![0,1,2,3].includes(R))throw new Error("invalid recovery id");this.recovery=R}Object.freeze(this)}static fromBytes(S,N=w.format){P(S,N);let R;if(N==="der"){const{r:A,s:$}=DER$1.toSig(abytes$2(S));return new q(A,$)}N==="recovered"&&(R=S[0],N="compact",S=S.subarray(1));const k=b.signature/2,j=S.subarray(0,k),I=S.subarray(k,k*2);return new q(l.fromBytes(j),l.fromBytes(I),R)}static fromHex(S,N){return this.fromBytes(hexToBytes$2(S),N)}assertRecovery(){const{recovery:S}=this;if(S==null)throw new Error("invalid recovery id: must be present");return S}addRecoveryBit(S){return new q(this.r,this.s,S)}recoverPublicKey(S){const{r:N,s:R}=this,k=this.assertRecovery(),j=k===2||k===3?N+c:N;if(!s.isValid(j))throw new Error("invalid recovery id: sig.r+curve.n != R.x");const I=s.toBytes(j),A=t.fromBytes(concatBytes$1(pprefix$1((k&1)===0),I)),$=l.inv(j),L=V(abytes$2(S,void 0,"msgHash")),Y=l.create(-L*$),le=l.create(R*$),re=t.BASE.multiplyUnsafe(Y).add(A.multiplyUnsafe(le));if(re.is0())throw new Error("invalid recovery: point at infinify");return re.assertValidity(),re}hasHighS(){return C(this.s)}toBytes(S=w.format){if(validateSigFormat$1(S),S==="der")return hexToBytes$2(DER$1.hexFromSig(this));const{r:N,s:R}=this,k=l.toBytes(N),j=l.toBytes(R);return S==="recovered"?(O(),concatBytes$1(Uint8Array.of(this.assertRecovery()),k,j)):concatBytes$1(k,j)}toHex(S){return bytesToHex$3(this.toBytes(S))}}const z=a.bits2int||function(S){if(S.length>8192)throw new Error("input is too large");const N=bytesToNumberBE$1(S),R=S.length*8-u;return R>0?N>>BigInt(R):N},V=a.bits2int_modN||function(S){return l.create(z(S))},Z=bitMask$1(u);function J(v){return aInRange$1("num < 2^"+u,v,_0n$5,Z),l.toBytes(v)}function W(v,S){return abytes$2(v,void 0,"message"),S?abytes$2(e(v),void 0,"prehashed message"):v}function te(v,S,N){const{lowS:R,prehash:k,extraEntropy:j}=validateSigOpts$1(N,w);v=W(v,k);const I=V(v),A=l.fromBytes(S);if(!l.isValidNot0(A))throw new Error("invalid private key");const $=[J(A),J(I)];if(j!=null&&j!==!1){const re=j===!0?r(b.secretKey):j;$.push(abytes$2(re,void 0,"extraEntropy"))}const L=concatBytes$1(...$),Y=I;function le(re){const U=z(re);if(!l.isValidNot0(U))return;const K=l.inv(U),se=t.BASE.multiply(U).toAffine(),he=l.create(se.x);if(he===_0n$5)return;const ue=l.create(K*l.create(Y+he*A));if(ue===_0n$5)return;let ee=(se.x===he?0:2)|Number(se.y&_1n$5),fe=ue;return R&&C(ue)&&(fe=l.neg(ue),ee^=1),new q(he,fe,E?void 0:ee)}return{seed:L,k2sig:le}}function G(v,S,N={}){const{seed:R,k2sig:k}=te(v,S,N);return createHmacDrbg$1(e.outputLen,l.BYTES,o)(R,k).toBytes(N.format)}function D(v,S,N,R={}){const{lowS:k,prehash:j,format:I}=validateSigOpts$1(R,w);if(N=abytes$2(N,void 0,"publicKey"),S=W(S,j),!isBytes$2(v)){const A=v instanceof q?", use sig.toBytes()":"";throw new Error("verify expects Uint8Array signature"+A)}P(v,I);try{const A=q.fromBytes(v,I),$=t.fromBytes(N);if(k&&A.hasHighS())return!1;const{r:L,s:Y}=A,le=V(S),re=l.inv(Y),U=l.create(le*re),K=l.create(L*re),se=t.BASE.multiplyUnsafe(U).add($.multiplyUnsafe(K));return se.is0()?!1:l.create(se.x)===L}catch{return!1}}function M(v,S,N={}){const{prehash:R}=validateSigOpts$1(N,w);return S=W(S,R),q.fromBytes(v,"recovered").recoverPublicKey(S).toBytes()}return Object.freeze({keygen:h,getPublicKey:f,getSharedSecret:m,utils:g,lengths:b,Point:t,sign:G,verify:D,recoverPublicKey:M,Signature:q,hash:e})}const secp256k1_CURVE$1={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},secp256k1_ENDO$1={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},_2n$3=BigInt(2);function sqrtMod$1(t){const e=secp256k1_CURVE$1.p,a=BigInt(3),r=BigInt(6),o=BigInt(11),s=BigInt(22),l=BigInt(23),c=BigInt(44),u=BigInt(88),h=t*t*t%e,f=h*h*t%e,m=pow2$1(f,a,e)*f%e,g=pow2$1(m,a,e)*f%e,b=pow2$1(g,_2n$3,e)*h%e,w=pow2$1(b,o,e)*b%e,E=pow2$1(w,s,e)*w%e,C=pow2$1(E,c,e)*E%e,B=pow2$1(C,u,e)*C%e,O=pow2$1(B,c,e)*E%e,P=pow2$1(O,a,e)*f%e,q=pow2$1(P,l,e)*w%e,z=pow2$1(q,r,e)*h%e,V=pow2$1(z,_2n$3,e);if(!Fpk1$1.eql(Fpk1$1.sqr(V),t))throw new Error("Cannot find square root");return V}const Fpk1$1=Field$1(secp256k1_CURVE$1.p,{sqrt:sqrtMod$1}),Pointk1$1=weierstrass$1(secp256k1_CURVE$1,{Fp:Fpk1$1,endo:secp256k1_ENDO$1}),secp256k1$2=ecdsa$1(Pointk1$1,sha256$8);class SigningService{privateKey;_publicKey;constructor(e){this.privateKey=e,this.privateKey=new Uint8Array(e),this._publicKey=secp256k1$2.getPublicKey(this.privateKey,!0)}get publicKey(){return new Uint8Array(this._publicKey)}get algorithm(){return"secp256k1"}static generatePrivateKey(){return secp256k1$2.utils.randomSecretKey()}static async createFromSecret(e,a){const r=new DataHasher(HashAlgorithm.SHA256);r.update(e),a&&r.update(a);const o=await r.digest();return new SigningService(o.data)}static verifySignatureWithRecoveredPublicKey(e,a){const r=secp256k1$2.Signature.fromBytes(new Uint8Array([a.recovery,...a.bytes]),"recovered").recoverPublicKey(e.data).toBytes();return SigningService.verifyWithPublicKey(e,a.bytes,r)}static verifyWithPublicKey(e,a,r){return Promise.resolve(secp256k1$2.verify(a,e.data,r,{format:"compact",prehash:!1}))}verify(e,a){return SigningService.verifyWithPublicKey(e,a.bytes,this._publicKey)}sign(e){const a=secp256k1$2.sign(e.data,this.privateKey,{format:"recovered",prehash:!1});return Promise.resolve(new Signature(a.slice(1),a[0]))}}class Authenticator{algorithm;_publicKey;signature;stateHash;constructor(e,a,r,o){this.algorithm=e,this._publicKey=a,this.signature=r,this.stateHash=o,this._publicKey=new Uint8Array(a)}get publicKey(){return new Uint8Array(this._publicKey)}static async create(e,a,r){return new Authenticator(e.algorithm,e.publicKey,await e.sign(a),r)}static fromJSON(e){if(!Authenticator.isJSON(e))throw new InvalidJsonStructureError;return new Authenticator(e.algorithm,HexConverter.decode(e.publicKey),Signature.fromJSON(e.signature),DataHash.fromJSON(e.stateHash))}static isJSON(e){return typeof e=="object"&&e!==null&&"publicKey"in e&&typeof e.publicKey=="string"&&"algorithm"in e&&typeof e.algorithm=="string"&&"signature"in e&&typeof e.signature=="string"&&"stateHash"in e&&typeof e.stateHash=="string"}static fromCBOR(e){const a=CborDeserializer.readArray(e);return new Authenticator(CborDeserializer.readTextString(a[0]),CborDeserializer.readByteString(a[1]),Signature.decode(CborDeserializer.readByteString(a[2])),DataHash.fromImprint(CborDeserializer.readByteString(a[3])))}toCBOR(){return CborSerializer.encodeArray(CborSerializer.encodeTextString(this.algorithm),CborSerializer.encodeByteString(this.publicKey),CborSerializer.encodeByteString(this.signature.encode()),CborSerializer.encodeByteString(this.stateHash.imprint))}toJSON(){return{algorithm:this.algorithm,publicKey:HexConverter.encode(this.publicKey),signature:this.signature.toJSON(),stateHash:this.stateHash.toJSON()}}verify(e){return SigningService.verifyWithPublicKey(e,this.signature.bytes,this.publicKey)}calculateRequestId(){return RequestId.create(this._publicKey,this.stateHash)}toString(){return dedent`
      Authenticator
        Public Key: ${HexConverter.encode(this._publicKey)}
        Signature Algorithm: ${this.algorithm}
        Signature: ${this.signature.toString()}
        State Hash: ${this.stateHash.toString()}`}}class LeafValue{_bytes;constructor(e){this._bytes=e,this._bytes=new Uint8Array(e)}get bytes(){return new Uint8Array(this._bytes)}static async create(e,a){const r=await new DataHasher(HashAlgorithm.SHA256).update(e.toCBOR()).update(a.imprint).digest();return new LeafValue(r.imprint)}equals(e){return ArrayBuffer.isView(e)?HexConverter.encode(this.bytes)===HexConverter.encode(new Uint8Array(e.buffer,e.byteOffset,e.byteLength)):!1}toString(){return`LeafValue[${HexConverter.encode(this.bytes)}]`}}class InputRecord{version;roundNumber;epoch;_previousHash;_hash;_summaryValue;timestamp;_blockHash;sumOfEarnedFees;_executedTransactionsHash;constructor(e,a,r,o,s,l,c,u,h,f){this.version=e,this.roundNumber=a,this.epoch=r,this._previousHash=o,this._hash=s,this._summaryValue=l,this.timestamp=c,this._blockHash=u,this.sumOfEarnedFees=h,this._executedTransactionsHash=f,this._previousHash=o?new Uint8Array(o):null,this._hash=new Uint8Array(s),this._summaryValue=new Uint8Array(l),this._blockHash=u?new Uint8Array(u):null,this._executedTransactionsHash=f?new Uint8Array(f):null}get previousHash(){return this._previousHash?new Uint8Array(this._previousHash):null}get hash(){return new Uint8Array(this._hash)}get summaryValue(){return new Uint8Array(this._summaryValue)}get blockHash(){return this._blockHash?new Uint8Array(this._blockHash):null}get executedTransactionsHash(){return this._executedTransactionsHash?new Uint8Array(this._executedTransactionsHash):null}static fromCBOR(e){const a=CborDeserializer.readTag(e),r=CborDeserializer.readArray(a.data);return new InputRecord(CborDeserializer.readUnsignedInteger(r[0]),CborDeserializer.readUnsignedInteger(r[1]),CborDeserializer.readUnsignedInteger(r[2]),CborDeserializer.readOptional(r[3],CborDeserializer.readByteString),CborDeserializer.readByteString(r[4]),CborDeserializer.readByteString(r[5]),CborDeserializer.readUnsignedInteger(r[6]),CborDeserializer.readOptional(r[7],CborDeserializer.readByteString),CborDeserializer.readUnsignedInteger(r[8]),CborDeserializer.readOptional(r[9],CborDeserializer.readByteString))}toCBOR(){return CborSerializer.encodeTag(1008,CborSerializer.encodeArray(CborSerializer.encodeUnsignedInteger(this.version),CborSerializer.encodeUnsignedInteger(this.roundNumber),CborSerializer.encodeUnsignedInteger(this.epoch),CborSerializer.encodeOptional(this.previousHash,CborSerializer.encodeByteString),CborSerializer.encodeByteString(this.hash),CborSerializer.encodeByteString(this.summaryValue),CborSerializer.encodeUnsignedInteger(this.timestamp),CborSerializer.encodeOptional(this.blockHash,CborSerializer.encodeByteString),CborSerializer.encodeUnsignedInteger(this.sumOfEarnedFees),CborSerializer.encodeOptional(this.executedTransactionsHash,CborSerializer.encodeByteString)))}}class ShardTreeCertificate{_shard;_siblingHashList;constructor(e,a){this._shard=e,this._siblingHashList=a,this._shard=new Uint8Array(e),this._siblingHashList=a.map(r=>new Uint8Array(r))}get shard(){return new Uint8Array(this._shard)}get siblingHashList(){return this._siblingHashList.map(e=>new Uint8Array(e))}static fromCBOR(e){const a=CborDeserializer.readArray(e);return new ShardTreeCertificate(CborDeserializer.readByteString(a[0]),CborDeserializer.readArray(a[1]).map(r=>CborDeserializer.readByteString(r)))}toCBOR(){return CborSerializer.encodeArray(CborSerializer.encodeByteString(this.shard),CborSerializer.encodeArray(...this._siblingHashList.map(e=>CborSerializer.encodeByteString(e))))}}class CborMap{_entries;constructor(e){this._entries=e.slice(),this._entries.sort((a,r)=>{if(a.key.length!=r.key.length)return a.key.length-r.key.length;for(let o=0;o<a.key.length;o++)if(a.key[o]!=r.key[o])return a.key[o]-r.key[o];return 0})}get entries(){return this._entries.slice()}}class UnicitySeal{version;networkId;rootChainRoundNumber;epoch;timestamp;_previousHash;_hash;_signatures;constructor(e,a,r,o,s,l,c,u){this.version=e,this.networkId=a,this.rootChainRoundNumber=r,this.epoch=o,this.timestamp=s,this._previousHash=l,this._hash=c,this._signatures=u}get previousHash(){return this._previousHash?new Uint8Array(this._previousHash):null}get hash(){return new Uint8Array(this._hash)}get signatures(){return this._signatures?new Map(Array.from(this._signatures.entries()).map(([e,a])=>[e,new Uint8Array(a)])):null}static fromCBOR(e){const a=CborDeserializer.readTag(e),r=CborDeserializer.readArray(a.data);return new UnicitySeal(CborDeserializer.readUnsignedInteger(r[0]),CborDeserializer.readUnsignedInteger(r[1]),CborDeserializer.readUnsignedInteger(r[2]),CborDeserializer.readUnsignedInteger(r[3]),CborDeserializer.readUnsignedInteger(r[4]),CborDeserializer.readOptional(r[5],CborDeserializer.readByteString),CborDeserializer.readByteString(r[6]),new Map(CborDeserializer.readMap(r[7]).map(o=>[CborDeserializer.readTextString(o.key),CborDeserializer.readByteString(o.value)])))}withoutSignatures(){return new UnicitySeal(this.version,this.networkId,this.rootChainRoundNumber,this.epoch,this.timestamp,this.previousHash,this.hash,null)}toCBOR(){return CborSerializer.encodeTag(1001,CborSerializer.encodeArray(CborSerializer.encodeUnsignedInteger(this.version),CborSerializer.encodeUnsignedInteger(this.networkId),CborSerializer.encodeUnsignedInteger(this.rootChainRoundNumber),CborSerializer.encodeUnsignedInteger(this.epoch),CborSerializer.encodeUnsignedInteger(this.timestamp),CborSerializer.encodeOptional(this.previousHash,CborSerializer.encodeByteString),CborSerializer.encodeByteString(this.hash),CborSerializer.encodeOptional(this.signatures,e=>CborSerializer.encodeMap(new CborMap(Array.from(e.entries()).map(([a,r])=>new CborMapEntry(CborSerializer.encodeTextString(a),CborSerializer.encodeByteString(r))))))))}}class HashStep{key;_hash;constructor(e,a){this.key=e,this._hash=a,this._hash=new Uint8Array(a)}get hash(){return new Uint8Array(this._hash)}static fromCBOR(e){const a=CborDeserializer.readArray(e);return new HashStep(CborDeserializer.readUnsignedInteger(a[0]),CborDeserializer.readByteString(a[1]))}toCBOR(){return CborSerializer.encodeArray(CborSerializer.encodeUnsignedInteger(this.key),CborSerializer.encodeByteString(this.hash))}}class UnicityTreeCertificate{version;partitionIdentifier;_steps;constructor(e,a,r){this.version=e,this.partitionIdentifier=a,this._steps=r,this._steps=r.slice()}get steps(){return this._steps.slice()}static fromCBOR(e){const a=CborDeserializer.readTag(e),r=CborDeserializer.readArray(a.data);return new UnicityTreeCertificate(CborDeserializer.readUnsignedInteger(r[0]),CborDeserializer.readUnsignedInteger(r[1]),CborDeserializer.readArray(r[2]).map(o=>HashStep.fromCBOR(o)))}toCBOR(){return CborSerializer.encodeTag(1014,CborSerializer.encodeArray(CborSerializer.encodeUnsignedInteger(this.version),CborSerializer.encodeUnsignedInteger(this.partitionIdentifier),CborSerializer.encodeArray(...this.steps.map(e=>e.toCBOR()))))}}class UnicityCertificate{version;inputRecord;_technicalRecordHash;_shardConfigurationHash;shardTreeCertificate;unicityTreeCertificate;unicitySeal;constructor(e,a,r,o,s,l,c){this.version=e,this.inputRecord=a,this._technicalRecordHash=r,this._shardConfigurationHash=o,this.shardTreeCertificate=s,this.unicityTreeCertificate=l,this.unicitySeal=c,this._technicalRecordHash=r?new Uint8Array(r):null,this._shardConfigurationHash=new Uint8Array(o)}get technicalRecordHash(){return this._technicalRecordHash?new Uint8Array(this._technicalRecordHash):null}get shardConfigurationHash(){return new Uint8Array(this._shardConfigurationHash)}static async calculateShardTreeCertificateRootHash(e,a,r,o){let s=await new DataHasher(HashAlgorithm.SHA256).update(e.toCBOR()).update(CborSerializer.encodeOptional(a,CborSerializer.encodeByteString)).update(CborSerializer.encodeByteString(r)).digest();const l=o.shard,c=o.siblingHashList;for(let u=0;u<c.length;u++)l[l.length-1-Math.floor(u/8)]===1?s=await new DataHasher(HashAlgorithm.SHA256).update(c[u]).update(s.data).digest():s=await new DataHasher(HashAlgorithm.SHA256).update(s.data).update(c[u]).digest();return s}static fromCBOR(e){const a=CborDeserializer.readTag(e),r=CborDeserializer.readArray(a.data);return new UnicityCertificate(CborDeserializer.readUnsignedInteger(r[0]),InputRecord.fromCBOR(r[1]),CborDeserializer.readOptional(r[2],CborDeserializer.readByteString),CborDeserializer.readByteString(r[3]),ShardTreeCertificate.fromCBOR(r[4]),UnicityTreeCertificate.fromCBOR(r[5]),UnicitySeal.fromCBOR(r[6]))}static fromJSON(e){if(!UnicityCertificate.isJSON(e))throw new InvalidJsonStructureError;return UnicityCertificate.fromCBOR(HexConverter.decode(e))}static isJSON(e){return typeof e=="string"}toCBOR(){return CborSerializer.encodeTag(1007,CborSerializer.encodeArray(CborSerializer.encodeUnsignedInteger(this.version),this.inputRecord.toCBOR(),CborSerializer.encodeOptional(this.technicalRecordHash,CborSerializer.encodeByteString),CborSerializer.encodeByteString(this.shardConfigurationHash),this.shardTreeCertificate.toCBOR(),this.unicityTreeCertificate.toCBOR(),this.unicitySeal.toCBOR()))}toJSON(){return HexConverter.encode(this.toCBOR())}}class UnicityCertificateVerificationContext{inputHash;unicityCertificate;trustBase;constructor(e,a,r){this.inputHash=e,this.unicityCertificate=a,this.trustBase=r}}var VerificationResultCode;(function(t){t[t.OK=0]="OK",t[t.FAIL=1]="FAIL"})(VerificationResultCode||(VerificationResultCode={}));class VerificationResult{status;message;results;constructor(e,a="",r=[]){this.status=e,this.message=a,this.results=r,this.results=r.slice()}get isSuccessful(){return this.status==VerificationResultCode.OK}static fromChildren(e,a){return new VerificationResult(a.reduce((r,o)=>o.isSuccessful?r:VerificationResultCode.FAIL,VerificationResultCode.OK),e,a)}toString(){return dedent`
      VerificationResult:
        status: ${this.status}
        message: ${this.message}
        results: ${this.results.map(e=>e.toString()).join(`
`)}
    `}}class VerificationRule{message;onSuccessRule;onFailureRule;constructor(e,a=null,r=null){this.message=e,this.onSuccessRule=a,this.onFailureRule=r}getNextRule(e){switch(e){case VerificationResultCode.OK:return this.onSuccessRule;case VerificationResultCode.FAIL:return this.onFailureRule;default:return null}}}class InputRecordCurrentHashVerificationRule extends VerificationRule{constructor(e=null,a=null){super("Verifying input record if current hash matches input hash.",e,a)}verify(e){return e.inputHash.equals(DataHash.fromImprint(e.unicityCertificate.inputRecord.hash))?Promise.resolve(new VerificationResult(VerificationResultCode.OK)):Promise.resolve(new VerificationResult(VerificationResultCode.FAIL,"Input record current hash does not match input hash."))}}class UnicitySealHashMatchesWithRootHashRule extends VerificationRule{constructor(e=null,a=null){super("Verifying UnicitySeal hash matches with tree root hash.",e,a)}async verify(e){const a=await UnicityCertificate.calculateShardTreeCertificateRootHash(e.unicityCertificate.inputRecord,e.unicityCertificate.technicalRecordHash,e.unicityCertificate.shardConfigurationHash,e.unicityCertificate.shardTreeCertificate);if(a==null)return new VerificationResult(VerificationResultCode.FAIL,"Could not calculate shard tree certificate root hash.");const r=e.unicityCertificate.unicityTreeCertificate,o=numberToBytesBE$1(r.partitionIdentifier,4);let s=await new DataHasher(HashAlgorithm.SHA256).update(CborSerializer.encodeByteString(new Uint8Array([1]))).update(CborSerializer.encodeByteString(o)).update(CborSerializer.encodeByteString((await new DataHasher(HashAlgorithm.SHA256).update(CborSerializer.encodeByteString(a.data)).digest()).data)).digest();for(const c of r.steps){const u=numberToBytesBE$1(c.key,4),h=new DataHasher(HashAlgorithm.SHA256).update(CborSerializer.encodeByteString(new Uint8Array([0]))).update(CborSerializer.encodeByteString(u));compareUint8Arrays(o,u)>0?h.update(CborSerializer.encodeByteString(c.hash)).update(CborSerializer.encodeByteString(s.data)):h.update(CborSerializer.encodeByteString(s.data)).update(CborSerializer.encodeByteString(c.hash)),s=await h.digest()}const l=e.unicityCertificate.unicitySeal.hash;return areUint8ArraysEqual(l,s.data)?new VerificationResult(VerificationResultCode.OK):new VerificationResult(VerificationResultCode.FAIL,"Unicity seal hash does not match tree root.")}}class UnicitySealQuorumSignaturesVerificationRule extends VerificationRule{constructor(e=null,a=null){super("Verifying UnicitySeal hash matches with tree root hash.",e,a)}static verifySignature(e,a,r){return e==null?new VerificationResult(VerificationResultCode.FAIL,"No root node defined"):SigningService.verifyWithPublicKey(r,a.slice(0,-1),e.signingKey)?new VerificationResult(VerificationResultCode.OK):new VerificationResult(VerificationResultCode.FAIL,"Signature verification failed.")}async verify(e){const a=e.unicityCertificate.unicitySeal,r=e.trustBase,o=[],s=await new DataHasher(HashAlgorithm.SHA256).update(a.withoutSignatures().toCBOR()).digest();let l=0;for(const[c,u]of a.signatures?.entries()??[]){const h=UnicitySealQuorumSignaturesVerificationRule.verifySignature(r.rootNodes.find(f=>f.nodeId===c)??null,u,s);o.push(VerificationResult.fromChildren(`Verifying node '${c}' signature.`,[h])),h.isSuccessful&&l++}return l>=r.quorumThreshold?new VerificationResult(VerificationResultCode.OK,"",o):new VerificationResult(VerificationResultCode.FAIL,"Quorum threshold not reached.",o)}}class CompositeVerificationRule extends VerificationRule{firstRule;constructor(e,a,r=null,o=null){super(a,r,o),this.firstRule=e,this.firstRule=e}async verify(e){let a=this.firstRule;const r=[];for(;a!=null;){const o=await a.verify(e);r.push(o),a=a.getNextRule(o.isSuccessful?VerificationResultCode.OK:VerificationResultCode.FAIL)}return VerificationResult.fromChildren(this.message,r)}}class UnicityCertificateVerificationRule extends CompositeVerificationRule{constructor(){super(new InputRecordCurrentHashVerificationRule(new UnicitySealHashMatchesWithRootHashRule(new UnicitySealQuorumSignaturesVerificationRule,null),null),"Verify unicity certificate")}}class PathVerificationResult{isPathValid;isPathIncluded;isSuccessful;constructor(e,a){this.isPathValid=e,this.isPathIncluded=a,this.isSuccessful=e&&a}}class SparseMerkleTreePathStep{path;_data;constructor(e,a){if(this.path=e,this._data=a,e<0n)throw new Error("Path should be non negative.")}get data(){return this._data?new Uint8Array(this._data):null}static isJSON(e){return typeof e=="object"&&e!==null&&"path"in e&&typeof e.path=="string"&&"data"in e&&(e.data===null||typeof e.data=="string")}static fromJSON(e){if(!SparseMerkleTreePathStep.isJSON(e))throw new InvalidJsonStructureError;return new SparseMerkleTreePathStep(BigInt(e.path),e.data?HexConverter.decode(e.data):null)}static fromCBOR(e){const a=CborDeserializer.readArray(e);return new SparseMerkleTreePathStep(BigintConverter.decode(CborDeserializer.readByteString(a[0])),CborDeserializer.readOptional(a[1],CborDeserializer.readByteString))}toCBOR(){return CborSerializer.encodeArray(CborSerializer.encodeByteString(BigintConverter.encode(this.path)),CborSerializer.encodeOptional(this._data,CborSerializer.encodeByteString))}toJSON(){return{data:this._data?HexConverter.encode(this._data):null,path:this.path.toString()}}toString(){return dedent`
      Merkle Tree Path Step
        Path: ${this.path.toString(2)}
        Data: ${this._data?HexConverter.encode(this._data):"null"}`}}class SparseMerkleTreePath{root;steps;constructor(e,a){this.root=e,this.steps=a}static fromJSON(e){if(!SparseMerkleTreePath.isJSON(e))throw new InvalidJsonStructureError;return new SparseMerkleTreePath(DataHash.fromJSON(e.root),e.steps.map(a=>SparseMerkleTreePathStep.fromJSON(a)))}static isJSON(e){return typeof e=="object"&&e!==null&&"root"in e&&typeof e.root=="string"&&"steps"in e&&Array.isArray(e.steps)&&e.steps.length>0}static fromCBOR(e){const a=CborDeserializer.readArray(e),r=CborDeserializer.readArray(a[1]);return new SparseMerkleTreePath(DataHash.fromCBOR(a[0]),r.map(o=>SparseMerkleTreePathStep.fromCBOR(o)))}toCBOR(){return CborSerializer.encodeArray(this.root.toCBOR(),CborSerializer.encodeArray(...this.steps.map(e=>e.toCBOR())))}toJSON(){return{root:this.root.toJSON(),steps:this.steps.map(e=>e.toJSON())}}async verify(e){let a=this.steps[0],r,o=a.path;a.path>1n?r=(await new DataHasher(this.root.algorithm).update(CborSerializer.encodeArray(CborSerializer.encodeByteString(BigintConverter.encode(a.path)),CborSerializer.encodeOptional(a.data,CborSerializer.encodeByteString))).digest()).data:(o=1n,r=a.data);for(let c=1;c<this.steps.length;c++){a=this.steps[c];const u=this.steps[c-1].path&1n,h=u?a.data:r,f=u?r:a.data;r=(await new DataHasher(this.root.algorithm).update(CborSerializer.encodeArray(CborSerializer.encodeByteString(BigintConverter.encode(a.path)),CborSerializer.encodeOptional(h,CborSerializer.encodeByteString),CborSerializer.encodeOptional(f,CborSerializer.encodeByteString))).digest()).data;const g=BigInt(bitLen$1(a.path)-1);if(g<0n)return new PathVerificationResult(!1,!1);o=o<<g|a.path&(1n<<g)-1n}const s=r!=null&&this.root.equals(new DataHash(this.root.algorithm,r)),l=e===o;return new PathVerificationResult(s,l)}toString(){return dedent`
      Merkle Tree Path
        Root: ${this.root.toString()} 
        Steps: [
          ${this.steps.map(e=>e?.toString()??"null").join(`
`)}
        ]`}}var InclusionProofVerificationStatus;(function(t){t.NOT_AUTHENTICATED="NOT_AUTHENTICATED",t.PATH_NOT_INCLUDED="PATH_NOT_INCLUDED",t.PATH_INVALID="PATH_INVALID",t.OK="OK"})(InclusionProofVerificationStatus||(InclusionProofVerificationStatus={}));class InclusionProof{merkleTreePath;authenticator;transactionHash;unicityCertificate;constructor(e,a,r,o){if(this.merkleTreePath=e,this.authenticator=a,this.transactionHash=r,this.unicityCertificate=o,!this.authenticator!=!this.transactionHash)throw new Error("Authenticator and transaction hash must be both set or both null.")}static isJSON(e){return typeof e=="object"&&e!==null&&"merkleTreePath"in e&&"unicityCertificate"in e}static fromJSON(e){if(!InclusionProof.isJSON(e))throw new InvalidJsonStructureError;return new InclusionProof(SparseMerkleTreePath.fromJSON(e.merkleTreePath),e.authenticator?Authenticator.fromJSON(e.authenticator):null,e.transactionHash?DataHash.fromJSON(e.transactionHash):null,UnicityCertificate.fromJSON(e.unicityCertificate))}static fromCBOR(e){const a=CborDeserializer.readArray(e),r=CborDeserializer.readOptional(a[1],Authenticator.fromCBOR),o=CborDeserializer.readOptional(a[2],DataHash.fromCBOR),s=UnicityCertificate.fromCBOR(a[3]);return new InclusionProof(SparseMerkleTreePath.fromCBOR(a[0]),r,o,s)}toJSON(){return{authenticator:this.authenticator?.toJSON()??null,merkleTreePath:this.merkleTreePath.toJSON(),transactionHash:this.transactionHash?.toJSON()??null,unicityCertificate:this.unicityCertificate.toJSON()}}toCBOR(){return CborSerializer.encodeArray(this.merkleTreePath.toCBOR(),this.authenticator?.toCBOR()??CborSerializer.encodeNull(),this.transactionHash?.toCBOR()??CborSerializer.encodeNull(),this.unicityCertificate.toCBOR())}async verify(e,a){if(!(await new UnicityCertificateVerificationRule().verify(new UnicityCertificateVerificationContext(this.merkleTreePath.root,this.unicityCertificate,e))).isSuccessful)return InclusionProofVerificationStatus.NOT_AUTHENTICATED;const o=await this.merkleTreePath.verify(a.toBitString().toBigInt());if(!o.isPathValid)return InclusionProofVerificationStatus.PATH_INVALID;if(this.authenticator&&this.transactionHash){if(!await this.authenticator.verify(this.transactionHash))return InclusionProofVerificationStatus.NOT_AUTHENTICATED;if(!(await LeafValue.create(this.authenticator,this.transactionHash)).equals(this.merkleTreePath.steps.at(0)?.data))return InclusionProofVerificationStatus.PATH_NOT_INCLUDED}return o.isPathIncluded?InclusionProofVerificationStatus.OK:InclusionProofVerificationStatus.PATH_NOT_INCLUDED}toString(){return dedent`
      Inclusion Proof
        ${this.merkleTreePath.toString()}
        ${this.authenticator?.toString()}
        Transaction Hash: ${this.transactionHash?.toString()??null}`}}class DefaultPredicate{type;tokenId;tokenType;_publicKey;signingAlgorithm;hashAlgorithm;_nonce;constructor(e,a,r,o,s,l,c){this.type=e,this.tokenId=a,this.tokenType=r,this._publicKey=o,this.signingAlgorithm=s,this.hashAlgorithm=l,this._nonce=c,this._publicKey=new Uint8Array(o),this._nonce=new Uint8Array(c)}get publicKey(){return this._publicKey}get nonce(){return this._nonce}get engine(){return PredicateEngineType.EMBEDDED}async calculateHash(){const e=await this.getReference();return new DataHasher(HashAlgorithm.SHA256).update(CborSerializer.encodeArray(e.hash.toCBOR(),this.tokenId.toCBOR(),CborSerializer.encodeByteString(this._nonce))).digest()}encode(){return new Uint8Array([this.type])}encodeParameters(){return CborSerializer.encodeArray(this.tokenId.toCBOR(),this.tokenType.toCBOR(),CborSerializer.encodeByteString(this.publicKey),CborSerializer.encodeTextString(this.signingAlgorithm),CborSerializer.encodeUnsignedInteger(this.hashAlgorithm),CborSerializer.encodeByteString(this.nonce))}async verify(e,a,r){if(!this.tokenId.equals(a.id)||!this.tokenType.equals(a.type))return!1;const o=r.inclusionProof.authenticator;if(o==null||!areUint8ArraysEqual(o.publicKey,this.publicKey))return!1;const s=await r.data.calculateHash();if(!await o.verify(s))return!1;const l=await RequestId.create(this.publicKey,await r.data.sourceState.calculateHash());return await r.inclusionProof.verify(e,l)==InclusionProofVerificationStatus.OK}toString(){return dedent`
          Predicate[${this.type}]:
            PublicKey: ${HexConverter.encode(this.publicKey)}
            Algorithm: ${this.signingAlgorithm}
            Hash Algorithm: ${HashAlgorithm[this.hashAlgorithm]}
            Nonce: ${HexConverter.encode(this.nonce)}`}isOwner(e){return Promise.resolve(HexConverter.encode(e)===HexConverter.encode(this.publicKey))}}class MaskedPredicateReference{hash;constructor(e){this.hash=e}static async create(e,a,r,o,s){return new MaskedPredicateReference(await new DataHasher(HashAlgorithm.SHA256).update(CborSerializer.encodeArray(CborSerializer.encodeByteString(new Uint8Array([EmbeddedPredicateType.MASKED])),CborSerializer.encodeByteString(e.toCBOR()),CborSerializer.encodeTextString(a),CborSerializer.encodeUnsignedInteger(o),CborSerializer.encodeByteString(r),CborSerializer.encodeByteString(s))).digest())}static createFromSigningService(e,a,r,o){return MaskedPredicateReference.create(e,a.algorithm,a.publicKey,r,o)}toAddress(){return DirectAddress.create(this.hash)}}class MaskedPredicate extends DefaultPredicate{constructor(e,a,r,o,s,l){super(EmbeddedPredicateType.MASKED,e,a,r,o,s,l)}static create(e,a,r,o,s){return new MaskedPredicate(e,a,r.publicKey,r.algorithm,o,s)}static fromCBOR(e){const a=CborDeserializer.readArray(e),r=CborDeserializer.readUnsignedInteger(a[4]);if(!HashAlgorithm[Number(r)])throw new CborError("Invalid hash algorithm");return new MaskedPredicate(TokenId.fromCBOR(a[0]),TokenType.fromCBOR(a[1]),CborDeserializer.readByteString(a[2]),CborDeserializer.readTextString(a[3]),Number(r),CborDeserializer.readByteString(a[5]))}getReference(){return MaskedPredicateReference.create(this.tokenType,this.signingAlgorithm,this.publicKey,this.hashAlgorithm,this.nonce)}}class UnmaskedPredicateReference{hash;constructor(e){this.hash=e}static async create(e,a,r,o){return new UnmaskedPredicateReference(await new DataHasher(HashAlgorithm.SHA256).update(CborSerializer.encodeArray(CborSerializer.encodeByteString(new Uint8Array([EmbeddedPredicateType.UNMASKED])),CborSerializer.encodeByteString(e.toCBOR()),CborSerializer.encodeTextString(a),CborSerializer.encodeUnsignedInteger(o),CborSerializer.encodeByteString(r))).digest())}static createFromSigningService(e,a,r){return UnmaskedPredicateReference.create(e,a.algorithm,a.publicKey,r)}toAddress(){return DirectAddress.create(this.hash)}}class UnmaskedPredicate extends DefaultPredicate{constructor(e,a,r,o,s,l){super(EmbeddedPredicateType.UNMASKED,e,a,r,o,s,l)}static async create(e,a,r,o,s){const l=await r.sign(await new DataHasher(HashAlgorithm.SHA256).update(s).digest());return new UnmaskedPredicate(e,a,r.publicKey,r.algorithm,o,l.bytes)}static fromCBOR(e){const a=CborDeserializer.readArray(e),r=CborDeserializer.readUnsignedInteger(a[4]);if(!HashAlgorithm[Number(r)])throw new CborError("Invalid hash algorithm");return new UnmaskedPredicate(TokenId.fromCBOR(a[0]),TokenType.fromCBOR(a[1]),CborDeserializer.readByteString(a[2]),CborDeserializer.readTextString(a[3]),Number(r),CborDeserializer.readByteString(a[5]))}async verify(e,a,r){return super.verify(e,a,r)?SigningService.verifyWithPublicKey(await new DataHasher(HashAlgorithm.SHA256).update(a.transactions.length?a.transactions.at(-1)?.data.salt:a.genesis.data.salt).digest(),this.nonce,this.publicKey):!1}getReference(){return UnmaskedPredicateReference.create(this.tokenType,this.signingAlgorithm,this.publicKey,this.hashAlgorithm)}}class EmbeddedPredicateEngine{create(e){const a=e.encode().at(0);switch(a){case EmbeddedPredicateType.MASKED:return e instanceof MaskedPredicate?Promise.resolve(e):Promise.resolve(MaskedPredicate.fromCBOR(e.encodeParameters()));case EmbeddedPredicateType.UNMASKED:return e instanceof UnmaskedPredicate?Promise.resolve(e):Promise.resolve(UnmaskedPredicate.fromCBOR(e.encodeParameters()));case EmbeddedPredicateType.BURN:return e instanceof BurnPredicate?Promise.resolve(e):Promise.resolve(BurnPredicate.fromCBOR(e.encodeParameters()));default:throw new Error(`Unsupported embedded predicate type ${a}`)}}}class PredicateEngineService{static ENGINES=new Map([[PredicateEngineType.EMBEDDED,new EmbeddedPredicateEngine]]);static createPredicate(e){const a=PredicateEngineService.ENGINES.get(e.engine);if(a==null)throw new Error(`Unsupported predicate engine type: ${e.engine}`);return a.create(e)}}class MintTransactionState extends DataHash{static MINT_SUFFIX=HexConverter.decode("9e82002c144d7c5796c50f6db50a0c7bbd7f717ae3af6c6c71a3e9eba3022730");constructor(e){super(e.algorithm,e.data)}static async create(e){return new MintTransactionState(await RequestId.createFromImprint(e.bytes,MintTransactionState.MINT_SUFFIX))}}class CoinId{data;constructor(e){this.data=e,this.data=new Uint8Array(e)}get bytes(){return new Uint8Array(this.data)}static fromJSON(e){return new CoinId(HexConverter.decode(e))}static fromCBOR(e){return new CoinId(CborDeserializer.readByteString(e))}toJSON(){return HexConverter.encode(this.data)}toCBOR(){return CborSerializer.encodeByteString(this.data)}toBitString(){return new BitString(this.data)}}class SparseMerkleSumTreePathStep{path;_data;value;constructor(e,a,r){if(this.path=e,this._data=a,this.value=r,e<0n)throw new Error("Path should be non negative.");if(r<0n)throw new Error("Value must be non-negative.")}get data(){return this._data?new Uint8Array(this._data):null}static isJSON(e){return typeof e=="object"&&e!==null&&"path"in e&&typeof e.path=="string"&&"data"in e&&(e.data===null||typeof e.data=="string")&&"value"in e&&typeof e.value=="string"}static fromJSON(e){if(!SparseMerkleSumTreePathStep.isJSON(e))throw new InvalidJsonStructureError;return new SparseMerkleSumTreePathStep(BigInt(e.path),e.data?HexConverter.decode(e.data):null,BigInt(e.value))}static fromCBOR(e){const a=CborDeserializer.readArray(e);return new SparseMerkleSumTreePathStep(BigintConverter.decode(CborDeserializer.readByteString(a[0])),CborDeserializer.readOptional(a[1],CborDeserializer.readByteString),BigintConverter.decode(CborDeserializer.readByteString(a[2])))}toCBOR(){return CborSerializer.encodeArray(CborSerializer.encodeByteString(BigintConverter.encode(this.path)),CborSerializer.encodeOptional(this._data,CborSerializer.encodeByteString),CborSerializer.encodeByteString(BigintConverter.encode(this.value)))}toJSON(){return{data:this._data?HexConverter.encode(this._data):null,path:this.path.toString(),value:this.value.toString()}}toString(){return dedent`
      Merkle Tree Path Step
        Path: ${this.path.toString(2)}
        Data: ${this._data?HexConverter.encode(this._data):"null"}
        Value: ${this.value}`}}class SparseMerkleSumTreePath{root;steps;constructor(e,a){this.root=e,this.steps=a}static fromJSON(e){if(!SparseMerkleSumTreePath.isJSON(e))throw new InvalidJsonStructureError;return new SparseMerkleSumTreePath(DataHash.fromJSON(e.root),e.steps.map(a=>SparseMerkleSumTreePathStep.fromJSON(a)))}static isJSON(e){return typeof e=="object"&&e!==null&&"root"in e&&typeof e.root=="string"&&"steps"in e&&Array.isArray(e.steps)&&e.steps.length>0}static fromCBOR(e){const a=CborDeserializer.readArray(e),r=CborDeserializer.readArray(a[1]);return new SparseMerkleSumTreePath(DataHash.fromCBOR(a[0]),r.map(o=>SparseMerkleSumTreePathStep.fromCBOR(o)))}toCBOR(){return CborSerializer.encodeArray(this.root.toCBOR(),CborSerializer.encodeArray(...this.steps.map(e=>e.toCBOR())))}toJSON(){return{root:this.root.toJSON(),steps:this.steps.map(e=>e.toJSON())}}async verify(e){let a=this.steps[0],r,o=a.path,s=a.value;a.path>0?r=(await new DataHasher(this.root.algorithm).update(CborSerializer.encodeArray(CborSerializer.encodeByteString(BigintConverter.encode(a.path)),CborSerializer.encodeOptional(a.data,CborSerializer.encodeByteString),CborSerializer.encodeByteString(BigintConverter.encode(a.value)))).digest()).data:(o=1n,r=a.data);for(let u=1;u<this.steps.length;u++){a=this.steps[u];const h=this.steps[u-1].path&1n,f={data:h?a.data:r,value:h?a.value:s},m={data:h?r:a.data,value:h?s:a.value};r=(await new DataHasher(this.root.algorithm).update(CborSerializer.encodeArray(CborSerializer.encodeByteString(BigintConverter.encode(a.path)),CborSerializer.encodeOptional(f.data,CborSerializer.encodeByteString),CborSerializer.encodeByteString(BigintConverter.encode(f.value)),CborSerializer.encodeOptional(m.data,CborSerializer.encodeByteString),CborSerializer.encodeByteString(BigintConverter.encode(m.value)))).digest()).data;const b=BigInt(bitLen$1(a.path)-1);if(b<0n)return new PathVerificationResult(!1,!1);o=o<<b|a.path&(1n<<b)-1n,s+=a.value}const l=r!=null&&this.root.equals(new DataHash(this.root.algorithm,r)),c=e===o;return new PathVerificationResult(l,c)}toString(){return dedent`
      Merkle Tree Path
        Root: ${this.root.toString()} 
        Steps: [
          ${this.steps.map(e=>e?.toString()??"null").join(`
`)}
        ]`}}class SplitMintReasonProof{coinId;aggregationPath;coinTreePath;constructor(e,a,r){this.coinId=e,this.aggregationPath=a,this.coinTreePath=r}static fromCBOR(e){const a=CborDeserializer.readArray(e);return new SplitMintReasonProof(CoinId.fromCBOR(a[0]),SparseMerkleTreePath.fromCBOR(a[1]),SparseMerkleSumTreePath.fromCBOR(a[2]))}static isJSON(e){return typeof e=="object"&&e!==null&&"coinId"in e&&"aggregationPath"in e&&"coinTreePath"in e}static fromJSON(e){if(!SplitMintReasonProof.isJSON(e))throw new InvalidJsonStructureError;return new SplitMintReasonProof(CoinId.fromJSON(e.coinId),SparseMerkleTreePath.fromJSON(e.aggregationPath),SparseMerkleSumTreePath.fromJSON(e.coinTreePath))}toJSON(){return{aggregationPath:this.aggregationPath.toJSON(),coinId:this.coinId.toJSON(),coinTreePath:this.coinTreePath.toJSON()}}toCBOR(){return CborSerializer.encodeArray(this.coinId.toCBOR(),this.aggregationPath.toCBOR(),this.coinTreePath.toCBOR())}}var MintReasonType;(function(t){t.TOKEN_SPLIT="TOKEN_SPLIT"})(MintReasonType||(MintReasonType={}));class SplitMintReason{token;_proofs;constructor(e,a){this.token=e,this._proofs=a,this._proofs=a.slice()}get proofs(){return this._proofs.slice()}static async fromCBOR(e){const a=CborDeserializer.readArray(e);return new SplitMintReason(await Token.fromCBOR(a[0]),CborDeserializer.readArray(a[1]).map(r=>SplitMintReasonProof.fromCBOR(r)))}static isJSON(e){return typeof e=="object"&&e!==null&&"token"in e&&"proofs"in e}static async fromJSON(e){if(!SplitMintReason.isJSON(e))throw new InvalidJsonStructureError;return new SplitMintReason(await Token.fromJSON(e.token),e.proofs.map(a=>SplitMintReasonProof.fromJSON(a)))}async verify(e){if(e.data.coinData==null)return Promise.resolve(new VerificationResult(VerificationResultCode.FAIL,"Coin data is missing."));const a=await PredicateEngineService.createPredicate(this.token.state.predicate);if(!(a instanceof BurnPredicate))return Promise.resolve(new VerificationResult(VerificationResultCode.FAIL,"Token is not burned."));if(e.data.coinData.length!==this._proofs.length)return Promise.resolve(new VerificationResult(VerificationResultCode.FAIL,"Total amount of coins differ in token and proofs."));for(const r of this._proofs){if(!(await r.aggregationPath.verify(r.coinId.toBitString().toBigInt())).isSuccessful)return Promise.resolve(new VerificationResult(VerificationResultCode.FAIL,`Aggregation path verification failed for coin: ${r.coinId}`));if(!(await r.coinTreePath.verify(e.data.tokenId.toBitString().toBigInt())).isSuccessful)return Promise.resolve(new VerificationResult(VerificationResultCode.FAIL,`Coin tree path verification failed for token: ${e.data.tokenId}`));if(!areUint8ArraysEqual(r.coinTreePath.root.imprint,r.aggregationPath.steps.at(0)?.data))return Promise.resolve(new VerificationResult(VerificationResultCode.FAIL,"Coin tree root does not match aggregation path leaf."));const l=e.data.coinData.get(r.coinId);if(l===null)return Promise.resolve(new VerificationResult(VerificationResultCode.FAIL,`Coin id ${r.coinId} not found in coin data.`));if(r.coinTreePath.steps.at(0)?.value!==l)return Promise.resolve(new VerificationResult(VerificationResultCode.FAIL,`Coin amount for coin id ${r.coinId} does not match coin tree leaf.`));if(!r.aggregationPath.root.equals(a.reason))return Promise.resolve(new VerificationResult(VerificationResultCode.FAIL,"Aggregation path root does not match burn reason."))}return Promise.resolve(new VerificationResult(VerificationResultCode.OK))}toCBOR(){return CborSerializer.encodeArray(this.token.toCBOR(),CborSerializer.encodeArray(...this._proofs.map(e=>e.toCBOR())))}toJSON(){return{proofs:this._proofs.map(e=>e.toJSON()),token:this.token.toJSON(),type:MintReasonType.TOKEN_SPLIT}}}class TokenCoinData{_coins;constructor(e){this._coins=e}get coins(){return Array.from(this._coins.entries()).map(([e,a])=>[CoinId.fromJSON(e),a])}get length(){return this._coins.size}static create(e){const a=new Map;for(const[r,o]of e)a.set(r.toJSON(),o);return new TokenCoinData(a)}static fromCBOR(e){const a=new Map,r=CborDeserializer.readArray(e);for(const o of r){const[s,l]=CborDeserializer.readArray(o);a.set(HexConverter.encode(CborDeserializer.readByteString(s)),BigintConverter.decode(CborDeserializer.readByteString(l)))}return new TokenCoinData(a)}static fromJSON(e){if(!Array.isArray(e)||!e.every(a=>Array.isArray(a)&&a.length===2&&typeof a[0]=="string"&&typeof a[1]=="string"))throw new InvalidJsonStructureError;return new TokenCoinData(new Map(e.map(([a,r])=>[a,BigInt(r)])))}get(e){return this._coins.get(e.toJSON())??null}toCBOR(){return CborSerializer.encodeArray(...Array.from(this._coins.entries()).map(([e,a])=>CborSerializer.encodeArray(CborSerializer.encodeByteString(HexConverter.decode(e)),CborSerializer.encodeByteString(BigintConverter.encode(a)))))}toJSON(){return Array.from(this._coins.entries()).map(([e,a])=>[e.toString(),a.toString()])}toString(){return dedent`
      TokenCoinData:
        ${Array.from(this._coins.entries()).map(([e,a])=>`${e}: ${a}`).join(`
`)}`}}const textEncoder=new TextEncoder;class MintTransactionData{tokenId;tokenType;sourceState;_tokenData;coinData;recipient;_salt;recipientDataHash;reason;constructor(e,a,r,o,s,l,c,u,h){this.tokenId=e,this.tokenType=a,this.sourceState=r,this._tokenData=o,this.coinData=s,this.recipient=l,this._salt=c,this.recipientDataHash=u,this.reason=h}get tokenData(){return this._tokenData?new Uint8Array(this._tokenData):null}get salt(){return new Uint8Array(this._salt)}static async create(e,a,r,o,s,l,c,u){const h=r?new Uint8Array(r):null,f=new Uint8Array(l);return new MintTransactionData(e,a,await MintTransactionState.create(e),h,o,s,f,c,u)}static async createFromNametag(e,a,r,o,s){return MintTransactionData.create(await TokenId.fromNameTag(e),a,textEncoder.encode(s.address),null,r,o,null,null)}static async fromCBOR(e){const a=CborDeserializer.readArray(e);return MintTransactionData.create(TokenId.fromCBOR(a[0]),TokenType.fromCBOR(a[1]),CborDeserializer.readOptional(a[2],CborDeserializer.readByteString),CborDeserializer.readOptional(a[3],TokenCoinData.fromCBOR),await AddressFactory.createAddress(CborDeserializer.readTextString(a[4])),CborDeserializer.readByteString(a[5]),CborDeserializer.readOptional(a[6],DataHash.fromCBOR),await CborDeserializer.readOptional(a[7],SplitMintReason.fromCBOR))}static isJSON(e){return typeof e=="object"&&e!==null&&"tokenId"in e&&"tokenType"in e&&"recipient"in e&&"salt"in e}static async fromJSON(e){if(!MintTransactionData.isJSON(e))throw new InvalidJsonStructureError;return MintTransactionData.create(TokenId.fromJSON(e.tokenId),TokenType.fromJSON(e.tokenType),e.tokenData?HexConverter.decode(e.tokenData):null,e.coinData?TokenCoinData.fromJSON(e.coinData):null,await AddressFactory.createAddress(e.recipient),HexConverter.decode(e.salt),e.recipientDataHash?DataHash.fromJSON(e.recipientDataHash):null,e.reason?await SplitMintReason.fromJSON(e.reason):null)}toCBOR(){return CborSerializer.encodeArray(this.tokenId.toCBOR(),this.tokenType.toCBOR(),CborSerializer.encodeOptional(this.tokenData,CborSerializer.encodeByteString),CborSerializer.encodeOptional(this.coinData,e=>e.toCBOR()),CborSerializer.encodeTextString(this.recipient.address),CborSerializer.encodeByteString(this.salt),CborSerializer.encodeOptional(this.recipientDataHash,e=>e.toCBOR()),CborSerializer.encodeOptional(this.reason,e=>e.toCBOR()))}toJSON(){return{coinData:this.coinData?.toJSON()??null,reason:this.reason?.toJSON()??null,recipient:this.recipient.address,recipientDataHash:this.recipientDataHash?.toJSON()??null,salt:HexConverter.encode(this.salt),tokenData:this.tokenData?HexConverter.encode(this.tokenData):null,tokenId:this.tokenId.toJSON(),tokenType:this.tokenType.toJSON()}}calculateHash(){return new DataHasher(HashAlgorithm.SHA256).update(this.toCBOR()).digest()}toString(){return dedent`
      MintTransactionData:
        Token ID: ${this.tokenId.toString()}
        Token Type: ${this.tokenType.toString()}
        Token Data: ${this._tokenData?HexConverter.encode(this._tokenData):null}
        Coins: ${this.coinData?.toString()??null}
        Recipient: ${this.recipient}
        Salt: ${HexConverter.encode(this.salt)}
        Data: ${this.recipientDataHash?.toString()??null}
        Reason: ${this.reason?.toString()??null}`}}class Transaction{data;inclusionProof;constructor(e,a){this.data=e,this.inclusionProof=a}async containsRecipientData(e){return this.data.recipientDataHash?e?(await new DataHasher(this.data.recipientDataHash.algorithm).update(e).digest()).equals(this.data.recipientDataHash):!1:!e}toString(){return dedent`
        Transaction:
          ${this.data.toString()}
          ${this.inclusionProof.toString()}`}}class MintSigningService{static MINTER_SECRET=HexConverter.decode("495f414d5f554e4956455253414c5f4d494e5445525f464f525f");constructor(){}static create(e){return SigningService.createFromSecret(MintSigningService.MINTER_SECRET,e.bytes)}}class MintTransaction extends Transaction{constructor(e,a){super(e,a)}static async fromCBOR(e){const a=CborDeserializer.readArray(e);return new MintTransaction(await MintTransactionData.fromCBOR(a[0]),InclusionProof.fromCBOR(a[1]))}static isJSON(e){return typeof e=="object"&&e!==null&&"data"in e&&"inclusionProof"in e}static async fromJSON(e){if(!MintTransaction.isJSON(e))throw new InvalidJsonStructureError;return new MintTransaction(await MintTransactionData.fromJSON(e.data),InclusionProof.fromJSON(e.inclusionProof))}async verify(e){if(!this.inclusionProof.authenticator)return new VerificationResult(VerificationResultCode.FAIL,"Missing authenticator.");if(!this.inclusionProof.transactionHash)return new VerificationResult(VerificationResultCode.FAIL,"Missing transaction hash.");if(!this.data.sourceState.equals(await MintTransactionState.create(this.data.tokenId)))return new VerificationResult(VerificationResultCode.FAIL,"Invalid source state");const a=await MintSigningService.create(this.data.tokenId);if(HexConverter.encode(this.inclusionProof.authenticator.publicKey)!==HexConverter.encode(a.publicKey))return new VerificationResult(VerificationResultCode.FAIL,"Authenticator public key mismatch.");if(!await this.inclusionProof.authenticator.verify(this.inclusionProof.transactionHash))return new VerificationResult(VerificationResultCode.FAIL,"Authenticator verification failed.");const r=await this.data.reason?.verify(this)??new VerificationResult(VerificationResultCode.OK);return r.isSuccessful?await this.inclusionProof.verify(e,await RequestId.create(a.publicKey,this.data.sourceState))!==InclusionProofVerificationStatus.OK?new VerificationResult(VerificationResultCode.FAIL,"Inclusion proof verification failed."):new VerificationResult(VerificationResultCode.OK):new VerificationResult(VerificationResultCode.FAIL,"Mint reason verification",[r])}toJSON(){return{data:this.data.toJSON(),inclusionProof:this.inclusionProof.toJSON()}}toCBOR(){return CborSerializer.encodeArray(this.data.toCBOR(),this.inclusionProof.toCBOR())}}class TransferTransactionData{sourceState;recipient;_salt;recipientDataHash;_message;_nametagTokens;constructor(e,a,r,o,s,l=[]){this.sourceState=e,this.recipient=a,this._salt=r,this.recipientDataHash=o,this._message=s,this._nametagTokens=l,this._message=s?new Uint8Array(s):null,this._nametagTokens=Array.from(l)}get salt(){return new Uint8Array(this._salt)}get message(){return this._message?new Uint8Array(this._message):null}get nametagTokens(){return this._nametagTokens.slice()}static create(e,a,r,o,s,l=[]){return new TransferTransactionData(e,a,r,o,s,l)}static async fromCBOR(e){const a=CborDeserializer.readArray(e);return new TransferTransactionData(TokenState.fromCBOR(a[0]),await AddressFactory.createAddress(CborDeserializer.readTextString(a[1])),CborDeserializer.readByteString(a[2]),CborDeserializer.readOptional(a[3],DataHash.fromCBOR),CborDeserializer.readOptional(a[4],CborDeserializer.readByteString),await Promise.all(CborDeserializer.readArray(a[5]).map(r=>Token.fromCBOR(r))))}static isJSON(e){return typeof e=="object"&&e!==null&&"sourceState"in e&&"recipient"in e&&"salt"in e&&"recipientDataHash"in e&&"message"in e&&"nametags"in e}static async fromJSON(e){if(!TransferTransactionData.isJSON(e))throw new InvalidJsonStructureError;return new TransferTransactionData(TokenState.fromJSON(e.sourceState),await AddressFactory.createAddress(e.recipient),HexConverter.decode(e.salt),e.recipientDataHash?DataHash.fromJSON(e.recipientDataHash):null,e.message?HexConverter.decode(e.message):null,await Promise.all(e.nametags.map(a=>Token.fromJSON(a))))}calculateHash(){return new DataHasher(HashAlgorithm.SHA256).update(this.toCBOR()).digest()}toCBOR(){return CborSerializer.encodeArray(this.sourceState.toCBOR(),CborSerializer.encodeTextString(this.recipient.address),CborSerializer.encodeByteString(this.salt),CborSerializer.encodeOptional(this.recipientDataHash,e=>e.toCBOR()),CborSerializer.encodeOptional(this.message,CborSerializer.encodeByteString),CborSerializer.encodeArray(...this.nametagTokens.map(e=>e.toCBOR())))}toJSON(){return{message:this._message?HexConverter.encode(this._message):null,nametags:this._nametagTokens.map(e=>e.toJSON()),recipient:this.recipient.address,recipientDataHash:this.recipientDataHash?.toJSON()??null,salt:HexConverter.encode(this.salt),sourceState:this.sourceState.toJSON()}}toString(){return dedent`
      TransactionData:
        ${this.sourceState.toString()}
        Recipient: ${this.recipient.toString()}
        Salt: ${HexConverter.encode(this._salt)}
        Data: ${this.recipientDataHash?.toString()??null}
        Message: ${this._message?HexConverter.encode(this._message):null}
        NameTags: [
          ${this._nametagTokens.map(e=>e.toString()).join(`
`)}
        ]`}}class TransferTransaction extends Transaction{constructor(e,a){super(e,a)}static async fromCBOR(e){const a=CborDeserializer.readArray(e);return new TransferTransaction(await TransferTransactionData.fromCBOR(a[0]),InclusionProof.fromCBOR(a[1]))}static isJSON(e){return typeof e=="object"&&e!==null&&"data"in e&&"inclusionProof"in e}static async fromJSON(e){if(!TransferTransaction.isJSON(e))throw new InvalidJsonStructureError;return new TransferTransaction(await TransferTransactionData.fromJSON(e.data),InclusionProof.fromJSON(e.inclusionProof))}async verify(e,a){let r=await a.verifyNametagTokens(e);return r.isSuccessful?(r=await a.verifyRecipient(),!r.isSuccessful||(r=await a.verifyRecipientData(),!r.isSuccessful)?r:await(await PredicateEngineService.createPredicate(a.state.predicate)).verify(e,a,this)?new VerificationResult(VerificationResultCode.OK):new VerificationResult(VerificationResultCode.FAIL,"Predicate verification failed")):new VerificationResult(VerificationResultCode.FAIL,"Nametag tokens verification failed",[r])}toJSON(){return{data:this.data.toJSON(),inclusionProof:this.inclusionProof.toJSON()}}toCBOR(){return CborSerializer.encodeArray(this.data.toCBOR(),this.inclusionProof.toCBOR())}}class VerificationError extends Error{verificationResult;constructor(e,a){super(e),this.verificationResult=a}}const TOKEN_VERSION="2.0";class Token{state;genesis;_transactions;_nametagTokens;version;constructor(e,a,r=[],o=[],s=TOKEN_VERSION){this.state=e,this.genesis=a,this._transactions=r,this._nametagTokens=o,this.version=s,this._nametagTokens=o.slice(),this._transactions=r.slice()}get id(){return this.genesis.data.tokenId}get type(){return this.genesis.data.tokenType}get data(){return this.genesis.data.tokenData}get coins(){return this.genesis.data.coinData}get nametagTokens(){return this._nametagTokens.slice()}get transactions(){return this._transactions.slice()}static async fromCBOR(e){const a=CborDeserializer.readArray(e),r=CborDeserializer.readTextString(a[0]);if(r!==TOKEN_VERSION)throw new Error(`Unsupported token version: ${r}`);return new Token(TokenState.fromCBOR(a[1]),await MintTransaction.fromCBOR(a[2]),await Promise.all(CborDeserializer.readArray(a[3]).map(o=>TransferTransaction.fromCBOR(o))),await Promise.all(CborDeserializer.readArray(a[4]).map(o=>Token.fromCBOR(o))))}static isJSON(e){return typeof e=="object"&&e!==null&&"version"in e&&e.version===TOKEN_VERSION&&"state"in e&&"genesis"in e&&"transactions"in e&&"nametags"in e}static async fromJSON(e){if(!Token.isJSON(e))throw new InvalidJsonStructureError;return new Token(TokenState.fromJSON(e.state),await MintTransaction.fromJSON(e.genesis),await Promise.all(e.transactions.map(a=>TransferTransaction.fromJSON(a))),await Promise.all(e.nametags.map(a=>Token.fromJSON(a))))}static async mint(e,a,r,o=[]){const s=new Token(a,r,[],o),l=await s.verify(e);if(!l.isSuccessful)throw new VerificationError("Token verification failed",l);return s}async update(e,a,r,o=[]){let s=await r.verify(e,this);if(!s.isSuccessful)throw new VerificationError("Transaction verification failed",s);const l=this._transactions.slice();l.push(r);const c=new Token(a,this.genesis,l,o);if(s=await c.verifyNametagTokens(e),!s.isSuccessful)throw new VerificationError("Nametag tokens verification failed",s);if(s=await c.verifyRecipient(),!s.isSuccessful)throw new VerificationError("Recipient verification failed",s);if(s=await c.verifyRecipientData(),!s.isSuccessful)throw new VerificationError("Recipient data verification failed",s);return c}async verify(e){const a=[];a.push(VerificationResult.fromChildren("Genesis verification",[await this.genesis.verify(e)]));for(let r=0;r<this._transactions.length;r++){const o=this._transactions[r];a.push(VerificationResult.fromChildren("Transaction verification",[await o.verify(e,new Token(o.data.sourceState,this.genesis,this._transactions.slice(0,r),o.data.nametagTokens))]))}return a.push(VerificationResult.fromChildren("Current state verification",await Promise.all([this.verifyNametagTokens(e),this.verifyRecipient(),this.verifyRecipientData()]))),VerificationResult.fromChildren("Token verification",a)}async verifyNametagTokens(e){const a=[];for(const r of this._nametagTokens)a.push(await r.verify(e));return VerificationResult.fromChildren("Nametag verification",a)}async verifyRecipient(){const r=await(await(await PredicateEngineService.createPredicate(this.state.predicate)).getReference()).toAddress(),o=this.transactions.length?this.transactions.at(-1):this.genesis,s=await ProxyAddress.resolve(o.data.recipient,this.nametagTokens);return r.address!==s?.address?new VerificationResult(VerificationResultCode.FAIL,"Recipient address mismatch"):new VerificationResult(VerificationResultCode.OK,"Recipient verification")}async verifyRecipientData(){return await(this.transactions.length?this.transactions.at(-1):this.genesis).containsRecipientData(this.state.data)?new VerificationResult(VerificationResultCode.OK,"Recipient data verification"):new VerificationResult(VerificationResultCode.FAIL,"State data hash does not match previous transaction recipient data hash")}toJSON(){return{genesis:this.genesis.toJSON(),nametags:this._nametagTokens.map(e=>e.toJSON()),state:this.state.toJSON(),transactions:this._transactions.map(e=>e.toJSON()),version:this.version}}toCBOR(){return CborSerializer.encodeArray(CborSerializer.encodeTextString(this.version),this.state.toCBOR(),this.genesis.toCBOR(),CborSerializer.encodeArray(...this._transactions.map(e=>e.toCBOR())),CborSerializer.encodeArray(...this._nametagTokens.map(e=>e.toCBOR())))}toString(){return dedent`
        Token[${this.version}]:
          State: 
            ${this.state.toString()}
          Genesis: 
            ${this.genesis.toString()}
          Transactions: [
            ${this.transactions.map(e=>e.toString()).join(`
`)}
          ]
          Nametag Tokens: [ 
            ${this.nametagTokens.map(e=>e.toString()).join(`
`)}
          ]
      `}}class Commitment{requestId;transactionData;authenticator;constructor(e,a,r){this.requestId=e,this.transactionData=a,this.authenticator=r}}class TransferCommitment extends Commitment{constructor(e,a,r){super(e,a,r)}static async create(e,a,r,o,s,l){const c=TransferTransactionData.create(e.state,a,r,o,s,e.nametagTokens),u=await c.sourceState.calculateHash(),h=await c.calculateHash(),f=await RequestId.create(l.publicKey,u),m=await Authenticator.create(l,h,u);return new TransferCommitment(f,c,m)}static async fromCBOR(e){const a=CborDeserializer.readArray(e);return new TransferCommitment(RequestId.fromCBOR(a[0]),await TransferTransactionData.fromCBOR(a[1]),Authenticator.fromCBOR(a[2]))}static isJSON(e){return typeof e=="object"&&e!==null&&"requestId"in e&&"transactionData"in e&&"authenticator"in e}static async fromJSON(e){if(!TransferCommitment.isJSON(e))throw new InvalidJsonStructureError;return new TransferCommitment(RequestId.fromJSON(e.requestId),await TransferTransactionData.fromJSON(e.transactionData),Authenticator.fromJSON(e.authenticator))}toCBOR(){return CborSerializer.encodeArray(this.requestId.toCBOR(),this.transactionData.toCBOR(),this.authenticator.toCBOR())}toJSON(){return{authenticator:this.authenticator.toJSON(),requestId:this.requestId.toJSON(),transactionData:this.transactionData.toJSON()}}toTransaction(e){return new TransferTransaction(this.transactionData,e)}}const version$2=1,networkId=3,epoch=1,epochStartRound=1,rootNodes=[{nodeId:"16Uiu2HAkyQRiA7pMgzgLj9GgaBJEJa8zmx9dzqUDa6WxQPJ82ghU",sigKey:"0x039afb2acb65f5fbc272d8907f763d0a5d189aadc9b97afdcc5897ea4dd112e68b",stake:1}],quorumThreshold=1,stateHash="",changeRecordHash="",previousEntryHash="",signatures={"16Uiu2HAkyQRiA7pMgzgLj9GgaBJEJa8zmx9dzqUDa6WxQPJ82ghU":"0xf157c9fdd8a378e3ca70d354ccc4475ab2cd8de360127bc46b0aeab4b453a80f07fd9136a5843b60a8babaff23e20acc8879861f7651440a5e2829f7541b31f100"},trustBaseJson={version:version$2,networkId,epoch,epochStartRound,rootNodes,quorumThreshold,stateHash,changeRecordHash,previousEntryHash,signatures};class StateTransitionClient{client;constructor(e){this.client=e}async submitMintCommitment(e){return this.client.submitCommitment(e.requestId,await e.transactionData.calculateHash(),e.authenticator)}async submitTransferCommitment(e){if(!await(await PredicateEngineService.createPredicate(e.transactionData.sourceState.predicate)).isOwner(e.authenticator.publicKey))throw new Error("Ownership verification failed: Authenticator does not match source state predicate.");return this.client.submitCommitment(e.requestId,await e.transactionData.calculateHash(),e.authenticator)}finalizeTransaction(e,a,r,o,s=[]){return a.update(e,r,o,s)}getInclusionProof(e){return this.client.getInclusionProof(e)}async isStateSpent(e,a){const o=await(await this.getInclusionProof(a)).inclusionProof.verify(e,a);switch(o){case InclusionProofVerificationStatus.OK:return!0;case InclusionProofVerificationStatus.PATH_NOT_INCLUDED:return!1;default:throw new Error(`Inclusion proof verification failed with status ${o}`)}}async isTokenStateSpent(e,a,r){const o=new Uint8Array(r);if(!await(await PredicateEngineService.createPredicate(a.state.predicate)).isOwner(o))throw new Error("Given key is not owner of the token.");return this.isStateSpent(e,await RequestId.create(o,await a.state.calculateHash()))}async isMinted(e,a){return this.isStateSpent(e,await RequestId.create(await MintSigningService.create(a).then(r=>r.publicKey),await MintTransactionState.create(a)))}}class InclusionProofResponse{inclusionProof;constructor(e){this.inclusionProof=e,this.inclusionProof=e}static isJSON(e){return typeof e=="object"&&e!==null&&"inclusionProof"in e}static fromJSON(e){if(!InclusionProofResponse.isJSON(e))throw new InvalidJsonStructureError;return new InclusionProofResponse(InclusionProof.fromJSON(e.inclusionProof))}}class JsonRpcDataError{code;message;name="JsonRpcError";constructor({code:e,message:a}){this.code=e,this.message=a}toString(){return`{ code: ${this.code}, message: ${this.message} }`}}class JsonRpcNetworkError{status;message;name="JsonRpcNetworkError";constructor(e,a){this.status=e,this.message=a}}class JsonRpcHttpTransport{url;constructor(e){this.url=e}async request(e,a,r=new Headers){r.set("Content-Type","application/json");const o=await fetch(this.url,{body:JSON.stringify({id:v4(),jsonrpc:"2.0",method:e,params:a}),headers:r,method:"POST"});if(!o.ok)throw new JsonRpcNetworkError(o.status,await o.text());const s=await o.json();if(s.error)throw new JsonRpcDataError(s.error);return s.result}}class SubmitCommitmentRequest{requestId;transactionHash;authenticator;receipt;constructor(e,a,r,o){this.requestId=e,this.transactionHash=a,this.authenticator=r,this.receipt=o}static fromJSON(e){if(!SubmitCommitmentRequest.isJSON(e))throw new InvalidJsonStructureError;return new SubmitCommitmentRequest(RequestId.fromJSON(e.requestId),DataHash.fromJSON(e.transactionHash),Authenticator.fromJSON(e.authenticator),e.receipt)}static isJSON(e){return typeof e=="object"&&e!==null&&"authenticator"in e&&typeof e.authenticator=="object"&&e.authenticator!==null&&"requestId"in e&&typeof e.requestId=="string"&&"transactionHash"in e&&typeof e.transactionHash=="string"}toJSON(){return{authenticator:this.authenticator.toJSON(),receipt:this.receipt,requestId:this.requestId.toJSON(),transactionHash:this.transactionHash.toJSON()}}}var SubmitCommitmentStatus;(function(t){t.SUCCESS="SUCCESS",t.AUTHENTICATOR_VERIFICATION_FAILED="AUTHENTICATOR_VERIFICATION_FAILED",t.REQUEST_ID_MISMATCH="REQUEST_ID_MISMATCH",t.REQUEST_ID_EXISTS="REQUEST_ID_EXISTS"})(SubmitCommitmentStatus||(SubmitCommitmentStatus={}));class Request{service;method;requestId;stateHash;transactionHash;hash;constructor(e,a,r,o,s,l){this.service=e,this.method=a,this.requestId=r,this.stateHash=o,this.transactionHash=s,this.hash=l}static async create(e,a,r,o,s){const l=CborSerializer.encodeArray(CborSerializer.encodeTextString(e),CborSerializer.encodeTextString(a),r.toCBOR(),o.toCBOR(),s.toCBOR()),c=await new DataHasher(HashAlgorithm.SHA256).update(l).digest();return new Request(e,a,r,o,s,c)}toCBOR(){return CborSerializer.encodeArray(CborSerializer.encodeTextString(this.service),CborSerializer.encodeTextString(this.method),this.requestId.toCBOR(),this.stateHash.toCBOR(),this.transactionHash.toCBOR())}toJSON(){return{method:this.method,requestId:this.requestId.toJSON(),service:this.service,stateHash:this.stateHash.toJSON(),transactionHash:this.transactionHash.toJSON()}}toString(){return dedent`
      Request
        Service: ${this.service}
        Method: ${this.method}
        Request ID: ${this.requestId.toString()}
        State Hash: ${this.stateHash.toString()}
        Transaction Hash: ${this.transactionHash.toString()}
      `}}class SubmitCommitmentResponse{status;receipt;constructor(e,a){this.status=e,this.receipt=a}static async fromJSON(e){if(!SubmitCommitmentResponse.isJSON(e))throw new InvalidJsonStructureError;let a;if(e.request&&e.algorithm&&e.publicKey&&e.signature){const r=await Request.create(e.request.service,e.request.method,RequestId.fromJSON(e.request.requestId),DataHash.fromJSON(e.request.stateHash),DataHash.fromJSON(e.request.transactionHash));a={algorithm:e.algorithm,publicKey:e.publicKey,request:r,signature:Signature.fromJSON(e.signature)}}return new SubmitCommitmentResponse(e.status,a)}static isJSON(e){return typeof e=="object"&&e!==null&&"status"in e&&typeof e.status=="string"}toJSON(){return{algorithm:this.receipt?.algorithm,publicKey:this.receipt?.publicKey,request:this.receipt?.request.toJSON(),signature:this.receipt?.signature.toJSON(),status:this.status}}async addSignedReceipt(e,a,r,o){const s=await Request.create("aggregator","submit_commitment",e,a,r),l=await o.sign(s.hash);this.receipt={algorithm:o.algorithm,publicKey:HexConverter.encode(o.publicKey),request:s,signature:l}}verifyReceipt(){return this.receipt?SigningService.verifyWithPublicKey(this.receipt.request.hash,this.receipt.signature.bytes,HexConverter.decode(this.receipt.publicKey)):Promise.resolve(!1)}}class AggregatorClient{key;transport;constructor(e,a=null){this.key=a,this.transport=new JsonRpcHttpTransport(e)}async submitCommitment(e,a,r,o=!1){const s=new SubmitCommitmentRequest(e,a,r,o),l=await this.transport.request("submit_commitment",s.toJSON(),this.key?new Headers([["X-API-Key",this.key]]):void 0);return SubmitCommitmentResponse.fromJSON(l)}async getInclusionProof(e){const a={requestId:e.toJSON()};return InclusionProofResponse.fromJSON(await this.transport.request("get_inclusion_proof",a))}async getBlockHeight(){const e=await this.transport.request("get_block_height",{});if(e&&typeof e=="object"&&"blockNumber"in e&&(typeof e.blockNumber=="string"||typeof e.blockNumber=="number"||typeof e.blockNumber=="bigint"))return BigInt(e.blockNumber);throw new Error("Invalid response format for block height")}}class RootTrustBaseNodeInfo{nodeId;_signingKey;stakedAmount;constructor(e,a,r){this.nodeId=e,this._signingKey=a,this.stakedAmount=r,this._signingKey=new Uint8Array(a)}get signingKey(){return new Uint8Array(this._signingKey)}static isJSON(e){return typeof e=="object"&&e!==null&&"nodeId"in e&&"sigKey"in e&&"stake"in e}static fromJSON(e){if(!RootTrustBaseNodeInfo.isJSON(e))throw new InvalidJsonStructureError;return new RootTrustBaseNodeInfo(e.nodeId,HexConverter.decode(e.sigKey),BigInt(e.stake))}}class RootTrustBase{version;networkId;epoch;epochStartRound;_rootNodes;quorumThreshold;_stateHash;_changeRecordHash;_previousEntryHash;_signatures;constructor(e,a,r,o,s,l,c,u,h,f){this.version=e,this.networkId=a,this.epoch=r,this.epochStartRound=o,this._rootNodes=s,this.quorumThreshold=l,this._stateHash=c,this._changeRecordHash=u,this._previousEntryHash=h,this._signatures=f,this._rootNodes=s.slice(),this._stateHash=new Uint8Array(c),this._changeRecordHash=u?new Uint8Array(u):null,this._previousEntryHash=h?new Uint8Array(h):null,this._signatures=new Map(Array.from(f.entries()).map(m=>[m[0],new Uint8Array(m[1])]))}get rootNodes(){return this._rootNodes.slice()}get stateHash(){return new Uint8Array(this._stateHash)}get changeRecordHash(){return this._changeRecordHash?new Uint8Array(this._changeRecordHash):null}get previousEntryHash(){return this._previousEntryHash?new Uint8Array(this._previousEntryHash):null}get signatures(){return new Map(Array.from(this._signatures.entries()).map(e=>[e[0],new Uint8Array(e[1])]))}static isJSON(e){return typeof e=="object"&&e!==null&&"version"in e&&"networkId"in e&&"epoch"in e&&"epochStartRound"in e&&"rootNodes"in e&&Array.isArray(e.rootNodes)&&"quorumThreshold"in e&&"stateHash"in e&&"changeRecordHash"in e&&"previousEntryHash"in e&&"signatures"in e&&typeof e.signatures=="object"&&e.signatures!==null}static fromJSON(e){if(!RootTrustBase.isJSON(e))throw new InvalidJsonStructureError;return new RootTrustBase(BigInt(e.version),e.networkId,BigInt(e.epoch),BigInt(e.epochStartRound),e.rootNodes.map(a=>RootTrustBaseNodeInfo.fromJSON(a)),BigInt(e.quorumThreshold),HexConverter.decode(e.stateHash),e.changeRecordHash?HexConverter.decode(e.changeRecordHash):null,e.previousEntryHash?HexConverter.decode(e.previousEntryHash):null,new Map(Object.entries(e.signatures).map(([a,r])=>[a,HexConverter.decode(r)])))}}const UNICITY_AGGREGATOR_URL="https://goggregator-test.unicity.network",API_KEY="sk_06365a9c44654841a366068bcfc68986",TEST_SIG_KEY="025f37d20e5b18909361e0ead7ed17c69b417bee70746c9e9c2bcb1394d921d4ae";class ServiceProvider{static _aggregatorClient=null;static _stateTransitionClient=null;static _rootTrustBase=null;static get aggregatorClient(){return this._aggregatorClient||(console.log("Initializing AggregatorClient..."),this._aggregatorClient=new AggregatorClient(UNICITY_AGGREGATOR_URL,API_KEY)),this._aggregatorClient}static get stateTransitionClient(){return this._stateTransitionClient||(this._stateTransitionClient=new StateTransitionClient(ServiceProvider.aggregatorClient)),this._stateTransitionClient}static getRootTrustBase(){if(this._rootTrustBase)return this._rootTrustBase;try{if(trustBaseJson)return this._rootTrustBase=RootTrustBase.fromJSON(trustBaseJson),console.log(" TrustBase loaded from local assets"),this._rootTrustBase}catch(e){console.warn(" Failed to load TrustBase from file, attempting fallback...",e)}try{console.log("Generating Fallback TrustBase...");const e={version:"1",networkId:0,epoch:"1",epochStartRound:"1",rootNodes:[{nodeId:"TEST_NODE",sigKey:"0x"+TEST_SIG_KEY,stake:"1"}],quorumThreshold:"1",stateHash:"",changeRecordHash:null,previousEntryHash:null,signatures:{}};return this._rootTrustBase=RootTrustBase.fromJSON(e),console.log(" TrustBase created using Fallback mechanism"),this._rootTrustBase}catch(e){throw console.error("CRITICAL: Failed to initialize TrustBase",e),new Error("Critical: Could not initialize TrustBase")}}}class SleepError extends Error{constructor(e){super(e),this.name="SleepError"}}function sleep(t,e){return new Promise((a,r)=>{const o=setTimeout(a,t);e.addEventListener("abort",()=>{clearTimeout(o),r(e.reason)},{once:!0})})}async function waitInclusionProof(t,e,a,r=AbortSignal.timeout(1e4),o=1e3){for(;;){try{const s=await e.getInclusionProof(a.requestId).then(c=>c.inclusionProof),l=await s.verify(t,a.requestId);switch(l){case InclusionProofVerificationStatus.OK:return s;case InclusionProofVerificationStatus.PATH_NOT_INCLUDED:break;default:throw new Error(`Invalid inclusion proof status: ${l}`)}}catch(s){if(!(s instanceof JsonRpcNetworkError&&s.status===404))throw s}try{await sleep(o,r)}catch(s){throw new SleepError(String(s||"Sleep was aborted"))}}}function bind(t,e){return function(){return t.apply(e,arguments)}}const{toString:toString$1}=Object.prototype,{getPrototypeOf}=Object,{iterator,toStringTag}=Symbol,kindOf=(t=>e=>{const a=toString$1.call(e);return t[a]||(t[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=t=>(t=t.toLowerCase(),e=>kindOf(e)===t),typeOfTest=t=>e=>typeof e===t,{isArray}=Array,isUndefined=typeOfTest("undefined");function isBuffer(t){return t!==null&&!isUndefined(t)&&t.constructor!==null&&!isUndefined(t.constructor)&&isFunction$1(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&isArrayBuffer(t.buffer),e}const isString=typeOfTest("string"),isFunction$1=typeOfTest("function"),isNumber=typeOfTest("number"),isObject$3=t=>t!==null&&typeof t=="object",isBoolean=t=>t===!0||t===!1,isPlainObject$1=t=>{if(kindOf(t)!=="object")return!1;const e=getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(toStringTag in t)&&!(iterator in t)},isEmptyObject=t=>{if(!isObject$3(t)||isBuffer(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=t=>isObject$3(t)&&isFunction$1(t.pipe),isFormData=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||isFunction$1(t.append)&&((e=kindOf(t))==="formdata"||e==="object"&&isFunction$1(t.toString)&&t.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach$1(t,e,{allOwnKeys:a=!1}={}){if(t===null||typeof t>"u")return;let r,o;if(typeof t!="object"&&(t=[t]),isArray(t))for(r=0,o=t.length;r<o;r++)e.call(null,t[r],r,t);else{if(isBuffer(t))return;const s=a?Object.getOwnPropertyNames(t):Object.keys(t),l=s.length;let c;for(r=0;r<l;r++)c=s[r],e.call(null,t[c],c,t)}}function findKey(t,e){if(isBuffer(t))return null;e=e.toLowerCase();const a=Object.keys(t);let r=a.length,o;for(;r-- >0;)if(o=a[r],e===o.toLowerCase())return o;return null}const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global$1,isContextDefined=t=>!isUndefined(t)&&t!==_global;function merge$2(){const{caseless:t,skipUndefined:e}=isContextDefined(this)&&this||{},a={},r=(o,s)=>{const l=t&&findKey(a,s)||s;isPlainObject$1(a[l])&&isPlainObject$1(o)?a[l]=merge$2(a[l],o):isPlainObject$1(o)?a[l]=merge$2({},o):isArray(o)?a[l]=o.slice():(!e||!isUndefined(o))&&(a[l]=o)};for(let o=0,s=arguments.length;o<s;o++)arguments[o]&&forEach$1(arguments[o],r);return a}const extend$1=(t,e,a,{allOwnKeys:r}={})=>(forEach$1(e,(o,s)=>{a&&isFunction$1(o)?t[s]=bind(o,a):t[s]=o},{allOwnKeys:r}),t),stripBOM=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),inherits=(t,e,a,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),a&&Object.assign(t.prototype,a)},toFlatObject=(t,e,a,r)=>{let o,s,l;const c={};if(e=e||{},t==null)return e;do{for(o=Object.getOwnPropertyNames(t),s=o.length;s-- >0;)l=o[s],(!r||r(l,t,e))&&!c[l]&&(e[l]=t[l],c[l]=!0);t=a!==!1&&getPrototypeOf(t)}while(t&&(!a||a(t,e))&&t!==Object.prototype);return e},endsWith=(t,e,a)=>{t=String(t),(a===void 0||a>t.length)&&(a=t.length),a-=e.length;const r=t.indexOf(e,a);return r!==-1&&r===a},toArray=t=>{if(!t)return null;if(isArray(t))return t;let e=t.length;if(!isNumber(e))return null;const a=new Array(e);for(;e-- >0;)a[e]=t[e];return a},isTypedArray$1=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(t,e)=>{const r=(t&&t[iterator]).call(t);let o;for(;(o=r.next())&&!o.done;){const s=o.value;e.call(t,s[0],s[1])}},matchAll=(t,e)=>{let a;const r=[];for(;(a=t.exec(e))!==null;)r.push(a);return r},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,r,o){return r.toUpperCase()+o}),hasOwnProperty$1=(({hasOwnProperty:t})=>(e,a)=>t.call(e,a))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(t,e)=>{const a=Object.getOwnPropertyDescriptors(t),r={};forEach$1(a,(o,s)=>{let l;(l=e(o,s,t))!==!1&&(r[s]=l||o)}),Object.defineProperties(t,r)},freezeMethods=t=>{reduceDescriptors(t,(e,a)=>{if(isFunction$1(t)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const r=t[a];if(isFunction$1(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},toObjectSet=(t,e)=>{const a={},r=o=>{o.forEach(s=>{a[s]=!0})};return isArray(t)?r(t):r(String(t).split(e)),a},noop=()=>{},toFiniteNumber=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function isSpecCompliantForm(t){return!!(t&&isFunction$1(t.append)&&t[toStringTag]==="FormData"&&t[iterator])}const toJSONObject=t=>{const e=new Array(10),a=(r,o)=>{if(isObject$3(r)){if(e.indexOf(r)>=0)return;if(isBuffer(r))return r;if(!("toJSON"in r)){e[o]=r;const s=isArray(r)?[]:{};return forEach$1(r,(l,c)=>{const u=a(l,o+1);!isUndefined(u)&&(s[c]=u)}),e[o]=void 0,s}}return r};return a(t,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable$1=t=>t&&(isObject$3(t)||isFunction$1(t))&&isFunction$1(t.then)&&isFunction$1(t.catch),_setImmediate=((t,e)=>t?setImmediate:e?((a,r)=>(_global.addEventListener("message",({source:o,data:s})=>{o===_global&&s===a&&r.length&&r.shift()()},!1),o=>{r.push(o),_global.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",isFunction$1(_global.postMessage)),asap=typeof queueMicrotask<"u"?queueMicrotask.bind(_global):typeof process$1<"u"&&process$1.nextTick||_setImmediate,isIterable=t=>t!=null&&isFunction$1(t[iterator]),utils$7={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber,isBoolean,isObject:isObject$3,isPlainObject:isPlainObject$1,isEmptyObject,isReadableStream,isRequest,isResponse,isHeaders,isUndefined,isDate,isFile,isBlob,isRegExp,isFunction:isFunction$1,isStream,isURLSearchParams,isTypedArray:isTypedArray$1,isFileList,forEach:forEach$1,merge:merge$2,extend:extend$1,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty:hasOwnProperty$1,hasOwnProp:hasOwnProperty$1,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop,toFiniteNumber,findKey,global:_global,isContextDefined,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable:isThenable$1,setImmediate:_setImmediate,asap,isIterable};function AxiosError$1(t,e,a,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),a&&(this.config=a),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}utils$7.inherits(AxiosError$1,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$7.toJSONObject(this.config),code:this.code,status:this.status}}});const prototype$1=AxiosError$1.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{descriptors[t]={value:t}});Object.defineProperties(AxiosError$1,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError$1.from=(t,e,a,r,o,s)=>{const l=Object.create(prototype$1);utils$7.toFlatObject(t,l,function(f){return f!==Error.prototype},h=>h!=="isAxiosError");const c=t&&t.message?t.message:"Error",u=e==null&&t?t.code:e;return AxiosError$1.call(l,c,u,a,r,o),t&&l.cause==null&&Object.defineProperty(l,"cause",{value:t,configurable:!0}),l.name=t&&t.name||"Error",s&&Object.assign(l,s),l};const httpAdapter=null;function isVisitable(t){return utils$7.isPlainObject(t)||utils$7.isArray(t)}function removeBrackets(t){return utils$7.endsWith(t,"[]")?t.slice(0,-2):t}function renderKey(t,e,a){return t?t.concat(e).map(function(o,s){return o=removeBrackets(o),!a&&s?"["+o+"]":o}).join(a?".":""):e}function isFlatArray(t){return utils$7.isArray(t)&&!t.some(isVisitable)}const predicates=utils$7.toFlatObject(utils$7,{},null,function(e){return/^is[A-Z]/.test(e)});function toFormData$1(t,e,a){if(!utils$7.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,a=utils$7.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(E,C){return!utils$7.isUndefined(C[E])});const r=a.metaTokens,o=a.visitor||f,s=a.dots,l=a.indexes,u=(a.Blob||typeof Blob<"u"&&Blob)&&utils$7.isSpecCompliantForm(e);if(!utils$7.isFunction(o))throw new TypeError("visitor must be a function");function h(w){if(w===null)return"";if(utils$7.isDate(w))return w.toISOString();if(utils$7.isBoolean(w))return w.toString();if(!u&&utils$7.isBlob(w))throw new AxiosError$1("Blob is not supported. Use a Buffer instead.");return utils$7.isArrayBuffer(w)||utils$7.isTypedArray(w)?u&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function f(w,E,C){let B=w;if(w&&!C&&typeof w=="object"){if(utils$7.endsWith(E,"{}"))E=r?E:E.slice(0,-2),w=JSON.stringify(w);else if(utils$7.isArray(w)&&isFlatArray(w)||(utils$7.isFileList(w)||utils$7.endsWith(E,"[]"))&&(B=utils$7.toArray(w)))return E=removeBrackets(E),B.forEach(function(P,q){!(utils$7.isUndefined(P)||P===null)&&e.append(l===!0?renderKey([E],q,s):l===null?E:E+"[]",h(P))}),!1}return isVisitable(w)?!0:(e.append(renderKey(C,E,s),h(w)),!1)}const m=[],g=Object.assign(predicates,{defaultVisitor:f,convertValue:h,isVisitable});function b(w,E){if(!utils$7.isUndefined(w)){if(m.indexOf(w)!==-1)throw Error("Circular reference detected in "+E.join("."));m.push(w),utils$7.forEach(w,function(B,O){(!(utils$7.isUndefined(B)||B===null)&&o.call(e,B,utils$7.isString(O)?O.trim():O,E,g))===!0&&b(B,E?E.concat(O):[O])}),m.pop()}}if(!utils$7.isObject(t))throw new TypeError("data must be an object");return b(t),e}function encode$4(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function AxiosURLSearchParams(t,e){this._pairs=[],t&&toFormData$1(t,this,e)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(e,a){this._pairs.push([e,a])};prototype.toString=function(e){const a=e?function(r){return e.call(this,r,encode$4)}:encode$4;return this._pairs.map(function(o){return a(o[0])+"="+a(o[1])},"").join("&")};function encode$3(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function buildURL(t,e,a){if(!e)return t;const r=a&&a.encode||encode$3;utils$7.isFunction(a)&&(a={serialize:a});const o=a&&a.serialize;let s;if(o?s=o(e,a):s=utils$7.isURLSearchParams(e)?e.toString():new AxiosURLSearchParams(e,a).toString(r),s){const l=t.indexOf("#");l!==-1&&(t=t.slice(0,l)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class InterceptorManager{constructor(){this.handlers=[]}use(e,a,r){return this.handlers.push({fulfilled:e,rejected:a,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){utils$7.forEach(this.handlers,function(r){r!==null&&e(r)})}}const transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",_navigator=typeof navigator=="object"&&navigator||void 0,hasStandardBrowserEnv=hasBrowserEnv&&(!_navigator||["ReactNative","NativeScript","NS"].indexOf(_navigator.product)<0),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost",utils$6=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,navigator:_navigator,origin},Symbol.toStringTag,{value:"Module"})),platform={...utils$6,...platform$1};function toURLEncodedForm(t,e){return toFormData$1(t,new platform.classes.URLSearchParams,{visitor:function(a,r,o,s){return platform.isNode&&utils$7.isBuffer(a)?(this.append(r,a.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function parsePropPath(t){return utils$7.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function arrayToObject(t){const e={},a=Object.keys(t);let r;const o=a.length;let s;for(r=0;r<o;r++)s=a[r],e[s]=t[s];return e}function formDataToJSON(t){function e(a,r,o,s){let l=a[s++];if(l==="__proto__")return!0;const c=Number.isFinite(+l),u=s>=a.length;return l=!l&&utils$7.isArray(o)?o.length:l,u?(utils$7.hasOwnProp(o,l)?o[l]=[o[l],r]:o[l]=r,!c):((!o[l]||!utils$7.isObject(o[l]))&&(o[l]=[]),e(a,r,o[l],s)&&utils$7.isArray(o[l])&&(o[l]=arrayToObject(o[l])),!c)}if(utils$7.isFormData(t)&&utils$7.isFunction(t.entries)){const a={};return utils$7.forEachEntry(t,(r,o)=>{e(parsePropPath(r),o,a,0)}),a}return null}function stringifySafely(t,e,a){if(utils$7.isString(t))try{return(e||JSON.parse)(t),utils$7.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(a||JSON.stringify)(t)}const defaults={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function(e,a){const r=a.getContentType()||"",o=r.indexOf("application/json")>-1,s=utils$7.isObject(e);if(s&&utils$7.isHTMLForm(e)&&(e=new FormData(e)),utils$7.isFormData(e))return o?JSON.stringify(formDataToJSON(e)):e;if(utils$7.isArrayBuffer(e)||utils$7.isBuffer(e)||utils$7.isStream(e)||utils$7.isFile(e)||utils$7.isBlob(e)||utils$7.isReadableStream(e))return e;if(utils$7.isArrayBufferView(e))return e.buffer;if(utils$7.isURLSearchParams(e))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(e,this.formSerializer).toString();if((c=utils$7.isFileList(e))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return toFormData$1(c?{"files[]":e}:e,u&&new u,this.formSerializer)}}return s||o?(a.setContentType("application/json",!1),stringifySafely(e)):e}],transformResponse:[function(e){const a=this.transitional||defaults.transitional,r=a&&a.forcedJSONParsing,o=this.responseType==="json";if(utils$7.isResponse(e)||utils$7.isReadableStream(e))return e;if(e&&utils$7.isString(e)&&(r&&!this.responseType||o)){const l=!(a&&a.silentJSONParsing)&&o;try{return JSON.parse(e,this.parseReviver)}catch(c){if(l)throw c.name==="SyntaxError"?AxiosError$1.from(c,AxiosError$1.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$7.forEach(["delete","get","head","post","put","patch"],t=>{defaults.headers[t]={}});const ignoreDuplicateOf=utils$7.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=t=>{const e={};let a,r,o;return t&&t.split(`
`).forEach(function(l){o=l.indexOf(":"),a=l.substring(0,o).trim().toLowerCase(),r=l.substring(o+1).trim(),!(!a||e[a]&&ignoreDuplicateOf[a])&&(a==="set-cookie"?e[a]?e[a].push(r):e[a]=[r]:e[a]=e[a]?e[a]+", "+r:r)}),e},$internals=Symbol("internals");function normalizeHeader(t){return t&&String(t).trim().toLowerCase()}function normalizeValue(t){return t===!1||t==null?t:utils$7.isArray(t)?t.map(normalizeValue):String(t)}function parseTokens(t){const e=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=a.exec(t);)e[r[1]]=r[2];return e}const isValidHeaderName=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function matchHeaderValue(t,e,a,r,o){if(utils$7.isFunction(r))return r.call(this,e,a);if(o&&(e=a),!!utils$7.isString(e)){if(utils$7.isString(r))return e.indexOf(r)!==-1;if(utils$7.isRegExp(r))return r.test(e)}}function formatHeader(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,a,r)=>a.toUpperCase()+r)}function buildAccessors(t,e){const a=utils$7.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+a,{value:function(o,s,l){return this[r].call(this,e,o,s,l)},configurable:!0})})}let AxiosHeaders$1=class{constructor(e){e&&this.set(e)}set(e,a,r){const o=this;function s(c,u,h){const f=normalizeHeader(u);if(!f)throw new Error("header name must be a non-empty string");const m=utils$7.findKey(o,f);(!m||o[m]===void 0||h===!0||h===void 0&&o[m]!==!1)&&(o[m||u]=normalizeValue(c))}const l=(c,u)=>utils$7.forEach(c,(h,f)=>s(h,f,u));if(utils$7.isPlainObject(e)||e instanceof this.constructor)l(e,a);else if(utils$7.isString(e)&&(e=e.trim())&&!isValidHeaderName(e))l(parseHeaders(e),a);else if(utils$7.isObject(e)&&utils$7.isIterable(e)){let c={},u,h;for(const f of e){if(!utils$7.isArray(f))throw TypeError("Object iterator must return a key-value pair");c[h=f[0]]=(u=c[h])?utils$7.isArray(u)?[...u,f[1]]:[u,f[1]]:f[1]}l(c,a)}else e!=null&&s(a,e,r);return this}get(e,a){if(e=normalizeHeader(e),e){const r=utils$7.findKey(this,e);if(r){const o=this[r];if(!a)return o;if(a===!0)return parseTokens(o);if(utils$7.isFunction(a))return a.call(this,o,r);if(utils$7.isRegExp(a))return a.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,a){if(e=normalizeHeader(e),e){const r=utils$7.findKey(this,e);return!!(r&&this[r]!==void 0&&(!a||matchHeaderValue(this,this[r],r,a)))}return!1}delete(e,a){const r=this;let o=!1;function s(l){if(l=normalizeHeader(l),l){const c=utils$7.findKey(r,l);c&&(!a||matchHeaderValue(r,r[c],c,a))&&(delete r[c],o=!0)}}return utils$7.isArray(e)?e.forEach(s):s(e),o}clear(e){const a=Object.keys(this);let r=a.length,o=!1;for(;r--;){const s=a[r];(!e||matchHeaderValue(this,this[s],s,e,!0))&&(delete this[s],o=!0)}return o}normalize(e){const a=this,r={};return utils$7.forEach(this,(o,s)=>{const l=utils$7.findKey(r,s);if(l){a[l]=normalizeValue(o),delete a[s];return}const c=e?formatHeader(s):String(s).trim();c!==s&&delete a[s],a[c]=normalizeValue(o),r[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const a=Object.create(null);return utils$7.forEach(this,(r,o)=>{r!=null&&r!==!1&&(a[o]=e&&utils$7.isArray(r)?r.join(", "):r)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,a])=>e+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...a){const r=new this(e);return a.forEach(o=>r.set(o)),r}static accessor(e){const r=(this[$internals]=this[$internals]={accessors:{}}).accessors,o=this.prototype;function s(l){const c=normalizeHeader(l);r[c]||(buildAccessors(o,l),r[c]=!0)}return utils$7.isArray(e)?e.forEach(s):s(e),this}};AxiosHeaders$1.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$7.reduceDescriptors(AxiosHeaders$1.prototype,({value:t},e)=>{let a=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[a]=r}}});utils$7.freezeMethods(AxiosHeaders$1);function transformData(t,e){const a=this||defaults,r=e||a,o=AxiosHeaders$1.from(r.headers);let s=r.data;return utils$7.forEach(t,function(c){s=c.call(a,s,o.normalize(),e?e.status:void 0)}),o.normalize(),s}function isCancel$1(t){return!!(t&&t.__CANCEL__)}function CanceledError$1(t,e,a){AxiosError$1.call(this,t??"canceled",AxiosError$1.ERR_CANCELED,e,a),this.name="CanceledError"}utils$7.inherits(CanceledError$1,AxiosError$1,{__CANCEL__:!0});function settle(t,e,a){const r=a.config.validateStatus;!a.status||!r||r(a.status)?t(a):e(new AxiosError$1("Request failed with status code "+a.status,[AxiosError$1.ERR_BAD_REQUEST,AxiosError$1.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function parseProtocol(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function speedometer(t,e){t=t||10;const a=new Array(t),r=new Array(t);let o=0,s=0,l;return e=e!==void 0?e:1e3,function(u){const h=Date.now(),f=r[s];l||(l=h),a[o]=u,r[o]=h;let m=s,g=0;for(;m!==o;)g+=a[m++],m=m%t;if(o=(o+1)%t,o===s&&(s=(s+1)%t),h-l<e)return;const b=f&&h-f;return b?Math.round(g*1e3/b):void 0}}function throttle$1(t,e){let a=0,r=1e3/e,o,s;const l=(h,f=Date.now())=>{a=f,o=null,s&&(clearTimeout(s),s=null),t(...h)};return[(...h)=>{const f=Date.now(),m=f-a;m>=r?l(h,f):(o=h,s||(s=setTimeout(()=>{s=null,l(o)},r-m)))},()=>o&&l(o)]}const progressEventReducer=(t,e,a=3)=>{let r=0;const o=speedometer(50,250);return throttle$1(s=>{const l=s.loaded,c=s.lengthComputable?s.total:void 0,u=l-r,h=o(u),f=l<=c;r=l;const m={loaded:l,total:c,progress:c?l/c:void 0,bytes:u,rate:h||void 0,estimated:h&&c&&f?(c-l)/h:void 0,event:s,lengthComputable:c!=null,[e?"download":"upload"]:!0};t(m)},a)},progressEventDecorator=(t,e)=>{const a=t!=null;return[r=>e[0]({lengthComputable:a,total:t,loaded:r}),e[1]]},asyncDecorator=t=>(...e)=>utils$7.asap(()=>t(...e)),isURLSameOrigin=platform.hasStandardBrowserEnv?((t,e)=>a=>(a=new URL(a,platform.origin),t.protocol===a.protocol&&t.host===a.host&&(e||t.port===a.port)))(new URL(platform.origin),platform.navigator&&/(msie|trident)/i.test(platform.navigator.userAgent)):()=>!0,cookies=platform.hasStandardBrowserEnv?{write(t,e,a,r,o,s,l){if(typeof document>"u")return;const c=[`${t}=${encodeURIComponent(e)}`];utils$7.isNumber(a)&&c.push(`expires=${new Date(a).toUTCString()}`),utils$7.isString(r)&&c.push(`path=${r}`),utils$7.isString(o)&&c.push(`domain=${o}`),s===!0&&c.push("secure"),utils$7.isString(l)&&c.push(`SameSite=${l}`),document.cookie=c.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function combineURLs(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function buildFullPath(t,e,a){let r=!isAbsoluteURL(e);return t&&(r||a==!1)?combineURLs(t,e):e}const headersToObject=t=>t instanceof AxiosHeaders$1?{...t}:t;function mergeConfig$1(t,e){e=e||{};const a={};function r(h,f,m,g){return utils$7.isPlainObject(h)&&utils$7.isPlainObject(f)?utils$7.merge.call({caseless:g},h,f):utils$7.isPlainObject(f)?utils$7.merge({},f):utils$7.isArray(f)?f.slice():f}function o(h,f,m,g){if(utils$7.isUndefined(f)){if(!utils$7.isUndefined(h))return r(void 0,h,m,g)}else return r(h,f,m,g)}function s(h,f){if(!utils$7.isUndefined(f))return r(void 0,f)}function l(h,f){if(utils$7.isUndefined(f)){if(!utils$7.isUndefined(h))return r(void 0,h)}else return r(void 0,f)}function c(h,f,m){if(m in e)return r(h,f);if(m in t)return r(void 0,h)}const u={url:s,method:s,data:s,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:c,headers:(h,f,m)=>o(headersToObject(h),headersToObject(f),m,!0)};return utils$7.forEach(Object.keys({...t,...e}),function(f){const m=u[f]||o,g=m(t[f],e[f],f);utils$7.isUndefined(g)&&m!==c||(a[f]=g)}),a}const resolveConfig=t=>{const e=mergeConfig$1({},t);let{data:a,withXSRFToken:r,xsrfHeaderName:o,xsrfCookieName:s,headers:l,auth:c}=e;if(e.headers=l=AxiosHeaders$1.from(l),e.url=buildURL(buildFullPath(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),c&&l.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),utils$7.isFormData(a)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(utils$7.isFunction(a.getHeaders)){const u=a.getHeaders(),h=["content-type","content-length"];Object.entries(u).forEach(([f,m])=>{h.includes(f.toLowerCase())&&l.set(f,m)})}}if(platform.hasStandardBrowserEnv&&(r&&utils$7.isFunction(r)&&(r=r(e)),r||r!==!1&&isURLSameOrigin(e.url))){const u=o&&s&&cookies.read(s);u&&l.set(o,u)}return e},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(t){return new Promise(function(a,r){const o=resolveConfig(t);let s=o.data;const l=AxiosHeaders$1.from(o.headers).normalize();let{responseType:c,onUploadProgress:u,onDownloadProgress:h}=o,f,m,g,b,w;function E(){b&&b(),w&&w(),o.cancelToken&&o.cancelToken.unsubscribe(f),o.signal&&o.signal.removeEventListener("abort",f)}let C=new XMLHttpRequest;C.open(o.method.toUpperCase(),o.url,!0),C.timeout=o.timeout;function B(){if(!C)return;const P=AxiosHeaders$1.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),z={data:!c||c==="text"||c==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:P,config:t,request:C};settle(function(Z){a(Z),E()},function(Z){r(Z),E()},z),C=null}"onloadend"in C?C.onloadend=B:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(B)},C.onabort=function(){C&&(r(new AxiosError$1("Request aborted",AxiosError$1.ECONNABORTED,t,C)),C=null)},C.onerror=function(q){const z=q&&q.message?q.message:"Network Error",V=new AxiosError$1(z,AxiosError$1.ERR_NETWORK,t,C);V.event=q||null,r(V),C=null},C.ontimeout=function(){let q=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const z=o.transitional||transitionalDefaults;o.timeoutErrorMessage&&(q=o.timeoutErrorMessage),r(new AxiosError$1(q,z.clarifyTimeoutError?AxiosError$1.ETIMEDOUT:AxiosError$1.ECONNABORTED,t,C)),C=null},s===void 0&&l.setContentType(null),"setRequestHeader"in C&&utils$7.forEach(l.toJSON(),function(q,z){C.setRequestHeader(z,q)}),utils$7.isUndefined(o.withCredentials)||(C.withCredentials=!!o.withCredentials),c&&c!=="json"&&(C.responseType=o.responseType),h&&([g,w]=progressEventReducer(h,!0),C.addEventListener("progress",g)),u&&C.upload&&([m,b]=progressEventReducer(u),C.upload.addEventListener("progress",m),C.upload.addEventListener("loadend",b)),(o.cancelToken||o.signal)&&(f=P=>{C&&(r(!P||P.type?new CanceledError$1(null,t,C):P),C.abort(),C=null)},o.cancelToken&&o.cancelToken.subscribe(f),o.signal&&(o.signal.aborted?f():o.signal.addEventListener("abort",f)));const O=parseProtocol(o.url);if(O&&platform.protocols.indexOf(O)===-1){r(new AxiosError$1("Unsupported protocol "+O+":",AxiosError$1.ERR_BAD_REQUEST,t));return}C.send(s||null)})},composeSignals=(t,e)=>{const{length:a}=t=t?t.filter(Boolean):[];if(e||a){let r=new AbortController,o;const s=function(h){if(!o){o=!0,c();const f=h instanceof Error?h:this.reason;r.abort(f instanceof AxiosError$1?f:new CanceledError$1(f instanceof Error?f.message:f))}};let l=e&&setTimeout(()=>{l=null,s(new AxiosError$1(`timeout ${e} of ms exceeded`,AxiosError$1.ETIMEDOUT))},e);const c=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(s):h.removeEventListener("abort",s)}),t=null)};t.forEach(h=>h.addEventListener("abort",s));const{signal:u}=r;return u.unsubscribe=()=>utils$7.asap(c),u}},streamChunk=function*(t,e){let a=t.byteLength;if(a<e){yield t;return}let r=0,o;for(;r<a;)o=r+e,yield t.slice(r,o),r=o},readBytes=async function*(t,e){for await(const a of readStream(t))yield*streamChunk(a,e)},readStream=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:a,value:r}=await e.read();if(a)break;yield r}}finally{await e.cancel()}},trackStream=(t,e,a,r)=>{const o=readBytes(t,e);let s=0,l,c=u=>{l||(l=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:h,value:f}=await o.next();if(h){c(),u.close();return}let m=f.byteLength;if(a){let g=s+=m;a(g)}u.enqueue(new Uint8Array(f))}catch(h){throw c(h),h}},cancel(u){return c(u),o.return()}},{highWaterMark:2})},DEFAULT_CHUNK_SIZE=64*1024,{isFunction}=utils$7,globalFetchAPI=(({Request:t,Response:e})=>({Request:t,Response:e}))(utils$7.global),{ReadableStream:ReadableStream$1,TextEncoder:TextEncoder$1}=utils$7.global,test=(t,...e)=>{try{return!!t(...e)}catch{return!1}},factory=t=>{t=utils$7.merge.call({skipUndefined:!0},globalFetchAPI,t);const{fetch:e,Request:a,Response:r}=t,o=e?isFunction(e):typeof fetch=="function",s=isFunction(a),l=isFunction(r);if(!o)return!1;const c=o&&isFunction(ReadableStream$1),u=o&&(typeof TextEncoder$1=="function"?(w=>E=>w.encode(E))(new TextEncoder$1):async w=>new Uint8Array(await new a(w).arrayBuffer())),h=s&&c&&test(()=>{let w=!1;const E=new a(platform.origin,{body:new ReadableStream$1,method:"POST",get duplex(){return w=!0,"half"}}).headers.has("Content-Type");return w&&!E}),f=l&&c&&test(()=>utils$7.isReadableStream(new r("").body)),m={stream:f&&(w=>w.body)};o&&["text","arrayBuffer","blob","formData","stream"].forEach(w=>{!m[w]&&(m[w]=(E,C)=>{let B=E&&E[w];if(B)return B.call(E);throw new AxiosError$1(`Response type '${w}' is not supported`,AxiosError$1.ERR_NOT_SUPPORT,C)})});const g=async w=>{if(w==null)return 0;if(utils$7.isBlob(w))return w.size;if(utils$7.isSpecCompliantForm(w))return(await new a(platform.origin,{method:"POST",body:w}).arrayBuffer()).byteLength;if(utils$7.isArrayBufferView(w)||utils$7.isArrayBuffer(w))return w.byteLength;if(utils$7.isURLSearchParams(w)&&(w=w+""),utils$7.isString(w))return(await u(w)).byteLength},b=async(w,E)=>{const C=utils$7.toFiniteNumber(w.getContentLength());return C??g(E)};return async w=>{let{url:E,method:C,data:B,signal:O,cancelToken:P,timeout:q,onDownloadProgress:z,onUploadProgress:V,responseType:Z,headers:J,withCredentials:W="same-origin",fetchOptions:te}=resolveConfig(w),G=e||fetch;Z=Z?(Z+"").toLowerCase():"text";let D=composeSignals([O,P&&P.toAbortSignal()],q),M=null;const v=D&&D.unsubscribe&&(()=>{D.unsubscribe()});let S;try{if(V&&h&&C!=="get"&&C!=="head"&&(S=await b(J,B))!==0){let A=new a(E,{method:"POST",body:B,duplex:"half"}),$;if(utils$7.isFormData(B)&&($=A.headers.get("content-type"))&&J.setContentType($),A.body){const[L,Y]=progressEventDecorator(S,progressEventReducer(asyncDecorator(V)));B=trackStream(A.body,DEFAULT_CHUNK_SIZE,L,Y)}}utils$7.isString(W)||(W=W?"include":"omit");const N=s&&"credentials"in a.prototype,R={...te,signal:D,method:C.toUpperCase(),headers:J.normalize().toJSON(),body:B,duplex:"half",credentials:N?W:void 0};M=s&&new a(E,R);let k=await(s?G(M,te):G(E,R));const j=f&&(Z==="stream"||Z==="response");if(f&&(z||j&&v)){const A={};["status","statusText","headers"].forEach(le=>{A[le]=k[le]});const $=utils$7.toFiniteNumber(k.headers.get("content-length")),[L,Y]=z&&progressEventDecorator($,progressEventReducer(asyncDecorator(z),!0))||[];k=new r(trackStream(k.body,DEFAULT_CHUNK_SIZE,L,()=>{Y&&Y(),v&&v()}),A)}Z=Z||"text";let I=await m[utils$7.findKey(m,Z)||"text"](k,w);return!j&&v&&v(),await new Promise((A,$)=>{settle(A,$,{data:I,headers:AxiosHeaders$1.from(k.headers),status:k.status,statusText:k.statusText,config:w,request:M})})}catch(N){throw v&&v(),N&&N.name==="TypeError"&&/Load failed|fetch/i.test(N.message)?Object.assign(new AxiosError$1("Network Error",AxiosError$1.ERR_NETWORK,w,M),{cause:N.cause||N}):AxiosError$1.from(N,N&&N.code,w,M)}}},seedCache=new Map,getFetch=t=>{let e=t&&t.env||{};const{fetch:a,Request:r,Response:o}=e,s=[r,o,a];let l=s.length,c=l,u,h,f=seedCache;for(;c--;)u=s[c],h=f.get(u),h===void 0&&f.set(u,h=c?new Map:factory(e)),f=h;return h};getFetch();const knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:{get:getFetch}};utils$7.forEach(knownAdapters,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const renderReason=t=>`- ${t}`,isResolvedHandle=t=>utils$7.isFunction(t)||t===null||t===!1;function getAdapter$1(t,e){t=utils$7.isArray(t)?t:[t];const{length:a}=t;let r,o;const s={};for(let l=0;l<a;l++){r=t[l];let c;if(o=r,!isResolvedHandle(r)&&(o=knownAdapters[(c=String(r)).toLowerCase()],o===void 0))throw new AxiosError$1(`Unknown adapter '${c}'`);if(o&&(utils$7.isFunction(o)||(o=o.get(e))))break;s[c||"#"+l]=o}if(!o){const l=Object.entries(s).map(([u,h])=>`adapter ${u} `+(h===!1?"is not supported by the environment":"is not available in the build"));let c=a?l.length>1?`since :
`+l.map(renderReason).join(`
`):" "+renderReason(l[0]):"as no adapter specified";throw new AxiosError$1("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return o}const adapters={getAdapter:getAdapter$1,adapters:knownAdapters};function throwIfCancellationRequested(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new CanceledError$1(null,t)}function dispatchRequest(t){return throwIfCancellationRequested(t),t.headers=AxiosHeaders$1.from(t.headers),t.data=transformData.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(t.adapter||defaults.adapter,t)(t).then(function(r){return throwIfCancellationRequested(t),r.data=transformData.call(t,t.transformResponse,r),r.headers=AxiosHeaders$1.from(r.headers),r},function(r){return isCancel$1(r)||(throwIfCancellationRequested(t),r&&r.response&&(r.response.data=transformData.call(t,t.transformResponse,r.response),r.response.headers=AxiosHeaders$1.from(r.response.headers))),Promise.reject(r)})}const VERSION$2="1.13.2",validators$1={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{validators$1[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const deprecatedWarnings={};validators$1.transitional=function(e,a,r){function o(s,l){return"[Axios v"+VERSION$2+"] Transitional option '"+s+"'"+l+(r?". "+r:"")}return(s,l,c)=>{if(e===!1)throw new AxiosError$1(o(l," has been removed"+(a?" in "+a:"")),AxiosError$1.ERR_DEPRECATED);return a&&!deprecatedWarnings[l]&&(deprecatedWarnings[l]=!0,console.warn(o(l," has been deprecated since v"+a+" and will be removed in the near future"))),e?e(s,l,c):!0}};validators$1.spelling=function(e){return(a,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function assertOptions(t,e,a){if(typeof t!="object")throw new AxiosError$1("options must be an object",AxiosError$1.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let o=r.length;for(;o-- >0;){const s=r[o],l=e[s];if(l){const c=t[s],u=c===void 0||l(c,s,t);if(u!==!0)throw new AxiosError$1("option "+s+" must be "+u,AxiosError$1.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new AxiosError$1("Unknown option "+s,AxiosError$1.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;let Axios$1=class{constructor(e){this.defaults=e||{},this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}async request(e,a){try{return await this._request(e,a)}catch(r){if(r instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const s=o.stack?o.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,a){typeof e=="string"?(a=a||{},a.url=e):a=e||{},a=mergeConfig$1(this.defaults,a);const{transitional:r,paramsSerializer:o,headers:s}=a;r!==void 0&&validator.assertOptions(r,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),o!=null&&(utils$7.isFunction(o)?a.paramsSerializer={serialize:o}:validator.assertOptions(o,{encode:validators.function,serialize:validators.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),validator.assertOptions(a,{baseUrl:validators.spelling("baseURL"),withXsrfToken:validators.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let l=s&&utils$7.merge(s.common,s[a.method]);s&&utils$7.forEach(["delete","get","head","post","put","patch","common"],w=>{delete s[w]}),a.headers=AxiosHeaders$1.concat(l,s);const c=[];let u=!0;this.interceptors.request.forEach(function(E){typeof E.runWhen=="function"&&E.runWhen(a)===!1||(u=u&&E.synchronous,c.unshift(E.fulfilled,E.rejected))});const h=[];this.interceptors.response.forEach(function(E){h.push(E.fulfilled,E.rejected)});let f,m=0,g;if(!u){const w=[dispatchRequest.bind(this),void 0];for(w.unshift(...c),w.push(...h),g=w.length,f=Promise.resolve(a);m<g;)f=f.then(w[m++],w[m++]);return f}g=c.length;let b=a;for(;m<g;){const w=c[m++],E=c[m++];try{b=w(b)}catch(C){E.call(this,C);break}}try{f=dispatchRequest.call(this,b)}catch(w){return Promise.reject(w)}for(m=0,g=h.length;m<g;)f=f.then(h[m++],h[m++]);return f}getUri(e){e=mergeConfig$1(this.defaults,e);const a=buildFullPath(e.baseURL,e.url,e.allowAbsoluteUrls);return buildURL(a,e.params,e.paramsSerializer)}};utils$7.forEach(["delete","get","head","options"],function(e){Axios$1.prototype[e]=function(a,r){return this.request(mergeConfig$1(r||{},{method:e,url:a,data:(r||{}).data}))}});utils$7.forEach(["post","put","patch"],function(e){function a(r){return function(s,l,c){return this.request(mergeConfig$1(c||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:l}))}}Axios$1.prototype[e]=a(),Axios$1.prototype[e+"Form"]=a(!0)});let CancelToken$1=class Tf{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(s){a=s});const r=this;this.promise.then(o=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](o);r._listeners=null}),this.promise.then=o=>{let s;const l=new Promise(c=>{r.subscribe(c),s=c}).then(o);return l.cancel=function(){r.unsubscribe(s)},l},e(function(s,l,c){r.reason||(r.reason=new CanceledError$1(s,l,c),a(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const a=this._listeners.indexOf(e);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const e=new AbortController,a=r=>{e.abort(r)};return this.subscribe(a),e.signal.unsubscribe=()=>this.unsubscribe(a),e.signal}static source(){let e;return{token:new Tf(function(o){e=o}),cancel:e}}};function spread$1(t){return function(a){return t.apply(null,a)}}function isAxiosError$1(t){return utils$7.isObject(t)&&t.isAxiosError===!0}const HttpStatusCode$1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(HttpStatusCode$1).forEach(([t,e])=>{HttpStatusCode$1[e]=t});function createInstance(t){const e=new Axios$1(t),a=bind(Axios$1.prototype.request,e);return utils$7.extend(a,Axios$1.prototype,e,{allOwnKeys:!0}),utils$7.extend(a,e,null,{allOwnKeys:!0}),a.create=function(o){return createInstance(mergeConfig$1(t,o))},a}const axios=createInstance(defaults);axios.Axios=Axios$1;axios.CanceledError=CanceledError$1;axios.CancelToken=CancelToken$1;axios.isCancel=isCancel$1;axios.VERSION=VERSION$2;axios.toFormData=toFormData$1;axios.AxiosError=AxiosError$1;axios.Cancel=axios.CanceledError;axios.all=function(e){return Promise.all(e)};axios.spread=spread$1;axios.isAxiosError=isAxiosError$1;axios.mergeConfig=mergeConfig$1;axios.AxiosHeaders=AxiosHeaders$1;axios.formToJSON=t=>formDataToJSON(utils$7.isHTMLForm(t)?new FormData(t):t);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode$1;axios.default=axios;const{Axios,AxiosError,CanceledError,isCancel,CancelToken,VERSION:VERSION$1,all,Cancel,isAxiosError,spread,toFormData,AxiosHeaders,HttpStatusCode,formToJSON,getAdapter,mergeConfig}=axios,COINGECKO_URL="https://api.coingecko.com/api/v3/simple/price",DEFAULT_PRICES={bitcoin:{priceUsd:98500,priceEur:91200,change24h:2.3,timestamp:Date.now()},ethereum:{priceUsd:3850,priceEur:3560,change24h:1.8,timestamp:Date.now()},tether:{priceUsd:1,priceEur:.92,change24h:.01,timestamp:Date.now()},solana:{priceUsd:220,priceEur:218.92,change24h:.11,timestamp:Date.now()},efranc:{priceUsd:.00169,priceEur:.00152,change24h:.01,timestamp:Date.now()},enaira:{priceUsd:647e-6,priceEur:564e-6,change24h:.02,timestamp:Date.now()}},ApiService={fetchPrices:async()=>{try{const t=await axios.get(COINGECKO_URL,{params:{ids:"bitcoin,ethereum,tether,solana",vs_currencies:"usd,eur",include_24hr_change:"true"},timeout:5e3}),e={},a=t.data,r=Date.now();return Object.keys(a).forEach(o=>{e[o]={priceUsd:a[o].usd||DEFAULT_PRICES[o]?.priceUsd||0,priceEur:a[o].eur||DEFAULT_PRICES[o]?.priceEur||0,change24h:a[o].usd_24h_change||DEFAULT_PRICES[o]?.change24h||0,timestamp:r}}),{...DEFAULT_PRICES,...e}}catch(t){return console.warn("API: Failed to fetch prices (using defaults)",t),DEFAULT_PRICES}}},LEGACY_STORAGE_KEY="unicity_wallet_data",STORAGE_KEY_PREFIX="unicity_wallet_",STORAGE_KEY_HISTORY="unicity_transaction_history";class WalletRepository{static instance;_wallet=null;_currentAddress=null;_migrationComplete=!1;_nametag=null;_transactionHistory=[];_refreshDebounceTimer=null;constructor(){this.loadTransactionHistory()}static getInstance(){return WalletRepository.instance||(WalletRepository.instance=new WalletRepository),WalletRepository.instance}static checkNametagForAddress(e){if(!e)return null;const a=`${STORAGE_KEY_PREFIX}${e}`;try{const r=localStorage.getItem(a);if(r)return JSON.parse(r).nametag||null}catch(r){console.error("Error checking nametag for address:",r)}return null}validateAddress(e){if(!e||typeof e!="string")return!1;const a=e.trim();return!(a.length<20||/[<>"'\\]|\.\./.test(a))}getStorageKey(e){return`${STORAGE_KEY_PREFIX}${e}`}migrateLegacyWallet(){if(!this._migrationComplete)try{const e=localStorage.getItem(LEGACY_STORAGE_KEY);if(!e){this._migrationComplete=!0;return}console.log("Migrating legacy wallet data to address-based storage...");const a=JSON.parse(e);if(!a.address){console.warn("Legacy wallet has no address, cannot migrate"),this._migrationComplete=!0;return}if(!this.validateAddress(a.address)){console.error(`Legacy wallet has invalid address: ${a.address}`),this._migrationComplete=!0;return}const r=this.getStorageKey(a.address);if(localStorage.getItem(r)){console.log("Wallet already migrated, removing legacy key"),localStorage.removeItem(LEGACY_STORAGE_KEY),this._migrationComplete=!0;return}localStorage.setItem(r,e),localStorage.removeItem(LEGACY_STORAGE_KEY),console.log(`Successfully migrated wallet for ${a.address}`),this._migrationComplete=!0}catch(e){console.error("Failed to migrate legacy wallet",e),this._migrationComplete=!0}}loadWalletForAddress(e){if(!this.validateAddress(e))return console.error(`Invalid address format: ${e}`),null;try{this.migrateLegacyWallet();const a=this.getStorageKey(e),r=localStorage.getItem(a);if(r){const o=JSON.parse(r);if(!o.id||!o.address||!Array.isArray(o.tokens))return console.error(`Invalid wallet structure in storage for ${e}`),localStorage.removeItem(a),null;if(o.address!==e)return console.error(`Address mismatch: requested ${e}, stored ${o.address}. Removing corrupted data.`),localStorage.removeItem(a),null;const s=o.tokens.map(c=>new Token$1(c)),l=new Wallet(o.id,o.name,o.address,s);return this._wallet=l,this._currentAddress=e,this._nametag=o.nametag||null,console.log(`Loaded wallet for address ${e} with ${s.length} tokens${this._nametag?`, nametag: ${this._nametag.name}`:""}`),l}return null}catch(a){return console.error(`Failed to load wallet for address ${e}`,a),null}}switchToAddress(e){return this.validateAddress(e)?this._currentAddress===e&&this._wallet?.address===e?this._wallet:(console.log(`Switching from ${this._currentAddress||"none"} to ${e}`),this.loadWalletForAddress(e)):(console.error(`Cannot switch to invalid address: ${e}`),null)}loadTransactionHistory(){try{const e=localStorage.getItem(STORAGE_KEY_HISTORY);e&&(this._transactionHistory=JSON.parse(e))}catch(e){console.error("Failed to load transaction history",e),this._transactionHistory=[]}}saveTransactionHistory(){try{localStorage.setItem(STORAGE_KEY_HISTORY,JSON.stringify(this._transactionHistory))}catch(e){console.error("Failed to save transaction history",e)}}addTransactionToHistory(e){const a={id:v4(),...e};this._transactionHistory.push(a),this.saveTransactionHistory(),this.refreshWallet()}getTransactionHistory(){return[...this._transactionHistory].sort((e,a)=>a.timestamp-e.timestamp)}addSentTransaction(e,a,r,o,s){this.addTransactionToHistory({type:"SENT",amount:e,coinId:a,symbol:r,iconUrl:o,timestamp:Date.now(),recipientNametag:s})}createWallet(e,a="My Wallet"){if(!this.validateAddress(e))throw new Error(`Cannot create wallet with invalid address: ${e}`);const r=this.loadWalletForAddress(e);if(r)return console.log(`Wallet already exists for address ${e}, using existing wallet`),r;const o=new Wallet(v4(),a,e,[]);return this._currentAddress=e,this.saveWallet(o),console.log(`Created new wallet for address ${e}`),this.refreshWallet(),window.dispatchEvent(new Event("wallet-loaded")),o}saveWallet(e){this._wallet=e,this._currentAddress=e.address;const a=this.getStorageKey(e.address),r={id:e.id,name:e.name,address:e.address,tokens:e.tokens,nametag:this._nametag||void 0};localStorage.setItem(a,JSON.stringify(r))}getWallet(){return this._wallet}getTokens(){return this._wallet?.tokens||[]}isSameToken(e,a){if(e.id===a.id)return!0;try{const r=JSON.parse(e.jsonData||"{}"),o=JSON.parse(a.jsonData||"{}"),s=r.genesis?.data?.tokenId,l=o.genesis?.data?.tokenId;if(s&&l&&s===l)return!0}catch{return!1}return!1}addToken(e,a=!1){if(console.log(" Repository: Adding token...",e.id),!this._wallet){console.error(" Repository: Wallet not initialized!");return}const r=this._wallet.tokens;if(r.some(c=>this.isSameToken(c,e))){console.warn(` Duplicate token detected (CoinID: ${e.coinId}). Skipping add.`);return}if(r.some(c=>c.id===e.id)){console.warn(`Token ${e.id} already exists`);return}const s=[e,...r],l=new Wallet(this._wallet.id,this._wallet.name,this._wallet.address,s);this.saveWallet(l),!a&&e.coinId&&e.amount&&this.addTransactionToHistory({type:"RECEIVED",amount:e.amount,coinId:e.coinId,symbol:e.symbol||"UNK",iconUrl:e.iconUrl,timestamp:e.timestamp,senderPubkey:e.senderPubkey}),console.log(` Repository: Saved! Total tokens: ${s.length}`),this.refreshWallet()}removeToken(e,a,r=!1){if(!this._wallet)return;const o=this._wallet.tokens.find(c=>c.id===e),s=this._wallet.tokens.filter(c=>c.id!==e),l=new Wallet(this._wallet.id,this._wallet.name,this._wallet.address,s);this.saveWallet(l),!r&&o&&o.coinId&&o.amount&&this.addTransactionToHistory({type:"SENT",amount:o.amount,coinId:o.coinId,symbol:o.symbol||"UNK",iconUrl:o.iconUrl,timestamp:Date.now(),recipientNametag:a}),this.refreshWallet()}clearWallet(){if(this._currentAddress){const e=this.getStorageKey(this._currentAddress);localStorage.removeItem(e)}localStorage.removeItem(LEGACY_STORAGE_KEY),this._wallet=null,this._currentAddress=null,this._nametag=null,this.refreshWallet()}resetInMemoryState(){this._wallet=null,this._currentAddress=null,this._nametag=null,this.refreshWallet()}getCurrentAddress(){return this._currentAddress}setNametag(e){if(!this._wallet){console.error("Cannot set nametag: wallet not initialized");return}this._nametag=e,this.saveWallet(this._wallet),console.log(` Nametag set for ${this._wallet.address}: ${e.name}`),this.refreshWallet()}getNametag(){return this._nametag}clearNametag(){this._wallet&&(this._nametag=null,this.saveWallet(this._wallet),console.log(` Nametag cleared for ${this._wallet.address}`),this.refreshWallet())}hasNametag(){return this._nametag!==null}refreshWallet(){this._refreshDebounceTimer&&clearTimeout(this._refreshDebounceTimer),this._refreshDebounceTimer=setTimeout(()=>{this._refreshDebounceTimer=null,window.dispatchEvent(new Event("wallet-updated"))},100)}}var src={},sha256$7={},sha2={},_md={},utils$5={},crypto$2={},hasRequiredCrypto;function requireCrypto(){return hasRequiredCrypto||(hasRequiredCrypto=1,Object.defineProperty(crypto$2,"__esModule",{value:!0}),crypto$2.crypto=void 0,crypto$2.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0),crypto$2}var hasRequiredUtils$4;function requireUtils$4(){return hasRequiredUtils$4||(hasRequiredUtils$4=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.Hash=t.nextTick=t.swap32IfBE=t.byteSwapIfBE=t.swap8IfBE=t.isLE=void 0,t.isBytes=a,t.anumber=r,t.abytes=o,t.ahash=s,t.aexists=l,t.aoutput=c,t.u8=u,t.u32=h,t.clean=f,t.createView=m,t.rotr=g,t.rotl=b,t.byteSwap=w,t.byteSwap32=E,t.bytesToHex=O,t.hexToBytes=z,t.asyncLoop=Z,t.utf8ToBytes=J,t.bytesToUtf8=W,t.toBytes=te,t.kdfInputToBytes=G,t.concatBytes=D,t.checkOpts=M,t.createHasher=S,t.createOptHasher=N,t.createXOFer=R,t.randomBytes=k;const e=requireCrypto();function a(j){return j instanceof Uint8Array||ArrayBuffer.isView(j)&&j.constructor.name==="Uint8Array"}function r(j){if(!Number.isSafeInteger(j)||j<0)throw new Error("positive integer expected, got "+j)}function o(j,...I){if(!a(j))throw new Error("Uint8Array expected");if(I.length>0&&!I.includes(j.length))throw new Error("Uint8Array expected of length "+I+", got length="+j.length)}function s(j){if(typeof j!="function"||typeof j.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");r(j.outputLen),r(j.blockLen)}function l(j,I=!0){if(j.destroyed)throw new Error("Hash instance has been destroyed");if(I&&j.finished)throw new Error("Hash#digest() has already been called")}function c(j,I){o(j);const A=I.outputLen;if(j.length<A)throw new Error("digestInto() expects output buffer of length at least "+A)}function u(j){return new Uint8Array(j.buffer,j.byteOffset,j.byteLength)}function h(j){return new Uint32Array(j.buffer,j.byteOffset,Math.floor(j.byteLength/4))}function f(...j){for(let I=0;I<j.length;I++)j[I].fill(0)}function m(j){return new DataView(j.buffer,j.byteOffset,j.byteLength)}function g(j,I){return j<<32-I|j>>>I}function b(j,I){return j<<I|j>>>32-I>>>0}t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function w(j){return j<<24&4278190080|j<<8&16711680|j>>>8&65280|j>>>24&255}t.swap8IfBE=t.isLE?j=>j:j=>w(j),t.byteSwapIfBE=t.swap8IfBE;function E(j){for(let I=0;I<j.length;I++)j[I]=w(j[I]);return j}t.swap32IfBE=t.isLE?j=>j:E;const C=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",B=Array.from({length:256},(j,I)=>I.toString(16).padStart(2,"0"));function O(j){if(o(j),C)return j.toHex();let I="";for(let A=0;A<j.length;A++)I+=B[j[A]];return I}const P={_0:48,_9:57,A:65,F:70,a:97,f:102};function q(j){if(j>=P._0&&j<=P._9)return j-P._0;if(j>=P.A&&j<=P.F)return j-(P.A-10);if(j>=P.a&&j<=P.f)return j-(P.a-10)}function z(j){if(typeof j!="string")throw new Error("hex string expected, got "+typeof j);if(C)return Uint8Array.fromHex(j);const I=j.length,A=I/2;if(I%2)throw new Error("hex string expected, got unpadded hex of length "+I);const $=new Uint8Array(A);for(let L=0,Y=0;L<A;L++,Y+=2){const le=q(j.charCodeAt(Y)),re=q(j.charCodeAt(Y+1));if(le===void 0||re===void 0){const U=j[Y]+j[Y+1];throw new Error('hex string expected, got non-hex character "'+U+'" at index '+Y)}$[L]=le*16+re}return $}const V=async()=>{};t.nextTick=V;async function Z(j,I,A){let $=Date.now();for(let L=0;L<j;L++){A(L);const Y=Date.now()-$;Y>=0&&Y<I||(await(0,t.nextTick)(),$+=Y)}}function J(j){if(typeof j!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(j))}function W(j){return new TextDecoder().decode(j)}function te(j){return typeof j=="string"&&(j=J(j)),o(j),j}function G(j){return typeof j=="string"&&(j=J(j)),o(j),j}function D(...j){let I=0;for(let $=0;$<j.length;$++){const L=j[$];o(L),I+=L.length}const A=new Uint8Array(I);for(let $=0,L=0;$<j.length;$++){const Y=j[$];A.set(Y,L),L+=Y.length}return A}function M(j,I){if(I!==void 0&&{}.toString.call(I)!=="[object Object]")throw new Error("options should be object or undefined");return Object.assign(j,I)}class v{}t.Hash=v;function S(j){const I=$=>j().update(te($)).digest(),A=j();return I.outputLen=A.outputLen,I.blockLen=A.blockLen,I.create=()=>j(),I}function N(j){const I=($,L)=>j(L).update(te($)).digest(),A=j({});return I.outputLen=A.outputLen,I.blockLen=A.blockLen,I.create=$=>j($),I}function R(j){const I=($,L)=>j(L).update(te($)).digest(),A=j({});return I.outputLen=A.outputLen,I.blockLen=A.blockLen,I.create=$=>j($),I}t.wrapConstructor=S,t.wrapConstructorWithOpts=N,t.wrapXOFConstructorWithOpts=R;function k(j=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(j));if(e.crypto&&typeof e.crypto.randomBytes=="function")return Uint8Array.from(e.crypto.randomBytes(j));throw new Error("crypto.getRandomValues must be defined")}})(utils$5)),utils$5}var hasRequired_md;function require_md(){if(hasRequired_md)return _md;hasRequired_md=1,Object.defineProperty(_md,"__esModule",{value:!0}),_md.SHA512_IV=_md.SHA384_IV=_md.SHA224_IV=_md.SHA256_IV=_md.HashMD=void 0,_md.setBigUint64=e,_md.Chi=a,_md.Maj=r;const t=requireUtils$4();function e(s,l,c,u){if(typeof s.setBigUint64=="function")return s.setBigUint64(l,c,u);const h=BigInt(32),f=BigInt(4294967295),m=Number(c>>h&f),g=Number(c&f),b=u?4:0,w=u?0:4;s.setUint32(l+b,m,u),s.setUint32(l+w,g,u)}function a(s,l,c){return s&l^~s&c}function r(s,l,c){return s&l^s&c^l&c}class o extends t.Hash{constructor(l,c,u,h){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=l,this.outputLen=c,this.padOffset=u,this.isLE=h,this.buffer=new Uint8Array(l),this.view=(0,t.createView)(this.buffer)}update(l){(0,t.aexists)(this),l=(0,t.toBytes)(l),(0,t.abytes)(l);const{view:c,buffer:u,blockLen:h}=this,f=l.length;for(let m=0;m<f;){const g=Math.min(h-this.pos,f-m);if(g===h){const b=(0,t.createView)(l);for(;h<=f-m;m+=h)this.process(b,m);continue}u.set(l.subarray(m,m+g),this.pos),this.pos+=g,m+=g,this.pos===h&&(this.process(c,0),this.pos=0)}return this.length+=l.length,this.roundClean(),this}digestInto(l){(0,t.aexists)(this),(0,t.aoutput)(l,this),this.finished=!0;const{buffer:c,view:u,blockLen:h,isLE:f}=this;let{pos:m}=this;c[m++]=128,(0,t.clean)(this.buffer.subarray(m)),this.padOffset>h-m&&(this.process(u,0),m=0);for(let C=m;C<h;C++)c[C]=0;e(u,h-8,BigInt(this.length*8),f),this.process(u,0);const g=(0,t.createView)(l),b=this.outputLen;if(b%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const w=b/4,E=this.get();if(w>E.length)throw new Error("_sha2: outputLen bigger than state");for(let C=0;C<w;C++)g.setUint32(4*C,E[C],f)}digest(){const{buffer:l,outputLen:c}=this;this.digestInto(l);const u=l.slice(0,c);return this.destroy(),u}_cloneInto(l){l||(l=new this.constructor),l.set(...this.get());const{blockLen:c,buffer:u,length:h,finished:f,destroyed:m,pos:g}=this;return l.destroyed=m,l.finished=f,l.length=h,l.pos=g,h%c&&l.buffer.set(u),l}clone(){return this._cloneInto()}}return _md.HashMD=o,_md.SHA256_IV=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),_md.SHA224_IV=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]),_md.SHA384_IV=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),_md.SHA512_IV=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),_md}var _u64={},hasRequired_u64;function require_u64(){if(hasRequired_u64)return _u64;hasRequired_u64=1,Object.defineProperty(_u64,"__esModule",{value:!0}),_u64.toBig=_u64.shrSL=_u64.shrSH=_u64.rotrSL=_u64.rotrSH=_u64.rotrBL=_u64.rotrBH=_u64.rotr32L=_u64.rotr32H=_u64.rotlSL=_u64.rotlSH=_u64.rotlBL=_u64.rotlBH=_u64.add5L=_u64.add5H=_u64.add4L=_u64.add4H=_u64.add3L=_u64.add3H=void 0,_u64.add=B,_u64.fromBig=a,_u64.split=r;const t=BigInt(2**32-1),e=BigInt(32);function a(W,te=!1){return te?{h:Number(W&t),l:Number(W>>e&t)}:{h:Number(W>>e&t)|0,l:Number(W&t)|0}}function r(W,te=!1){const G=W.length;let D=new Uint32Array(G),M=new Uint32Array(G);for(let v=0;v<G;v++){const{h:S,l:N}=a(W[v],te);[D[v],M[v]]=[S,N]}return[D,M]}const o=(W,te)=>BigInt(W>>>0)<<e|BigInt(te>>>0);_u64.toBig=o;const s=(W,te,G)=>W>>>G;_u64.shrSH=s;const l=(W,te,G)=>W<<32-G|te>>>G;_u64.shrSL=l;const c=(W,te,G)=>W>>>G|te<<32-G;_u64.rotrSH=c;const u=(W,te,G)=>W<<32-G|te>>>G;_u64.rotrSL=u;const h=(W,te,G)=>W<<64-G|te>>>G-32;_u64.rotrBH=h;const f=(W,te,G)=>W>>>G-32|te<<64-G;_u64.rotrBL=f;const m=(W,te)=>te;_u64.rotr32H=m;const g=(W,te)=>W;_u64.rotr32L=g;const b=(W,te,G)=>W<<G|te>>>32-G;_u64.rotlSH=b;const w=(W,te,G)=>te<<G|W>>>32-G;_u64.rotlSL=w;const E=(W,te,G)=>te<<G-32|W>>>64-G;_u64.rotlBH=E;const C=(W,te,G)=>W<<G-32|te>>>64-G;_u64.rotlBL=C;function B(W,te,G,D){const M=(te>>>0)+(D>>>0);return{h:W+G+(M/2**32|0)|0,l:M|0}}const O=(W,te,G)=>(W>>>0)+(te>>>0)+(G>>>0);_u64.add3L=O;const P=(W,te,G,D)=>te+G+D+(W/2**32|0)|0;_u64.add3H=P;const q=(W,te,G,D)=>(W>>>0)+(te>>>0)+(G>>>0)+(D>>>0);_u64.add4L=q;const z=(W,te,G,D,M)=>te+G+D+M+(W/2**32|0)|0;_u64.add4H=z;const V=(W,te,G,D,M)=>(W>>>0)+(te>>>0)+(G>>>0)+(D>>>0)+(M>>>0);_u64.add5L=V;const Z=(W,te,G,D,M,v)=>te+G+D+M+v+(W/2**32|0)|0;_u64.add5H=Z;const J={fromBig:a,split:r,toBig:o,shrSH:s,shrSL:l,rotrSH:c,rotrSL:u,rotrBH:h,rotrBL:f,rotr32H:m,rotr32L:g,rotlSH:b,rotlSL:w,rotlBH:E,rotlBL:C,add:B,add3L:O,add3H:P,add4L:q,add4H:z,add5H:Z,add5L:V};return _u64.default=J,_u64}var hasRequiredSha2;function requireSha2(){if(hasRequiredSha2)return sha2;hasRequiredSha2=1,Object.defineProperty(sha2,"__esModule",{value:!0}),sha2.sha512_224=sha2.sha512_256=sha2.sha384=sha2.sha512=sha2.sha224=sha2.sha256=sha2.SHA512_256=sha2.SHA512_224=sha2.SHA384=sha2.SHA512=sha2.SHA224=sha2.SHA256=void 0;const t=require_md(),e=require_u64(),a=requireUtils$4(),r=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),o=new Uint32Array(64);class s extends t.HashMD{constructor(P=32){super(64,P,8,!1),this.A=t.SHA256_IV[0]|0,this.B=t.SHA256_IV[1]|0,this.C=t.SHA256_IV[2]|0,this.D=t.SHA256_IV[3]|0,this.E=t.SHA256_IV[4]|0,this.F=t.SHA256_IV[5]|0,this.G=t.SHA256_IV[6]|0,this.H=t.SHA256_IV[7]|0}get(){const{A:P,B:q,C:z,D:V,E:Z,F:J,G:W,H:te}=this;return[P,q,z,V,Z,J,W,te]}set(P,q,z,V,Z,J,W,te){this.A=P|0,this.B=q|0,this.C=z|0,this.D=V|0,this.E=Z|0,this.F=J|0,this.G=W|0,this.H=te|0}process(P,q){for(let M=0;M<16;M++,q+=4)o[M]=P.getUint32(q,!1);for(let M=16;M<64;M++){const v=o[M-15],S=o[M-2],N=(0,a.rotr)(v,7)^(0,a.rotr)(v,18)^v>>>3,R=(0,a.rotr)(S,17)^(0,a.rotr)(S,19)^S>>>10;o[M]=R+o[M-7]+N+o[M-16]|0}let{A:z,B:V,C:Z,D:J,E:W,F:te,G,H:D}=this;for(let M=0;M<64;M++){const v=(0,a.rotr)(W,6)^(0,a.rotr)(W,11)^(0,a.rotr)(W,25),S=D+v+(0,t.Chi)(W,te,G)+r[M]+o[M]|0,R=((0,a.rotr)(z,2)^(0,a.rotr)(z,13)^(0,a.rotr)(z,22))+(0,t.Maj)(z,V,Z)|0;D=G,G=te,te=W,W=J+S|0,J=Z,Z=V,V=z,z=S+R|0}z=z+this.A|0,V=V+this.B|0,Z=Z+this.C|0,J=J+this.D|0,W=W+this.E|0,te=te+this.F|0,G=G+this.G|0,D=D+this.H|0,this.set(z,V,Z,J,W,te,G,D)}roundClean(){(0,a.clean)(o)}destroy(){this.set(0,0,0,0,0,0,0,0),(0,a.clean)(this.buffer)}}sha2.SHA256=s;class l extends s{constructor(){super(28),this.A=t.SHA224_IV[0]|0,this.B=t.SHA224_IV[1]|0,this.C=t.SHA224_IV[2]|0,this.D=t.SHA224_IV[3]|0,this.E=t.SHA224_IV[4]|0,this.F=t.SHA224_IV[5]|0,this.G=t.SHA224_IV[6]|0,this.H=t.SHA224_IV[7]|0}}sha2.SHA224=l;const c=e.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(O=>BigInt(O))),u=c[0],h=c[1],f=new Uint32Array(80),m=new Uint32Array(80);class g extends t.HashMD{constructor(P=64){super(128,P,16,!1),this.Ah=t.SHA512_IV[0]|0,this.Al=t.SHA512_IV[1]|0,this.Bh=t.SHA512_IV[2]|0,this.Bl=t.SHA512_IV[3]|0,this.Ch=t.SHA512_IV[4]|0,this.Cl=t.SHA512_IV[5]|0,this.Dh=t.SHA512_IV[6]|0,this.Dl=t.SHA512_IV[7]|0,this.Eh=t.SHA512_IV[8]|0,this.El=t.SHA512_IV[9]|0,this.Fh=t.SHA512_IV[10]|0,this.Fl=t.SHA512_IV[11]|0,this.Gh=t.SHA512_IV[12]|0,this.Gl=t.SHA512_IV[13]|0,this.Hh=t.SHA512_IV[14]|0,this.Hl=t.SHA512_IV[15]|0}get(){const{Ah:P,Al:q,Bh:z,Bl:V,Ch:Z,Cl:J,Dh:W,Dl:te,Eh:G,El:D,Fh:M,Fl:v,Gh:S,Gl:N,Hh:R,Hl:k}=this;return[P,q,z,V,Z,J,W,te,G,D,M,v,S,N,R,k]}set(P,q,z,V,Z,J,W,te,G,D,M,v,S,N,R,k){this.Ah=P|0,this.Al=q|0,this.Bh=z|0,this.Bl=V|0,this.Ch=Z|0,this.Cl=J|0,this.Dh=W|0,this.Dl=te|0,this.Eh=G|0,this.El=D|0,this.Fh=M|0,this.Fl=v|0,this.Gh=S|0,this.Gl=N|0,this.Hh=R|0,this.Hl=k|0}process(P,q){for(let A=0;A<16;A++,q+=4)f[A]=P.getUint32(q),m[A]=P.getUint32(q+=4);for(let A=16;A<80;A++){const $=f[A-15]|0,L=m[A-15]|0,Y=e.rotrSH($,L,1)^e.rotrSH($,L,8)^e.shrSH($,L,7),le=e.rotrSL($,L,1)^e.rotrSL($,L,8)^e.shrSL($,L,7),re=f[A-2]|0,U=m[A-2]|0,K=e.rotrSH(re,U,19)^e.rotrBH(re,U,61)^e.shrSH(re,U,6),se=e.rotrSL(re,U,19)^e.rotrBL(re,U,61)^e.shrSL(re,U,6),he=e.add4L(le,se,m[A-7],m[A-16]),ue=e.add4H(he,Y,K,f[A-7],f[A-16]);f[A]=ue|0,m[A]=he|0}let{Ah:z,Al:V,Bh:Z,Bl:J,Ch:W,Cl:te,Dh:G,Dl:D,Eh:M,El:v,Fh:S,Fl:N,Gh:R,Gl:k,Hh:j,Hl:I}=this;for(let A=0;A<80;A++){const $=e.rotrSH(M,v,14)^e.rotrSH(M,v,18)^e.rotrBH(M,v,41),L=e.rotrSL(M,v,14)^e.rotrSL(M,v,18)^e.rotrBL(M,v,41),Y=M&S^~M&R,le=v&N^~v&k,re=e.add5L(I,L,le,h[A],m[A]),U=e.add5H(re,j,$,Y,u[A],f[A]),K=re|0,se=e.rotrSH(z,V,28)^e.rotrBH(z,V,34)^e.rotrBH(z,V,39),he=e.rotrSL(z,V,28)^e.rotrBL(z,V,34)^e.rotrBL(z,V,39),ue=z&Z^z&W^Z&W,ee=V&J^V&te^J&te;j=R|0,I=k|0,R=S|0,k=N|0,S=M|0,N=v|0,{h:M,l:v}=e.add(G|0,D|0,U|0,K|0),G=W|0,D=te|0,W=Z|0,te=J|0,Z=z|0,J=V|0;const fe=e.add3L(K,he,ee);z=e.add3H(fe,U,se,ue),V=fe|0}({h:z,l:V}=e.add(this.Ah|0,this.Al|0,z|0,V|0)),{h:Z,l:J}=e.add(this.Bh|0,this.Bl|0,Z|0,J|0),{h:W,l:te}=e.add(this.Ch|0,this.Cl|0,W|0,te|0),{h:G,l:D}=e.add(this.Dh|0,this.Dl|0,G|0,D|0),{h:M,l:v}=e.add(this.Eh|0,this.El|0,M|0,v|0),{h:S,l:N}=e.add(this.Fh|0,this.Fl|0,S|0,N|0),{h:R,l:k}=e.add(this.Gh|0,this.Gl|0,R|0,k|0),{h:j,l:I}=e.add(this.Hh|0,this.Hl|0,j|0,I|0),this.set(z,V,Z,J,W,te,G,D,M,v,S,N,R,k,j,I)}roundClean(){(0,a.clean)(f,m)}destroy(){(0,a.clean)(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}sha2.SHA512=g;class b extends g{constructor(){super(48),this.Ah=t.SHA384_IV[0]|0,this.Al=t.SHA384_IV[1]|0,this.Bh=t.SHA384_IV[2]|0,this.Bl=t.SHA384_IV[3]|0,this.Ch=t.SHA384_IV[4]|0,this.Cl=t.SHA384_IV[5]|0,this.Dh=t.SHA384_IV[6]|0,this.Dl=t.SHA384_IV[7]|0,this.Eh=t.SHA384_IV[8]|0,this.El=t.SHA384_IV[9]|0,this.Fh=t.SHA384_IV[10]|0,this.Fl=t.SHA384_IV[11]|0,this.Gh=t.SHA384_IV[12]|0,this.Gl=t.SHA384_IV[13]|0,this.Hh=t.SHA384_IV[14]|0,this.Hl=t.SHA384_IV[15]|0}}sha2.SHA384=b;const w=Uint32Array.from([2352822216,424955298,1944164710,2312950998,502970286,855612546,1738396948,1479516111,258812777,2077511080,2011393907,79989058,1067287976,1780299464,286451373,2446758561]),E=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class C extends g{constructor(){super(28),this.Ah=w[0]|0,this.Al=w[1]|0,this.Bh=w[2]|0,this.Bl=w[3]|0,this.Ch=w[4]|0,this.Cl=w[5]|0,this.Dh=w[6]|0,this.Dl=w[7]|0,this.Eh=w[8]|0,this.El=w[9]|0,this.Fh=w[10]|0,this.Fl=w[11]|0,this.Gh=w[12]|0,this.Gl=w[13]|0,this.Hh=w[14]|0,this.Hl=w[15]|0}}sha2.SHA512_224=C;class B extends g{constructor(){super(32),this.Ah=E[0]|0,this.Al=E[1]|0,this.Bh=E[2]|0,this.Bl=E[3]|0,this.Ch=E[4]|0,this.Cl=E[5]|0,this.Dh=E[6]|0,this.Dl=E[7]|0,this.Eh=E[8]|0,this.El=E[9]|0,this.Fh=E[10]|0,this.Fl=E[11]|0,this.Gh=E[12]|0,this.Gl=E[13]|0,this.Hh=E[14]|0,this.Hl=E[15]|0}}return sha2.SHA512_256=B,sha2.sha256=(0,a.createHasher)(()=>new s),sha2.sha224=(0,a.createHasher)(()=>new l),sha2.sha512=(0,a.createHasher)(()=>new g),sha2.sha384=(0,a.createHasher)(()=>new b),sha2.sha512_256=(0,a.createHasher)(()=>new B),sha2.sha512_224=(0,a.createHasher)(()=>new C),sha2}var hasRequiredSha256$2;function requireSha256$2(){if(hasRequiredSha256$2)return sha256$7;hasRequiredSha256$2=1,Object.defineProperty(sha256$7,"__esModule",{value:!0}),sha256$7.sha224=sha256$7.SHA224=sha256$7.sha256=sha256$7.SHA256=void 0;const t=requireSha2();return sha256$7.SHA256=t.SHA256,sha256$7.sha256=t.sha256,sha256$7.SHA224=t.SHA224,sha256$7.sha224=t.sha224,sha256$7}var sha512$4={},hasRequiredSha512$2;function requireSha512$2(){if(hasRequiredSha512$2)return sha512$4;hasRequiredSha512$2=1,Object.defineProperty(sha512$4,"__esModule",{value:!0}),sha512$4.sha512_256=sha512$4.SHA512_256=sha512$4.sha512_224=sha512$4.SHA512_224=sha512$4.sha384=sha512$4.SHA384=sha512$4.sha512=sha512$4.SHA512=void 0;const t=requireSha2();return sha512$4.SHA512=t.SHA512,sha512$4.sha512=t.sha512,sha512$4.SHA384=t.SHA384,sha512$4.sha384=t.sha384,sha512$4.SHA512_224=t.SHA512_224,sha512$4.sha512_224=t.sha512_224,sha512$4.SHA512_256=t.SHA512_256,sha512$4.sha512_256=t.sha512_256,sha512$4}var pbkdf2$2={},hmac$4={},hasRequiredHmac$2;function requireHmac$2(){return hasRequiredHmac$2||(hasRequiredHmac$2=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.hmac=t.HMAC=void 0;const e=requireUtils$4();class a extends e.Hash{constructor(s,l){super(),this.finished=!1,this.destroyed=!1,(0,e.ahash)(s);const c=(0,e.toBytes)(l);if(this.iHash=s.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const u=this.blockLen,h=new Uint8Array(u);h.set(c.length>u?s.create().update(c).digest():c);for(let f=0;f<h.length;f++)h[f]^=54;this.iHash.update(h),this.oHash=s.create();for(let f=0;f<h.length;f++)h[f]^=106;this.oHash.update(h),(0,e.clean)(h)}update(s){return(0,e.aexists)(this),this.iHash.update(s),this}digestInto(s){(0,e.aexists)(this),(0,e.abytes)(s,this.outputLen),this.finished=!0,this.iHash.digestInto(s),this.oHash.update(s),this.oHash.digestInto(s),this.destroy()}digest(){const s=new Uint8Array(this.oHash.outputLen);return this.digestInto(s),s}_cloneInto(s){s||(s=Object.create(Object.getPrototypeOf(this),{}));const{oHash:l,iHash:c,finished:u,destroyed:h,blockLen:f,outputLen:m}=this;return s=s,s.finished=u,s.destroyed=h,s.blockLen=f,s.outputLen=m,s.oHash=l._cloneInto(s.oHash),s.iHash=c._cloneInto(s.iHash),s}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}t.HMAC=a;const r=(o,s,l)=>new a(o,s).update(l).digest();t.hmac=r,t.hmac.create=(o,s)=>new a(o,s)})(hmac$4)),hmac$4}var hasRequiredPbkdf2$1;function requirePbkdf2$1(){if(hasRequiredPbkdf2$1)return pbkdf2$2;hasRequiredPbkdf2$1=1,Object.defineProperty(pbkdf2$2,"__esModule",{value:!0}),pbkdf2$2.pbkdf2=o,pbkdf2$2.pbkdf2Async=s;const t=requireHmac$2(),e=requireUtils$4();function a(l,c,u,h){(0,e.ahash)(l);const f=(0,e.checkOpts)({dkLen:32,asyncTick:10},h),{c:m,dkLen:g,asyncTick:b}=f;if((0,e.anumber)(m),(0,e.anumber)(g),(0,e.anumber)(b),m<1)throw new Error("iterations (c) should be >= 1");const w=(0,e.kdfInputToBytes)(c),E=(0,e.kdfInputToBytes)(u),C=new Uint8Array(g),B=t.hmac.create(l,w),O=B._cloneInto().update(E);return{c:m,dkLen:g,asyncTick:b,DK:C,PRF:B,PRFSalt:O}}function r(l,c,u,h,f){return l.destroy(),c.destroy(),h&&h.destroy(),(0,e.clean)(f),u}function o(l,c,u,h){const{c:f,dkLen:m,DK:g,PRF:b,PRFSalt:w}=a(l,c,u,h);let E;const C=new Uint8Array(4),B=(0,e.createView)(C),O=new Uint8Array(b.outputLen);for(let P=1,q=0;q<m;P++,q+=b.outputLen){const z=g.subarray(q,q+b.outputLen);B.setInt32(0,P,!1),(E=w._cloneInto(E)).update(C).digestInto(O),z.set(O.subarray(0,z.length));for(let V=1;V<f;V++){b._cloneInto(E).update(O).digestInto(O);for(let Z=0;Z<z.length;Z++)z[Z]^=O[Z]}}return r(b,w,g,E,O)}async function s(l,c,u,h){const{c:f,dkLen:m,asyncTick:g,DK:b,PRF:w,PRFSalt:E}=a(l,c,u,h);let C;const B=new Uint8Array(4),O=(0,e.createView)(B),P=new Uint8Array(w.outputLen);for(let q=1,z=0;z<m;q++,z+=w.outputLen){const V=b.subarray(z,z+w.outputLen);O.setInt32(0,q,!1),(C=E._cloneInto(C)).update(B).digestInto(P),V.set(P.subarray(0,V.length)),await(0,e.asyncLoop)(f-1,g,()=>{w._cloneInto(C).update(P).digestInto(P);for(let Z=0;Z<V.length;Z++)V[Z]^=P[Z]})}return r(w,E,b,C,P)}return pbkdf2$2}var _wordlists={};const require$$0$1=JSON.parse('["abdikace","abeceda","adresa","agrese","akce","aktovka","alej","alkohol","amputace","ananas","andulka","anekdota","anketa","antika","anulovat","archa","arogance","asfalt","asistent","aspirace","astma","astronom","atlas","atletika","atol","autobus","azyl","babka","bachor","bacil","baculka","badatel","bageta","bagr","bahno","bakterie","balada","baletka","balkon","balonek","balvan","balza","bambus","bankomat","barbar","baret","barman","baroko","barva","baterka","batoh","bavlna","bazalka","bazilika","bazuka","bedna","beran","beseda","bestie","beton","bezinka","bezmoc","beztak","bicykl","bidlo","biftek","bikiny","bilance","biograf","biolog","bitva","bizon","blahobyt","blatouch","blecha","bledule","blesk","blikat","blizna","blokovat","bloudit","blud","bobek","bobr","bodlina","bodnout","bohatost","bojkot","bojovat","bokorys","bolest","borec","borovice","bota","boubel","bouchat","bouda","boule","bourat","boxer","bradavka","brambora","branka","bratr","brepta","briketa","brko","brloh","bronz","broskev","brunetka","brusinka","brzda","brzy","bublina","bubnovat","buchta","buditel","budka","budova","bufet","bujarost","bukvice","buldok","bulva","bunda","bunkr","burza","butik","buvol","buzola","bydlet","bylina","bytovka","bzukot","capart","carevna","cedr","cedule","cejch","cejn","cela","celer","celkem","celnice","cenina","cennost","cenovka","centrum","cenzor","cestopis","cetka","chalupa","chapadlo","charita","chata","chechtat","chemie","chichot","chirurg","chlad","chleba","chlubit","chmel","chmura","chobot","chochol","chodba","cholera","chomout","chopit","choroba","chov","chrapot","chrlit","chrt","chrup","chtivost","chudina","chutnat","chvat","chvilka","chvost","chyba","chystat","chytit","cibule","cigareta","cihelna","cihla","cinkot","cirkus","cisterna","citace","citrus","cizinec","cizost","clona","cokoliv","couvat","ctitel","ctnost","cudnost","cuketa","cukr","cupot","cvaknout","cval","cvik","cvrkot","cyklista","daleko","dareba","datel","datum","dcera","debata","dechovka","decibel","deficit","deflace","dekl","dekret","demokrat","deprese","derby","deska","detektiv","dikobraz","diktovat","dioda","diplom","disk","displej","divadlo","divoch","dlaha","dlouho","dluhopis","dnes","dobro","dobytek","docent","dochutit","dodnes","dohled","dohoda","dohra","dojem","dojnice","doklad","dokola","doktor","dokument","dolar","doleva","dolina","doma","dominant","domluvit","domov","donutit","dopad","dopis","doplnit","doposud","doprovod","dopustit","dorazit","dorost","dort","dosah","doslov","dostatek","dosud","dosyta","dotaz","dotek","dotknout","doufat","doutnat","dovozce","dozadu","doznat","dozorce","drahota","drak","dramatik","dravec","draze","drdol","drobnost","drogerie","drozd","drsnost","drtit","drzost","duben","duchovno","dudek","duha","duhovka","dusit","dusno","dutost","dvojice","dvorec","dynamit","ekolog","ekonomie","elektron","elipsa","email","emise","emoce","empatie","epizoda","epocha","epopej","epos","esej","esence","eskorta","eskymo","etiketa","euforie","evoluce","exekuce","exkurze","expedice","exploze","export","extrakt","facka","fajfka","fakulta","fanatik","fantazie","farmacie","favorit","fazole","federace","fejeton","fenka","fialka","figurant","filozof","filtr","finance","finta","fixace","fjord","flanel","flirt","flotila","fond","fosfor","fotbal","fotka","foton","frakce","freska","fronta","fukar","funkce","fyzika","galeje","garant","genetika","geolog","gilotina","glazura","glejt","golem","golfista","gotika","graf","gramofon","granule","grep","gril","grog","groteska","guma","hadice","hadr","hala","halenka","hanba","hanopis","harfa","harpuna","havran","hebkost","hejkal","hejno","hejtman","hektar","helma","hematom","herec","herna","heslo","hezky","historik","hladovka","hlasivky","hlava","hledat","hlen","hlodavec","hloh","hloupost","hltat","hlubina","hluchota","hmat","hmota","hmyz","hnis","hnojivo","hnout","hoblina","hoboj","hoch","hodiny","hodlat","hodnota","hodovat","hojnost","hokej","holinka","holka","holub","homole","honitba","honorace","horal","horda","horizont","horko","horlivec","hormon","hornina","horoskop","horstvo","hospoda","hostina","hotovost","houba","houf","houpat","houska","hovor","hradba","hranice","hravost","hrazda","hrbolek","hrdina","hrdlo","hrdost","hrnek","hrobka","hromada","hrot","hrouda","hrozen","hrstka","hrubost","hryzat","hubenost","hubnout","hudba","hukot","humr","husita","hustota","hvozd","hybnost","hydrant","hygiena","hymna","hysterik","idylka","ihned","ikona","iluze","imunita","infekce","inflace","inkaso","inovace","inspekce","internet","invalida","investor","inzerce","ironie","jablko","jachta","jahoda","jakmile","jakost","jalovec","jantar","jarmark","jaro","jasan","jasno","jatka","javor","jazyk","jedinec","jedle","jednatel","jehlan","jekot","jelen","jelito","jemnost","jenom","jepice","jeseter","jevit","jezdec","jezero","jinak","jindy","jinoch","jiskra","jistota","jitrnice","jizva","jmenovat","jogurt","jurta","kabaret","kabel","kabinet","kachna","kadet","kadidlo","kahan","kajak","kajuta","kakao","kaktus","kalamita","kalhoty","kalibr","kalnost","kamera","kamkoliv","kamna","kanibal","kanoe","kantor","kapalina","kapela","kapitola","kapka","kaple","kapota","kapr","kapusta","kapybara","karamel","karotka","karton","kasa","katalog","katedra","kauce","kauza","kavalec","kazajka","kazeta","kazivost","kdekoliv","kdesi","kedluben","kemp","keramika","kino","klacek","kladivo","klam","klapot","klasika","klaun","klec","klenba","klepat","klesnout","klid","klima","klisna","klobouk","klokan","klopa","kloub","klubovna","klusat","kluzkost","kmen","kmitat","kmotr","kniha","knot","koalice","koberec","kobka","kobliha","kobyla","kocour","kohout","kojenec","kokos","koktejl","kolaps","koleda","kolize","kolo","komando","kometa","komik","komnata","komora","kompas","komunita","konat","koncept","kondice","konec","konfese","kongres","konina","konkurs","kontakt","konzerva","kopanec","kopie","kopnout","koprovka","korbel","korektor","kormidlo","koroptev","korpus","koruna","koryto","korzet","kosatec","kostka","kotel","kotleta","kotoul","koukat","koupelna","kousek","kouzlo","kovboj","koza","kozoroh","krabice","krach","krajina","kralovat","krasopis","kravata","kredit","krejcar","kresba","kreveta","kriket","kritik","krize","krkavec","krmelec","krmivo","krocan","krok","kronika","kropit","kroupa","krovka","krtek","kruhadlo","krupice","krutost","krvinka","krychle","krypta","krystal","kryt","kudlanka","kufr","kujnost","kukla","kulajda","kulich","kulka","kulomet","kultura","kuna","kupodivu","kurt","kurzor","kutil","kvalita","kvasinka","kvestor","kynolog","kyselina","kytara","kytice","kytka","kytovec","kyvadlo","labrador","lachtan","ladnost","laik","lakomec","lamela","lampa","lanovka","lasice","laso","lastura","latinka","lavina","lebka","leckdy","leden","lednice","ledovka","ledvina","legenda","legie","legrace","lehce","lehkost","lehnout","lektvar","lenochod","lentilka","lepenka","lepidlo","letadlo","letec","letmo","letokruh","levhart","levitace","levobok","libra","lichotka","lidojed","lidskost","lihovina","lijavec","lilek","limetka","linie","linka","linoleum","listopad","litina","litovat","lobista","lodivod","logika","logoped","lokalita","loket","lomcovat","lopata","lopuch","lord","losos","lotr","loudal","louh","louka","louskat","lovec","lstivost","lucerna","lucifer","lump","lusk","lustrace","lvice","lyra","lyrika","lysina","madam","madlo","magistr","mahagon","majetek","majitel","majorita","makak","makovice","makrela","malba","malina","malovat","malvice","maminka","mandle","manko","marnost","masakr","maskot","masopust","matice","matrika","maturita","mazanec","mazivo","mazlit","mazurka","mdloba","mechanik","meditace","medovina","melasa","meloun","mentolka","metla","metoda","metr","mezera","migrace","mihnout","mihule","mikina","mikrofon","milenec","milimetr","milost","mimika","mincovna","minibar","minomet","minulost","miska","mistr","mixovat","mladost","mlha","mlhovina","mlok","mlsat","mluvit","mnich","mnohem","mobil","mocnost","modelka","modlitba","mohyla","mokro","molekula","momentka","monarcha","monokl","monstrum","montovat","monzun","mosaz","moskyt","most","motivace","motorka","motyka","moucha","moudrost","mozaika","mozek","mozol","mramor","mravenec","mrkev","mrtvola","mrzet","mrzutost","mstitel","mudrc","muflon","mulat","mumie","munice","muset","mutace","muzeum","muzikant","myslivec","mzda","nabourat","nachytat","nadace","nadbytek","nadhoz","nadobro","nadpis","nahlas","nahnat","nahodile","nahradit","naivita","najednou","najisto","najmout","naklonit","nakonec","nakrmit","nalevo","namazat","namluvit","nanometr","naoko","naopak","naostro","napadat","napevno","naplnit","napnout","naposled","naprosto","narodit","naruby","narychlo","nasadit","nasekat","naslepo","nastat","natolik","navenek","navrch","navzdory","nazvat","nebe","nechat","necky","nedaleko","nedbat","neduh","negace","nehet","nehoda","nejen","nejprve","neklid","nelibost","nemilost","nemoc","neochota","neonka","nepokoj","nerost","nerv","nesmysl","nesoulad","netvor","neuron","nevina","nezvykle","nicota","nijak","nikam","nikdy","nikl","nikterak","nitro","nocleh","nohavice","nominace","nora","norek","nositel","nosnost","nouze","noviny","novota","nozdra","nuda","nudle","nuget","nutit","nutnost","nutrie","nymfa","obal","obarvit","obava","obdiv","obec","obehnat","obejmout","obezita","obhajoba","obilnice","objasnit","objekt","obklopit","oblast","oblek","obliba","obloha","obluda","obnos","obohatit","obojek","obout","obrazec","obrna","obruba","obrys","obsah","obsluha","obstarat","obuv","obvaz","obvinit","obvod","obvykle","obyvatel","obzor","ocas","ocel","ocenit","ochladit","ochota","ochrana","ocitnout","odboj","odbyt","odchod","odcizit","odebrat","odeslat","odevzdat","odezva","odhadce","odhodit","odjet","odjinud","odkaz","odkoupit","odliv","odluka","odmlka","odolnost","odpad","odpis","odplout","odpor","odpustit","odpykat","odrazka","odsoudit","odstup","odsun","odtok","odtud","odvaha","odveta","odvolat","odvracet","odznak","ofina","ofsajd","ohlas","ohnisko","ohrada","ohrozit","ohryzek","okap","okenice","oklika","okno","okouzlit","okovy","okrasa","okres","okrsek","okruh","okupant","okurka","okusit","olejnina","olizovat","omak","omeleta","omezit","omladina","omlouvat","omluva","omyl","onehdy","opakovat","opasek","operace","opice","opilost","opisovat","opora","opozice","opravdu","oproti","orbital","orchestr","orgie","orlice","orloj","ortel","osada","oschnout","osika","osivo","oslava","oslepit","oslnit","oslovit","osnova","osoba","osolit","ospalec","osten","ostraha","ostuda","ostych","osvojit","oteplit","otisk","otop","otrhat","otrlost","otrok","otruby","otvor","ovanout","ovar","oves","ovlivnit","ovoce","oxid","ozdoba","pachatel","pacient","padouch","pahorek","pakt","palanda","palec","palivo","paluba","pamflet","pamlsek","panenka","panika","panna","panovat","panstvo","pantofle","paprika","parketa","parodie","parta","paruka","paryba","paseka","pasivita","pastelka","patent","patrona","pavouk","pazneht","pazourek","pecka","pedagog","pejsek","peklo","peloton","penalta","pendrek","penze","periskop","pero","pestrost","petarda","petice","petrolej","pevnina","pexeso","pianista","piha","pijavice","pikle","piknik","pilina","pilnost","pilulka","pinzeta","pipeta","pisatel","pistole","pitevna","pivnice","pivovar","placenta","plakat","plamen","planeta","plastika","platit","plavidlo","plaz","plech","plemeno","plenta","ples","pletivo","plevel","plivat","plnit","plno","plocha","plodina","plomba","plout","pluk","plyn","pobavit","pobyt","pochod","pocit","poctivec","podat","podcenit","podepsat","podhled","podivit","podklad","podmanit","podnik","podoba","podpora","podraz","podstata","podvod","podzim","poezie","pohanka","pohnutka","pohovor","pohroma","pohyb","pointa","pojistka","pojmout","pokazit","pokles","pokoj","pokrok","pokuta","pokyn","poledne","polibek","polknout","poloha","polynom","pomalu","pominout","pomlka","pomoc","pomsta","pomyslet","ponechat","ponorka","ponurost","popadat","popel","popisek","poplach","poprosit","popsat","popud","poradce","porce","porod","porucha","poryv","posadit","posed","posila","poskok","poslanec","posoudit","pospolu","postava","posudek","posyp","potah","potkan","potlesk","potomek","potrava","potupa","potvora","poukaz","pouto","pouzdro","povaha","povidla","povlak","povoz","povrch","povstat","povyk","povzdech","pozdrav","pozemek","poznatek","pozor","pozvat","pracovat","prahory","praktika","prales","praotec","praporek","prase","pravda","princip","prkno","probudit","procento","prodej","profese","prohra","projekt","prolomit","promile","pronikat","propad","prorok","prosba","proton","proutek","provaz","prskavka","prsten","prudkost","prut","prvek","prvohory","psanec","psovod","pstruh","ptactvo","puberta","puch","pudl","pukavec","puklina","pukrle","pult","pumpa","punc","pupen","pusa","pusinka","pustina","putovat","putyka","pyramida","pysk","pytel","racek","rachot","radiace","radnice","radon","raft","ragby","raketa","rakovina","rameno","rampouch","rande","rarach","rarita","rasovna","rastr","ratolest","razance","razidlo","reagovat","reakce","recept","redaktor","referent","reflex","rejnok","reklama","rekord","rekrut","rektor","reputace","revize","revma","revolver","rezerva","riskovat","riziko","robotika","rodokmen","rohovka","rokle","rokoko","romaneto","ropovod","ropucha","rorejs","rosol","rostlina","rotmistr","rotoped","rotunda","roubenka","roucho","roup","roura","rovina","rovnice","rozbor","rozchod","rozdat","rozeznat","rozhodce","rozinka","rozjezd","rozkaz","rozloha","rozmar","rozpad","rozruch","rozsah","roztok","rozum","rozvod","rubrika","ruchadlo","rukavice","rukopis","ryba","rybolov","rychlost","rydlo","rypadlo","rytina","ryzost","sadista","sahat","sako","samec","samizdat","samota","sanitka","sardinka","sasanka","satelit","sazba","sazenice","sbor","schovat","sebranka","secese","sedadlo","sediment","sedlo","sehnat","sejmout","sekera","sekta","sekunda","sekvoje","semeno","seno","servis","sesadit","seshora","seskok","seslat","sestra","sesuv","sesypat","setba","setina","setkat","setnout","setrvat","sever","seznam","shoda","shrnout","sifon","silnice","sirka","sirotek","sirup","situace","skafandr","skalisko","skanzen","skaut","skeptik","skica","skladba","sklenice","sklo","skluz","skoba","skokan","skoro","skripta","skrz","skupina","skvost","skvrna","slabika","sladidlo","slanina","slast","slavnost","sledovat","slepec","sleva","slezina","slib","slina","sliznice","slon","sloupek","slovo","sluch","sluha","slunce","slupka","slza","smaragd","smetana","smilstvo","smlouva","smog","smrad","smrk","smrtka","smutek","smysl","snad","snaha","snob","sobota","socha","sodovka","sokol","sopka","sotva","souboj","soucit","soudce","souhlas","soulad","soumrak","souprava","soused","soutok","souviset","spalovna","spasitel","spis","splav","spodek","spojenec","spolu","sponzor","spornost","spousta","sprcha","spustit","sranda","sraz","srdce","srna","srnec","srovnat","srpen","srst","srub","stanice","starosta","statika","stavba","stehno","stezka","stodola","stolek","stopa","storno","stoupat","strach","stres","strhnout","strom","struna","studna","stupnice","stvol","styk","subjekt","subtropy","suchar","sudost","sukno","sundat","sunout","surikata","surovina","svah","svalstvo","svetr","svatba","svazek","svisle","svitek","svoboda","svodidlo","svorka","svrab","sykavka","sykot","synek","synovec","sypat","sypkost","syrovost","sysel","sytost","tabletka","tabule","tahoun","tajemno","tajfun","tajga","tajit","tajnost","taktika","tamhle","tampon","tancovat","tanec","tanker","tapeta","tavenina","tazatel","technika","tehdy","tekutina","telefon","temnota","tendence","tenista","tenor","teplota","tepna","teprve","terapie","termoska","textil","ticho","tiskopis","titulek","tkadlec","tkanina","tlapka","tleskat","tlukot","tlupa","tmel","toaleta","topinka","topol","torzo","touha","toulec","tradice","traktor","tramp","trasa","traverza","trefit","trest","trezor","trhavina","trhlina","trochu","trojice","troska","trouba","trpce","trpitel","trpkost","trubec","truchlit","truhlice","trus","trvat","tudy","tuhnout","tuhost","tundra","turista","turnaj","tuzemsko","tvaroh","tvorba","tvrdost","tvrz","tygr","tykev","ubohost","uboze","ubrat","ubrousek","ubrus","ubytovna","ucho","uctivost","udivit","uhradit","ujednat","ujistit","ujmout","ukazatel","uklidnit","uklonit","ukotvit","ukrojit","ulice","ulita","ulovit","umyvadlo","unavit","uniforma","uniknout","upadnout","uplatnit","uplynout","upoutat","upravit","uran","urazit","usednout","usilovat","usmrtit","usnadnit","usnout","usoudit","ustlat","ustrnout","utahovat","utkat","utlumit","utonout","utopenec","utrousit","uvalit","uvolnit","uvozovka","uzdravit","uzel","uzenina","uzlina","uznat","vagon","valcha","valoun","vana","vandal","vanilka","varan","varhany","varovat","vcelku","vchod","vdova","vedro","vegetace","vejce","velbloud","veletrh","velitel","velmoc","velryba","venkov","veranda","verze","veselka","veskrze","vesnice","vespodu","vesta","veterina","veverka","vibrace","vichr","videohra","vidina","vidle","vila","vinice","viset","vitalita","vize","vizitka","vjezd","vklad","vkus","vlajka","vlak","vlasec","vlevo","vlhkost","vliv","vlnovka","vloupat","vnucovat","vnuk","voda","vodivost","vodoznak","vodstvo","vojensky","vojna","vojsko","volant","volba","volit","volno","voskovka","vozidlo","vozovna","vpravo","vrabec","vracet","vrah","vrata","vrba","vrcholek","vrhat","vrstva","vrtule","vsadit","vstoupit","vstup","vtip","vybavit","vybrat","vychovat","vydat","vydra","vyfotit","vyhledat","vyhnout","vyhodit","vyhradit","vyhubit","vyjasnit","vyjet","vyjmout","vyklopit","vykonat","vylekat","vymazat","vymezit","vymizet","vymyslet","vynechat","vynikat","vynutit","vypadat","vyplatit","vypravit","vypustit","vyrazit","vyrovnat","vyrvat","vyslovit","vysoko","vystavit","vysunout","vysypat","vytasit","vytesat","vytratit","vyvinout","vyvolat","vyvrhel","vyzdobit","vyznat","vzadu","vzbudit","vzchopit","vzdor","vzduch","vzdychat","vzestup","vzhledem","vzkaz","vzlykat","vznik","vzorek","vzpoura","vztah","vztek","xylofon","zabrat","zabydlet","zachovat","zadarmo","zadusit","zafoukat","zahltit","zahodit","zahrada","zahynout","zajatec","zajet","zajistit","zaklepat","zakoupit","zalepit","zamezit","zamotat","zamyslet","zanechat","zanikat","zaplatit","zapojit","zapsat","zarazit","zastavit","zasunout","zatajit","zatemnit","zatknout","zaujmout","zavalit","zavelet","zavinit","zavolat","zavrtat","zazvonit","zbavit","zbrusu","zbudovat","zbytek","zdaleka","zdarma","zdatnost","zdivo","zdobit","zdroj","zdvih","zdymadlo","zelenina","zeman","zemina","zeptat","zezadu","zezdola","zhatit","zhltnout","zhluboka","zhotovit","zhruba","zima","zimnice","zjemnit","zklamat","zkoumat","zkratka","zkumavka","zlato","zlehka","zloba","zlom","zlost","zlozvyk","zmapovat","zmar","zmatek","zmije","zmizet","zmocnit","zmodrat","zmrzlina","zmutovat","znak","znalost","znamenat","znovu","zobrazit","zotavit","zoubek","zoufale","zplodit","zpomalit","zprava","zprostit","zprudka","zprvu","zrada","zranit","zrcadlo","zrnitost","zrno","zrovna","zrychlit","zrzavost","zticha","ztratit","zubovina","zubr","zvednout","zvenku","zvesela","zvon","zvrat","zvukovod","zvyk"]'),require$$1$2=JSON.parse('["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]'),require$$2$3=JSON.parse('["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]'),require$$3=JSON.parse('["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]'),require$$4$1=JSON.parse('["abaisser","abandon","abdiquer","abeille","abolir","aborder","aboutir","aboyer","abrasif","abreuver","abriter","abroger","abrupt","absence","absolu","absurde","abusif","abyssal","academie","acajou","acarien","accabler","accepter","acclamer","accolade","accroche","accuser","acerbe","achat","acheter","aciduler","acier","acompte","acquerir","acronyme","acteur","actif","actuel","adepte","adequat","adhesif","adjectif","adjuger","admettre","admirer","adopter","adorer","adoucir","adresse","adroit","adulte","adverbe","aerer","aeronef","affaire","affecter","affiche","affreux","affubler","agacer","agencer","agile","agiter","agrafer","agreable","agrume","aider","aiguille","ailier","aimable","aisance","ajouter","ajuster","alarmer","alchimie","alerte","algebre","algue","aliener","aliment","alleger","alliage","allouer","allumer","alourdir","alpaga","altesse","alveole","amateur","ambigu","ambre","amenager","amertume","amidon","amiral","amorcer","amour","amovible","amphibie","ampleur","amusant","analyse","anaphore","anarchie","anatomie","ancien","aneantir","angle","angoisse","anguleux","animal","annexer","annonce","annuel","anodin","anomalie","anonyme","anormal","antenne","antidote","anxieux","apaiser","aperitif","aplanir","apologie","appareil","appeler","apporter","appuyer","aquarium","aqueduc","arbitre","arbuste","ardeur","ardoise","argent","arlequin","armature","armement","armoire","armure","arpenter","arracher","arriver","arroser","arsenic","arteriel","article","aspect","asphalte","aspirer","assaut","asservir","assiette","associer","assurer","asticot","astre","astuce","atelier","atome","atrium","atroce","attaque","attentif","attirer","attraper","aubaine","auberge","audace","audible","augurer","aurore","automne","autruche","avaler","avancer","avarice","avenir","averse","aveugle","aviateur","avide","avion","aviser","avoine","avouer","avril","axial","axiome","badge","bafouer","bagage","baguette","baignade","balancer","balcon","baleine","balisage","bambin","bancaire","bandage","banlieue","banniere","banquier","barbier","baril","baron","barque","barrage","bassin","bastion","bataille","bateau","batterie","baudrier","bavarder","belette","belier","belote","benefice","berceau","berger","berline","bermuda","besace","besogne","betail","beurre","biberon","bicycle","bidule","bijou","bilan","bilingue","billard","binaire","biologie","biopsie","biotype","biscuit","bison","bistouri","bitume","bizarre","blafard","blague","blanchir","blessant","blinder","blond","bloquer","blouson","bobard","bobine","boire","boiser","bolide","bonbon","bondir","bonheur","bonifier","bonus","bordure","borne","botte","boucle","boueux","bougie","boulon","bouquin","bourse","boussole","boutique","boxeur","branche","brasier","brave","brebis","breche","breuvage","bricoler","brigade","brillant","brioche","brique","brochure","broder","bronzer","brousse","broyeur","brume","brusque","brutal","bruyant","buffle","buisson","bulletin","bureau","burin","bustier","butiner","butoir","buvable","buvette","cabanon","cabine","cachette","cadeau","cadre","cafeine","caillou","caisson","calculer","calepin","calibre","calmer","calomnie","calvaire","camarade","camera","camion","campagne","canal","caneton","canon","cantine","canular","capable","caporal","caprice","capsule","capter","capuche","carabine","carbone","caresser","caribou","carnage","carotte","carreau","carton","cascade","casier","casque","cassure","causer","caution","cavalier","caverne","caviar","cedille","ceinture","celeste","cellule","cendrier","censurer","central","cercle","cerebral","cerise","cerner","cerveau","cesser","chagrin","chaise","chaleur","chambre","chance","chapitre","charbon","chasseur","chaton","chausson","chavirer","chemise","chenille","chequier","chercher","cheval","chien","chiffre","chignon","chimere","chiot","chlorure","chocolat","choisir","chose","chouette","chrome","chute","cigare","cigogne","cimenter","cinema","cintrer","circuler","cirer","cirque","citerne","citoyen","citron","civil","clairon","clameur","claquer","classe","clavier","client","cligner","climat","clivage","cloche","clonage","cloporte","cobalt","cobra","cocasse","cocotier","coder","codifier","coffre","cogner","cohesion","coiffer","coincer","colere","colibri","colline","colmater","colonel","combat","comedie","commande","compact","concert","conduire","confier","congeler","connoter","consonne","contact","convexe","copain","copie","corail","corbeau","cordage","corniche","corpus","correct","cortege","cosmique","costume","coton","coude","coupure","courage","couteau","couvrir","coyote","crabe","crainte","cravate","crayon","creature","crediter","cremeux","creuser","crevette","cribler","crier","cristal","critere","croire","croquer","crotale","crucial","cruel","crypter","cubique","cueillir","cuillere","cuisine","cuivre","culminer","cultiver","cumuler","cupide","curatif","curseur","cyanure","cycle","cylindre","cynique","daigner","damier","danger","danseur","dauphin","debattre","debiter","deborder","debrider","debutant","decaler","decembre","dechirer","decider","declarer","decorer","decrire","decupler","dedale","deductif","deesse","defensif","defiler","defrayer","degager","degivrer","deglutir","degrafer","dejeuner","delice","deloger","demander","demeurer","demolir","denicher","denouer","dentelle","denuder","depart","depenser","dephaser","deplacer","deposer","deranger","derober","desastre","descente","desert","designer","desobeir","dessiner","destrier","detacher","detester","detourer","detresse","devancer","devenir","deviner","devoir","diable","dialogue","diamant","dicter","differer","digerer","digital","digne","diluer","dimanche","diminuer","dioxyde","directif","diriger","discuter","disposer","dissiper","distance","divertir","diviser","docile","docteur","dogme","doigt","domaine","domicile","dompter","donateur","donjon","donner","dopamine","dortoir","dorure","dosage","doseur","dossier","dotation","douanier","double","douceur","douter","doyen","dragon","draper","dresser","dribbler","droiture","duperie","duplexe","durable","durcir","dynastie","eblouir","ecarter","echarpe","echelle","eclairer","eclipse","eclore","ecluse","ecole","economie","ecorce","ecouter","ecraser","ecremer","ecrivain","ecrou","ecume","ecureuil","edifier","eduquer","effacer","effectif","effigie","effort","effrayer","effusion","egaliser","egarer","ejecter","elaborer","elargir","electron","elegant","elephant","eleve","eligible","elitisme","eloge","elucider","eluder","emballer","embellir","embryon","emeraude","emission","emmener","emotion","emouvoir","empereur","employer","emporter","emprise","emulsion","encadrer","enchere","enclave","encoche","endiguer","endosser","endroit","enduire","energie","enfance","enfermer","enfouir","engager","engin","englober","enigme","enjamber","enjeu","enlever","ennemi","ennuyeux","enrichir","enrobage","enseigne","entasser","entendre","entier","entourer","entraver","enumerer","envahir","enviable","envoyer","enzyme","eolien","epaissir","epargne","epatant","epaule","epicerie","epidemie","epier","epilogue","epine","episode","epitaphe","epoque","epreuve","eprouver","epuisant","equerre","equipe","eriger","erosion","erreur","eruption","escalier","espadon","espece","espiegle","espoir","esprit","esquiver","essayer","essence","essieu","essorer","estime","estomac","estrade","etagere","etaler","etanche","etatique","eteindre","etendoir","eternel","ethanol","ethique","ethnie","etirer","etoffer","etoile","etonnant","etourdir","etrange","etroit","etude","euphorie","evaluer","evasion","eventail","evidence","eviter","evolutif","evoquer","exact","exagerer","exaucer","exceller","excitant","exclusif","excuse","executer","exemple","exercer","exhaler","exhorter","exigence","exiler","exister","exotique","expedier","explorer","exposer","exprimer","exquis","extensif","extraire","exulter","fable","fabuleux","facette","facile","facture","faiblir","falaise","fameux","famille","farceur","farfelu","farine","farouche","fasciner","fatal","fatigue","faucon","fautif","faveur","favori","febrile","feconder","federer","felin","femme","femur","fendoir","feodal","fermer","feroce","ferveur","festival","feuille","feutre","fevrier","fiasco","ficeler","fictif","fidele","figure","filature","filetage","filiere","filleul","filmer","filou","filtrer","financer","finir","fiole","firme","fissure","fixer","flairer","flamme","flasque","flatteur","fleau","fleche","fleur","flexion","flocon","flore","fluctuer","fluide","fluvial","folie","fonderie","fongible","fontaine","forcer","forgeron","formuler","fortune","fossile","foudre","fougere","fouiller","foulure","fourmi","fragile","fraise","franchir","frapper","frayeur","fregate","freiner","frelon","fremir","frenesie","frere","friable","friction","frisson","frivole","froid","fromage","frontal","frotter","fruit","fugitif","fuite","fureur","furieux","furtif","fusion","futur","gagner","galaxie","galerie","gambader","garantir","gardien","garnir","garrigue","gazelle","gazon","geant","gelatine","gelule","gendarme","general","genie","genou","gentil","geologie","geometre","geranium","germe","gestuel","geyser","gibier","gicler","girafe","givre","glace","glaive","glisser","globe","gloire","glorieux","golfeur","gomme","gonfler","gorge","gorille","goudron","gouffre","goulot","goupille","gourmand","goutte","graduel","graffiti","graine","grand","grappin","gratuit","gravir","grenat","griffure","griller","grimper","grogner","gronder","grotte","groupe","gruger","grutier","gruyere","guepard","guerrier","guide","guimauve","guitare","gustatif","gymnaste","gyrostat","habitude","hachoir","halte","hameau","hangar","hanneton","haricot","harmonie","harpon","hasard","helium","hematome","herbe","herisson","hermine","heron","hesiter","heureux","hiberner","hibou","hilarant","histoire","hiver","homard","hommage","homogene","honneur","honorer","honteux","horde","horizon","horloge","hormone","horrible","houleux","housse","hublot","huileux","humain","humble","humide","humour","hurler","hydromel","hygiene","hymne","hypnose","idylle","ignorer","iguane","illicite","illusion","image","imbiber","imiter","immense","immobile","immuable","impact","imperial","implorer","imposer","imprimer","imputer","incarner","incendie","incident","incliner","incolore","indexer","indice","inductif","inedit","ineptie","inexact","infini","infliger","informer","infusion","ingerer","inhaler","inhiber","injecter","injure","innocent","inoculer","inonder","inscrire","insecte","insigne","insolite","inspirer","instinct","insulter","intact","intense","intime","intrigue","intuitif","inutile","invasion","inventer","inviter","invoquer","ironique","irradier","irreel","irriter","isoler","ivoire","ivresse","jaguar","jaillir","jambe","janvier","jardin","jauger","jaune","javelot","jetable","jeton","jeudi","jeunesse","joindre","joncher","jongler","joueur","jouissif","journal","jovial","joyau","joyeux","jubiler","jugement","junior","jupon","juriste","justice","juteux","juvenile","kayak","kimono","kiosque","label","labial","labourer","lacerer","lactose","lagune","laine","laisser","laitier","lambeau","lamelle","lampe","lanceur","langage","lanterne","lapin","largeur","larme","laurier","lavabo","lavoir","lecture","legal","leger","legume","lessive","lettre","levier","lexique","lezard","liasse","liberer","libre","licence","licorne","liege","lievre","ligature","ligoter","ligue","limer","limite","limonade","limpide","lineaire","lingot","lionceau","liquide","lisiere","lister","lithium","litige","littoral","livreur","logique","lointain","loisir","lombric","loterie","louer","lourd","loutre","louve","loyal","lubie","lucide","lucratif","lueur","lugubre","luisant","lumiere","lunaire","lundi","luron","lutter","luxueux","machine","magasin","magenta","magique","maigre","maillon","maintien","mairie","maison","majorer","malaxer","malefice","malheur","malice","mallette","mammouth","mandater","maniable","manquant","manteau","manuel","marathon","marbre","marchand","mardi","maritime","marqueur","marron","marteler","mascotte","massif","materiel","matiere","matraque","maudire","maussade","mauve","maximal","mechant","meconnu","medaille","medecin","mediter","meduse","meilleur","melange","melodie","membre","memoire","menacer","mener","menhir","mensonge","mentor","mercredi","merite","merle","messager","mesure","metal","meteore","methode","metier","meuble","miauler","microbe","miette","mignon","migrer","milieu","million","mimique","mince","mineral","minimal","minorer","minute","miracle","miroiter","missile","mixte","mobile","moderne","moelleux","mondial","moniteur","monnaie","monotone","monstre","montagne","monument","moqueur","morceau","morsure","mortier","moteur","motif","mouche","moufle","moulin","mousson","mouton","mouvant","multiple","munition","muraille","murene","murmure","muscle","museum","musicien","mutation","muter","mutuel","myriade","myrtille","mystere","mythique","nageur","nappe","narquois","narrer","natation","nation","nature","naufrage","nautique","navire","nebuleux","nectar","nefaste","negation","negliger","negocier","neige","nerveux","nettoyer","neurone","neutron","neveu","niche","nickel","nitrate","niveau","noble","nocif","nocturne","noirceur","noisette","nomade","nombreux","nommer","normatif","notable","notifier","notoire","nourrir","nouveau","novateur","novembre","novice","nuage","nuancer","nuire","nuisible","numero","nuptial","nuque","nutritif","obeir","objectif","obliger","obscur","observer","obstacle","obtenir","obturer","occasion","occuper","ocean","octobre","octroyer","octupler","oculaire","odeur","odorant","offenser","officier","offrir","ogive","oiseau","oisillon","olfactif","olivier","ombrage","omettre","onctueux","onduler","onereux","onirique","opale","opaque","operer","opinion","opportun","opprimer","opter","optique","orageux","orange","orbite","ordonner","oreille","organe","orgueil","orifice","ornement","orque","ortie","osciller","osmose","ossature","otarie","ouragan","ourson","outil","outrager","ouvrage","ovation","oxyde","oxygene","ozone","paisible","palace","palmares","palourde","palper","panache","panda","pangolin","paniquer","panneau","panorama","pantalon","papaye","papier","papoter","papyrus","paradoxe","parcelle","paresse","parfumer","parler","parole","parrain","parsemer","partager","parure","parvenir","passion","pasteque","paternel","patience","patron","pavillon","pavoiser","payer","paysage","peigne","peintre","pelage","pelican","pelle","pelouse","peluche","pendule","penetrer","penible","pensif","penurie","pepite","peplum","perdrix","perforer","periode","permuter","perplexe","persil","perte","peser","petale","petit","petrir","peuple","pharaon","phobie","phoque","photon","phrase","physique","piano","pictural","piece","pierre","pieuvre","pilote","pinceau","pipette","piquer","pirogue","piscine","piston","pivoter","pixel","pizza","placard","plafond","plaisir","planer","plaque","plastron","plateau","pleurer","plexus","pliage","plomb","plonger","pluie","plumage","pochette","poesie","poete","pointe","poirier","poisson","poivre","polaire","policier","pollen","polygone","pommade","pompier","ponctuel","ponderer","poney","portique","position","posseder","posture","potager","poteau","potion","pouce","poulain","poumon","pourpre","poussin","pouvoir","prairie","pratique","precieux","predire","prefixe","prelude","prenom","presence","pretexte","prevoir","primitif","prince","prison","priver","probleme","proceder","prodige","profond","progres","proie","projeter","prologue","promener","propre","prospere","proteger","prouesse","proverbe","prudence","pruneau","psychose","public","puceron","puiser","pulpe","pulsar","punaise","punitif","pupitre","purifier","puzzle","pyramide","quasar","querelle","question","quietude","quitter","quotient","racine","raconter","radieux","ragondin","raideur","raisin","ralentir","rallonge","ramasser","rapide","rasage","ratisser","ravager","ravin","rayonner","reactif","reagir","realiser","reanimer","recevoir","reciter","reclamer","recolter","recruter","reculer","recycler","rediger","redouter","refaire","reflexe","reformer","refrain","refuge","regalien","region","reglage","regulier","reiterer","rejeter","rejouer","relatif","relever","relief","remarque","remede","remise","remonter","remplir","remuer","renard","renfort","renifler","renoncer","rentrer","renvoi","replier","reporter","reprise","reptile","requin","reserve","resineux","resoudre","respect","rester","resultat","retablir","retenir","reticule","retomber","retracer","reunion","reussir","revanche","revivre","revolte","revulsif","richesse","rideau","rieur","rigide","rigoler","rincer","riposter","risible","risque","rituel","rival","riviere","rocheux","romance","rompre","ronce","rondin","roseau","rosier","rotatif","rotor","rotule","rouge","rouille","rouleau","routine","royaume","ruban","rubis","ruche","ruelle","rugueux","ruiner","ruisseau","ruser","rustique","rythme","sabler","saboter","sabre","sacoche","safari","sagesse","saisir","salade","salive","salon","saluer","samedi","sanction","sanglier","sarcasme","sardine","saturer","saugrenu","saumon","sauter","sauvage","savant","savonner","scalpel","scandale","scelerat","scenario","sceptre","schema","science","scinder","score","scrutin","sculpter","seance","secable","secher","secouer","secreter","sedatif","seduire","seigneur","sejour","selectif","semaine","sembler","semence","seminal","senateur","sensible","sentence","separer","sequence","serein","sergent","serieux","serrure","serum","service","sesame","sevir","sevrage","sextuple","sideral","siecle","sieger","siffler","sigle","signal","silence","silicium","simple","sincere","sinistre","siphon","sirop","sismique","situer","skier","social","socle","sodium","soigneux","soldat","soleil","solitude","soluble","sombre","sommeil","somnoler","sonde","songeur","sonnette","sonore","sorcier","sortir","sosie","sottise","soucieux","soudure","souffle","soulever","soupape","source","soutirer","souvenir","spacieux","spatial","special","sphere","spiral","stable","station","sternum","stimulus","stipuler","strict","studieux","stupeur","styliste","sublime","substrat","subtil","subvenir","succes","sucre","suffixe","suggerer","suiveur","sulfate","superbe","supplier","surface","suricate","surmener","surprise","sursaut","survie","suspect","syllabe","symbole","symetrie","synapse","syntaxe","systeme","tabac","tablier","tactile","tailler","talent","talisman","talonner","tambour","tamiser","tangible","tapis","taquiner","tarder","tarif","tartine","tasse","tatami","tatouage","taupe","taureau","taxer","temoin","temporel","tenaille","tendre","teneur","tenir","tension","terminer","terne","terrible","tetine","texte","theme","theorie","therapie","thorax","tibia","tiede","timide","tirelire","tiroir","tissu","titane","titre","tituber","toboggan","tolerant","tomate","tonique","tonneau","toponyme","torche","tordre","tornade","torpille","torrent","torse","tortue","totem","toucher","tournage","tousser","toxine","traction","trafic","tragique","trahir","train","trancher","travail","trefle","tremper","tresor","treuil","triage","tribunal","tricoter","trilogie","triomphe","tripler","triturer","trivial","trombone","tronc","tropical","troupeau","tuile","tulipe","tumulte","tunnel","turbine","tuteur","tutoyer","tuyau","tympan","typhon","typique","tyran","ubuesque","ultime","ultrason","unanime","unifier","union","unique","unitaire","univers","uranium","urbain","urticant","usage","usine","usuel","usure","utile","utopie","vacarme","vaccin","vagabond","vague","vaillant","vaincre","vaisseau","valable","valise","vallon","valve","vampire","vanille","vapeur","varier","vaseux","vassal","vaste","vecteur","vedette","vegetal","vehicule","veinard","veloce","vendredi","venerer","venger","venimeux","ventouse","verdure","verin","vernir","verrou","verser","vertu","veston","veteran","vetuste","vexant","vexer","viaduc","viande","victoire","vidange","video","vignette","vigueur","vilain","village","vinaigre","violon","vipere","virement","virtuose","virus","visage","viseur","vision","visqueux","visuel","vital","vitesse","viticole","vitrine","vivace","vivipare","vocation","voguer","voile","voisin","voiture","volaille","volcan","voltiger","volume","vorace","vortex","voter","vouloir","voyage","voyelle","wagon","xenon","yacht","zebre","zenith","zeste","zoologie"]'),require$$5=JSON.parse('["abaco","abbaglio","abbinato","abete","abisso","abolire","abrasivo","abrogato","accadere","accenno","accusato","acetone","achille","acido","acqua","acre","acrilico","acrobata","acuto","adagio","addebito","addome","adeguato","aderire","adipe","adottare","adulare","affabile","affetto","affisso","affranto","aforisma","afoso","africano","agave","agente","agevole","aggancio","agire","agitare","agonismo","agricolo","agrumeto","aguzzo","alabarda","alato","albatro","alberato","albo","albume","alce","alcolico","alettone","alfa","algebra","aliante","alibi","alimento","allagato","allegro","allievo","allodola","allusivo","almeno","alogeno","alpaca","alpestre","altalena","alterno","alticcio","altrove","alunno","alveolo","alzare","amalgama","amanita","amarena","ambito","ambrato","ameba","america","ametista","amico","ammasso","ammenda","ammirare","ammonito","amore","ampio","ampliare","amuleto","anacardo","anagrafe","analista","anarchia","anatra","anca","ancella","ancora","andare","andrea","anello","angelo","angolare","angusto","anima","annegare","annidato","anno","annuncio","anonimo","anticipo","anzi","apatico","apertura","apode","apparire","appetito","appoggio","approdo","appunto","aprile","arabica","arachide","aragosta","araldica","arancio","aratura","arazzo","arbitro","archivio","ardito","arenile","argento","argine","arguto","aria","armonia","arnese","arredato","arringa","arrosto","arsenico","arso","artefice","arzillo","asciutto","ascolto","asepsi","asettico","asfalto","asino","asola","aspirato","aspro","assaggio","asse","assoluto","assurdo","asta","astenuto","astice","astratto","atavico","ateismo","atomico","atono","attesa","attivare","attorno","attrito","attuale","ausilio","austria","autista","autonomo","autunno","avanzato","avere","avvenire","avviso","avvolgere","azione","azoto","azzimo","azzurro","babele","baccano","bacino","baco","badessa","badilata","bagnato","baita","balcone","baldo","balena","ballata","balzano","bambino","bandire","baraonda","barbaro","barca","baritono","barlume","barocco","basilico","basso","batosta","battuto","baule","bava","bavosa","becco","beffa","belgio","belva","benda","benevole","benigno","benzina","bere","berlina","beta","bibita","bici","bidone","bifido","biga","bilancia","bimbo","binocolo","biologo","bipede","bipolare","birbante","birra","biscotto","bisesto","bisnonno","bisonte","bisturi","bizzarro","blando","blatta","bollito","bonifico","bordo","bosco","botanico","bottino","bozzolo","braccio","bradipo","brama","branca","bravura","bretella","brevetto","brezza","briglia","brillante","brindare","broccolo","brodo","bronzina","brullo","bruno","bubbone","buca","budino","buffone","buio","bulbo","buono","burlone","burrasca","bussola","busta","cadetto","caduco","calamaro","calcolo","calesse","calibro","calmo","caloria","cambusa","camerata","camicia","cammino","camola","campale","canapa","candela","cane","canino","canotto","cantina","capace","capello","capitolo","capogiro","cappero","capra","capsula","carapace","carcassa","cardo","carisma","carovana","carretto","cartolina","casaccio","cascata","caserma","caso","cassone","castello","casuale","catasta","catena","catrame","cauto","cavillo","cedibile","cedrata","cefalo","celebre","cellulare","cena","cenone","centesimo","ceramica","cercare","certo","cerume","cervello","cesoia","cespo","ceto","chela","chiaro","chicca","chiedere","chimera","china","chirurgo","chitarra","ciao","ciclismo","cifrare","cigno","cilindro","ciottolo","circa","cirrosi","citrico","cittadino","ciuffo","civetta","civile","classico","clinica","cloro","cocco","codardo","codice","coerente","cognome","collare","colmato","colore","colposo","coltivato","colza","coma","cometa","commando","comodo","computer","comune","conciso","condurre","conferma","congelare","coniuge","connesso","conoscere","consumo","continuo","convegno","coperto","copione","coppia","copricapo","corazza","cordata","coricato","cornice","corolla","corpo","corredo","corsia","cortese","cosmico","costante","cottura","covato","cratere","cravatta","creato","credere","cremoso","crescita","creta","criceto","crinale","crisi","critico","croce","cronaca","crostata","cruciale","crusca","cucire","cuculo","cugino","cullato","cupola","curatore","cursore","curvo","cuscino","custode","dado","daino","dalmata","damerino","daniela","dannoso","danzare","datato","davanti","davvero","debutto","decennio","deciso","declino","decollo","decreto","dedicato","definito","deforme","degno","delegare","delfino","delirio","delta","demenza","denotato","dentro","deposito","derapata","derivare","deroga","descritto","deserto","desiderio","desumere","detersivo","devoto","diametro","dicembre","diedro","difeso","diffuso","digerire","digitale","diluvio","dinamico","dinnanzi","dipinto","diploma","dipolo","diradare","dire","dirotto","dirupo","disagio","discreto","disfare","disgelo","disposto","distanza","disumano","dito","divano","divelto","dividere","divorato","doblone","docente","doganale","dogma","dolce","domato","domenica","dominare","dondolo","dono","dormire","dote","dottore","dovuto","dozzina","drago","druido","dubbio","dubitare","ducale","duna","duomo","duplice","duraturo","ebano","eccesso","ecco","eclissi","economia","edera","edicola","edile","editoria","educare","egemonia","egli","egoismo","egregio","elaborato","elargire","elegante","elencato","eletto","elevare","elfico","elica","elmo","elsa","eluso","emanato","emblema","emesso","emiro","emotivo","emozione","empirico","emulo","endemico","enduro","energia","enfasi","enoteca","entrare","enzima","epatite","epilogo","episodio","epocale","eppure","equatore","erario","erba","erboso","erede","eremita","erigere","ermetico","eroe","erosivo","errante","esagono","esame","esanime","esaudire","esca","esempio","esercito","esibito","esigente","esistere","esito","esofago","esortato","esoso","espanso","espresso","essenza","esso","esteso","estimare","estonia","estroso","esultare","etilico","etnico","etrusco","etto","euclideo","europa","evaso","evidenza","evitato","evoluto","evviva","fabbrica","faccenda","fachiro","falco","famiglia","fanale","fanfara","fango","fantasma","fare","farfalla","farinoso","farmaco","fascia","fastoso","fasullo","faticare","fato","favoloso","febbre","fecola","fede","fegato","felpa","feltro","femmina","fendere","fenomeno","fermento","ferro","fertile","fessura","festivo","fetta","feudo","fiaba","fiducia","fifa","figurato","filo","finanza","finestra","finire","fiore","fiscale","fisico","fiume","flacone","flamenco","flebo","flemma","florido","fluente","fluoro","fobico","focaccia","focoso","foderato","foglio","folata","folclore","folgore","fondente","fonetico","fonia","fontana","forbito","forchetta","foresta","formica","fornaio","foro","fortezza","forzare","fosfato","fosso","fracasso","frana","frassino","fratello","freccetta","frenata","fresco","frigo","frollino","fronde","frugale","frutta","fucilata","fucsia","fuggente","fulmine","fulvo","fumante","fumetto","fumoso","fune","funzione","fuoco","furbo","furgone","furore","fuso","futile","gabbiano","gaffe","galateo","gallina","galoppo","gambero","gamma","garanzia","garbo","garofano","garzone","gasdotto","gasolio","gastrico","gatto","gaudio","gazebo","gazzella","geco","gelatina","gelso","gemello","gemmato","gene","genitore","gennaio","genotipo","gergo","ghepardo","ghiaccio","ghisa","giallo","gilda","ginepro","giocare","gioiello","giorno","giove","girato","girone","gittata","giudizio","giurato","giusto","globulo","glutine","gnomo","gobba","golf","gomito","gommone","gonfio","gonna","governo","gracile","grado","grafico","grammo","grande","grattare","gravoso","grazia","greca","gregge","grifone","grigio","grinza","grotta","gruppo","guadagno","guaio","guanto","guardare","gufo","guidare","ibernato","icona","identico","idillio","idolo","idra","idrico","idrogeno","igiene","ignaro","ignorato","ilare","illeso","illogico","illudere","imballo","imbevuto","imbocco","imbuto","immane","immerso","immolato","impacco","impeto","impiego","importo","impronta","inalare","inarcare","inattivo","incanto","incendio","inchino","incisivo","incluso","incontro","incrocio","incubo","indagine","india","indole","inedito","infatti","infilare","inflitto","ingaggio","ingegno","inglese","ingordo","ingrosso","innesco","inodore","inoltrare","inondato","insano","insetto","insieme","insonnia","insulina","intasato","intero","intonaco","intuito","inumidire","invalido","invece","invito","iperbole","ipnotico","ipotesi","ippica","iride","irlanda","ironico","irrigato","irrorare","isolato","isotopo","isterico","istituto","istrice","italia","iterare","labbro","labirinto","lacca","lacerato","lacrima","lacuna","laddove","lago","lampo","lancetta","lanterna","lardoso","larga","laringe","lastra","latenza","latino","lattuga","lavagna","lavoro","legale","leggero","lembo","lentezza","lenza","leone","lepre","lesivo","lessato","lesto","letterale","leva","levigato","libero","lido","lievito","lilla","limatura","limitare","limpido","lineare","lingua","liquido","lira","lirica","lisca","lite","litigio","livrea","locanda","lode","logica","lombare","londra","longevo","loquace","lorenzo","loto","lotteria","luce","lucidato","lumaca","luminoso","lungo","lupo","luppolo","lusinga","lusso","lutto","macabro","macchina","macero","macinato","madama","magico","maglia","magnete","magro","maiolica","malafede","malgrado","malinteso","malsano","malto","malumore","mana","mancia","mandorla","mangiare","manifesto","mannaro","manovra","mansarda","mantide","manubrio","mappa","maratona","marcire","maretta","marmo","marsupio","maschera","massaia","mastino","materasso","matricola","mattone","maturo","mazurca","meandro","meccanico","mecenate","medesimo","meditare","mega","melassa","melis","melodia","meninge","meno","mensola","mercurio","merenda","merlo","meschino","mese","messere","mestolo","metallo","metodo","mettere","miagolare","mica","micelio","michele","microbo","midollo","miele","migliore","milano","milite","mimosa","minerale","mini","minore","mirino","mirtillo","miscela","missiva","misto","misurare","mitezza","mitigare","mitra","mittente","mnemonico","modello","modifica","modulo","mogano","mogio","mole","molosso","monastero","monco","mondina","monetario","monile","monotono","monsone","montato","monviso","mora","mordere","morsicato","mostro","motivato","motosega","motto","movenza","movimento","mozzo","mucca","mucosa","muffa","mughetto","mugnaio","mulatto","mulinello","multiplo","mummia","munto","muovere","murale","musa","muscolo","musica","mutevole","muto","nababbo","nafta","nanometro","narciso","narice","narrato","nascere","nastrare","naturale","nautica","naviglio","nebulosa","necrosi","negativo","negozio","nemmeno","neofita","neretto","nervo","nessuno","nettuno","neutrale","neve","nevrotico","nicchia","ninfa","nitido","nobile","nocivo","nodo","nome","nomina","nordico","normale","norvegese","nostrano","notare","notizia","notturno","novella","nucleo","nulla","numero","nuovo","nutrire","nuvola","nuziale","oasi","obbedire","obbligo","obelisco","oblio","obolo","obsoleto","occasione","occhio","occidente","occorrere","occultare","ocra","oculato","odierno","odorare","offerta","offrire","offuscato","oggetto","oggi","ognuno","olandese","olfatto","oliato","oliva","ologramma","oltre","omaggio","ombelico","ombra","omega","omissione","ondoso","onere","onice","onnivoro","onorevole","onta","operato","opinione","opposto","oracolo","orafo","ordine","orecchino","orefice","orfano","organico","origine","orizzonte","orma","ormeggio","ornativo","orologio","orrendo","orribile","ortensia","ortica","orzata","orzo","osare","oscurare","osmosi","ospedale","ospite","ossa","ossidare","ostacolo","oste","otite","otre","ottagono","ottimo","ottobre","ovale","ovest","ovino","oviparo","ovocito","ovunque","ovviare","ozio","pacchetto","pace","pacifico","padella","padrone","paese","paga","pagina","palazzina","palesare","pallido","palo","palude","pandoro","pannello","paolo","paonazzo","paprica","parabola","parcella","parere","pargolo","pari","parlato","parola","partire","parvenza","parziale","passivo","pasticca","patacca","patologia","pattume","pavone","peccato","pedalare","pedonale","peggio","peloso","penare","pendice","penisola","pennuto","penombra","pensare","pentola","pepe","pepita","perbene","percorso","perdonato","perforare","pergamena","periodo","permesso","perno","perplesso","persuaso","pertugio","pervaso","pesatore","pesista","peso","pestifero","petalo","pettine","petulante","pezzo","piacere","pianta","piattino","piccino","picozza","piega","pietra","piffero","pigiama","pigolio","pigro","pila","pilifero","pillola","pilota","pimpante","pineta","pinna","pinolo","pioggia","piombo","piramide","piretico","pirite","pirolisi","pitone","pizzico","placebo","planare","plasma","platano","plenario","pochezza","poderoso","podismo","poesia","poggiare","polenta","poligono","pollice","polmonite","polpetta","polso","poltrona","polvere","pomice","pomodoro","ponte","popoloso","porfido","poroso","porpora","porre","portata","posa","positivo","possesso","postulato","potassio","potere","pranzo","prassi","pratica","precluso","predica","prefisso","pregiato","prelievo","premere","prenotare","preparato","presenza","pretesto","prevalso","prima","principe","privato","problema","procura","produrre","profumo","progetto","prolunga","promessa","pronome","proposta","proroga","proteso","prova","prudente","prugna","prurito","psiche","pubblico","pudica","pugilato","pugno","pulce","pulito","pulsante","puntare","pupazzo","pupilla","puro","quadro","qualcosa","quasi","querela","quota","raccolto","raddoppio","radicale","radunato","raffica","ragazzo","ragione","ragno","ramarro","ramingo","ramo","randagio","rantolare","rapato","rapina","rappreso","rasatura","raschiato","rasente","rassegna","rastrello","rata","ravveduto","reale","recepire","recinto","recluta","recondito","recupero","reddito","redimere","regalato","registro","regola","regresso","relazione","remare","remoto","renna","replica","reprimere","reputare","resa","residente","responso","restauro","rete","retina","retorica","rettifica","revocato","riassunto","ribadire","ribelle","ribrezzo","ricarica","ricco","ricevere","riciclato","ricordo","ricreduto","ridicolo","ridurre","rifasare","riflesso","riforma","rifugio","rigare","rigettato","righello","rilassato","rilevato","rimanere","rimbalzo","rimedio","rimorchio","rinascita","rincaro","rinforzo","rinnovo","rinomato","rinsavito","rintocco","rinuncia","rinvenire","riparato","ripetuto","ripieno","riportare","ripresa","ripulire","risata","rischio","riserva","risibile","riso","rispetto","ristoro","risultato","risvolto","ritardo","ritegno","ritmico","ritrovo","riunione","riva","riverso","rivincita","rivolto","rizoma","roba","robotico","robusto","roccia","roco","rodaggio","rodere","roditore","rogito","rollio","romantico","rompere","ronzio","rosolare","rospo","rotante","rotondo","rotula","rovescio","rubizzo","rubrica","ruga","rullino","rumine","rumoroso","ruolo","rupe","russare","rustico","sabato","sabbiare","sabotato","sagoma","salasso","saldatura","salgemma","salivare","salmone","salone","saltare","saluto","salvo","sapere","sapido","saporito","saraceno","sarcasmo","sarto","sassoso","satellite","satira","satollo","saturno","savana","savio","saziato","sbadiglio","sbalzo","sbancato","sbarra","sbattere","sbavare","sbendare","sbirciare","sbloccato","sbocciato","sbrinare","sbruffone","sbuffare","scabroso","scadenza","scala","scambiare","scandalo","scapola","scarso","scatenare","scavato","scelto","scenico","scettro","scheda","schiena","sciarpa","scienza","scindere","scippo","sciroppo","scivolo","sclerare","scodella","scolpito","scomparto","sconforto","scoprire","scorta","scossone","scozzese","scriba","scrollare","scrutinio","scuderia","scultore","scuola","scuro","scusare","sdebitare","sdoganare","seccatura","secondo","sedano","seggiola","segnalato","segregato","seguito","selciato","selettivo","sella","selvaggio","semaforo","sembrare","seme","seminato","sempre","senso","sentire","sepolto","sequenza","serata","serbato","sereno","serio","serpente","serraglio","servire","sestina","setola","settimana","sfacelo","sfaldare","sfamato","sfarzoso","sfaticato","sfera","sfida","sfilato","sfinge","sfocato","sfoderare","sfogo","sfoltire","sforzato","sfratto","sfruttato","sfuggito","sfumare","sfuso","sgabello","sgarbato","sgonfiare","sgorbio","sgrassato","sguardo","sibilo","siccome","sierra","sigla","signore","silenzio","sillaba","simbolo","simpatico","simulato","sinfonia","singolo","sinistro","sino","sintesi","sinusoide","sipario","sisma","sistole","situato","slitta","slogatura","sloveno","smarrito","smemorato","smentito","smeraldo","smilzo","smontare","smottato","smussato","snellire","snervato","snodo","sobbalzo","sobrio","soccorso","sociale","sodale","soffitto","sogno","soldato","solenne","solido","sollazzo","solo","solubile","solvente","somatico","somma","sonda","sonetto","sonnifero","sopire","soppeso","sopra","sorgere","sorpasso","sorriso","sorso","sorteggio","sorvolato","sospiro","sosta","sottile","spada","spalla","spargere","spatola","spavento","spazzola","specie","spedire","spegnere","spelatura","speranza","spessore","spettrale","spezzato","spia","spigoloso","spillato","spinoso","spirale","splendido","sportivo","sposo","spranga","sprecare","spronato","spruzzo","spuntino","squillo","sradicare","srotolato","stabile","stacco","staffa","stagnare","stampato","stantio","starnuto","stasera","statuto","stelo","steppa","sterzo","stiletto","stima","stirpe","stivale","stizzoso","stonato","storico","strappo","stregato","stridulo","strozzare","strutto","stuccare","stufo","stupendo","subentro","succoso","sudore","suggerito","sugo","sultano","suonare","superbo","supporto","surgelato","surrogato","sussurro","sutura","svagare","svedese","sveglio","svelare","svenuto","svezia","sviluppo","svista","svizzera","svolta","svuotare","tabacco","tabulato","tacciare","taciturno","tale","talismano","tampone","tannino","tara","tardivo","targato","tariffa","tarpare","tartaruga","tasto","tattico","taverna","tavolata","tazza","teca","tecnico","telefono","temerario","tempo","temuto","tendone","tenero","tensione","tentacolo","teorema","terme","terrazzo","terzetto","tesi","tesserato","testato","tetro","tettoia","tifare","tigella","timbro","tinto","tipico","tipografo","tiraggio","tiro","titanio","titolo","titubante","tizio","tizzone","toccare","tollerare","tolto","tombola","tomo","tonfo","tonsilla","topazio","topologia","toppa","torba","tornare","torrone","tortora","toscano","tossire","tostatura","totano","trabocco","trachea","trafila","tragedia","tralcio","tramonto","transito","trapano","trarre","trasloco","trattato","trave","treccia","tremolio","trespolo","tributo","tricheco","trifoglio","trillo","trincea","trio","tristezza","triturato","trivella","tromba","trono","troppo","trottola","trovare","truccato","tubatura","tuffato","tulipano","tumulto","tunisia","turbare","turchino","tuta","tutela","ubicato","uccello","uccisore","udire","uditivo","uffa","ufficio","uguale","ulisse","ultimato","umano","umile","umorismo","uncinetto","ungere","ungherese","unicorno","unificato","unisono","unitario","unte","uovo","upupa","uragano","urgenza","urlo","usanza","usato","uscito","usignolo","usuraio","utensile","utilizzo","utopia","vacante","vaccinato","vagabondo","vagliato","valanga","valgo","valico","valletta","valoroso","valutare","valvola","vampata","vangare","vanitoso","vano","vantaggio","vanvera","vapore","varano","varcato","variante","vasca","vedetta","vedova","veduto","vegetale","veicolo","velcro","velina","velluto","veloce","venato","vendemmia","vento","verace","verbale","vergogna","verifica","vero","verruca","verticale","vescica","vessillo","vestale","veterano","vetrina","vetusto","viandante","vibrante","vicenda","vichingo","vicinanza","vidimare","vigilia","vigneto","vigore","vile","villano","vimini","vincitore","viola","vipera","virgola","virologo","virulento","viscoso","visione","vispo","vissuto","visura","vita","vitello","vittima","vivanda","vivido","viziare","voce","voga","volatile","volere","volpe","voragine","vulcano","zampogna","zanna","zappato","zattera","zavorra","zefiro","zelante","zelo","zenzero","zerbino","zibetto","zinco","zircone","zitto","zolla","zotico","zucchero","zufolo","zulu","zuppa"]'),require$$6$1=JSON.parse('["abaco","abdomen","abeja","abierto","abogado","abono","aborto","abrazo","abrir","abuelo","abuso","acabar","academia","acceso","accion","aceite","acelga","acento","aceptar","acido","aclarar","acne","acoger","acoso","activo","acto","actriz","actuar","acudir","acuerdo","acusar","adicto","admitir","adoptar","adorno","aduana","adulto","aereo","afectar","aficion","afinar","afirmar","agil","agitar","agonia","agosto","agotar","agregar","agrio","agua","agudo","aguila","aguja","ahogo","ahorro","aire","aislar","ajedrez","ajeno","ajuste","alacran","alambre","alarma","alba","album","alcalde","aldea","alegre","alejar","alerta","aleta","alfiler","alga","algodon","aliado","aliento","alivio","alma","almeja","almibar","altar","alteza","altivo","alto","altura","alumno","alzar","amable","amante","amapola","amargo","amasar","ambar","ambito","ameno","amigo","amistad","amor","amparo","amplio","ancho","anciano","ancla","andar","anden","anemia","angulo","anillo","animo","anis","anotar","antena","antiguo","antojo","anual","anular","anuncio","anadir","anejo","ano","apagar","aparato","apetito","apio","aplicar","apodo","aporte","apoyo","aprender","aprobar","apuesta","apuro","arado","arana","arar","arbitro","arbol","arbusto","archivo","arco","arder","ardilla","arduo","area","arido","aries","armonia","arnes","aroma","arpa","arpon","arreglo","arroz","arruga","arte","artista","asa","asado","asalto","ascenso","asegurar","aseo","asesor","asiento","asilo","asistir","asno","asombro","aspero","astilla","astro","astuto","asumir","asunto","atajo","ataque","atar","atento","ateo","atico","atleta","atomo","atraer","atroz","atun","audaz","audio","auge","aula","aumento","ausente","autor","aval","avance","avaro","ave","avellana","avena","avestruz","avion","aviso","ayer","ayuda","ayuno","azafran","azar","azote","azucar","azufre","azul","baba","babor","bache","bahia","baile","bajar","balanza","balcon","balde","bambu","banco","banda","bano","barba","barco","barniz","barro","bascula","baston","basura","batalla","bateria","batir","batuta","baul","bazar","bebe","bebida","bello","besar","beso","bestia","bicho","bien","bingo","blanco","bloque","blusa","boa","bobina","bobo","boca","bocina","boda","bodega","boina","bola","bolero","bolsa","bomba","bondad","bonito","bono","bonsai","borde","borrar","bosque","bote","botin","boveda","bozal","bravo","brazo","brecha","breve","brillo","brinco","brisa","broca","broma","bronce","brote","bruja","brusco","bruto","buceo","bucle","bueno","buey","bufanda","bufon","buho","buitre","bulto","burbuja","burla","burro","buscar","butaca","buzon","caballo","cabeza","cabina","cabra","cacao","cadaver","cadena","caer","cafe","caida","caiman","caja","cajon","cal","calamar","calcio","caldo","calidad","calle","calma","calor","calvo","cama","cambio","camello","camino","campo","cancer","candil","canela","canguro","canica","canto","cana","canon","caoba","caos","capaz","capitan","capote","captar","capucha","cara","carbon","carcel","careta","carga","carino","carne","carpeta","carro","carta","casa","casco","casero","caspa","castor","catorce","catre","caudal","causa","cazo","cebolla","ceder","cedro","celda","celebre","celoso","celula","cemento","ceniza","centro","cerca","cerdo","cereza","cero","cerrar","certeza","cesped","cetro","chacal","chaleco","champu","chancla","chapa","charla","chico","chiste","chivo","choque","choza","chuleta","chupar","ciclon","ciego","cielo","cien","cierto","cifra","cigarro","cima","cinco","cine","cinta","cipres","circo","ciruela","cisne","cita","ciudad","clamor","clan","claro","clase","clave","cliente","clima","clinica","cobre","coccion","cochino","cocina","coco","codigo","codo","cofre","coger","cohete","cojin","cojo","cola","colcha","colegio","colgar","colina","collar","colmo","columna","combate","comer","comida","comodo","compra","conde","conejo","conga","conocer","consejo","contar","copa","copia","corazon","corbata","corcho","cordon","corona","correr","coser","cosmos","costa","craneo","crater","crear","crecer","creido","crema","cria","crimen","cripta","crisis","cromo","cronica","croqueta","crudo","cruz","cuadro","cuarto","cuatro","cubo","cubrir","cuchara","cuello","cuento","cuerda","cuesta","cueva","cuidar","culebra","culpa","culto","cumbre","cumplir","cuna","cuneta","cuota","cupon","cupula","curar","curioso","curso","curva","cutis","dama","danza","dar","dardo","datil","deber","debil","decada","decir","dedo","defensa","definir","dejar","delfin","delgado","delito","demora","denso","dental","deporte","derecho","derrota","desayuno","deseo","desfile","desnudo","destino","desvio","detalle","detener","deuda","dia","diablo","diadema","diamante","diana","diario","dibujo","dictar","diente","dieta","diez","dificil","digno","dilema","diluir","dinero","directo","dirigir","disco","diseno","disfraz","diva","divino","doble","doce","dolor","domingo","don","donar","dorado","dormir","dorso","dos","dosis","dragon","droga","ducha","duda","duelo","dueno","dulce","duo","duque","durar","dureza","duro","ebano","ebrio","echar","eco","ecuador","edad","edicion","edificio","editor","educar","efecto","eficaz","eje","ejemplo","elefante","elegir","elemento","elevar","elipse","elite","elixir","elogio","eludir","embudo","emitir","emocion","empate","empeno","empleo","empresa","enano","encargo","enchufe","encia","enemigo","enero","enfado","enfermo","engano","enigma","enlace","enorme","enredo","ensayo","ensenar","entero","entrar","envase","envio","epoca","equipo","erizo","escala","escena","escolar","escribir","escudo","esencia","esfera","esfuerzo","espada","espejo","espia","esposa","espuma","esqui","estar","este","estilo","estufa","etapa","eterno","etica","etnia","evadir","evaluar","evento","evitar","exacto","examen","exceso","excusa","exento","exigir","exilio","existir","exito","experto","explicar","exponer","extremo","fabrica","fabula","fachada","facil","factor","faena","faja","falda","fallo","falso","faltar","fama","familia","famoso","faraon","farmacia","farol","farsa","fase","fatiga","fauna","favor","fax","febrero","fecha","feliz","feo","feria","feroz","fertil","fervor","festin","fiable","fianza","fiar","fibra","ficcion","ficha","fideo","fiebre","fiel","fiera","fiesta","figura","fijar","fijo","fila","filete","filial","filtro","fin","finca","fingir","finito","firma","flaco","flauta","flecha","flor","flota","fluir","flujo","fluor","fobia","foca","fogata","fogon","folio","folleto","fondo","forma","forro","fortuna","forzar","fosa","foto","fracaso","fragil","franja","frase","fraude","freir","freno","fresa","frio","frito","fruta","fuego","fuente","fuerza","fuga","fumar","funcion","funda","furgon","furia","fusil","futbol","futuro","gacela","gafas","gaita","gajo","gala","galeria","gallo","gamba","ganar","gancho","ganga","ganso","garaje","garza","gasolina","gastar","gato","gavilan","gemelo","gemir","gen","genero","genio","gente","geranio","gerente","germen","gesto","gigante","gimnasio","girar","giro","glaciar","globo","gloria","gol","golfo","goloso","golpe","goma","gordo","gorila","gorra","gota","goteo","gozar","grada","grafico","grano","grasa","gratis","grave","grieta","grillo","gripe","gris","grito","grosor","grua","grueso","grumo","grupo","guante","guapo","guardia","guerra","guia","guino","guion","guiso","guitarra","gusano","gustar","haber","habil","hablar","hacer","hacha","hada","hallar","hamaca","harina","haz","hazana","hebilla","hebra","hecho","helado","helio","hembra","herir","hermano","heroe","hervir","hielo","hierro","higado","higiene","hijo","himno","historia","hocico","hogar","hoguera","hoja","hombre","hongo","honor","honra","hora","hormiga","horno","hostil","hoyo","hueco","huelga","huerta","hueso","huevo","huida","huir","humano","humedo","humilde","humo","hundir","huracan","hurto","icono","ideal","idioma","idolo","iglesia","iglu","igual","ilegal","ilusion","imagen","iman","imitar","impar","imperio","imponer","impulso","incapaz","indice","inerte","infiel","informe","ingenio","inicio","inmenso","inmune","innato","insecto","instante","interes","intimo","intuir","inutil","invierno","ira","iris","ironia","isla","islote","jabali","jabon","jamon","jarabe","jardin","jarra","jaula","jazmin","jefe","jeringa","jinete","jornada","joroba","joven","joya","juerga","jueves","juez","jugador","jugo","juguete","juicio","junco","jungla","junio","juntar","jupiter","jurar","justo","juvenil","juzgar","kilo","koala","labio","lacio","lacra","lado","ladron","lagarto","lagrima","laguna","laico","lamer","lamina","lampara","lana","lancha","langosta","lanza","lapiz","largo","larva","lastima","lata","latex","latir","laurel","lavar","lazo","leal","leccion","leche","lector","leer","legion","legumbre","lejano","lengua","lento","lena","leon","leopardo","lesion","letal","letra","leve","leyenda","libertad","libro","licor","lider","lidiar","lienzo","liga","ligero","lima","limite","limon","limpio","lince","lindo","linea","lingote","lino","linterna","liquido","liso","lista","litera","litio","litro","llaga","llama","llanto","llave","llegar","llenar","llevar","llorar","llover","lluvia","lobo","locion","loco","locura","logica","logro","lombriz","lomo","lonja","lote","lucha","lucir","lugar","lujo","luna","lunes","lupa","lustro","luto","luz","maceta","macho","madera","madre","maduro","maestro","mafia","magia","mago","maiz","maldad","maleta","malla","malo","mama","mambo","mamut","manco","mando","manejar","manga","maniqui","manjar","mano","manso","manta","manana","mapa","maquina","mar","marco","marea","marfil","margen","marido","marmol","marron","martes","marzo","masa","mascara","masivo","matar","materia","matiz","matriz","maximo","mayor","mazorca","mecha","medalla","medio","medula","mejilla","mejor","melena","melon","memoria","menor","mensaje","mente","menu","mercado","merengue","merito","mes","meson","meta","meter","metodo","metro","mezcla","miedo","miel","miembro","miga","mil","milagro","militar","millon","mimo","mina","minero","minimo","minuto","miope","mirar","misa","miseria","misil","mismo","mitad","mito","mochila","mocion","moda","modelo","moho","mojar","molde","moler","molino","momento","momia","monarca","moneda","monja","monto","mono","morada","morder","moreno","morir","morro","morsa","mortal","mosca","mostrar","motivo","mover","movil","mozo","mucho","mudar","mueble","muela","muerte","muestra","mugre","mujer","mula","muleta","multa","mundo","muneca","mural","muro","musculo","museo","musgo","musica","muslo","nacar","nacion","nadar","naipe","naranja","nariz","narrar","nasal","natal","nativo","natural","nausea","naval","nave","navidad","necio","nectar","negar","negocio","negro","neon","nervio","neto","neutro","nevar","nevera","nicho","nido","niebla","nieto","ninez","nino","nitido","nivel","nobleza","noche","nomina","noria","norma","norte","nota","noticia","novato","novela","novio","nube","nuca","nucleo","nudillo","nudo","nuera","nueve","nuez","nulo","numero","nutria","oasis","obeso","obispo","objeto","obra","obrero","observar","obtener","obvio","oca","ocaso","oceano","ochenta","ocho","ocio","ocre","octavo","octubre","oculto","ocupar","ocurrir","odiar","odio","odisea","oeste","ofensa","oferta","oficio","ofrecer","ogro","oido","oir","ojo","ola","oleada","olfato","olivo","olla","olmo","olor","olvido","ombligo","onda","onza","opaco","opcion","opera","opinar","oponer","optar","optica","opuesto","oracion","orador","oral","orbita","orca","orden","oreja","organo","orgia","orgullo","oriente","origen","orilla","oro","orquesta","oruga","osadia","oscuro","osezno","oso","ostra","otono","otro","oveja","ovulo","oxido","oxigeno","oyente","ozono","pacto","padre","paella","pagina","pago","pais","pajaro","palabra","palco","paleta","palido","palma","paloma","palpar","pan","panal","panico","pantera","panuelo","papa","papel","papilla","paquete","parar","parcela","pared","parir","paro","parpado","parque","parrafo","parte","pasar","paseo","pasion","paso","pasta","pata","patio","patria","pausa","pauta","pavo","payaso","peaton","pecado","pecera","pecho","pedal","pedir","pegar","peine","pelar","peldano","pelea","peligro","pellejo","pelo","peluca","pena","pensar","penon","peon","peor","pepino","pequeno","pera","percha","perder","pereza","perfil","perico","perla","permiso","perro","persona","pesa","pesca","pesimo","pestana","petalo","petroleo","pez","pezuna","picar","pichon","pie","piedra","pierna","pieza","pijama","pilar","piloto","pimienta","pino","pintor","pinza","pina","piojo","pipa","pirata","pisar","piscina","piso","pista","piton","pizca","placa","plan","plata","playa","plaza","pleito","pleno","plomo","pluma","plural","pobre","poco","poder","podio","poema","poesia","poeta","polen","policia","pollo","polvo","pomada","pomelo","pomo","pompa","poner","porcion","portal","posada","poseer","posible","poste","potencia","potro","pozo","prado","precoz","pregunta","premio","prensa","preso","previo","primo","principe","prision","privar","proa","probar","proceso","producto","proeza","profesor","programa","prole","promesa","pronto","propio","proximo","prueba","publico","puchero","pudor","pueblo","puerta","puesto","pulga","pulir","pulmon","pulpo","pulso","puma","punto","punal","puno","pupa","pupila","pure","quedar","queja","quemar","querer","queso","quieto","quimica","quince","quitar","rabano","rabia","rabo","racion","radical","raiz","rama","rampa","rancho","rango","rapaz","rapido","rapto","rasgo","raspa","rato","rayo","raza","razon","reaccion","realidad","rebano","rebote","recaer","receta","rechazo","recoger","recreo","recto","recurso","red","redondo","reducir","reflejo","reforma","refran","refugio","regalo","regir","regla","regreso","rehen","reino","reir","reja","relato","relevo","relieve","relleno","reloj","remar","remedio","remo","rencor","rendir","renta","reparto","repetir","reposo","reptil","res","rescate","resina","respeto","resto","resumen","retiro","retorno","retrato","reunir","reves","revista","rey","rezar","rico","riego","rienda","riesgo","rifa","rigido","rigor","rincon","rinon","rio","riqueza","risa","ritmo","rito","rizo","roble","roce","rociar","rodar","rodeo","rodilla","roer","rojizo","rojo","romero","romper","ron","ronco","ronda","ropa","ropero","rosa","rosca","rostro","rotar","rubi","rubor","rudo","rueda","rugir","ruido","ruina","ruleta","rulo","rumbo","rumor","ruptura","ruta","rutina","sabado","saber","sabio","sable","sacar","sagaz","sagrado","sala","saldo","salero","salir","salmon","salon","salsa","salto","salud","salvar","samba","sancion","sandia","sanear","sangre","sanidad","sano","santo","sapo","saque","sardina","sarten","sastre","satan","sauna","saxofon","seccion","seco","secreto","secta","sed","seguir","seis","sello","selva","semana","semilla","senda","sensor","senal","senor","separar","sepia","sequia","ser","serie","sermon","servir","sesenta","sesion","seta","setenta","severo","sexo","sexto","sidra","siesta","siete","siglo","signo","silaba","silbar","silencio","silla","simbolo","simio","sirena","sistema","sitio","situar","sobre","socio","sodio","sol","solapa","soldado","soledad","solido","soltar","solucion","sombra","sondeo","sonido","sonoro","sonrisa","sopa","soplar","soporte","sordo","sorpresa","sorteo","sosten","sotano","suave","subir","suceso","sudor","suegra","suelo","sueno","suerte","sufrir","sujeto","sultan","sumar","superar","suplir","suponer","supremo","sur","surco","sureno","surgir","susto","sutil","tabaco","tabique","tabla","tabu","taco","tacto","tajo","talar","talco","talento","talla","talon","tamano","tambor","tango","tanque","tapa","tapete","tapia","tapon","taquilla","tarde","tarea","tarifa","tarjeta","tarot","tarro","tarta","tatuaje","tauro","taza","tazon","teatro","techo","tecla","tecnica","tejado","tejer","tejido","tela","telefono","tema","temor","templo","tenaz","tender","tener","tenis","tenso","teoria","terapia","terco","termino","ternura","terror","tesis","tesoro","testigo","tetera","texto","tez","tibio","tiburon","tiempo","tienda","tierra","tieso","tigre","tijera","tilde","timbre","timido","timo","tinta","tio","tipico","tipo","tira","tiron","titan","titere","titulo","tiza","toalla","tobillo","tocar","tocino","todo","toga","toldo","tomar","tono","tonto","topar","tope","toque","torax","torero","tormenta","torneo","toro","torpedo","torre","torso","tortuga","tos","tosco","toser","toxico","trabajo","tractor","traer","trafico","trago","traje","tramo","trance","trato","trauma","trazar","trebol","tregua","treinta","tren","trepar","tres","tribu","trigo","tripa","triste","triunfo","trofeo","trompa","tronco","tropa","trote","trozo","truco","trueno","trufa","tuberia","tubo","tuerto","tumba","tumor","tunel","tunica","turbina","turismo","turno","tutor","ubicar","ulcera","umbral","unidad","unir","universo","uno","untar","una","urbano","urbe","urgente","urna","usar","usuario","util","utopia","uva","vaca","vacio","vacuna","vagar","vago","vaina","vajilla","vale","valido","valle","valor","valvula","vampiro","vara","variar","varon","vaso","vecino","vector","vehiculo","veinte","vejez","vela","velero","veloz","vena","vencer","venda","veneno","vengar","venir","venta","venus","ver","verano","verbo","verde","vereda","verja","verso","verter","via","viaje","vibrar","vicio","victima","vida","video","vidrio","viejo","viernes","vigor","vil","villa","vinagre","vino","vinedo","violin","viral","virgo","virtud","visor","vispera","vista","vitamina","viudo","vivaz","vivero","vivir","vivo","volcan","volumen","volver","voraz","votar","voto","voz","vuelo","vulgar","yacer","yate","yegua","yema","yerno","yeso","yodo","yoga","yogur","zafiro","zanja","zapato","zarza","zona","zorro","zumo","zurdo"]'),require$$7=JSON.parse('["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]'),require$$8=JSON.parse('["abacate","abaixo","abalar","abater","abduzir","abelha","aberto","abismo","abotoar","abranger","abreviar","abrigar","abrupto","absinto","absoluto","absurdo","abutre","acabado","acalmar","acampar","acanhar","acaso","aceitar","acelerar","acenar","acervo","acessar","acetona","achatar","acidez","acima","acionado","acirrar","aclamar","aclive","acolhida","acomodar","acoplar","acordar","acumular","acusador","adaptar","adega","adentro","adepto","adequar","aderente","adesivo","adeus","adiante","aditivo","adjetivo","adjunto","admirar","adorar","adquirir","adubo","adverso","advogado","aeronave","afastar","aferir","afetivo","afinador","afivelar","aflito","afluente","afrontar","agachar","agarrar","agasalho","agenciar","agilizar","agiota","agitado","agora","agradar","agreste","agrupar","aguardar","agulha","ajoelhar","ajudar","ajustar","alameda","alarme","alastrar","alavanca","albergue","albino","alcatra","aldeia","alecrim","alegria","alertar","alface","alfinete","algum","alheio","aliar","alicate","alienar","alinhar","aliviar","almofada","alocar","alpiste","alterar","altitude","alucinar","alugar","aluno","alusivo","alvo","amaciar","amador","amarelo","amassar","ambas","ambiente","ameixa","amenizar","amido","amistoso","amizade","amolador","amontoar","amoroso","amostra","amparar","ampliar","ampola","anagrama","analisar","anarquia","anatomia","andaime","anel","anexo","angular","animar","anjo","anomalia","anotado","ansioso","anterior","anuidade","anunciar","anzol","apagador","apalpar","apanhado","apego","apelido","apertada","apesar","apetite","apito","aplauso","aplicada","apoio","apontar","aposta","aprendiz","aprovar","aquecer","arame","aranha","arara","arcada","ardente","areia","arejar","arenito","aresta","argiloso","argola","arma","arquivo","arraial","arrebate","arriscar","arroba","arrumar","arsenal","arterial","artigo","arvoredo","asfaltar","asilado","aspirar","assador","assinar","assoalho","assunto","astral","atacado","atadura","atalho","atarefar","atear","atender","aterro","ateu","atingir","atirador","ativo","atoleiro","atracar","atrevido","atriz","atual","atum","auditor","aumentar","aura","aurora","autismo","autoria","autuar","avaliar","avante","avaria","avental","avesso","aviador","avisar","avulso","axila","azarar","azedo","azeite","azulejo","babar","babosa","bacalhau","bacharel","bacia","bagagem","baiano","bailar","baioneta","bairro","baixista","bajular","baleia","baliza","balsa","banal","bandeira","banho","banir","banquete","barato","barbado","baronesa","barraca","barulho","baseado","bastante","batata","batedor","batida","batom","batucar","baunilha","beber","beijo","beirada","beisebol","beldade","beleza","belga","beliscar","bendito","bengala","benzer","berimbau","berlinda","berro","besouro","bexiga","bezerro","bico","bicudo","bienal","bifocal","bifurcar","bigorna","bilhete","bimestre","bimotor","biologia","biombo","biosfera","bipolar","birrento","biscoito","bisneto","bispo","bissexto","bitola","bizarro","blindado","bloco","bloquear","boato","bobagem","bocado","bocejo","bochecha","boicotar","bolada","boletim","bolha","bolo","bombeiro","bonde","boneco","bonita","borbulha","borda","boreal","borracha","bovino","boxeador","branco","brasa","braveza","breu","briga","brilho","brincar","broa","brochura","bronzear","broto","bruxo","bucha","budismo","bufar","bule","buraco","busca","busto","buzina","cabana","cabelo","cabide","cabo","cabrito","cacau","cacetada","cachorro","cacique","cadastro","cadeado","cafezal","caiaque","caipira","caixote","cajado","caju","calafrio","calcular","caldeira","calibrar","calmante","calota","camada","cambista","camisa","camomila","campanha","camuflar","canavial","cancelar","caneta","canguru","canhoto","canivete","canoa","cansado","cantar","canudo","capacho","capela","capinar","capotar","capricho","captador","capuz","caracol","carbono","cardeal","careca","carimbar","carneiro","carpete","carreira","cartaz","carvalho","casaco","casca","casebre","castelo","casulo","catarata","cativar","caule","causador","cautelar","cavalo","caverna","cebola","cedilha","cegonha","celebrar","celular","cenoura","censo","centeio","cercar","cerrado","certeiro","cerveja","cetim","cevada","chacota","chaleira","chamado","chapada","charme","chatice","chave","chefe","chegada","cheiro","cheque","chicote","chifre","chinelo","chocalho","chover","chumbo","chutar","chuva","cicatriz","ciclone","cidade","cidreira","ciente","cigana","cimento","cinto","cinza","ciranda","circuito","cirurgia","citar","clareza","clero","clicar","clone","clube","coado","coagir","cobaia","cobertor","cobrar","cocada","coelho","coentro","coeso","cogumelo","coibir","coifa","coiote","colar","coleira","colher","colidir","colmeia","colono","coluna","comando","combinar","comentar","comitiva","comover","complexo","comum","concha","condor","conectar","confuso","congelar","conhecer","conjugar","consumir","contrato","convite","cooperar","copeiro","copiador","copo","coquetel","coragem","cordial","corneta","coronha","corporal","correio","cortejo","coruja","corvo","cosseno","costela","cotonete","couro","couve","covil","cozinha","cratera","cravo","creche","credor","creme","crer","crespo","criada","criminal","crioulo","crise","criticar","crosta","crua","cruzeiro","cubano","cueca","cuidado","cujo","culatra","culminar","culpar","cultura","cumprir","cunhado","cupido","curativo","curral","cursar","curto","cuspir","custear","cutelo","damasco","datar","debater","debitar","deboche","debulhar","decalque","decimal","declive","decote","decretar","dedal","dedicado","deduzir","defesa","defumar","degelo","degrau","degustar","deitado","deixar","delator","delegado","delinear","delonga","demanda","demitir","demolido","dentista","depenado","depilar","depois","depressa","depurar","deriva","derramar","desafio","desbotar","descanso","desenho","desfiado","desgaste","desigual","deslize","desmamar","desova","despesa","destaque","desviar","detalhar","detentor","detonar","detrito","deusa","dever","devido","devotado","dezena","diagrama","dialeto","didata","difuso","digitar","dilatado","diluente","diminuir","dinastia","dinheiro","diocese","direto","discreta","disfarce","disparo","disquete","dissipar","distante","ditador","diurno","diverso","divisor","divulgar","dizer","dobrador","dolorido","domador","dominado","donativo","donzela","dormente","dorsal","dosagem","dourado","doutor","drenagem","drible","drogaria","duelar","duende","dueto","duplo","duquesa","durante","duvidoso","eclodir","ecoar","ecologia","edificar","edital","educado","efeito","efetivar","ejetar","elaborar","eleger","eleitor","elenco","elevador","eliminar","elogiar","embargo","embolado","embrulho","embutido","emenda","emergir","emissor","empatia","empenho","empinado","empolgar","emprego","empurrar","emulador","encaixe","encenado","enchente","encontro","endeusar","endossar","enfaixar","enfeite","enfim","engajado","engenho","englobar","engomado","engraxar","enguia","enjoar","enlatar","enquanto","enraizar","enrolado","enrugar","ensaio","enseada","ensino","ensopado","entanto","enteado","entidade","entortar","entrada","entulho","envergar","enviado","envolver","enxame","enxerto","enxofre","enxuto","epiderme","equipar","ereto","erguido","errata","erva","ervilha","esbanjar","esbelto","escama","escola","escrita","escuta","esfinge","esfolar","esfregar","esfumado","esgrima","esmalte","espanto","espelho","espiga","esponja","espreita","espumar","esquerda","estaca","esteira","esticar","estofado","estrela","estudo","esvaziar","etanol","etiqueta","euforia","europeu","evacuar","evaporar","evasivo","eventual","evidente","evoluir","exagero","exalar","examinar","exato","exausto","excesso","excitar","exclamar","executar","exemplo","exibir","exigente","exonerar","expandir","expelir","expirar","explanar","exposto","expresso","expulsar","externo","extinto","extrato","fabricar","fabuloso","faceta","facial","fada","fadiga","faixa","falar","falta","familiar","fandango","fanfarra","fantoche","fardado","farelo","farinha","farofa","farpa","fartura","fatia","fator","favorita","faxina","fazenda","fechado","feijoada","feirante","felino","feminino","fenda","feno","fera","feriado","ferrugem","ferver","festejar","fetal","feudal","fiapo","fibrose","ficar","ficheiro","figurado","fileira","filho","filme","filtrar","firmeza","fisgada","fissura","fita","fivela","fixador","fixo","flacidez","flamingo","flanela","flechada","flora","flutuar","fluxo","focal","focinho","fofocar","fogo","foguete","foice","folgado","folheto","forjar","formiga","forno","forte","fosco","fossa","fragata","fralda","frango","frasco","fraterno","freira","frente","fretar","frieza","friso","fritura","fronha","frustrar","fruteira","fugir","fulano","fuligem","fundar","fungo","funil","furador","furioso","futebol","gabarito","gabinete","gado","gaiato","gaiola","gaivota","galega","galho","galinha","galocha","ganhar","garagem","garfo","gargalo","garimpo","garoupa","garrafa","gasoduto","gasto","gata","gatilho","gaveta","gazela","gelado","geleia","gelo","gemada","gemer","gemido","generoso","gengiva","genial","genoma","genro","geologia","gerador","germinar","gesso","gestor","ginasta","gincana","gingado","girafa","girino","glacial","glicose","global","glorioso","goela","goiaba","golfe","golpear","gordura","gorjeta","gorro","gostoso","goteira","governar","gracejo","gradual","grafite","gralha","grampo","granada","gratuito","graveto","graxa","grego","grelhar","greve","grilo","grisalho","gritaria","grosso","grotesco","grudado","grunhido","gruta","guache","guarani","guaxinim","guerrear","guiar","guincho","guisado","gula","guloso","guru","habitar","harmonia","haste","haver","hectare","herdar","heresia","hesitar","hiato","hibernar","hidratar","hiena","hino","hipismo","hipnose","hipoteca","hoje","holofote","homem","honesto","honrado","hormonal","hospedar","humorado","iate","ideia","idoso","ignorado","igreja","iguana","ileso","ilha","iludido","iluminar","ilustrar","imagem","imediato","imenso","imersivo","iminente","imitador","imortal","impacto","impedir","implante","impor","imprensa","impune","imunizar","inalador","inapto","inativo","incenso","inchar","incidir","incluir","incolor","indeciso","indireto","indutor","ineficaz","inerente","infantil","infestar","infinito","inflamar","informal","infrator","ingerir","inibido","inicial","inimigo","injetar","inocente","inodoro","inovador","inox","inquieto","inscrito","inseto","insistir","inspetor","instalar","insulto","intacto","integral","intimar","intocado","intriga","invasor","inverno","invicto","invocar","iogurte","iraniano","ironizar","irreal","irritado","isca","isento","isolado","isqueiro","italiano","janeiro","jangada","janta","jararaca","jardim","jarro","jasmim","jato","javali","jazida","jejum","joaninha","joelhada","jogador","joia","jornal","jorrar","jovem","juba","judeu","judoca","juiz","julgador","julho","jurado","jurista","juro","justa","labareda","laboral","lacre","lactante","ladrilho","lagarta","lagoa","laje","lamber","lamentar","laminar","lampejo","lanche","lapidar","lapso","laranja","lareira","largura","lasanha","lastro","lateral","latido","lavanda","lavoura","lavrador","laxante","lazer","lealdade","lebre","legado","legendar","legista","leigo","leiloar","leitura","lembrete","leme","lenhador","lentilha","leoa","lesma","leste","letivo","letreiro","levar","leveza","levitar","liberal","libido","liderar","ligar","ligeiro","limitar","limoeiro","limpador","linda","linear","linhagem","liquidez","listagem","lisura","litoral","livro","lixa","lixeira","locador","locutor","lojista","lombo","lona","longe","lontra","lorde","lotado","loteria","loucura","lousa","louvar","luar","lucidez","lucro","luneta","lustre","lutador","luva","macaco","macete","machado","macio","madeira","madrinha","magnata","magreza","maior","mais","malandro","malha","malote","maluco","mamilo","mamoeiro","mamute","manada","mancha","mandato","manequim","manhoso","manivela","manobrar","mansa","manter","manusear","mapeado","maquinar","marcador","maresia","marfim","margem","marinho","marmita","maroto","marquise","marreco","martelo","marujo","mascote","masmorra","massagem","mastigar","matagal","materno","matinal","matutar","maxilar","medalha","medida","medusa","megafone","meiga","melancia","melhor","membro","memorial","menino","menos","mensagem","mental","merecer","mergulho","mesada","mesclar","mesmo","mesquita","mestre","metade","meteoro","metragem","mexer","mexicano","micro","migalha","migrar","milagre","milenar","milhar","mimado","minerar","minhoca","ministro","minoria","miolo","mirante","mirtilo","misturar","mocidade","moderno","modular","moeda","moer","moinho","moita","moldura","moleza","molho","molinete","molusco","montanha","moqueca","morango","morcego","mordomo","morena","mosaico","mosquete","mostarda","motel","motim","moto","motriz","muda","muito","mulata","mulher","multar","mundial","munido","muralha","murcho","muscular","museu","musical","nacional","nadador","naja","namoro","narina","narrado","nascer","nativa","natureza","navalha","navegar","navio","neblina","nebuloso","negativa","negociar","negrito","nervoso","neta","neural","nevasca","nevoeiro","ninar","ninho","nitidez","nivelar","nobreza","noite","noiva","nomear","nominal","nordeste","nortear","notar","noticiar","noturno","novelo","novilho","novo","nublado","nudez","numeral","nupcial","nutrir","nuvem","obcecado","obedecer","objetivo","obrigado","obscuro","obstetra","obter","obturar","ocidente","ocioso","ocorrer","oculista","ocupado","ofegante","ofensiva","oferenda","oficina","ofuscado","ogiva","olaria","oleoso","olhar","oliveira","ombro","omelete","omisso","omitir","ondulado","oneroso","ontem","opcional","operador","oponente","oportuno","oposto","orar","orbitar","ordem","ordinal","orfanato","orgasmo","orgulho","oriental","origem","oriundo","orla","ortodoxo","orvalho","oscilar","ossada","osso","ostentar","otimismo","ousadia","outono","outubro","ouvido","ovelha","ovular","oxidar","oxigenar","pacato","paciente","pacote","pactuar","padaria","padrinho","pagar","pagode","painel","pairar","paisagem","palavra","palestra","palheta","palito","palmada","palpitar","pancada","panela","panfleto","panqueca","pantanal","papagaio","papelada","papiro","parafina","parcial","pardal","parede","partida","pasmo","passado","pastel","patamar","patente","patinar","patrono","paulada","pausar","peculiar","pedalar","pedestre","pediatra","pedra","pegada","peitoral","peixe","pele","pelicano","penca","pendurar","peneira","penhasco","pensador","pente","perceber","perfeito","pergunta","perito","permitir","perna","perplexo","persiana","pertence","peruca","pescado","pesquisa","pessoa","petiscar","piada","picado","piedade","pigmento","pilastra","pilhado","pilotar","pimenta","pincel","pinguim","pinha","pinote","pintar","pioneiro","pipoca","piquete","piranha","pires","pirueta","piscar","pistola","pitanga","pivete","planta","plaqueta","platina","plebeu","plumagem","pluvial","pneu","poda","poeira","poetisa","polegada","policiar","poluente","polvilho","pomar","pomba","ponderar","pontaria","populoso","porta","possuir","postal","pote","poupar","pouso","povoar","praia","prancha","prato","praxe","prece","predador","prefeito","premiar","prensar","preparar","presilha","pretexto","prevenir","prezar","primata","princesa","prisma","privado","processo","produto","profeta","proibido","projeto","prometer","propagar","prosa","protetor","provador","publicar","pudim","pular","pulmonar","pulseira","punhal","punir","pupilo","pureza","puxador","quadra","quantia","quarto","quase","quebrar","queda","queijo","quente","querido","quimono","quina","quiosque","rabanada","rabisco","rachar","racionar","radial","raiar","rainha","raio","raiva","rajada","ralado","ramal","ranger","ranhura","rapadura","rapel","rapidez","raposa","raquete","raridade","rasante","rascunho","rasgar","raspador","rasteira","rasurar","ratazana","ratoeira","realeza","reanimar","reaver","rebaixar","rebelde","rebolar","recado","recente","recheio","recibo","recordar","recrutar","recuar","rede","redimir","redonda","reduzida","reenvio","refinar","refletir","refogar","refresco","refugiar","regalia","regime","regra","reinado","reitor","rejeitar","relativo","remador","remendo","remorso","renovado","reparo","repelir","repleto","repolho","represa","repudiar","requerer","resenha","resfriar","resgatar","residir","resolver","respeito","ressaca","restante","resumir","retalho","reter","retirar","retomada","retratar","revelar","revisor","revolta","riacho","rica","rigidez","rigoroso","rimar","ringue","risada","risco","risonho","robalo","rochedo","rodada","rodeio","rodovia","roedor","roleta","romano","roncar","rosado","roseira","rosto","rota","roteiro","rotina","rotular","rouco","roupa","roxo","rubro","rugido","rugoso","ruivo","rumo","rupestre","russo","sabor","saciar","sacola","sacudir","sadio","safira","saga","sagrada","saibro","salada","saleiro","salgado","saliva","salpicar","salsicha","saltar","salvador","sambar","samurai","sanar","sanfona","sangue","sanidade","sapato","sarda","sargento","sarjeta","saturar","saudade","saxofone","sazonal","secar","secular","seda","sedento","sediado","sedoso","sedutor","segmento","segredo","segundo","seiva","seleto","selvagem","semanal","semente","senador","senhor","sensual","sentado","separado","sereia","seringa","serra","servo","setembro","setor","sigilo","silhueta","silicone","simetria","simpatia","simular","sinal","sincero","singular","sinopse","sintonia","sirene","siri","situado","soberano","sobra","socorro","sogro","soja","solda","soletrar","solteiro","sombrio","sonata","sondar","sonegar","sonhador","sono","soprano","soquete","sorrir","sorteio","sossego","sotaque","soterrar","sovado","sozinho","suavizar","subida","submerso","subsolo","subtrair","sucata","sucesso","suco","sudeste","sufixo","sugador","sugerir","sujeito","sulfato","sumir","suor","superior","suplicar","suposto","suprimir","surdina","surfista","surpresa","surreal","surtir","suspiro","sustento","tabela","tablete","tabuada","tacho","tagarela","talher","talo","talvez","tamanho","tamborim","tampa","tangente","tanto","tapar","tapioca","tardio","tarefa","tarja","tarraxa","tatuagem","taurino","taxativo","taxista","teatral","tecer","tecido","teclado","tedioso","teia","teimar","telefone","telhado","tempero","tenente","tensor","tentar","termal","terno","terreno","tese","tesoura","testado","teto","textura","texugo","tiara","tigela","tijolo","timbrar","timidez","tingido","tinteiro","tiragem","titular","toalha","tocha","tolerar","tolice","tomada","tomilho","tonel","tontura","topete","tora","torcido","torneio","torque","torrada","torto","tostar","touca","toupeira","toxina","trabalho","tracejar","tradutor","trafegar","trajeto","trama","trancar","trapo","traseiro","tratador","travar","treino","tremer","trepidar","trevo","triagem","tribo","triciclo","tridente","trilogia","trindade","triplo","triturar","triunfal","trocar","trombeta","trova","trunfo","truque","tubular","tucano","tudo","tulipa","tupi","turbo","turma","turquesa","tutelar","tutorial","uivar","umbigo","unha","unidade","uniforme","urologia","urso","urtiga","urubu","usado","usina","usufruir","vacina","vadiar","vagaroso","vaidoso","vala","valente","validade","valores","vantagem","vaqueiro","varanda","vareta","varrer","vascular","vasilha","vassoura","vazar","vazio","veado","vedar","vegetar","veicular","veleiro","velhice","veludo","vencedor","vendaval","venerar","ventre","verbal","verdade","vereador","vergonha","vermelho","verniz","versar","vertente","vespa","vestido","vetorial","viaduto","viagem","viajar","viatura","vibrador","videira","vidraria","viela","viga","vigente","vigiar","vigorar","vilarejo","vinco","vinheta","vinil","violeta","virada","virtude","visitar","visto","vitral","viveiro","vizinho","voador","voar","vogal","volante","voleibol","voltagem","volumoso","vontade","vulto","vuvuzela","xadrez","xarope","xeque","xeretar","xerife","xingar","zangado","zarpar","zebu","zelador","zombar","zoologia","zumbido"]'),require$$9=JSON.parse('["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"]');var hasRequired_wordlists;function require_wordlists(){if(hasRequired_wordlists)return _wordlists;hasRequired_wordlists=1,Object.defineProperty(_wordlists,"__esModule",{value:!0});const t={};_wordlists.wordlists=t;let e;_wordlists._default=e;try{_wordlists._default=e=require$$0$1,t.czech=e}catch{}try{_wordlists._default=e=require$$1$2,t.chinese_simplified=e}catch{}try{_wordlists._default=e=require$$2$3,t.chinese_traditional=e}catch{}try{_wordlists._default=e=require$$3,t.korean=e}catch{}try{_wordlists._default=e=require$$4$1,t.french=e}catch{}try{_wordlists._default=e=require$$5,t.italian=e}catch{}try{_wordlists._default=e=require$$6$1,t.spanish=e}catch{}try{_wordlists._default=e=require$$7,t.japanese=e,t.JA=e}catch{}try{_wordlists._default=e=require$$8,t.portuguese=e}catch{}try{_wordlists._default=e=require$$9,t.english=e,t.EN=e}catch{}return _wordlists}var hasRequiredSrc;function requireSrc(){if(hasRequiredSrc)return src;hasRequiredSrc=1,Object.defineProperty(src,"__esModule",{value:!0});const t=requireSha256$2(),e=requireSha512$2(),a=requirePbkdf2$1(),r=requireUtils$4(),o=require_wordlists();let s=o._default;const l="Invalid mnemonic",c="Invalid entropy",u="Invalid mnemonic checksum",h=`A wordlist is required but a default could not be found.
Please pass a 2048 word array explicitly.`;function f(W){return(W||"").normalize("NFKD")}function m(W,te,G){for(;W.length<G;)W=te+W;return W}function g(W){return parseInt(W,2)}function b(W){return W.map(te=>m(te.toString(2),"0",8)).join("")}function w(W){const G=W.length*8/32,D=t.sha256(Uint8Array.from(W));return b(Array.from(D)).slice(0,G)}function E(W){return"mnemonic"+(W||"")}function C(W,te){const G=Uint8Array.from(Buffer.from(f(W),"utf8")),D=Uint8Array.from(Buffer.from(E(f(te)),"utf8")),M=a.pbkdf2(e.sha512,G,D,{c:2048,dkLen:64});return Buffer.from(M)}src.mnemonicToSeedSync=C;function B(W,te){const G=Uint8Array.from(Buffer.from(f(W),"utf8")),D=Uint8Array.from(Buffer.from(E(f(te)),"utf8"));return a.pbkdf2Async(e.sha512,G,D,{c:2048,dkLen:64}).then(M=>Buffer.from(M))}src.mnemonicToSeed=B;function O(W,te){if(te=te||s,!te)throw new Error(h);const G=f(W).split(" ");if(G.length%3!==0)throw new Error(l);const D=G.map(j=>{const I=te.indexOf(j);if(I===-1)throw new Error(l);return m(I.toString(2),"0",11)}).join(""),M=Math.floor(D.length/33)*32,v=D.slice(0,M),S=D.slice(M),N=v.match(/(.{1,8})/g).map(g);if(N.length<16)throw new Error(c);if(N.length>32)throw new Error(c);if(N.length%4!==0)throw new Error(c);const R=Buffer.from(N);if(w(R)!==S)throw new Error(u);return R.toString("hex")}src.mnemonicToEntropy=O;function P(W,te){if(Buffer.isBuffer(W)||(W=Buffer.from(W,"hex")),te=te||s,!te)throw new Error(h);if(W.length<16)throw new TypeError(c);if(W.length>32)throw new TypeError(c);if(W.length%4!==0)throw new TypeError(c);const G=b(Array.from(W)),D=w(W),S=(G+D).match(/(.{1,11})/g).map(N=>{const R=g(N);return te[R]});return te[0]===""?S.join(""):S.join(" ")}src.entropyToMnemonic=P;function q(W,te,G){if(W=W||128,W%32!==0)throw new TypeError(c);return te=te||(D=>Buffer.from(r.randomBytes(D))),P(te(W/8),G)}src.generateMnemonic=q;function z(W,te){try{O(W,te)}catch{return!1}return!0}src.validateMnemonic=z;function V(W){const te=o.wordlists[W];if(te)s=te;else throw new Error('Could not find wordlist for language "'+W+'"')}src.setDefaultWordlist=V;function Z(){if(!s)throw new Error("No Default Wordlist set");return Object.keys(o.wordlists).filter(W=>W==="JA"||W==="EN"?!1:o.wordlists[W].every((te,G)=>te===s[G]))[0]}src.getDefaultWordlist=Z;var J=require_wordlists();return src.wordlists=J.wordlists,src}var srcExports=requireSrc(),cryptoJs$1={exports:{}};function commonjsRequire(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var core$1={exports:{}},cryptoBrowserify={},browser$b={exports:{}},safeBuffer$2={exports:{}},dist={},hasRequiredDist;function requireDist(){return hasRequiredDist||(hasRequiredDist=1,(function(t){Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var e={},a={};a.byteLength=f,a.toByteArray=g,a.fromByteArray=E;for(var r=[],o=[],s=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,u=l.length;c<u;++c)r[c]=l[c],o[l.charCodeAt(c)]=c;o[45]=62,o[95]=63;function h(O){var P=O.length;if(P%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var q=O.indexOf("=");q===-1&&(q=P);var z=q===P?0:4-q%4;return[q,z]}function f(O){var P=h(O),q=P[0],z=P[1];return(q+z)*3/4-z}function m(O,P,q){return(P+q)*3/4-q}function g(O){var P,q=h(O),z=q[0],V=q[1],Z=new s(m(O,z,V)),J=0,W=V>0?z-4:z,te;for(te=0;te<W;te+=4)P=o[O.charCodeAt(te)]<<18|o[O.charCodeAt(te+1)]<<12|o[O.charCodeAt(te+2)]<<6|o[O.charCodeAt(te+3)],Z[J++]=P>>16&255,Z[J++]=P>>8&255,Z[J++]=P&255;return V===2&&(P=o[O.charCodeAt(te)]<<2|o[O.charCodeAt(te+1)]>>4,Z[J++]=P&255),V===1&&(P=o[O.charCodeAt(te)]<<10|o[O.charCodeAt(te+1)]<<4|o[O.charCodeAt(te+2)]>>2,Z[J++]=P>>8&255,Z[J++]=P&255),Z}function b(O){return r[O>>18&63]+r[O>>12&63]+r[O>>6&63]+r[O&63]}function w(O,P,q){for(var z,V=[],Z=P;Z<q;Z+=3)z=(O[Z]<<16&16711680)+(O[Z+1]<<8&65280)+(O[Z+2]&255),V.push(b(z));return V.join("")}function E(O){for(var P,q=O.length,z=q%3,V=[],Z=16383,J=0,W=q-z;J<W;J+=Z)V.push(w(O,J,J+Z>W?W:J+Z));return z===1?(P=O[q-1],V.push(r[P>>2]+r[P<<4&63]+"==")):z===2&&(P=(O[q-2]<<8)+O[q-1],V.push(r[P>>10]+r[P>>4&63]+r[P<<2&63]+"=")),V.join("")}var C={};C.read=function(O,P,q,z,V){var Z,J,W=V*8-z-1,te=(1<<W)-1,G=te>>1,D=-7,M=q?V-1:0,v=q?-1:1,S=O[P+M];for(M+=v,Z=S&(1<<-D)-1,S>>=-D,D+=W;D>0;Z=Z*256+O[P+M],M+=v,D-=8);for(J=Z&(1<<-D)-1,Z>>=-D,D+=z;D>0;J=J*256+O[P+M],M+=v,D-=8);if(Z===0)Z=1-G;else{if(Z===te)return J?NaN:(S?-1:1)*(1/0);J=J+Math.pow(2,z),Z=Z-G}return(S?-1:1)*J*Math.pow(2,Z-z)},C.write=function(O,P,q,z,V,Z){var J,W,te,G=Z*8-V-1,D=(1<<G)-1,M=D>>1,v=V===23?Math.pow(2,-24)-Math.pow(2,-77):0,S=z?0:Z-1,N=z?1:-1,R=P<0||P===0&&1/P<0?1:0;for(P=Math.abs(P),isNaN(P)||P===1/0?(W=isNaN(P)?1:0,J=D):(J=Math.floor(Math.log(P)/Math.LN2),P*(te=Math.pow(2,-J))<1&&(J--,te*=2),J+M>=1?P+=v/te:P+=v*Math.pow(2,1-M),P*te>=2&&(J++,te/=2),J+M>=D?(W=0,J=D):J+M>=1?(W=(P*te-1)*Math.pow(2,V),J=J+M):(W=P*Math.pow(2,M-1)*Math.pow(2,V),J=0));V>=8;O[q+S]=W&255,S+=N,W/=256,V-=8);for(J=J<<V|W,G+=V;G>0;O[q+S]=J&255,S+=N,J/=256,G-=8);O[q+S-N]|=R*128};(function(O){const P=a,q=C,z=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;O.Buffer=D,O.SlowBuffer=L,O.INSPECT_MAX_BYTES=50;const V=2147483647;O.kMaxLength=V;const{Uint8Array:Z,ArrayBuffer:J,SharedArrayBuffer:W}=globalThis;D.TYPED_ARRAY_SUPPORT=te(),!D.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function te(){try{const de=new Z(1),ne={foo:function(){return 42}};return Object.setPrototypeOf(ne,Z.prototype),Object.setPrototypeOf(de,ne),de.foo()===42}catch{return!1}}Object.defineProperty(D.prototype,"parent",{enumerable:!0,get:function(){if(D.isBuffer(this))return this.buffer}}),Object.defineProperty(D.prototype,"offset",{enumerable:!0,get:function(){if(D.isBuffer(this))return this.byteOffset}});function G(de){if(de>V)throw new RangeError('The value "'+de+'" is invalid for option "size"');const ne=new Z(de);return Object.setPrototypeOf(ne,D.prototype),ne}function D(de,ne,ae){if(typeof de=="number"){if(typeof ne=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return N(de)}return M(de,ne,ae)}D.poolSize=8192;function M(de,ne,ae){if(typeof de=="string")return R(de,ne);if(J.isView(de))return j(de);if(de==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof de);if(mt(de,J)||de&&mt(de.buffer,J)||typeof W<"u"&&(mt(de,W)||de&&mt(de.buffer,W)))return I(de,ne,ae);if(typeof de=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ve=de.valueOf&&de.valueOf();if(ve!=null&&ve!==de)return D.from(ve,ne,ae);const Ee=A(de);if(Ee)return Ee;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof de[Symbol.toPrimitive]=="function")return D.from(de[Symbol.toPrimitive]("string"),ne,ae);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof de)}D.from=function(de,ne,ae){return M(de,ne,ae)},Object.setPrototypeOf(D.prototype,Z.prototype),Object.setPrototypeOf(D,Z);function v(de){if(typeof de!="number")throw new TypeError('"size" argument must be of type number');if(de<0)throw new RangeError('The value "'+de+'" is invalid for option "size"')}function S(de,ne,ae){return v(de),de<=0?G(de):ne!==void 0?typeof ae=="string"?G(de).fill(ne,ae):G(de).fill(ne):G(de)}D.alloc=function(de,ne,ae){return S(de,ne,ae)};function N(de){return v(de),G(de<0?0:$(de)|0)}D.allocUnsafe=function(de){return N(de)},D.allocUnsafeSlow=function(de){return N(de)};function R(de,ne){if((typeof ne!="string"||ne==="")&&(ne="utf8"),!D.isEncoding(ne))throw new TypeError("Unknown encoding: "+ne);const ae=Y(de,ne)|0;let ve=G(ae);const Ee=ve.write(de,ne);return Ee!==ae&&(ve=ve.slice(0,Ee)),ve}function k(de){const ne=de.length<0?0:$(de.length)|0,ae=G(ne);for(let ve=0;ve<ne;ve+=1)ae[ve]=de[ve]&255;return ae}function j(de){if(mt(de,Z)){const ne=new Z(de);return I(ne.buffer,ne.byteOffset,ne.byteLength)}return k(de)}function I(de,ne,ae){if(ne<0||de.byteLength<ne)throw new RangeError('"offset" is outside of buffer bounds');if(de.byteLength<ne+(ae||0))throw new RangeError('"length" is outside of buffer bounds');let ve;return ne===void 0&&ae===void 0?ve=new Z(de):ae===void 0?ve=new Z(de,ne):ve=new Z(de,ne,ae),Object.setPrototypeOf(ve,D.prototype),ve}function A(de){if(D.isBuffer(de)){const ne=$(de.length)|0,ae=G(ne);return ae.length===0||de.copy(ae,0,0,ne),ae}if(de.length!==void 0)return typeof de.length!="number"||ut(de.length)?G(0):k(de);if(de.type==="Buffer"&&Array.isArray(de.data))return k(de.data)}function $(de){if(de>=V)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+V.toString(16)+" bytes");return de|0}function L(de){return+de!=de&&(de=0),D.alloc(+de)}D.isBuffer=function(ne){return ne!=null&&ne._isBuffer===!0&&ne!==D.prototype},D.compare=function(ne,ae){if(mt(ne,Z)&&(ne=D.from(ne,ne.offset,ne.byteLength)),mt(ae,Z)&&(ae=D.from(ae,ae.offset,ae.byteLength)),!D.isBuffer(ne)||!D.isBuffer(ae))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(ne===ae)return 0;let ve=ne.length,Ee=ae.length;for(let Me=0,Ne=Math.min(ve,Ee);Me<Ne;++Me)if(ne[Me]!==ae[Me]){ve=ne[Me],Ee=ae[Me];break}return ve<Ee?-1:Ee<ve?1:0},D.isEncoding=function(ne){switch(String(ne).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},D.concat=function(ne,ae){if(!Array.isArray(ne))throw new TypeError('"list" argument must be an Array of Buffers');if(ne.length===0)return D.alloc(0);let ve;if(ae===void 0)for(ae=0,ve=0;ve<ne.length;++ve)ae+=ne[ve].length;const Ee=D.allocUnsafe(ae);let Me=0;for(ve=0;ve<ne.length;++ve){let Ne=ne[ve];if(mt(Ne,Z))Me+Ne.length>Ee.length?(D.isBuffer(Ne)||(Ne=D.from(Ne)),Ne.copy(Ee,Me)):Z.prototype.set.call(Ee,Ne,Me);else if(D.isBuffer(Ne))Ne.copy(Ee,Me);else throw new TypeError('"list" argument must be an Array of Buffers');Me+=Ne.length}return Ee};function Y(de,ne){if(D.isBuffer(de))return de.length;if(J.isView(de)||mt(de,J))return de.byteLength;if(typeof de!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof de);const ae=de.length,ve=arguments.length>2&&arguments[2]===!0;if(!ve&&ae===0)return 0;let Ee=!1;for(;;)switch(ne){case"ascii":case"latin1":case"binary":return ae;case"utf8":case"utf-8":return Ye(de).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ae*2;case"hex":return ae>>>1;case"base64":return et(de).length;default:if(Ee)return ve?-1:Ye(de).length;ne=(""+ne).toLowerCase(),Ee=!0}}D.byteLength=Y;function le(de,ne,ae){let ve=!1;if((ne===void 0||ne<0)&&(ne=0),ne>this.length||((ae===void 0||ae>this.length)&&(ae=this.length),ae<=0)||(ae>>>=0,ne>>>=0,ae<=ne))return"";for(de||(de="utf8");;)switch(de){case"hex":return Ue(this,ne,ae);case"utf8":case"utf-8":return xe(this,ne,ae);case"ascii":return De(this,ne,ae);case"latin1":case"binary":return $e(this,ne,ae);case"base64":return ge(this,ne,ae);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Be(this,ne,ae);default:if(ve)throw new TypeError("Unknown encoding: "+de);de=(de+"").toLowerCase(),ve=!0}}D.prototype._isBuffer=!0;function re(de,ne,ae){const ve=de[ne];de[ne]=de[ae],de[ae]=ve}D.prototype.swap16=function(){const ne=this.length;if(ne%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let ae=0;ae<ne;ae+=2)re(this,ae,ae+1);return this},D.prototype.swap32=function(){const ne=this.length;if(ne%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let ae=0;ae<ne;ae+=4)re(this,ae,ae+3),re(this,ae+1,ae+2);return this},D.prototype.swap64=function(){const ne=this.length;if(ne%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let ae=0;ae<ne;ae+=8)re(this,ae,ae+7),re(this,ae+1,ae+6),re(this,ae+2,ae+5),re(this,ae+3,ae+4);return this},D.prototype.toString=function(){const ne=this.length;return ne===0?"":arguments.length===0?xe(this,0,ne):le.apply(this,arguments)},D.prototype.toLocaleString=D.prototype.toString,D.prototype.equals=function(ne){if(!D.isBuffer(ne))throw new TypeError("Argument must be a Buffer");return this===ne?!0:D.compare(this,ne)===0},D.prototype.inspect=function(){let ne="";const ae=O.INSPECT_MAX_BYTES;return ne=this.toString("hex",0,ae).replace(/(.{2})/g,"$1 ").trim(),this.length>ae&&(ne+=" ... "),"<Buffer "+ne+">"},z&&(D.prototype[z]=D.prototype.inspect),D.prototype.compare=function(ne,ae,ve,Ee,Me){if(mt(ne,Z)&&(ne=D.from(ne,ne.offset,ne.byteLength)),!D.isBuffer(ne))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof ne);if(ae===void 0&&(ae=0),ve===void 0&&(ve=ne?ne.length:0),Ee===void 0&&(Ee=0),Me===void 0&&(Me=this.length),ae<0||ve>ne.length||Ee<0||Me>this.length)throw new RangeError("out of range index");if(Ee>=Me&&ae>=ve)return 0;if(Ee>=Me)return-1;if(ae>=ve)return 1;if(ae>>>=0,ve>>>=0,Ee>>>=0,Me>>>=0,this===ne)return 0;let Ne=Me-Ee,it=ve-ae;const at=Math.min(Ne,it),Xe=this.slice(Ee,Me),ct=ne.slice(ae,ve);for(let Qe=0;Qe<at;++Qe)if(Xe[Qe]!==ct[Qe]){Ne=Xe[Qe],it=ct[Qe];break}return Ne<it?-1:it<Ne?1:0};function U(de,ne,ae,ve,Ee){if(de.length===0)return-1;if(typeof ae=="string"?(ve=ae,ae=0):ae>2147483647?ae=2147483647:ae<-2147483648&&(ae=-2147483648),ae=+ae,ut(ae)&&(ae=Ee?0:de.length-1),ae<0&&(ae=de.length+ae),ae>=de.length){if(Ee)return-1;ae=de.length-1}else if(ae<0)if(Ee)ae=0;else return-1;if(typeof ne=="string"&&(ne=D.from(ne,ve)),D.isBuffer(ne))return ne.length===0?-1:K(de,ne,ae,ve,Ee);if(typeof ne=="number")return ne=ne&255,typeof Z.prototype.indexOf=="function"?Ee?Z.prototype.indexOf.call(de,ne,ae):Z.prototype.lastIndexOf.call(de,ne,ae):K(de,[ne],ae,ve,Ee);throw new TypeError("val must be string, number or Buffer")}function K(de,ne,ae,ve,Ee){let Me=1,Ne=de.length,it=ne.length;if(ve!==void 0&&(ve=String(ve).toLowerCase(),ve==="ucs2"||ve==="ucs-2"||ve==="utf16le"||ve==="utf-16le")){if(de.length<2||ne.length<2)return-1;Me=2,Ne/=2,it/=2,ae/=2}function at(ct,Qe){return Me===1?ct[Qe]:ct.readUInt16BE(Qe*Me)}let Xe;if(Ee){let ct=-1;for(Xe=ae;Xe<Ne;Xe++)if(at(de,Xe)===at(ne,ct===-1?0:Xe-ct)){if(ct===-1&&(ct=Xe),Xe-ct+1===it)return ct*Me}else ct!==-1&&(Xe-=Xe-ct),ct=-1}else for(ae+it>Ne&&(ae=Ne-it),Xe=ae;Xe>=0;Xe--){let ct=!0;for(let Qe=0;Qe<it;Qe++)if(at(de,Xe+Qe)!==at(ne,Qe)){ct=!1;break}if(ct)return Xe}return-1}D.prototype.includes=function(ne,ae,ve){return this.indexOf(ne,ae,ve)!==-1},D.prototype.indexOf=function(ne,ae,ve){return U(this,ne,ae,ve,!0)},D.prototype.lastIndexOf=function(ne,ae,ve){return U(this,ne,ae,ve,!1)};function se(de,ne,ae,ve){ae=Number(ae)||0;const Ee=de.length-ae;ve?(ve=Number(ve),ve>Ee&&(ve=Ee)):ve=Ee;const Me=ne.length;ve>Me/2&&(ve=Me/2);let Ne;for(Ne=0;Ne<ve;++Ne){const it=parseInt(ne.substr(Ne*2,2),16);if(ut(it))return Ne;de[ae+Ne]=it}return Ne}function he(de,ne,ae,ve){return tt(Ye(ne,de.length-ae),de,ae,ve)}function ue(de,ne,ae,ve){return tt(Je(ne),de,ae,ve)}function ee(de,ne,ae,ve){return tt(et(ne),de,ae,ve)}function fe(de,ne,ae,ve){return tt(st(ne,de.length-ae),de,ae,ve)}D.prototype.write=function(ne,ae,ve,Ee){if(ae===void 0)Ee="utf8",ve=this.length,ae=0;else if(ve===void 0&&typeof ae=="string")Ee=ae,ve=this.length,ae=0;else if(isFinite(ae))ae=ae>>>0,isFinite(ve)?(ve=ve>>>0,Ee===void 0&&(Ee="utf8")):(Ee=ve,ve=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Me=this.length-ae;if((ve===void 0||ve>Me)&&(ve=Me),ne.length>0&&(ve<0||ae<0)||ae>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ee||(Ee="utf8");let Ne=!1;for(;;)switch(Ee){case"hex":return se(this,ne,ae,ve);case"utf8":case"utf-8":return he(this,ne,ae,ve);case"ascii":case"latin1":case"binary":return ue(this,ne,ae,ve);case"base64":return ee(this,ne,ae,ve);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return fe(this,ne,ae,ve);default:if(Ne)throw new TypeError("Unknown encoding: "+Ee);Ee=(""+Ee).toLowerCase(),Ne=!0}},D.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ge(de,ne,ae){return ne===0&&ae===de.length?P.fromByteArray(de):P.fromByteArray(de.slice(ne,ae))}function xe(de,ne,ae){ae=Math.min(de.length,ae);const ve=[];let Ee=ne;for(;Ee<ae;){const Me=de[Ee];let Ne=null,it=Me>239?4:Me>223?3:Me>191?2:1;if(Ee+it<=ae){let at,Xe,ct,Qe;switch(it){case 1:Me<128&&(Ne=Me);break;case 2:at=de[Ee+1],(at&192)===128&&(Qe=(Me&31)<<6|at&63,Qe>127&&(Ne=Qe));break;case 3:at=de[Ee+1],Xe=de[Ee+2],(at&192)===128&&(Xe&192)===128&&(Qe=(Me&15)<<12|(at&63)<<6|Xe&63,Qe>2047&&(Qe<55296||Qe>57343)&&(Ne=Qe));break;case 4:at=de[Ee+1],Xe=de[Ee+2],ct=de[Ee+3],(at&192)===128&&(Xe&192)===128&&(ct&192)===128&&(Qe=(Me&15)<<18|(at&63)<<12|(Xe&63)<<6|ct&63,Qe>65535&&Qe<1114112&&(Ne=Qe))}}Ne===null?(Ne=65533,it=1):Ne>65535&&(Ne-=65536,ve.push(Ne>>>10&1023|55296),Ne=56320|Ne&1023),ve.push(Ne),Ee+=it}return Ie(ve)}const _e=4096;function Ie(de){const ne=de.length;if(ne<=_e)return String.fromCharCode.apply(String,de);let ae="",ve=0;for(;ve<ne;)ae+=String.fromCharCode.apply(String,de.slice(ve,ve+=_e));return ae}function De(de,ne,ae){let ve="";ae=Math.min(de.length,ae);for(let Ee=ne;Ee<ae;++Ee)ve+=String.fromCharCode(de[Ee]&127);return ve}function $e(de,ne,ae){let ve="";ae=Math.min(de.length,ae);for(let Ee=ne;Ee<ae;++Ee)ve+=String.fromCharCode(de[Ee]);return ve}function Ue(de,ne,ae){const ve=de.length;(!ne||ne<0)&&(ne=0),(!ae||ae<0||ae>ve)&&(ae=ve);let Ee="";for(let Me=ne;Me<ae;++Me)Ee+=nt[de[Me]];return Ee}function Be(de,ne,ae){const ve=de.slice(ne,ae);let Ee="";for(let Me=0;Me<ve.length-1;Me+=2)Ee+=String.fromCharCode(ve[Me]+ve[Me+1]*256);return Ee}D.prototype.slice=function(ne,ae){const ve=this.length;ne=~~ne,ae=ae===void 0?ve:~~ae,ne<0?(ne+=ve,ne<0&&(ne=0)):ne>ve&&(ne=ve),ae<0?(ae+=ve,ae<0&&(ae=0)):ae>ve&&(ae=ve),ae<ne&&(ae=ne);const Ee=this.subarray(ne,ae);return Object.setPrototypeOf(Ee,D.prototype),Ee};function Ve(de,ne,ae){if(de%1!==0||de<0)throw new RangeError("offset is not uint");if(de+ne>ae)throw new RangeError("Trying to access beyond buffer length")}D.prototype.readUintLE=D.prototype.readUIntLE=function(ne,ae,ve){ne=ne>>>0,ae=ae>>>0,ve||Ve(ne,ae,this.length);let Ee=this[ne],Me=1,Ne=0;for(;++Ne<ae&&(Me*=256);)Ee+=this[ne+Ne]*Me;return Ee},D.prototype.readUintBE=D.prototype.readUIntBE=function(ne,ae,ve){ne=ne>>>0,ae=ae>>>0,ve||Ve(ne,ae,this.length);let Ee=this[ne+--ae],Me=1;for(;ae>0&&(Me*=256);)Ee+=this[ne+--ae]*Me;return Ee},D.prototype.readUint8=D.prototype.readUInt8=function(ne,ae){return ne=ne>>>0,ae||Ve(ne,1,this.length),this[ne]},D.prototype.readUint16LE=D.prototype.readUInt16LE=function(ne,ae){return ne=ne>>>0,ae||Ve(ne,2,this.length),this[ne]|this[ne+1]<<8},D.prototype.readUint16BE=D.prototype.readUInt16BE=function(ne,ae){return ne=ne>>>0,ae||Ve(ne,2,this.length),this[ne]<<8|this[ne+1]},D.prototype.readUint32LE=D.prototype.readUInt32LE=function(ne,ae){return ne=ne>>>0,ae||Ve(ne,4,this.length),(this[ne]|this[ne+1]<<8|this[ne+2]<<16)+this[ne+3]*16777216},D.prototype.readUint32BE=D.prototype.readUInt32BE=function(ne,ae){return ne=ne>>>0,ae||Ve(ne,4,this.length),this[ne]*16777216+(this[ne+1]<<16|this[ne+2]<<8|this[ne+3])},D.prototype.readBigUInt64LE=yt(function(ne){ne=ne>>>0,be(ne,"offset");const ae=this[ne],ve=this[ne+7];(ae===void 0||ve===void 0)&&we(ne,this.length-8);const Ee=ae+this[++ne]*2**8+this[++ne]*2**16+this[++ne]*2**24,Me=this[++ne]+this[++ne]*2**8+this[++ne]*2**16+ve*2**24;return BigInt(Ee)+(BigInt(Me)<<BigInt(32))}),D.prototype.readBigUInt64BE=yt(function(ne){ne=ne>>>0,be(ne,"offset");const ae=this[ne],ve=this[ne+7];(ae===void 0||ve===void 0)&&we(ne,this.length-8);const Ee=ae*2**24+this[++ne]*2**16+this[++ne]*2**8+this[++ne],Me=this[++ne]*2**24+this[++ne]*2**16+this[++ne]*2**8+ve;return(BigInt(Ee)<<BigInt(32))+BigInt(Me)}),D.prototype.readIntLE=function(ne,ae,ve){ne=ne>>>0,ae=ae>>>0,ve||Ve(ne,ae,this.length);let Ee=this[ne],Me=1,Ne=0;for(;++Ne<ae&&(Me*=256);)Ee+=this[ne+Ne]*Me;return Me*=128,Ee>=Me&&(Ee-=Math.pow(2,8*ae)),Ee},D.prototype.readIntBE=function(ne,ae,ve){ne=ne>>>0,ae=ae>>>0,ve||Ve(ne,ae,this.length);let Ee=ae,Me=1,Ne=this[ne+--Ee];for(;Ee>0&&(Me*=256);)Ne+=this[ne+--Ee]*Me;return Me*=128,Ne>=Me&&(Ne-=Math.pow(2,8*ae)),Ne},D.prototype.readInt8=function(ne,ae){return ne=ne>>>0,ae||Ve(ne,1,this.length),this[ne]&128?(255-this[ne]+1)*-1:this[ne]},D.prototype.readInt16LE=function(ne,ae){ne=ne>>>0,ae||Ve(ne,2,this.length);const ve=this[ne]|this[ne+1]<<8;return ve&32768?ve|4294901760:ve},D.prototype.readInt16BE=function(ne,ae){ne=ne>>>0,ae||Ve(ne,2,this.length);const ve=this[ne+1]|this[ne]<<8;return ve&32768?ve|4294901760:ve},D.prototype.readInt32LE=function(ne,ae){return ne=ne>>>0,ae||Ve(ne,4,this.length),this[ne]|this[ne+1]<<8|this[ne+2]<<16|this[ne+3]<<24},D.prototype.readInt32BE=function(ne,ae){return ne=ne>>>0,ae||Ve(ne,4,this.length),this[ne]<<24|this[ne+1]<<16|this[ne+2]<<8|this[ne+3]},D.prototype.readBigInt64LE=yt(function(ne){ne=ne>>>0,be(ne,"offset");const ae=this[ne],ve=this[ne+7];(ae===void 0||ve===void 0)&&we(ne,this.length-8);const Ee=this[ne+4]+this[ne+5]*2**8+this[ne+6]*2**16+(ve<<24);return(BigInt(Ee)<<BigInt(32))+BigInt(ae+this[++ne]*2**8+this[++ne]*2**16+this[++ne]*2**24)}),D.prototype.readBigInt64BE=yt(function(ne){ne=ne>>>0,be(ne,"offset");const ae=this[ne],ve=this[ne+7];(ae===void 0||ve===void 0)&&we(ne,this.length-8);const Ee=(ae<<24)+this[++ne]*2**16+this[++ne]*2**8+this[++ne];return(BigInt(Ee)<<BigInt(32))+BigInt(this[++ne]*2**24+this[++ne]*2**16+this[++ne]*2**8+ve)}),D.prototype.readFloatLE=function(ne,ae){return ne=ne>>>0,ae||Ve(ne,4,this.length),q.read(this,ne,!0,23,4)},D.prototype.readFloatBE=function(ne,ae){return ne=ne>>>0,ae||Ve(ne,4,this.length),q.read(this,ne,!1,23,4)},D.prototype.readDoubleLE=function(ne,ae){return ne=ne>>>0,ae||Ve(ne,8,this.length),q.read(this,ne,!0,52,8)},D.prototype.readDoubleBE=function(ne,ae){return ne=ne>>>0,ae||Ve(ne,8,this.length),q.read(this,ne,!1,52,8)};function He(de,ne,ae,ve,Ee,Me){if(!D.isBuffer(de))throw new TypeError('"buffer" argument must be a Buffer instance');if(ne>Ee||ne<Me)throw new RangeError('"value" argument is out of bounds');if(ae+ve>de.length)throw new RangeError("Index out of range")}D.prototype.writeUintLE=D.prototype.writeUIntLE=function(ne,ae,ve,Ee){if(ne=+ne,ae=ae>>>0,ve=ve>>>0,!Ee){const it=Math.pow(2,8*ve)-1;He(this,ne,ae,ve,it,0)}let Me=1,Ne=0;for(this[ae]=ne&255;++Ne<ve&&(Me*=256);)this[ae+Ne]=ne/Me&255;return ae+ve},D.prototype.writeUintBE=D.prototype.writeUIntBE=function(ne,ae,ve,Ee){if(ne=+ne,ae=ae>>>0,ve=ve>>>0,!Ee){const it=Math.pow(2,8*ve)-1;He(this,ne,ae,ve,it,0)}let Me=ve-1,Ne=1;for(this[ae+Me]=ne&255;--Me>=0&&(Ne*=256);)this[ae+Me]=ne/Ne&255;return ae+ve},D.prototype.writeUint8=D.prototype.writeUInt8=function(ne,ae,ve){return ne=+ne,ae=ae>>>0,ve||He(this,ne,ae,1,255,0),this[ae]=ne&255,ae+1},D.prototype.writeUint16LE=D.prototype.writeUInt16LE=function(ne,ae,ve){return ne=+ne,ae=ae>>>0,ve||He(this,ne,ae,2,65535,0),this[ae]=ne&255,this[ae+1]=ne>>>8,ae+2},D.prototype.writeUint16BE=D.prototype.writeUInt16BE=function(ne,ae,ve){return ne=+ne,ae=ae>>>0,ve||He(this,ne,ae,2,65535,0),this[ae]=ne>>>8,this[ae+1]=ne&255,ae+2},D.prototype.writeUint32LE=D.prototype.writeUInt32LE=function(ne,ae,ve){return ne=+ne,ae=ae>>>0,ve||He(this,ne,ae,4,4294967295,0),this[ae+3]=ne>>>24,this[ae+2]=ne>>>16,this[ae+1]=ne>>>8,this[ae]=ne&255,ae+4},D.prototype.writeUint32BE=D.prototype.writeUInt32BE=function(ne,ae,ve){return ne=+ne,ae=ae>>>0,ve||He(this,ne,ae,4,4294967295,0),this[ae]=ne>>>24,this[ae+1]=ne>>>16,this[ae+2]=ne>>>8,this[ae+3]=ne&255,ae+4};function Ae(de,ne,ae,ve,Ee){pe(ne,ve,Ee,de,ae,7);let Me=Number(ne&BigInt(4294967295));de[ae++]=Me,Me=Me>>8,de[ae++]=Me,Me=Me>>8,de[ae++]=Me,Me=Me>>8,de[ae++]=Me;let Ne=Number(ne>>BigInt(32)&BigInt(4294967295));return de[ae++]=Ne,Ne=Ne>>8,de[ae++]=Ne,Ne=Ne>>8,de[ae++]=Ne,Ne=Ne>>8,de[ae++]=Ne,ae}function Ce(de,ne,ae,ve,Ee){pe(ne,ve,Ee,de,ae,7);let Me=Number(ne&BigInt(4294967295));de[ae+7]=Me,Me=Me>>8,de[ae+6]=Me,Me=Me>>8,de[ae+5]=Me,Me=Me>>8,de[ae+4]=Me;let Ne=Number(ne>>BigInt(32)&BigInt(4294967295));return de[ae+3]=Ne,Ne=Ne>>8,de[ae+2]=Ne,Ne=Ne>>8,de[ae+1]=Ne,Ne=Ne>>8,de[ae]=Ne,ae+8}D.prototype.writeBigUInt64LE=yt(function(ne,ae=0){return Ae(this,ne,ae,BigInt(0),BigInt("0xffffffffffffffff"))}),D.prototype.writeBigUInt64BE=yt(function(ne,ae=0){return Ce(this,ne,ae,BigInt(0),BigInt("0xffffffffffffffff"))}),D.prototype.writeIntLE=function(ne,ae,ve,Ee){if(ne=+ne,ae=ae>>>0,!Ee){const at=Math.pow(2,8*ve-1);He(this,ne,ae,ve,at-1,-at)}let Me=0,Ne=1,it=0;for(this[ae]=ne&255;++Me<ve&&(Ne*=256);)ne<0&&it===0&&this[ae+Me-1]!==0&&(it=1),this[ae+Me]=(ne/Ne>>0)-it&255;return ae+ve},D.prototype.writeIntBE=function(ne,ae,ve,Ee){if(ne=+ne,ae=ae>>>0,!Ee){const at=Math.pow(2,8*ve-1);He(this,ne,ae,ve,at-1,-at)}let Me=ve-1,Ne=1,it=0;for(this[ae+Me]=ne&255;--Me>=0&&(Ne*=256);)ne<0&&it===0&&this[ae+Me+1]!==0&&(it=1),this[ae+Me]=(ne/Ne>>0)-it&255;return ae+ve},D.prototype.writeInt8=function(ne,ae,ve){return ne=+ne,ae=ae>>>0,ve||He(this,ne,ae,1,127,-128),ne<0&&(ne=255+ne+1),this[ae]=ne&255,ae+1},D.prototype.writeInt16LE=function(ne,ae,ve){return ne=+ne,ae=ae>>>0,ve||He(this,ne,ae,2,32767,-32768),this[ae]=ne&255,this[ae+1]=ne>>>8,ae+2},D.prototype.writeInt16BE=function(ne,ae,ve){return ne=+ne,ae=ae>>>0,ve||He(this,ne,ae,2,32767,-32768),this[ae]=ne>>>8,this[ae+1]=ne&255,ae+2},D.prototype.writeInt32LE=function(ne,ae,ve){return ne=+ne,ae=ae>>>0,ve||He(this,ne,ae,4,2147483647,-2147483648),this[ae]=ne&255,this[ae+1]=ne>>>8,this[ae+2]=ne>>>16,this[ae+3]=ne>>>24,ae+4},D.prototype.writeInt32BE=function(ne,ae,ve){return ne=+ne,ae=ae>>>0,ve||He(this,ne,ae,4,2147483647,-2147483648),ne<0&&(ne=4294967295+ne+1),this[ae]=ne>>>24,this[ae+1]=ne>>>16,this[ae+2]=ne>>>8,this[ae+3]=ne&255,ae+4},D.prototype.writeBigInt64LE=yt(function(ne,ae=0){return Ae(this,ne,ae,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),D.prototype.writeBigInt64BE=yt(function(ne,ae=0){return Ce(this,ne,ae,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Te(de,ne,ae,ve,Ee,Me){if(ae+ve>de.length)throw new RangeError("Index out of range");if(ae<0)throw new RangeError("Index out of range")}function ye(de,ne,ae,ve,Ee){return ne=+ne,ae=ae>>>0,Ee||Te(de,ne,ae,4),q.write(de,ne,ae,ve,23,4),ae+4}D.prototype.writeFloatLE=function(ne,ae,ve){return ye(this,ne,ae,!0,ve)},D.prototype.writeFloatBE=function(ne,ae,ve){return ye(this,ne,ae,!1,ve)};function Fe(de,ne,ae,ve,Ee){return ne=+ne,ae=ae>>>0,Ee||Te(de,ne,ae,8),q.write(de,ne,ae,ve,52,8),ae+8}D.prototype.writeDoubleLE=function(ne,ae,ve){return Fe(this,ne,ae,!0,ve)},D.prototype.writeDoubleBE=function(ne,ae,ve){return Fe(this,ne,ae,!1,ve)},D.prototype.copy=function(ne,ae,ve,Ee){if(!D.isBuffer(ne))throw new TypeError("argument should be a Buffer");if(ve||(ve=0),!Ee&&Ee!==0&&(Ee=this.length),ae>=ne.length&&(ae=ne.length),ae||(ae=0),Ee>0&&Ee<ve&&(Ee=ve),Ee===ve||ne.length===0||this.length===0)return 0;if(ae<0)throw new RangeError("targetStart out of bounds");if(ve<0||ve>=this.length)throw new RangeError("Index out of range");if(Ee<0)throw new RangeError("sourceEnd out of bounds");Ee>this.length&&(Ee=this.length),ne.length-ae<Ee-ve&&(Ee=ne.length-ae+ve);const Me=Ee-ve;return this===ne&&typeof Z.prototype.copyWithin=="function"?this.copyWithin(ae,ve,Ee):Z.prototype.set.call(ne,this.subarray(ve,Ee),ae),Me},D.prototype.fill=function(ne,ae,ve,Ee){if(typeof ne=="string"){if(typeof ae=="string"?(Ee=ae,ae=0,ve=this.length):typeof ve=="string"&&(Ee=ve,ve=this.length),Ee!==void 0&&typeof Ee!="string")throw new TypeError("encoding must be a string");if(typeof Ee=="string"&&!D.isEncoding(Ee))throw new TypeError("Unknown encoding: "+Ee);if(ne.length===1){const Ne=ne.charCodeAt(0);(Ee==="utf8"&&Ne<128||Ee==="latin1")&&(ne=Ne)}}else typeof ne=="number"?ne=ne&255:typeof ne=="boolean"&&(ne=Number(ne));if(ae<0||this.length<ae||this.length<ve)throw new RangeError("Out of range index");if(ve<=ae)return this;ae=ae>>>0,ve=ve===void 0?this.length:ve>>>0,ne||(ne=0);let Me;if(typeof ne=="number")for(Me=ae;Me<ve;++Me)this[Me]=ne;else{const Ne=D.isBuffer(ne)?ne:D.from(ne,Ee),it=Ne.length;if(it===0)throw new TypeError('The value "'+ne+'" is invalid for argument "value"');for(Me=0;Me<ve-ae;++Me)this[Me+ae]=Ne[Me%it]}return this};const qe={};function oe(de,ne,ae){qe[de]=class extends ae{constructor(){super(),Object.defineProperty(this,"message",{value:ne.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${de}]`,this.stack,delete this.name}get code(){return de}set code(Ee){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Ee,writable:!0})}toString(){return`${this.name} [${de}]: ${this.message}`}}}oe("ERR_BUFFER_OUT_OF_BOUNDS",function(de){return de?`${de} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),oe("ERR_INVALID_ARG_TYPE",function(de,ne){return`The "${de}" argument must be of type number. Received type ${typeof ne}`},TypeError),oe("ERR_OUT_OF_RANGE",function(de,ne,ae){let ve=`The value of "${de}" is out of range.`,Ee=ae;return Number.isInteger(ae)&&Math.abs(ae)>2**32?Ee=Q(String(ae)):typeof ae=="bigint"&&(Ee=String(ae),(ae>BigInt(2)**BigInt(32)||ae<-(BigInt(2)**BigInt(32)))&&(Ee=Q(Ee)),Ee+="n"),ve+=` It must be ${ne}. Received ${Ee}`,ve},RangeError);function Q(de){let ne="",ae=de.length;const ve=de[0]==="-"?1:0;for(;ae>=ve+4;ae-=3)ne=`_${de.slice(ae-3,ae)}${ne}`;return`${de.slice(0,ae)}${ne}`}function ie(de,ne,ae){be(ne,"offset"),(de[ne]===void 0||de[ne+ae]===void 0)&&we(ne,de.length-(ae+1))}function pe(de,ne,ae,ve,Ee,Me){if(de>ae||de<ne){const Ne=typeof ne=="bigint"?"n":"";let it;throw ne===0||ne===BigInt(0)?it=`>= 0${Ne} and < 2${Ne} ** ${(Me+1)*8}${Ne}`:it=`>= -(2${Ne} ** ${(Me+1)*8-1}${Ne}) and < 2 ** ${(Me+1)*8-1}${Ne}`,new qe.ERR_OUT_OF_RANGE("value",it,de)}ie(ve,Ee,Me)}function be(de,ne){if(typeof de!="number")throw new qe.ERR_INVALID_ARG_TYPE(ne,"number",de)}function we(de,ne,ae){throw Math.floor(de)!==de?(be(de,ae),new qe.ERR_OUT_OF_RANGE("offset","an integer",de)):ne<0?new qe.ERR_BUFFER_OUT_OF_BOUNDS:new qe.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${ne}`,de)}const Re=/[^+/0-9A-Za-z-_]/g;function Ge(de){if(de=de.split("=")[0],de=de.trim().replace(Re,""),de.length<2)return"";for(;de.length%4!==0;)de=de+"=";return de}function Ye(de,ne){ne=ne||1/0;let ae;const ve=de.length;let Ee=null;const Me=[];for(let Ne=0;Ne<ve;++Ne){if(ae=de.charCodeAt(Ne),ae>55295&&ae<57344){if(!Ee){if(ae>56319){(ne-=3)>-1&&Me.push(239,191,189);continue}else if(Ne+1===ve){(ne-=3)>-1&&Me.push(239,191,189);continue}Ee=ae;continue}if(ae<56320){(ne-=3)>-1&&Me.push(239,191,189),Ee=ae;continue}ae=(Ee-55296<<10|ae-56320)+65536}else Ee&&(ne-=3)>-1&&Me.push(239,191,189);if(Ee=null,ae<128){if((ne-=1)<0)break;Me.push(ae)}else if(ae<2048){if((ne-=2)<0)break;Me.push(ae>>6|192,ae&63|128)}else if(ae<65536){if((ne-=3)<0)break;Me.push(ae>>12|224,ae>>6&63|128,ae&63|128)}else if(ae<1114112){if((ne-=4)<0)break;Me.push(ae>>18|240,ae>>12&63|128,ae>>6&63|128,ae&63|128)}else throw new Error("Invalid code point")}return Me}function Je(de){const ne=[];for(let ae=0;ae<de.length;++ae)ne.push(de.charCodeAt(ae)&255);return ne}function st(de,ne){let ae,ve,Ee;const Me=[];for(let Ne=0;Ne<de.length&&!((ne-=2)<0);++Ne)ae=de.charCodeAt(Ne),ve=ae>>8,Ee=ae%256,Me.push(Ee),Me.push(ve);return Me}function et(de){return P.toByteArray(Ge(de))}function tt(de,ne,ae,ve){let Ee;for(Ee=0;Ee<ve&&!(Ee+ae>=ne.length||Ee>=de.length);++Ee)ne[Ee+ae]=de[Ee];return Ee}function mt(de,ne){return de instanceof ne||de!=null&&de.constructor!=null&&de.constructor.name!=null&&de.constructor.name===ne.name}function ut(de){return de!==de}const nt=(function(){const de="0123456789abcdef",ne=new Array(256);for(let ae=0;ae<16;++ae){const ve=ae*16;for(let Ee=0;Ee<16;++Ee)ne[ve+Ee]=de[ae]+de[Ee]}return ne})();function yt(de){return typeof BigInt>"u"?ft:de}function ft(){throw new Error("BigInt not supported")}})(e);const B=e.Buffer;t.Blob=e.Blob,t.BlobOptions=e.BlobOptions,t.Buffer=e.Buffer,t.File=e.File,t.FileOptions=e.FileOptions,t.INSPECT_MAX_BYTES=e.INSPECT_MAX_BYTES,t.SlowBuffer=e.SlowBuffer,t.TranscodeEncoding=e.TranscodeEncoding,t.atob=e.atob,t.btoa=e.btoa,t.constants=e.constants,t.default=B,t.isAscii=e.isAscii,t.isUtf8=e.isUtf8,t.kMaxLength=e.kMaxLength,t.kStringMaxLength=e.kStringMaxLength,t.resolveObjectURL=e.resolveObjectURL,t.transcode=e.transcode})(dist)),dist}var hasRequiredSafeBuffer$2;function requireSafeBuffer$2(){return hasRequiredSafeBuffer$2||(hasRequiredSafeBuffer$2=1,(function(t,e){var a=requireDist(),r=a.Buffer;function o(l,c){for(var u in l)c[u]=l[u]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=a:(o(a,e),e.Buffer=s);function s(l,c,u){return r(l,c,u)}s.prototype=Object.create(r.prototype),o(r,s),s.from=function(l,c,u){if(typeof l=="number")throw new TypeError("Argument must not be a number");return r(l,c,u)},s.alloc=function(l,c,u){if(typeof l!="number")throw new TypeError("Argument must be a number");var h=r(l);return c!==void 0?typeof u=="string"?h.fill(c,u):h.fill(c):h.fill(0),h},s.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return r(l)},s.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return a.SlowBuffer(l)}})(safeBuffer$2,safeBuffer$2.exports)),safeBuffer$2.exports}var hasRequiredBrowser$b;function requireBrowser$b(){if(hasRequiredBrowser$b)return browser$b.exports;hasRequiredBrowser$b=1;var t=65536,e=4294967295;function a(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var r=requireSafeBuffer$2().Buffer,o=commonjsGlobal.crypto||commonjsGlobal.msCrypto;o&&o.getRandomValues?browser$b.exports=s:browser$b.exports=a;function s(l,c){if(l>e)throw new RangeError("requested too many random bytes");var u=r.allocUnsafe(l);if(l>0)if(l>t)for(var h=0;h<l;h+=t)o.getRandomValues(u.slice(h,h+t));else o.getRandomValues(u);return typeof c=="function"?process$1.nextTick(function(){c(null,u)}):u}return browser$b.exports}var inherits_browser={exports:{}},hasRequiredInherits_browser;function requireInherits_browser(){return hasRequiredInherits_browser||(hasRequiredInherits_browser=1,typeof Object.create=="function"?inherits_browser.exports=function(e,a){a&&(e.super_=a,e.prototype=Object.create(a.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:inherits_browser.exports=function(e,a){if(a){e.super_=a;var r=function(){};r.prototype=a.prototype,e.prototype=new r,e.prototype.constructor=e}}),inherits_browser.exports}var events={exports:{}},hasRequiredEvents;function requireEvents(){if(hasRequiredEvents)return events.exports;hasRequiredEvents=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(z,V,Z){return Function.prototype.apply.call(z,V,Z)},a;t&&typeof t.ownKeys=="function"?a=t.ownKeys:Object.getOwnPropertySymbols?a=function(z){return Object.getOwnPropertyNames(z).concat(Object.getOwnPropertySymbols(z))}:a=function(z){return Object.getOwnPropertyNames(z)};function r(q){console&&console.warn&&console.warn(q)}var o=Number.isNaN||function(z){return z!==z};function s(){s.init.call(this)}events.exports=s,events.exports.once=B,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var l=10;function c(q){if(typeof q!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof q)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(q){if(typeof q!="number"||q<0||o(q))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+q+".");l=q}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(z){if(typeof z!="number"||z<0||o(z))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+z+".");return this._maxListeners=z,this};function u(q){return q._maxListeners===void 0?s.defaultMaxListeners:q._maxListeners}s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(z){for(var V=[],Z=1;Z<arguments.length;Z++)V.push(arguments[Z]);var J=z==="error",W=this._events;if(W!==void 0)J=J&&W.error===void 0;else if(!J)return!1;if(J){var te;if(V.length>0&&(te=V[0]),te instanceof Error)throw te;var G=new Error("Unhandled error."+(te?" ("+te.message+")":""));throw G.context=te,G}var D=W[z];if(D===void 0)return!1;if(typeof D=="function")e(D,this,V);else for(var M=D.length,v=w(D,M),Z=0;Z<M;++Z)e(v[Z],this,V);return!0};function h(q,z,V,Z){var J,W,te;if(c(V),W=q._events,W===void 0?(W=q._events=Object.create(null),q._eventsCount=0):(W.newListener!==void 0&&(q.emit("newListener",z,V.listener?V.listener:V),W=q._events),te=W[z]),te===void 0)te=W[z]=V,++q._eventsCount;else if(typeof te=="function"?te=W[z]=Z?[V,te]:[te,V]:Z?te.unshift(V):te.push(V),J=u(q),J>0&&te.length>J&&!te.warned){te.warned=!0;var G=new Error("Possible EventEmitter memory leak detected. "+te.length+" "+String(z)+" listeners added. Use emitter.setMaxListeners() to increase limit");G.name="MaxListenersExceededWarning",G.emitter=q,G.type=z,G.count=te.length,r(G)}return q}s.prototype.addListener=function(z,V){return h(this,z,V,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(z,V){return h(this,z,V,!0)};function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function m(q,z,V){var Z={fired:!1,wrapFn:void 0,target:q,type:z,listener:V},J=f.bind(Z);return J.listener=V,Z.wrapFn=J,J}s.prototype.once=function(z,V){return c(V),this.on(z,m(this,z,V)),this},s.prototype.prependOnceListener=function(z,V){return c(V),this.prependListener(z,m(this,z,V)),this},s.prototype.removeListener=function(z,V){var Z,J,W,te,G;if(c(V),J=this._events,J===void 0)return this;if(Z=J[z],Z===void 0)return this;if(Z===V||Z.listener===V)--this._eventsCount===0?this._events=Object.create(null):(delete J[z],J.removeListener&&this.emit("removeListener",z,Z.listener||V));else if(typeof Z!="function"){for(W=-1,te=Z.length-1;te>=0;te--)if(Z[te]===V||Z[te].listener===V){G=Z[te].listener,W=te;break}if(W<0)return this;W===0?Z.shift():E(Z,W),Z.length===1&&(J[z]=Z[0]),J.removeListener!==void 0&&this.emit("removeListener",z,G||V)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(z){var V,Z,J;if(Z=this._events,Z===void 0)return this;if(Z.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):Z[z]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete Z[z]),this;if(arguments.length===0){var W=Object.keys(Z),te;for(J=0;J<W.length;++J)te=W[J],te!=="removeListener"&&this.removeAllListeners(te);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(V=Z[z],typeof V=="function")this.removeListener(z,V);else if(V!==void 0)for(J=V.length-1;J>=0;J--)this.removeListener(z,V[J]);return this};function g(q,z,V){var Z=q._events;if(Z===void 0)return[];var J=Z[z];return J===void 0?[]:typeof J=="function"?V?[J.listener||J]:[J]:V?C(J):w(J,J.length)}s.prototype.listeners=function(z){return g(this,z,!0)},s.prototype.rawListeners=function(z){return g(this,z,!1)},s.listenerCount=function(q,z){return typeof q.listenerCount=="function"?q.listenerCount(z):b.call(q,z)},s.prototype.listenerCount=b;function b(q){var z=this._events;if(z!==void 0){var V=z[q];if(typeof V=="function")return 1;if(V!==void 0)return V.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?a(this._events):[]};function w(q,z){for(var V=new Array(z),Z=0;Z<z;++Z)V[Z]=q[Z];return V}function E(q,z){for(;z+1<q.length;z++)q[z]=q[z+1];q.pop()}function C(q){for(var z=new Array(q.length),V=0;V<z.length;++V)z[V]=q[V].listener||q[V];return z}function B(q,z){return new Promise(function(V,Z){function J(te){q.removeListener(z,W),Z(te)}function W(){typeof q.removeListener=="function"&&q.removeListener("error",J),V([].slice.call(arguments))}P(q,z,W,{once:!0}),z!=="error"&&O(q,J,{once:!0})})}function O(q,z,V){typeof q.on=="function"&&P(q,"error",z,V)}function P(q,z,V,Z){if(typeof q.on=="function")Z.once?q.once(z,V):q.on(z,V);else if(typeof q.addEventListener=="function")q.addEventListener(z,function J(W){Z.once&&q.removeEventListener(z,J),V(W)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof q)}return events.exports}var streamBrowser$2,hasRequiredStreamBrowser$2;function requireStreamBrowser$2(){return hasRequiredStreamBrowser$2||(hasRequiredStreamBrowser$2=1,streamBrowser$2=requireEvents().EventEmitter),streamBrowser$2}var util$1={},types={},shams$1,hasRequiredShams$1;function requireShams$1(){return hasRequiredShams$1||(hasRequiredShams$1=1,shams$1=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},a=Symbol("test"),r=Object(a);if(typeof a=="string"||Object.prototype.toString.call(a)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var o=42;e[a]=o;for(var s in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var l=Object.getOwnPropertySymbols(e);if(l.length!==1||l[0]!==a||!Object.prototype.propertyIsEnumerable.call(e,a))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var c=Object.getOwnPropertyDescriptor(e,a);if(c.value!==o||c.enumerable!==!0)return!1}return!0}),shams$1}var shams,hasRequiredShams;function requireShams(){if(hasRequiredShams)return shams;hasRequiredShams=1;var t=requireShams$1();return shams=function(){return t()&&!!Symbol.toStringTag},shams}var esObjectAtoms,hasRequiredEsObjectAtoms;function requireEsObjectAtoms(){return hasRequiredEsObjectAtoms||(hasRequiredEsObjectAtoms=1,esObjectAtoms=Object),esObjectAtoms}var esErrors,hasRequiredEsErrors;function requireEsErrors(){return hasRequiredEsErrors||(hasRequiredEsErrors=1,esErrors=Error),esErrors}var _eval,hasRequired_eval;function require_eval(){return hasRequired_eval||(hasRequired_eval=1,_eval=EvalError),_eval}var range,hasRequiredRange;function requireRange(){return hasRequiredRange||(hasRequiredRange=1,range=RangeError),range}var ref,hasRequiredRef;function requireRef(){return hasRequiredRef||(hasRequiredRef=1,ref=ReferenceError),ref}var syntax,hasRequiredSyntax;function requireSyntax(){return hasRequiredSyntax||(hasRequiredSyntax=1,syntax=SyntaxError),syntax}var type,hasRequiredType;function requireType(){return hasRequiredType||(hasRequiredType=1,type=TypeError),type}var uri,hasRequiredUri;function requireUri(){return hasRequiredUri||(hasRequiredUri=1,uri=URIError),uri}var abs,hasRequiredAbs;function requireAbs(){return hasRequiredAbs||(hasRequiredAbs=1,abs=Math.abs),abs}var floor,hasRequiredFloor;function requireFloor(){return hasRequiredFloor||(hasRequiredFloor=1,floor=Math.floor),floor}var max,hasRequiredMax;function requireMax(){return hasRequiredMax||(hasRequiredMax=1,max=Math.max),max}var min,hasRequiredMin;function requireMin(){return hasRequiredMin||(hasRequiredMin=1,min=Math.min),min}var pow,hasRequiredPow;function requirePow(){return hasRequiredPow||(hasRequiredPow=1,pow=Math.pow),pow}var round,hasRequiredRound;function requireRound(){return hasRequiredRound||(hasRequiredRound=1,round=Math.round),round}var _isNaN,hasRequired_isNaN;function require_isNaN(){return hasRequired_isNaN||(hasRequired_isNaN=1,_isNaN=Number.isNaN||function(e){return e!==e}),_isNaN}var sign$2,hasRequiredSign$1;function requireSign$1(){if(hasRequiredSign$1)return sign$2;hasRequiredSign$1=1;var t=require_isNaN();return sign$2=function(a){return t(a)||a===0?a:a<0?-1:1},sign$2}var gOPD,hasRequiredGOPD;function requireGOPD(){return hasRequiredGOPD||(hasRequiredGOPD=1,gOPD=Object.getOwnPropertyDescriptor),gOPD}var gopd,hasRequiredGopd;function requireGopd(){if(hasRequiredGopd)return gopd;hasRequiredGopd=1;var t=requireGOPD();if(t)try{t([],"length")}catch{t=null}return gopd=t,gopd}var esDefineProperty,hasRequiredEsDefineProperty;function requireEsDefineProperty(){if(hasRequiredEsDefineProperty)return esDefineProperty;hasRequiredEsDefineProperty=1;var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return esDefineProperty=t,esDefineProperty}var hasSymbols,hasRequiredHasSymbols;function requireHasSymbols(){if(hasRequiredHasSymbols)return hasSymbols;hasRequiredHasSymbols=1;var t=typeof Symbol<"u"&&Symbol,e=requireShams$1();return hasSymbols=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},hasSymbols}var Reflect_getPrototypeOf,hasRequiredReflect_getPrototypeOf;function requireReflect_getPrototypeOf(){return hasRequiredReflect_getPrototypeOf||(hasRequiredReflect_getPrototypeOf=1,Reflect_getPrototypeOf=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Reflect_getPrototypeOf}var Object_getPrototypeOf,hasRequiredObject_getPrototypeOf;function requireObject_getPrototypeOf(){if(hasRequiredObject_getPrototypeOf)return Object_getPrototypeOf;hasRequiredObject_getPrototypeOf=1;var t=requireEsObjectAtoms();return Object_getPrototypeOf=t.getPrototypeOf||null,Object_getPrototypeOf}var implementation,hasRequiredImplementation;function requireImplementation(){if(hasRequiredImplementation)return implementation;hasRequiredImplementation=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,a=Math.max,r="[object Function]",o=function(u,h){for(var f=[],m=0;m<u.length;m+=1)f[m]=u[m];for(var g=0;g<h.length;g+=1)f[g+u.length]=h[g];return f},s=function(u,h){for(var f=[],m=h,g=0;m<u.length;m+=1,g+=1)f[g]=u[m];return f},l=function(c,u){for(var h="",f=0;f<c.length;f+=1)h+=c[f],f+1<c.length&&(h+=u);return h};return implementation=function(u){var h=this;if(typeof h!="function"||e.apply(h)!==r)throw new TypeError(t+h);for(var f=s(arguments,1),m,g=function(){if(this instanceof m){var B=h.apply(this,o(f,arguments));return Object(B)===B?B:this}return h.apply(u,o(f,arguments))},b=a(0,h.length-f.length),w=[],E=0;E<b;E++)w[E]="$"+E;if(m=Function("binder","return function ("+l(w,",")+"){ return binder.apply(this,arguments); }")(g),h.prototype){var C=function(){};C.prototype=h.prototype,m.prototype=new C,C.prototype=null}return m},implementation}var functionBind,hasRequiredFunctionBind;function requireFunctionBind(){if(hasRequiredFunctionBind)return functionBind;hasRequiredFunctionBind=1;var t=requireImplementation();return functionBind=Function.prototype.bind||t,functionBind}var functionCall,hasRequiredFunctionCall;function requireFunctionCall(){return hasRequiredFunctionCall||(hasRequiredFunctionCall=1,functionCall=Function.prototype.call),functionCall}var functionApply,hasRequiredFunctionApply;function requireFunctionApply(){return hasRequiredFunctionApply||(hasRequiredFunctionApply=1,functionApply=Function.prototype.apply),functionApply}var reflectApply,hasRequiredReflectApply;function requireReflectApply(){return hasRequiredReflectApply||(hasRequiredReflectApply=1,reflectApply=typeof Reflect<"u"&&Reflect&&Reflect.apply),reflectApply}var actualApply,hasRequiredActualApply;function requireActualApply(){if(hasRequiredActualApply)return actualApply;hasRequiredActualApply=1;var t=requireFunctionBind(),e=requireFunctionApply(),a=requireFunctionCall(),r=requireReflectApply();return actualApply=r||t.call(a,e),actualApply}var callBindApplyHelpers,hasRequiredCallBindApplyHelpers;function requireCallBindApplyHelpers(){if(hasRequiredCallBindApplyHelpers)return callBindApplyHelpers;hasRequiredCallBindApplyHelpers=1;var t=requireFunctionBind(),e=requireType(),a=requireFunctionCall(),r=requireActualApply();return callBindApplyHelpers=function(s){if(s.length<1||typeof s[0]!="function")throw new e("a function is required");return r(t,a,s)},callBindApplyHelpers}var get,hasRequiredGet;function requireGet(){if(hasRequiredGet)return get;hasRequiredGet=1;var t=requireCallBindApplyHelpers(),e=requireGopd(),a;try{a=[].__proto__===Array.prototype}catch(l){if(!l||typeof l!="object"||!("code"in l)||l.code!=="ERR_PROTO_ACCESS")throw l}var r=!!a&&e&&e(Object.prototype,"__proto__"),o=Object,s=o.getPrototypeOf;return get=r&&typeof r.get=="function"?t([r.get]):typeof s=="function"?function(c){return s(c==null?c:o(c))}:!1,get}var getProto,hasRequiredGetProto;function requireGetProto(){if(hasRequiredGetProto)return getProto;hasRequiredGetProto=1;var t=requireReflect_getPrototypeOf(),e=requireObject_getPrototypeOf(),a=requireGet();return getProto=t?function(o){return t(o)}:e?function(o){if(!o||typeof o!="object"&&typeof o!="function")throw new TypeError("getProto: not an object");return e(o)}:a?function(o){return a(o)}:null,getProto}var hasown,hasRequiredHasown;function requireHasown(){if(hasRequiredHasown)return hasown;hasRequiredHasown=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,a=requireFunctionBind();return hasown=a.call(t,e),hasown}var getIntrinsic,hasRequiredGetIntrinsic;function requireGetIntrinsic(){if(hasRequiredGetIntrinsic)return getIntrinsic;hasRequiredGetIntrinsic=1;var t,e=requireEsObjectAtoms(),a=requireEsErrors(),r=require_eval(),o=requireRange(),s=requireRef(),l=requireSyntax(),c=requireType(),u=requireUri(),h=requireAbs(),f=requireFloor(),m=requireMax(),g=requireMin(),b=requirePow(),w=requireRound(),E=requireSign$1(),C=Function,B=function(se){try{return C('"use strict"; return ('+se+").constructor;")()}catch{}},O=requireGopd(),P=requireEsDefineProperty(),q=function(){throw new c},z=O?(function(){try{return arguments.callee,q}catch{try{return O(arguments,"callee").get}catch{return q}}})():q,V=requireHasSymbols()(),Z=requireGetProto(),J=requireObject_getPrototypeOf(),W=requireReflect_getPrototypeOf(),te=requireFunctionApply(),G=requireFunctionCall(),D={},M=typeof Uint8Array>"u"||!Z?t:Z(Uint8Array),v={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":V&&Z?Z([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":D,"%AsyncGenerator%":D,"%AsyncGeneratorFunction%":D,"%AsyncIteratorPrototype%":D,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":a,"%eval%":eval,"%EvalError%":r,"%Float16Array%":typeof Float16Array>"u"?t:Float16Array,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":C,"%GeneratorFunction%":D,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":V&&Z?Z(Z([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!V||!Z?t:Z(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":O,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":o,"%ReferenceError%":s,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!V||!Z?t:Z(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":V&&Z?Z(""[Symbol.iterator]()):t,"%Symbol%":V?Symbol:t,"%SyntaxError%":l,"%ThrowTypeError%":z,"%TypedArray%":M,"%TypeError%":c,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":u,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet,"%Function.prototype.call%":G,"%Function.prototype.apply%":te,"%Object.defineProperty%":P,"%Object.getPrototypeOf%":J,"%Math.abs%":h,"%Math.floor%":f,"%Math.max%":m,"%Math.min%":g,"%Math.pow%":b,"%Math.round%":w,"%Math.sign%":E,"%Reflect.getPrototypeOf%":W};if(Z)try{null.error}catch(se){var S=Z(Z(se));v["%Error.prototype%"]=S}var N=function se(he){var ue;if(he==="%AsyncFunction%")ue=B("async function () {}");else if(he==="%GeneratorFunction%")ue=B("function* () {}");else if(he==="%AsyncGeneratorFunction%")ue=B("async function* () {}");else if(he==="%AsyncGenerator%"){var ee=se("%AsyncGeneratorFunction%");ee&&(ue=ee.prototype)}else if(he==="%AsyncIteratorPrototype%"){var fe=se("%AsyncGenerator%");fe&&Z&&(ue=Z(fe.prototype))}return v[he]=ue,ue},R={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},k=requireFunctionBind(),j=requireHasown(),I=k.call(G,Array.prototype.concat),A=k.call(te,Array.prototype.splice),$=k.call(G,String.prototype.replace),L=k.call(G,String.prototype.slice),Y=k.call(G,RegExp.prototype.exec),le=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,re=/\\(\\)?/g,U=function(he){var ue=L(he,0,1),ee=L(he,-1);if(ue==="%"&&ee!=="%")throw new l("invalid intrinsic syntax, expected closing `%`");if(ee==="%"&&ue!=="%")throw new l("invalid intrinsic syntax, expected opening `%`");var fe=[];return $(he,le,function(ge,xe,_e,Ie){fe[fe.length]=_e?$(Ie,re,"$1"):xe||ge}),fe},K=function(he,ue){var ee=he,fe;if(j(R,ee)&&(fe=R[ee],ee="%"+fe[0]+"%"),j(v,ee)){var ge=v[ee];if(ge===D&&(ge=N(ee)),typeof ge>"u"&&!ue)throw new c("intrinsic "+he+" exists, but is not available. Please file an issue!");return{alias:fe,name:ee,value:ge}}throw new l("intrinsic "+he+" does not exist!")};return getIntrinsic=function(he,ue){if(typeof he!="string"||he.length===0)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof ue!="boolean")throw new c('"allowMissing" argument must be a boolean');if(Y(/^%?[^%]*%?$/,he)===null)throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var ee=U(he),fe=ee.length>0?ee[0]:"",ge=K("%"+fe+"%",ue),xe=ge.name,_e=ge.value,Ie=!1,De=ge.alias;De&&(fe=De[0],A(ee,I([0,1],De)));for(var $e=1,Ue=!0;$e<ee.length;$e+=1){var Be=ee[$e],Ve=L(Be,0,1),He=L(Be,-1);if((Ve==='"'||Ve==="'"||Ve==="`"||He==='"'||He==="'"||He==="`")&&Ve!==He)throw new l("property names with quotes must have matching quotes");if((Be==="constructor"||!Ue)&&(Ie=!0),fe+="."+Be,xe="%"+fe+"%",j(v,xe))_e=v[xe];else if(_e!=null){if(!(Be in _e)){if(!ue)throw new c("base intrinsic for "+he+" exists, but the property is not available.");return}if(O&&$e+1>=ee.length){var Ae=O(_e,Be);Ue=!!Ae,Ue&&"get"in Ae&&!("originalValue"in Ae.get)?_e=Ae.get:_e=_e[Be]}else Ue=j(_e,Be),_e=_e[Be];Ue&&!Ie&&(v[xe]=_e)}}return _e},getIntrinsic}var callBound,hasRequiredCallBound;function requireCallBound(){if(hasRequiredCallBound)return callBound;hasRequiredCallBound=1;var t=requireGetIntrinsic(),e=requireCallBindApplyHelpers(),a=e([t("%String.prototype.indexOf%")]);return callBound=function(o,s){var l=t(o,!!s);return typeof l=="function"&&a(o,".prototype.")>-1?e([l]):l},callBound}var isArguments,hasRequiredIsArguments;function requireIsArguments(){if(hasRequiredIsArguments)return isArguments;hasRequiredIsArguments=1;var t=requireShams()(),e=requireCallBound(),a=e("Object.prototype.toString"),r=function(c){return t&&c&&typeof c=="object"&&Symbol.toStringTag in c?!1:a(c)==="[object Arguments]"},o=function(c){return r(c)?!0:c!==null&&typeof c=="object"&&"length"in c&&typeof c.length=="number"&&c.length>=0&&a(c)!=="[object Array]"&&"callee"in c&&a(c.callee)==="[object Function]"},s=(function(){return r(arguments)})();return r.isLegacyArguments=o,isArguments=s?r:o,isArguments}var isRegex,hasRequiredIsRegex;function requireIsRegex(){if(hasRequiredIsRegex)return isRegex;hasRequiredIsRegex=1;var t=requireCallBound(),e=requireShams()(),a=requireHasown(),r=requireGopd(),o;if(e){var s=t("RegExp.prototype.exec"),l={},c=function(){throw l},u={toString:c,valueOf:c};typeof Symbol.toPrimitive=="symbol"&&(u[Symbol.toPrimitive]=c),o=function(g){if(!g||typeof g!="object")return!1;var b=r(g,"lastIndex"),w=b&&a(b,"value");if(!w)return!1;try{s(g,u)}catch(E){return E===l}}}else{var h=t("Object.prototype.toString"),f="[object RegExp]";o=function(g){return!g||typeof g!="object"&&typeof g!="function"?!1:h(g)===f}}return isRegex=o,isRegex}var safeRegexTest,hasRequiredSafeRegexTest;function requireSafeRegexTest(){if(hasRequiredSafeRegexTest)return safeRegexTest;hasRequiredSafeRegexTest=1;var t=requireCallBound(),e=requireIsRegex(),a=t("RegExp.prototype.exec"),r=requireType();return safeRegexTest=function(s){if(!e(s))throw new r("`regex` must be a RegExp");return function(c){return a(s,c)!==null}},safeRegexTest}var generatorFunction,hasRequiredGeneratorFunction;function requireGeneratorFunction(){if(hasRequiredGeneratorFunction)return generatorFunction;hasRequiredGeneratorFunction=1;const t=(function*(){}).constructor;return generatorFunction=()=>t,generatorFunction}var isGeneratorFunction,hasRequiredIsGeneratorFunction;function requireIsGeneratorFunction(){if(hasRequiredIsGeneratorFunction)return isGeneratorFunction;hasRequiredIsGeneratorFunction=1;var t=requireCallBound(),e=requireSafeRegexTest(),a=e(/^\s*(?:function)?\*/),r=requireShams()(),o=requireGetProto(),s=t("Object.prototype.toString"),l=t("Function.prototype.toString"),c=requireGeneratorFunction();return isGeneratorFunction=function(h){if(typeof h!="function")return!1;if(a(l(h)))return!0;if(!r){var f=s(h);return f==="[object GeneratorFunction]"}if(!o)return!1;var m=c();return m&&o(h)===m.prototype},isGeneratorFunction}var isCallable,hasRequiredIsCallable;function requireIsCallable(){if(hasRequiredIsCallable)return isCallable;hasRequiredIsCallable=1;var t=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,a,r;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{a=Object.defineProperty({},"length",{get:function(){throw r}}),r={},e(function(){throw 42},null,a)}catch(O){O!==r&&(e=null)}else e=null;var o=/^\s*class\b/,s=function(P){try{var q=t.call(P);return o.test(q)}catch{return!1}},l=function(P){try{return s(P)?!1:(t.call(P),!0)}catch{return!1}},c=Object.prototype.toString,u="[object Object]",h="[object Function]",f="[object GeneratorFunction]",m="[object HTMLAllCollection]",g="[object HTML document.all class]",b="[object HTMLCollection]",w=typeof Symbol=="function"&&!!Symbol.toStringTag,E=!(0 in[,]),C=function(){return!1};if(typeof document=="object"){var B=document.all;c.call(B)===c.call(document.all)&&(C=function(P){if((E||!P)&&(typeof P>"u"||typeof P=="object"))try{var q=c.call(P);return(q===m||q===g||q===b||q===u)&&P("")==null}catch{}return!1})}return isCallable=e?function(P){if(C(P))return!0;if(!P||typeof P!="function"&&typeof P!="object")return!1;try{e(P,null,a)}catch(q){if(q!==r)return!1}return!s(P)&&l(P)}:function(P){if(C(P))return!0;if(!P||typeof P!="function"&&typeof P!="object")return!1;if(w)return l(P);if(s(P))return!1;var q=c.call(P);return q!==h&&q!==f&&!/^\[object HTML/.test(q)?!1:l(P)},isCallable}var forEach,hasRequiredForEach;function requireForEach(){if(hasRequiredForEach)return forEach;hasRequiredForEach=1;var t=requireIsCallable(),e=Object.prototype.toString,a=Object.prototype.hasOwnProperty,r=function(u,h,f){for(var m=0,g=u.length;m<g;m++)a.call(u,m)&&(f==null?h(u[m],m,u):h.call(f,u[m],m,u))},o=function(u,h,f){for(var m=0,g=u.length;m<g;m++)f==null?h(u.charAt(m),m,u):h.call(f,u.charAt(m),m,u)},s=function(u,h,f){for(var m in u)a.call(u,m)&&(f==null?h(u[m],m,u):h.call(f,u[m],m,u))};function l(c){return e.call(c)==="[object Array]"}return forEach=function(u,h,f){if(!t(h))throw new TypeError("iterator must be a function");var m;arguments.length>=3&&(m=f),l(u)?r(u,h,m):typeof u=="string"?o(u,h,m):s(u,h,m)},forEach}var possibleTypedArrayNames,hasRequiredPossibleTypedArrayNames;function requirePossibleTypedArrayNames(){return hasRequiredPossibleTypedArrayNames||(hasRequiredPossibleTypedArrayNames=1,possibleTypedArrayNames=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),possibleTypedArrayNames}var availableTypedArrays,hasRequiredAvailableTypedArrays;function requireAvailableTypedArrays(){if(hasRequiredAvailableTypedArrays)return availableTypedArrays;hasRequiredAvailableTypedArrays=1;var t=requirePossibleTypedArrayNames(),e=typeof globalThis>"u"?commonjsGlobal:globalThis;return availableTypedArrays=function(){for(var r=[],o=0;o<t.length;o++)typeof e[t[o]]=="function"&&(r[r.length]=t[o]);return r},availableTypedArrays}var callBind={exports:{}},defineDataProperty,hasRequiredDefineDataProperty;function requireDefineDataProperty(){if(hasRequiredDefineDataProperty)return defineDataProperty;hasRequiredDefineDataProperty=1;var t=requireEsDefineProperty(),e=requireSyntax(),a=requireType(),r=requireGopd();return defineDataProperty=function(s,l,c){if(!s||typeof s!="object"&&typeof s!="function")throw new a("`obj` must be an object or a function`");if(typeof l!="string"&&typeof l!="symbol")throw new a("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new a("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new a("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new a("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new a("`loose`, if provided, must be a boolean");var u=arguments.length>3?arguments[3]:null,h=arguments.length>4?arguments[4]:null,f=arguments.length>5?arguments[5]:null,m=arguments.length>6?arguments[6]:!1,g=!!r&&r(s,l);if(t)t(s,l,{configurable:f===null&&g?g.configurable:!f,enumerable:u===null&&g?g.enumerable:!u,value:c,writable:h===null&&g?g.writable:!h});else if(m||!u&&!h&&!f)s[l]=c;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},defineDataProperty}var hasPropertyDescriptors_1,hasRequiredHasPropertyDescriptors;function requireHasPropertyDescriptors(){if(hasRequiredHasPropertyDescriptors)return hasPropertyDescriptors_1;hasRequiredHasPropertyDescriptors=1;var t=requireEsDefineProperty(),e=function(){return!!t};return e.hasArrayLengthDefineBug=function(){if(!t)return null;try{return t([],"length",{value:1}).length!==1}catch{return!0}},hasPropertyDescriptors_1=e,hasPropertyDescriptors_1}var setFunctionLength,hasRequiredSetFunctionLength;function requireSetFunctionLength(){if(hasRequiredSetFunctionLength)return setFunctionLength;hasRequiredSetFunctionLength=1;var t=requireGetIntrinsic(),e=requireDefineDataProperty(),a=requireHasPropertyDescriptors()(),r=requireGopd(),o=requireType(),s=t("%Math.floor%");return setFunctionLength=function(c,u){if(typeof c!="function")throw new o("`fn` is not a function");if(typeof u!="number"||u<0||u>4294967295||s(u)!==u)throw new o("`length` must be a positive 32-bit integer");var h=arguments.length>2&&!!arguments[2],f=!0,m=!0;if("length"in c&&r){var g=r(c,"length");g&&!g.configurable&&(f=!1),g&&!g.writable&&(m=!1)}return(f||m||!h)&&(a?e(c,"length",u,!0,!0):e(c,"length",u)),c},setFunctionLength}var applyBind,hasRequiredApplyBind;function requireApplyBind(){if(hasRequiredApplyBind)return applyBind;hasRequiredApplyBind=1;var t=requireFunctionBind(),e=requireFunctionApply(),a=requireActualApply();return applyBind=function(){return a(t,e,arguments)},applyBind}var hasRequiredCallBind;function requireCallBind(){return hasRequiredCallBind||(hasRequiredCallBind=1,(function(t){var e=requireSetFunctionLength(),a=requireEsDefineProperty(),r=requireCallBindApplyHelpers(),o=requireApplyBind();t.exports=function(l){var c=r(arguments),u=l.length-(arguments.length-1);return e(c,1+(u>0?u:0),!0)},a?a(t.exports,"apply",{value:o}):t.exports.apply=o})(callBind)),callBind.exports}var whichTypedArray,hasRequiredWhichTypedArray;function requireWhichTypedArray(){if(hasRequiredWhichTypedArray)return whichTypedArray;hasRequiredWhichTypedArray=1;var t=requireForEach(),e=requireAvailableTypedArrays(),a=requireCallBind(),r=requireCallBound(),o=requireGopd(),s=requireGetProto(),l=r("Object.prototype.toString"),c=requireShams()(),u=typeof globalThis>"u"?commonjsGlobal:globalThis,h=e(),f=r("String.prototype.slice"),m=r("Array.prototype.indexOf",!0)||function(C,B){for(var O=0;O<C.length;O+=1)if(C[O]===B)return O;return-1},g={__proto__:null};c&&o&&s?t(h,function(E){var C=new u[E];if(Symbol.toStringTag in C&&s){var B=s(C),O=o(B,Symbol.toStringTag);if(!O&&B){var P=s(B);O=o(P,Symbol.toStringTag)}g["$"+E]=a(O.get)}}):t(h,function(E){var C=new u[E],B=C.slice||C.set;B&&(g["$"+E]=a(B))});var b=function(C){var B=!1;return t(g,function(O,P){if(!B)try{"$"+O(C)===P&&(B=f(P,1))}catch{}}),B},w=function(C){var B=!1;return t(g,function(O,P){if(!B)try{O(C),B=f(P,1)}catch{}}),B};return whichTypedArray=function(C){if(!C||typeof C!="object")return!1;if(!c){var B=f(l(C),8,-1);return m(h,B)>-1?B:B!=="Object"?!1:w(C)}return o?b(C):null},whichTypedArray}var isTypedArray,hasRequiredIsTypedArray;function requireIsTypedArray(){if(hasRequiredIsTypedArray)return isTypedArray;hasRequiredIsTypedArray=1;var t=requireWhichTypedArray();return isTypedArray=function(a){return!!t(a)},isTypedArray}var hasRequiredTypes;function requireTypes(){return hasRequiredTypes||(hasRequiredTypes=1,(function(t){var e=requireIsArguments(),a=requireIsGeneratorFunction(),r=requireWhichTypedArray(),o=requireIsTypedArray();function s($e){return $e.call.bind($e)}var l=typeof BigInt<"u",c=typeof Symbol<"u",u=s(Object.prototype.toString),h=s(Number.prototype.valueOf),f=s(String.prototype.valueOf),m=s(Boolean.prototype.valueOf);if(l)var g=s(BigInt.prototype.valueOf);if(c)var b=s(Symbol.prototype.valueOf);function w($e,Ue){if(typeof $e!="object")return!1;try{return Ue($e),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=a,t.isTypedArray=o;function E($e){return typeof Promise<"u"&&$e instanceof Promise||$e!==null&&typeof $e=="object"&&typeof $e.then=="function"&&typeof $e.catch=="function"}t.isPromise=E;function C($e){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView($e):o($e)||L($e)}t.isArrayBufferView=C;function B($e){return r($e)==="Uint8Array"}t.isUint8Array=B;function O($e){return r($e)==="Uint8ClampedArray"}t.isUint8ClampedArray=O;function P($e){return r($e)==="Uint16Array"}t.isUint16Array=P;function q($e){return r($e)==="Uint32Array"}t.isUint32Array=q;function z($e){return r($e)==="Int8Array"}t.isInt8Array=z;function V($e){return r($e)==="Int16Array"}t.isInt16Array=V;function Z($e){return r($e)==="Int32Array"}t.isInt32Array=Z;function J($e){return r($e)==="Float32Array"}t.isFloat32Array=J;function W($e){return r($e)==="Float64Array"}t.isFloat64Array=W;function te($e){return r($e)==="BigInt64Array"}t.isBigInt64Array=te;function G($e){return r($e)==="BigUint64Array"}t.isBigUint64Array=G;function D($e){return u($e)==="[object Map]"}D.working=typeof Map<"u"&&D(new Map);function M($e){return typeof Map>"u"?!1:D.working?D($e):$e instanceof Map}t.isMap=M;function v($e){return u($e)==="[object Set]"}v.working=typeof Set<"u"&&v(new Set);function S($e){return typeof Set>"u"?!1:v.working?v($e):$e instanceof Set}t.isSet=S;function N($e){return u($e)==="[object WeakMap]"}N.working=typeof WeakMap<"u"&&N(new WeakMap);function R($e){return typeof WeakMap>"u"?!1:N.working?N($e):$e instanceof WeakMap}t.isWeakMap=R;function k($e){return u($e)==="[object WeakSet]"}k.working=typeof WeakSet<"u"&&k(new WeakSet);function j($e){return k($e)}t.isWeakSet=j;function I($e){return u($e)==="[object ArrayBuffer]"}I.working=typeof ArrayBuffer<"u"&&I(new ArrayBuffer);function A($e){return typeof ArrayBuffer>"u"?!1:I.working?I($e):$e instanceof ArrayBuffer}t.isArrayBuffer=A;function $($e){return u($e)==="[object DataView]"}$.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&$(new DataView(new ArrayBuffer(1),0,1));function L($e){return typeof DataView>"u"?!1:$.working?$($e):$e instanceof DataView}t.isDataView=L;var Y=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function le($e){return u($e)==="[object SharedArrayBuffer]"}function re($e){return typeof Y>"u"?!1:(typeof le.working>"u"&&(le.working=le(new Y)),le.working?le($e):$e instanceof Y)}t.isSharedArrayBuffer=re;function U($e){return u($e)==="[object AsyncFunction]"}t.isAsyncFunction=U;function K($e){return u($e)==="[object Map Iterator]"}t.isMapIterator=K;function se($e){return u($e)==="[object Set Iterator]"}t.isSetIterator=se;function he($e){return u($e)==="[object Generator]"}t.isGeneratorObject=he;function ue($e){return u($e)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=ue;function ee($e){return w($e,h)}t.isNumberObject=ee;function fe($e){return w($e,f)}t.isStringObject=fe;function ge($e){return w($e,m)}t.isBooleanObject=ge;function xe($e){return l&&w($e,g)}t.isBigIntObject=xe;function _e($e){return c&&w($e,b)}t.isSymbolObject=_e;function Ie($e){return ee($e)||fe($e)||ge($e)||xe($e)||_e($e)}t.isBoxedPrimitive=Ie;function De($e){return typeof Uint8Array<"u"&&(A($e)||re($e))}t.isAnyArrayBuffer=De,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function($e){Object.defineProperty(t,$e,{enumerable:!1,value:function(){throw new Error($e+" is not supported in userland")}})})})(types)),types}var isBufferBrowser,hasRequiredIsBufferBrowser;function requireIsBufferBrowser(){return hasRequiredIsBufferBrowser||(hasRequiredIsBufferBrowser=1,isBufferBrowser=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}),isBufferBrowser}var hasRequiredUtil$1;function requireUtil$1(){return hasRequiredUtil$1||(hasRequiredUtil$1=1,(function(t){var e={},a=Object.getOwnPropertyDescriptors||function(Y){for(var le=Object.keys(Y),re={},U=0;U<le.length;U++)re[le[U]]=Object.getOwnPropertyDescriptor(Y,le[U]);return re},r=/%[sdj%]/g;t.format=function(L){if(!V(L)){for(var Y=[],le=0;le<arguments.length;le++)Y.push(c(arguments[le]));return Y.join(" ")}for(var le=1,re=arguments,U=re.length,K=String(L).replace(r,function(he){if(he==="%%")return"%";if(le>=U)return he;switch(he){case"%s":return String(re[le++]);case"%d":return Number(re[le++]);case"%j":try{return JSON.stringify(re[le++])}catch{return"[Circular]"}default:return he}}),se=re[le];le<U;se=re[++le])P(se)||!te(se)?K+=" "+se:K+=" "+c(se);return K},t.deprecate=function(L,Y){if(typeof process$1<"u"&&process$1.noDeprecation===!0)return L;if(typeof process$1>"u")return function(){return t.deprecate(L,Y).apply(this,arguments)};var le=!1;function re(){if(!le){if(process$1.throwDeprecation)throw new Error(Y);process$1.traceDeprecation?console.trace(Y):console.error(Y),le=!0}return L.apply(this,arguments)}return re};var o={},s=/^$/;if(e.NODE_DEBUG){var l=e.NODE_DEBUG;l=l.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),s=new RegExp("^"+l+"$","i")}t.debuglog=function(L){if(L=L.toUpperCase(),!o[L])if(s.test(L)){var Y=process$1.pid;o[L]=function(){var le=t.format.apply(t,arguments);console.error("%s %d: %s",L,Y,le)}}else o[L]=function(){};return o[L]};function c(L,Y){var le={seen:[],stylize:h};return arguments.length>=3&&(le.depth=arguments[2]),arguments.length>=4&&(le.colors=arguments[3]),O(Y)?le.showHidden=Y:Y&&t._extend(le,Y),J(le.showHidden)&&(le.showHidden=!1),J(le.depth)&&(le.depth=2),J(le.colors)&&(le.colors=!1),J(le.customInspect)&&(le.customInspect=!0),le.colors&&(le.stylize=u),m(le,L,le.depth)}t.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function u(L,Y){var le=c.styles[Y];return le?"\x1B["+c.colors[le][0]+"m"+L+"\x1B["+c.colors[le][1]+"m":L}function h(L,Y){return L}function f(L){var Y={};return L.forEach(function(le,re){Y[le]=!0}),Y}function m(L,Y,le){if(L.customInspect&&Y&&M(Y.inspect)&&Y.inspect!==t.inspect&&!(Y.constructor&&Y.constructor.prototype===Y)){var re=Y.inspect(le,L);return V(re)||(re=m(L,re,le)),re}var U=g(L,Y);if(U)return U;var K=Object.keys(Y),se=f(K);if(L.showHidden&&(K=Object.getOwnPropertyNames(Y)),D(Y)&&(K.indexOf("message")>=0||K.indexOf("description")>=0))return b(Y);if(K.length===0){if(M(Y)){var he=Y.name?": "+Y.name:"";return L.stylize("[Function"+he+"]","special")}if(W(Y))return L.stylize(RegExp.prototype.toString.call(Y),"regexp");if(G(Y))return L.stylize(Date.prototype.toString.call(Y),"date");if(D(Y))return b(Y)}var ue="",ee=!1,fe=["{","}"];if(B(Y)&&(ee=!0,fe=["[","]"]),M(Y)){var ge=Y.name?": "+Y.name:"";ue=" [Function"+ge+"]"}if(W(Y)&&(ue=" "+RegExp.prototype.toString.call(Y)),G(Y)&&(ue=" "+Date.prototype.toUTCString.call(Y)),D(Y)&&(ue=" "+b(Y)),K.length===0&&(!ee||Y.length==0))return fe[0]+ue+fe[1];if(le<0)return W(Y)?L.stylize(RegExp.prototype.toString.call(Y),"regexp"):L.stylize("[Object]","special");L.seen.push(Y);var xe;return ee?xe=w(L,Y,le,se,K):xe=K.map(function(_e){return E(L,Y,le,se,_e,ee)}),L.seen.pop(),C(xe,ue,fe)}function g(L,Y){if(J(Y))return L.stylize("undefined","undefined");if(V(Y)){var le="'"+JSON.stringify(Y).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return L.stylize(le,"string")}if(z(Y))return L.stylize(""+Y,"number");if(O(Y))return L.stylize(""+Y,"boolean");if(P(Y))return L.stylize("null","null")}function b(L){return"["+Error.prototype.toString.call(L)+"]"}function w(L,Y,le,re,U){for(var K=[],se=0,he=Y.length;se<he;++se)j(Y,String(se))?K.push(E(L,Y,le,re,String(se),!0)):K.push("");return U.forEach(function(ue){ue.match(/^\d+$/)||K.push(E(L,Y,le,re,ue,!0))}),K}function E(L,Y,le,re,U,K){var se,he,ue;if(ue=Object.getOwnPropertyDescriptor(Y,U)||{value:Y[U]},ue.get?ue.set?he=L.stylize("[Getter/Setter]","special"):he=L.stylize("[Getter]","special"):ue.set&&(he=L.stylize("[Setter]","special")),j(re,U)||(se="["+U+"]"),he||(L.seen.indexOf(ue.value)<0?(P(le)?he=m(L,ue.value,null):he=m(L,ue.value,le-1),he.indexOf(`
`)>-1&&(K?he=he.split(`
`).map(function(ee){return"  "+ee}).join(`
`).slice(2):he=`
`+he.split(`
`).map(function(ee){return"   "+ee}).join(`
`))):he=L.stylize("[Circular]","special")),J(se)){if(K&&U.match(/^\d+$/))return he;se=JSON.stringify(""+U),se.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(se=se.slice(1,-1),se=L.stylize(se,"name")):(se=se.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),se=L.stylize(se,"string"))}return se+": "+he}function C(L,Y,le){var re=L.reduce(function(U,K){return K.indexOf(`
`)>=0,U+K.replace(/\u001b\[\d\d?m/g,"").length+1},0);return re>60?le[0]+(Y===""?"":Y+`
 `)+" "+L.join(`,
  `)+" "+le[1]:le[0]+Y+" "+L.join(", ")+" "+le[1]}t.types=requireTypes();function B(L){return Array.isArray(L)}t.isArray=B;function O(L){return typeof L=="boolean"}t.isBoolean=O;function P(L){return L===null}t.isNull=P;function q(L){return L==null}t.isNullOrUndefined=q;function z(L){return typeof L=="number"}t.isNumber=z;function V(L){return typeof L=="string"}t.isString=V;function Z(L){return typeof L=="symbol"}t.isSymbol=Z;function J(L){return L===void 0}t.isUndefined=J;function W(L){return te(L)&&S(L)==="[object RegExp]"}t.isRegExp=W,t.types.isRegExp=W;function te(L){return typeof L=="object"&&L!==null}t.isObject=te;function G(L){return te(L)&&S(L)==="[object Date]"}t.isDate=G,t.types.isDate=G;function D(L){return te(L)&&(S(L)==="[object Error]"||L instanceof Error)}t.isError=D,t.types.isNativeError=D;function M(L){return typeof L=="function"}t.isFunction=M;function v(L){return L===null||typeof L=="boolean"||typeof L=="number"||typeof L=="string"||typeof L=="symbol"||typeof L>"u"}t.isPrimitive=v,t.isBuffer=requireIsBufferBrowser();function S(L){return Object.prototype.toString.call(L)}function N(L){return L<10?"0"+L.toString(10):L.toString(10)}var R=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function k(){var L=new Date,Y=[N(L.getHours()),N(L.getMinutes()),N(L.getSeconds())].join(":");return[L.getDate(),R[L.getMonth()],Y].join(" ")}t.log=function(){console.log("%s - %s",k(),t.format.apply(t,arguments))},t.inherits=requireInherits_browser(),t._extend=function(L,Y){if(!Y||!te(Y))return L;for(var le=Object.keys(Y),re=le.length;re--;)L[le[re]]=Y[le[re]];return L};function j(L,Y){return Object.prototype.hasOwnProperty.call(L,Y)}var I=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(Y){if(typeof Y!="function")throw new TypeError('The "original" argument must be of type Function');if(I&&Y[I]){var le=Y[I];if(typeof le!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(le,I,{value:le,enumerable:!1,writable:!1,configurable:!0}),le}function le(){for(var re,U,K=new Promise(function(ue,ee){re=ue,U=ee}),se=[],he=0;he<arguments.length;he++)se.push(arguments[he]);se.push(function(ue,ee){ue?U(ue):re(ee)});try{Y.apply(this,se)}catch(ue){U(ue)}return K}return Object.setPrototypeOf(le,Object.getPrototypeOf(Y)),I&&Object.defineProperty(le,I,{value:le,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(le,a(Y))},t.promisify.custom=I;function A(L,Y){if(!L){var le=new Error("Promise was rejected with a falsy value");le.reason=L,L=le}return Y(L)}function $(L){if(typeof L!="function")throw new TypeError('The "original" argument must be of type Function');function Y(){for(var le=[],re=0;re<arguments.length;re++)le.push(arguments[re]);var U=le.pop();if(typeof U!="function")throw new TypeError("The last argument must be of type Function");var K=this,se=function(){return U.apply(K,arguments)};L.apply(this,le).then(function(he){process$1.nextTick(se.bind(null,null,he))},function(he){process$1.nextTick(A.bind(null,he,se))})}return Object.setPrototypeOf(Y,Object.getPrototypeOf(L)),Object.defineProperties(Y,a(L)),Y}t.callbackify=$})(util$1)),util$1}var buffer_list,hasRequiredBuffer_list;function requireBuffer_list(){if(hasRequiredBuffer_list)return buffer_list;hasRequiredBuffer_list=1;function t(w,E){var C=Object.keys(w);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(w);E&&(B=B.filter(function(O){return Object.getOwnPropertyDescriptor(w,O).enumerable})),C.push.apply(C,B)}return C}function e(w){for(var E=1;E<arguments.length;E++){var C=arguments[E]!=null?arguments[E]:{};E%2?t(Object(C),!0).forEach(function(B){a(w,B,C[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(C)):t(Object(C)).forEach(function(B){Object.defineProperty(w,B,Object.getOwnPropertyDescriptor(C,B))})}return w}function a(w,E,C){return E=l(E),E in w?Object.defineProperty(w,E,{value:C,enumerable:!0,configurable:!0,writable:!0}):w[E]=C,w}function r(w,E){if(!(w instanceof E))throw new TypeError("Cannot call a class as a function")}function o(w,E){for(var C=0;C<E.length;C++){var B=E[C];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(w,l(B.key),B)}}function s(w,E,C){return E&&o(w.prototype,E),Object.defineProperty(w,"prototype",{writable:!1}),w}function l(w){var E=c(w,"string");return typeof E=="symbol"?E:String(E)}function c(w,E){if(typeof w!="object"||w===null)return w;var C=w[Symbol.toPrimitive];if(C!==void 0){var B=C.call(w,E);if(typeof B!="object")return B;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(w)}var u=requireDist(),h=u.Buffer,f=requireUtil$1(),m=f.inspect,g=m&&m.custom||"inspect";function b(w,E,C){h.prototype.copy.call(w,E,C)}return buffer_list=(function(){function w(){r(this,w),this.head=null,this.tail=null,this.length=0}return s(w,[{key:"push",value:function(C){var B={data:C,next:null};this.length>0?this.tail.next=B:this.head=B,this.tail=B,++this.length}},{key:"unshift",value:function(C){var B={data:C,next:this.head};this.length===0&&(this.tail=B),this.head=B,++this.length}},{key:"shift",value:function(){if(this.length!==0){var C=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,C}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(C){if(this.length===0)return"";for(var B=this.head,O=""+B.data;B=B.next;)O+=C+B.data;return O}},{key:"concat",value:function(C){if(this.length===0)return h.alloc(0);for(var B=h.allocUnsafe(C>>>0),O=this.head,P=0;O;)b(O.data,B,P),P+=O.data.length,O=O.next;return B}},{key:"consume",value:function(C,B){var O;return C<this.head.data.length?(O=this.head.data.slice(0,C),this.head.data=this.head.data.slice(C)):C===this.head.data.length?O=this.shift():O=B?this._getString(C):this._getBuffer(C),O}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(C){var B=this.head,O=1,P=B.data;for(C-=P.length;B=B.next;){var q=B.data,z=C>q.length?q.length:C;if(z===q.length?P+=q:P+=q.slice(0,C),C-=z,C===0){z===q.length?(++O,B.next?this.head=B.next:this.head=this.tail=null):(this.head=B,B.data=q.slice(z));break}++O}return this.length-=O,P}},{key:"_getBuffer",value:function(C){var B=h.allocUnsafe(C),O=this.head,P=1;for(O.data.copy(B),C-=O.data.length;O=O.next;){var q=O.data,z=C>q.length?q.length:C;if(q.copy(B,B.length-C,0,z),C-=z,C===0){z===q.length?(++P,O.next?this.head=O.next:this.head=this.tail=null):(this.head=O,O.data=q.slice(z));break}++P}return this.length-=P,B}},{key:g,value:function(C,B){return m(this,e(e({},B),{},{depth:0,customInspect:!1}))}}]),w})(),buffer_list}var destroy_1$2,hasRequiredDestroy$2;function requireDestroy$2(){if(hasRequiredDestroy$2)return destroy_1$2;hasRequiredDestroy$2=1;function t(l,c){var u=this,h=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return h||f?(c?c(l):l&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process$1.nextTick(o,this,l)):process$1.nextTick(o,this,l)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(l||null,function(m){!c&&m?u._writableState?u._writableState.errorEmitted?process$1.nextTick(a,u):(u._writableState.errorEmitted=!0,process$1.nextTick(e,u,m)):process$1.nextTick(e,u,m):c?(process$1.nextTick(a,u),c(m)):process$1.nextTick(a,u)}),this)}function e(l,c){o(l,c),a(l)}function a(l){l._writableState&&!l._writableState.emitClose||l._readableState&&!l._readableState.emitClose||l.emit("close")}function r(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function o(l,c){l.emit("error",c)}function s(l,c){var u=l._readableState,h=l._writableState;u&&u.autoDestroy||h&&h.autoDestroy?l.destroy(c):l.emit("error",c)}return destroy_1$2={destroy:t,undestroy:r,errorOrDestroy:s},destroy_1$2}var errorsBrowser={},hasRequiredErrorsBrowser;function requireErrorsBrowser(){if(hasRequiredErrorsBrowser)return errorsBrowser;hasRequiredErrorsBrowser=1;function t(c,u){c.prototype=Object.create(u.prototype),c.prototype.constructor=c,c.__proto__=u}var e={};function a(c,u,h){h||(h=Error);function f(g,b,w){return typeof u=="string"?u:u(g,b,w)}var m=(function(g){t(b,g);function b(w,E,C){return g.call(this,f(w,E,C))||this}return b})(h);m.prototype.name=h.name,m.prototype.code=c,e[c]=m}function r(c,u){if(Array.isArray(c)){var h=c.length;return c=c.map(function(f){return String(f)}),h>2?"one of ".concat(u," ").concat(c.slice(0,h-1).join(", "),", or ")+c[h-1]:h===2?"one of ".concat(u," ").concat(c[0]," or ").concat(c[1]):"of ".concat(u," ").concat(c[0])}else return"of ".concat(u," ").concat(String(c))}function o(c,u,h){return c.substr(0,u.length)===u}function s(c,u,h){return(h===void 0||h>c.length)&&(h=c.length),c.substring(h-u.length,h)===u}function l(c,u,h){return typeof h!="number"&&(h=0),h+u.length>c.length?!1:c.indexOf(u,h)!==-1}return a("ERR_INVALID_OPT_VALUE",function(c,u){return'The value "'+u+'" is invalid for option "'+c+'"'},TypeError),a("ERR_INVALID_ARG_TYPE",function(c,u,h){var f;typeof u=="string"&&o(u,"not ")?(f="must not be",u=u.replace(/^not /,"")):f="must be";var m;if(s(c," argument"))m="The ".concat(c," ").concat(f," ").concat(r(u,"type"));else{var g=l(c,".")?"property":"argument";m='The "'.concat(c,'" ').concat(g," ").concat(f," ").concat(r(u,"type"))}return m+=". Received type ".concat(typeof h),m},TypeError),a("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),a("ERR_METHOD_NOT_IMPLEMENTED",function(c){return"The "+c+" method is not implemented"}),a("ERR_STREAM_PREMATURE_CLOSE","Premature close"),a("ERR_STREAM_DESTROYED",function(c){return"Cannot call "+c+" after a stream was destroyed"}),a("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),a("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),a("ERR_STREAM_WRITE_AFTER_END","write after end"),a("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),a("ERR_UNKNOWN_ENCODING",function(c){return"Unknown encoding: "+c},TypeError),a("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),errorsBrowser.codes=e,errorsBrowser}var state,hasRequiredState;function requireState(){if(hasRequiredState)return state;hasRequiredState=1;var t=requireErrorsBrowser().codes.ERR_INVALID_OPT_VALUE;function e(r,o,s){return r.highWaterMark!=null?r.highWaterMark:o?r[s]:null}function a(r,o,s,l){var c=e(o,l,s);if(c!=null){if(!(isFinite(c)&&Math.floor(c)===c)||c<0){var u=l?s:"highWaterMark";throw new t(u,c)}return Math.floor(c)}return r.objectMode?16:16*1024}return state={getHighWaterMark:a},state}var browser$a,hasRequiredBrowser$a;function requireBrowser$a(){if(hasRequiredBrowser$a)return browser$a;hasRequiredBrowser$a=1,browser$a=t;function t(a,r){if(e("noDeprecation"))return a;var o=!1;function s(){if(!o){if(e("throwDeprecation"))throw new Error(r);e("traceDeprecation")?console.trace(r):console.warn(r),o=!0}return a.apply(this,arguments)}return s}function e(a){try{if(!commonjsGlobal.localStorage)return!1}catch{return!1}var r=commonjsGlobal.localStorage[a];return r==null?!1:String(r).toLowerCase()==="true"}return browser$a}var _stream_writable$2,hasRequired_stream_writable$2;function require_stream_writable$2(){if(hasRequired_stream_writable$2)return _stream_writable$2;hasRequired_stream_writable$2=1,_stream_writable$2=J;function t(re){var U=this;this.next=null,this.entry=null,this.finish=function(){le(U,re)}}var e;J.WritableState=V;var a={deprecate:requireBrowser$a()},r=requireStreamBrowser$2(),o=requireDist().Buffer,s=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function l(re){return o.from(re)}function c(re){return o.isBuffer(re)||re instanceof s}var u=requireDestroy$2(),h=requireState(),f=h.getHighWaterMark,m=requireErrorsBrowser().codes,g=m.ERR_INVALID_ARG_TYPE,b=m.ERR_METHOD_NOT_IMPLEMENTED,w=m.ERR_MULTIPLE_CALLBACK,E=m.ERR_STREAM_CANNOT_PIPE,C=m.ERR_STREAM_DESTROYED,B=m.ERR_STREAM_NULL_VALUES,O=m.ERR_STREAM_WRITE_AFTER_END,P=m.ERR_UNKNOWN_ENCODING,q=u.errorOrDestroy;requireInherits_browser()(J,r);function z(){}function V(re,U,K){e=e||require_stream_duplex$2(),re=re||{},typeof K!="boolean"&&(K=U instanceof e),this.objectMode=!!re.objectMode,K&&(this.objectMode=this.objectMode||!!re.writableObjectMode),this.highWaterMark=f(this,re,"writableHighWaterMark",K),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var se=re.decodeStrings===!1;this.decodeStrings=!se,this.defaultEncoding=re.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(he){N(U,he)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=re.emitClose!==!1,this.autoDestroy=!!re.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}V.prototype.getBuffer=function(){for(var U=this.bufferedRequest,K=[];U;)K.push(U),U=U.next;return K},(function(){try{Object.defineProperty(V.prototype,"buffer",{get:a.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var Z;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Z=Function.prototype[Symbol.hasInstance],Object.defineProperty(J,Symbol.hasInstance,{value:function(U){return Z.call(this,U)?!0:this!==J?!1:U&&U._writableState instanceof V}})):Z=function(U){return U instanceof this};function J(re){e=e||require_stream_duplex$2();var U=this instanceof e;if(!U&&!Z.call(J,this))return new J(re);this._writableState=new V(re,this,U),this.writable=!0,re&&(typeof re.write=="function"&&(this._write=re.write),typeof re.writev=="function"&&(this._writev=re.writev),typeof re.destroy=="function"&&(this._destroy=re.destroy),typeof re.final=="function"&&(this._final=re.final)),r.call(this)}J.prototype.pipe=function(){q(this,new E)};function W(re,U){var K=new O;q(re,K),process$1.nextTick(U,K)}function te(re,U,K,se){var he;return K===null?he=new B:typeof K!="string"&&!U.objectMode&&(he=new g("chunk",["string","Buffer"],K)),he?(q(re,he),process$1.nextTick(se,he),!1):!0}J.prototype.write=function(re,U,K){var se=this._writableState,he=!1,ue=!se.objectMode&&c(re);return ue&&!o.isBuffer(re)&&(re=l(re)),typeof U=="function"&&(K=U,U=null),ue?U="buffer":U||(U=se.defaultEncoding),typeof K!="function"&&(K=z),se.ending?W(this,K):(ue||te(this,se,re,K))&&(se.pendingcb++,he=D(this,se,ue,re,U,K)),he},J.prototype.cork=function(){this._writableState.corked++},J.prototype.uncork=function(){var re=this._writableState;re.corked&&(re.corked--,!re.writing&&!re.corked&&!re.bufferProcessing&&re.bufferedRequest&&j(this,re))},J.prototype.setDefaultEncoding=function(U){if(typeof U=="string"&&(U=U.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((U+"").toLowerCase())>-1))throw new P(U);return this._writableState.defaultEncoding=U,this},Object.defineProperty(J.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function G(re,U,K){return!re.objectMode&&re.decodeStrings!==!1&&typeof U=="string"&&(U=o.from(U,K)),U}Object.defineProperty(J.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function D(re,U,K,se,he,ue){if(!K){var ee=G(U,se,he);se!==ee&&(K=!0,he="buffer",se=ee)}var fe=U.objectMode?1:se.length;U.length+=fe;var ge=U.length<U.highWaterMark;if(ge||(U.needDrain=!0),U.writing||U.corked){var xe=U.lastBufferedRequest;U.lastBufferedRequest={chunk:se,encoding:he,isBuf:K,callback:ue,next:null},xe?xe.next=U.lastBufferedRequest:U.bufferedRequest=U.lastBufferedRequest,U.bufferedRequestCount+=1}else M(re,U,!1,fe,se,he,ue);return ge}function M(re,U,K,se,he,ue,ee){U.writelen=se,U.writecb=ee,U.writing=!0,U.sync=!0,U.destroyed?U.onwrite(new C("write")):K?re._writev(he,U.onwrite):re._write(he,ue,U.onwrite),U.sync=!1}function v(re,U,K,se,he){--U.pendingcb,K?(process$1.nextTick(he,se),process$1.nextTick(L,re,U),re._writableState.errorEmitted=!0,q(re,se)):(he(se),re._writableState.errorEmitted=!0,q(re,se),L(re,U))}function S(re){re.writing=!1,re.writecb=null,re.length-=re.writelen,re.writelen=0}function N(re,U){var K=re._writableState,se=K.sync,he=K.writecb;if(typeof he!="function")throw new w;if(S(K),U)v(re,K,se,U,he);else{var ue=I(K)||re.destroyed;!ue&&!K.corked&&!K.bufferProcessing&&K.bufferedRequest&&j(re,K),se?process$1.nextTick(R,re,K,ue,he):R(re,K,ue,he)}}function R(re,U,K,se){K||k(re,U),U.pendingcb--,se(),L(re,U)}function k(re,U){U.length===0&&U.needDrain&&(U.needDrain=!1,re.emit("drain"))}function j(re,U){U.bufferProcessing=!0;var K=U.bufferedRequest;if(re._writev&&K&&K.next){var se=U.bufferedRequestCount,he=new Array(se),ue=U.corkedRequestsFree;ue.entry=K;for(var ee=0,fe=!0;K;)he[ee]=K,K.isBuf||(fe=!1),K=K.next,ee+=1;he.allBuffers=fe,M(re,U,!0,U.length,he,"",ue.finish),U.pendingcb++,U.lastBufferedRequest=null,ue.next?(U.corkedRequestsFree=ue.next,ue.next=null):U.corkedRequestsFree=new t(U),U.bufferedRequestCount=0}else{for(;K;){var ge=K.chunk,xe=K.encoding,_e=K.callback,Ie=U.objectMode?1:ge.length;if(M(re,U,!1,Ie,ge,xe,_e),K=K.next,U.bufferedRequestCount--,U.writing)break}K===null&&(U.lastBufferedRequest=null)}U.bufferedRequest=K,U.bufferProcessing=!1}J.prototype._write=function(re,U,K){K(new b("_write()"))},J.prototype._writev=null,J.prototype.end=function(re,U,K){var se=this._writableState;return typeof re=="function"?(K=re,re=null,U=null):typeof U=="function"&&(K=U,U=null),re!=null&&this.write(re,U),se.corked&&(se.corked=1,this.uncork()),se.ending||Y(this,se,K),this},Object.defineProperty(J.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function I(re){return re.ending&&re.length===0&&re.bufferedRequest===null&&!re.finished&&!re.writing}function A(re,U){re._final(function(K){U.pendingcb--,K&&q(re,K),U.prefinished=!0,re.emit("prefinish"),L(re,U)})}function $(re,U){!U.prefinished&&!U.finalCalled&&(typeof re._final=="function"&&!U.destroyed?(U.pendingcb++,U.finalCalled=!0,process$1.nextTick(A,re,U)):(U.prefinished=!0,re.emit("prefinish")))}function L(re,U){var K=I(U);if(K&&($(re,U),U.pendingcb===0&&(U.finished=!0,re.emit("finish"),U.autoDestroy))){var se=re._readableState;(!se||se.autoDestroy&&se.endEmitted)&&re.destroy()}return K}function Y(re,U,K){U.ending=!0,L(re,U),K&&(U.finished?process$1.nextTick(K):re.once("finish",K)),U.ended=!0,re.writable=!1}function le(re,U,K){var se=re.entry;for(re.entry=null;se;){var he=se.callback;U.pendingcb--,he(K),se=se.next}U.corkedRequestsFree.next=re}return Object.defineProperty(J.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(U){this._writableState&&(this._writableState.destroyed=U)}}),J.prototype.destroy=u.destroy,J.prototype._undestroy=u.undestroy,J.prototype._destroy=function(re,U){U(re)},_stream_writable$2}var _stream_duplex$2,hasRequired_stream_duplex$2;function require_stream_duplex$2(){if(hasRequired_stream_duplex$2)return _stream_duplex$2;hasRequired_stream_duplex$2=1;var t=Object.keys||function(h){var f=[];for(var m in h)f.push(m);return f};_stream_duplex$2=l;var e=require_stream_readable$2(),a=require_stream_writable$2();requireInherits_browser()(l,e);for(var r=t(a.prototype),o=0;o<r.length;o++){var s=r[o];l.prototype[s]||(l.prototype[s]=a.prototype[s])}function l(h){if(!(this instanceof l))return new l(h);e.call(this,h),a.call(this,h),this.allowHalfOpen=!0,h&&(h.readable===!1&&(this.readable=!1),h.writable===!1&&(this.writable=!1),h.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",c)))}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function c(){this._writableState.ended||process$1.nextTick(u,this)}function u(h){h.end()}return Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(f){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=f,this._writableState.destroyed=f)}}),_stream_duplex$2}var string_decoder={},hasRequiredString_decoder;function requireString_decoder(){if(hasRequiredString_decoder)return string_decoder;hasRequiredString_decoder=1;var t=requireSafeBuffer$2().Buffer,e=t.isEncoding||function(B){switch(B=""+B,B&&B.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(B){if(!B)return"utf8";for(var O;;)switch(B){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return B;default:if(O)return;B=(""+B).toLowerCase(),O=!0}}function r(B){var O=a(B);if(typeof O!="string"&&(t.isEncoding===e||!e(B)))throw new Error("Unknown encoding: "+B);return O||B}string_decoder.StringDecoder=o;function o(B){this.encoding=r(B);var O;switch(this.encoding){case"utf16le":this.text=m,this.end=g,O=4;break;case"utf8":this.fillLast=u,O=4;break;case"base64":this.text=b,this.end=w,O=3;break;default:this.write=E,this.end=C;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(O)}o.prototype.write=function(B){if(B.length===0)return"";var O,P;if(this.lastNeed){if(O=this.fillLast(B),O===void 0)return"";P=this.lastNeed,this.lastNeed=0}else P=0;return P<B.length?O?O+this.text(B,P):this.text(B,P):O||""},o.prototype.end=f,o.prototype.text=h,o.prototype.fillLast=function(B){if(this.lastNeed<=B.length)return B.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);B.copy(this.lastChar,this.lastTotal-this.lastNeed,0,B.length),this.lastNeed-=B.length};function s(B){return B<=127?0:B>>5===6?2:B>>4===14?3:B>>3===30?4:B>>6===2?-1:-2}function l(B,O,P){var q=O.length-1;if(q<P)return 0;var z=s(O[q]);return z>=0?(z>0&&(B.lastNeed=z-1),z):--q<P||z===-2?0:(z=s(O[q]),z>=0?(z>0&&(B.lastNeed=z-2),z):--q<P||z===-2?0:(z=s(O[q]),z>=0?(z>0&&(z===2?z=0:B.lastNeed=z-3),z):0))}function c(B,O,P){if((O[0]&192)!==128)return B.lastNeed=0,"";if(B.lastNeed>1&&O.length>1){if((O[1]&192)!==128)return B.lastNeed=1,"";if(B.lastNeed>2&&O.length>2&&(O[2]&192)!==128)return B.lastNeed=2,""}}function u(B){var O=this.lastTotal-this.lastNeed,P=c(this,B);if(P!==void 0)return P;if(this.lastNeed<=B.length)return B.copy(this.lastChar,O,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);B.copy(this.lastChar,O,0,B.length),this.lastNeed-=B.length}function h(B,O){var P=l(this,B,O);if(!this.lastNeed)return B.toString("utf8",O);this.lastTotal=P;var q=B.length-(P-this.lastNeed);return B.copy(this.lastChar,0,q),B.toString("utf8",O,q)}function f(B){var O=B&&B.length?this.write(B):"";return this.lastNeed?O+"":O}function m(B,O){if((B.length-O)%2===0){var P=B.toString("utf16le",O);if(P){var q=P.charCodeAt(P.length-1);if(q>=55296&&q<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=B[B.length-2],this.lastChar[1]=B[B.length-1],P.slice(0,-1)}return P}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=B[B.length-1],B.toString("utf16le",O,B.length-1)}function g(B){var O=B&&B.length?this.write(B):"";if(this.lastNeed){var P=this.lastTotal-this.lastNeed;return O+this.lastChar.toString("utf16le",0,P)}return O}function b(B,O){var P=(B.length-O)%3;return P===0?B.toString("base64",O):(this.lastNeed=3-P,this.lastTotal=3,P===1?this.lastChar[0]=B[B.length-1]:(this.lastChar[0]=B[B.length-2],this.lastChar[1]=B[B.length-1]),B.toString("base64",O,B.length-P))}function w(B){var O=B&&B.length?this.write(B):"";return this.lastNeed?O+this.lastChar.toString("base64",0,3-this.lastNeed):O}function E(B){return B.toString(this.encoding)}function C(B){return B&&B.length?this.write(B):""}return string_decoder}var endOfStream,hasRequiredEndOfStream;function requireEndOfStream(){if(hasRequiredEndOfStream)return endOfStream;hasRequiredEndOfStream=1;var t=requireErrorsBrowser().codes.ERR_STREAM_PREMATURE_CLOSE;function e(s){var l=!1;return function(){if(!l){l=!0;for(var c=arguments.length,u=new Array(c),h=0;h<c;h++)u[h]=arguments[h];s.apply(this,u)}}}function a(){}function r(s){return s.setHeader&&typeof s.abort=="function"}function o(s,l,c){if(typeof l=="function")return o(s,null,l);l||(l={}),c=e(c||a);var u=l.readable||l.readable!==!1&&s.readable,h=l.writable||l.writable!==!1&&s.writable,f=function(){s.writable||g()},m=s._writableState&&s._writableState.finished,g=function(){h=!1,m=!0,u||c.call(s)},b=s._readableState&&s._readableState.endEmitted,w=function(){u=!1,b=!0,h||c.call(s)},E=function(P){c.call(s,P)},C=function(){var P;if(u&&!b)return(!s._readableState||!s._readableState.ended)&&(P=new t),c.call(s,P);if(h&&!m)return(!s._writableState||!s._writableState.ended)&&(P=new t),c.call(s,P)},B=function(){s.req.on("finish",g)};return r(s)?(s.on("complete",g),s.on("abort",C),s.req?B():s.on("request",B)):h&&!s._writableState&&(s.on("end",f),s.on("close",f)),s.on("end",w),s.on("finish",g),l.error!==!1&&s.on("error",E),s.on("close",C),function(){s.removeListener("complete",g),s.removeListener("abort",C),s.removeListener("request",B),s.req&&s.req.removeListener("finish",g),s.removeListener("end",f),s.removeListener("close",f),s.removeListener("finish",g),s.removeListener("end",w),s.removeListener("error",E),s.removeListener("close",C)}}return endOfStream=o,endOfStream}var async_iterator,hasRequiredAsync_iterator;function requireAsync_iterator(){if(hasRequiredAsync_iterator)return async_iterator;hasRequiredAsync_iterator=1;var t;function e(P,q,z){return q=a(q),q in P?Object.defineProperty(P,q,{value:z,enumerable:!0,configurable:!0,writable:!0}):P[q]=z,P}function a(P){var q=r(P,"string");return typeof q=="symbol"?q:String(q)}function r(P,q){if(typeof P!="object"||P===null)return P;var z=P[Symbol.toPrimitive];if(z!==void 0){var V=z.call(P,q);if(typeof V!="object")return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return(q==="string"?String:Number)(P)}var o=requireEndOfStream(),s=Symbol("lastResolve"),l=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),h=Symbol("lastPromise"),f=Symbol("handlePromise"),m=Symbol("stream");function g(P,q){return{value:P,done:q}}function b(P){var q=P[s];if(q!==null){var z=P[m].read();z!==null&&(P[h]=null,P[s]=null,P[l]=null,q(g(z,!1)))}}function w(P){process$1.nextTick(b,P)}function E(P,q){return function(z,V){P.then(function(){if(q[u]){z(g(void 0,!0));return}q[f](z,V)},V)}}var C=Object.getPrototypeOf(function(){}),B=Object.setPrototypeOf((t={get stream(){return this[m]},next:function(){var q=this,z=this[c];if(z!==null)return Promise.reject(z);if(this[u])return Promise.resolve(g(void 0,!0));if(this[m].destroyed)return new Promise(function(W,te){process$1.nextTick(function(){q[c]?te(q[c]):W(g(void 0,!0))})});var V=this[h],Z;if(V)Z=new Promise(E(V,this));else{var J=this[m].read();if(J!==null)return Promise.resolve(g(J,!1));Z=new Promise(this[f])}return this[h]=Z,Z}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var q=this;return new Promise(function(z,V){q[m].destroy(null,function(Z){if(Z){V(Z);return}z(g(void 0,!0))})})}),t),C),O=function(q){var z,V=Object.create(B,(z={},e(z,m,{value:q,writable:!0}),e(z,s,{value:null,writable:!0}),e(z,l,{value:null,writable:!0}),e(z,c,{value:null,writable:!0}),e(z,u,{value:q._readableState.endEmitted,writable:!0}),e(z,f,{value:function(J,W){var te=V[m].read();te?(V[h]=null,V[s]=null,V[l]=null,J(g(te,!1))):(V[s]=J,V[l]=W)},writable:!0}),z));return V[h]=null,o(q,function(Z){if(Z&&Z.code!=="ERR_STREAM_PREMATURE_CLOSE"){var J=V[l];J!==null&&(V[h]=null,V[s]=null,V[l]=null,J(Z)),V[c]=Z;return}var W=V[s];W!==null&&(V[h]=null,V[s]=null,V[l]=null,W(g(void 0,!0))),V[u]=!0}),q.on("readable",w.bind(null,V)),V};return async_iterator=O,async_iterator}var fromBrowser,hasRequiredFromBrowser;function requireFromBrowser(){return hasRequiredFromBrowser||(hasRequiredFromBrowser=1,fromBrowser=function(){throw new Error("Readable.from is not available in the browser")}),fromBrowser}var _stream_readable$2,hasRequired_stream_readable$2;function require_stream_readable$2(){if(hasRequired_stream_readable$2)return _stream_readable$2;hasRequired_stream_readable$2=1,_stream_readable$2=W;var t;W.ReadableState=J,requireEvents().EventEmitter;var e=function(ee,fe){return ee.listeners(fe).length},a=requireStreamBrowser$2(),r=requireDist().Buffer,o=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(ue){return r.from(ue)}function l(ue){return r.isBuffer(ue)||ue instanceof o}var c=requireUtil$1(),u;c&&c.debuglog?u=c.debuglog("stream"):u=function(){};var h=requireBuffer_list(),f=requireDestroy$2(),m=requireState(),g=m.getHighWaterMark,b=requireErrorsBrowser().codes,w=b.ERR_INVALID_ARG_TYPE,E=b.ERR_STREAM_PUSH_AFTER_EOF,C=b.ERR_METHOD_NOT_IMPLEMENTED,B=b.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,O,P,q;requireInherits_browser()(W,a);var z=f.errorOrDestroy,V=["error","close","destroy","pause","resume"];function Z(ue,ee,fe){if(typeof ue.prependListener=="function")return ue.prependListener(ee,fe);!ue._events||!ue._events[ee]?ue.on(ee,fe):Array.isArray(ue._events[ee])?ue._events[ee].unshift(fe):ue._events[ee]=[fe,ue._events[ee]]}function J(ue,ee,fe){t=t||require_stream_duplex$2(),ue=ue||{},typeof fe!="boolean"&&(fe=ee instanceof t),this.objectMode=!!ue.objectMode,fe&&(this.objectMode=this.objectMode||!!ue.readableObjectMode),this.highWaterMark=g(this,ue,"readableHighWaterMark",fe),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=ue.emitClose!==!1,this.autoDestroy=!!ue.autoDestroy,this.destroyed=!1,this.defaultEncoding=ue.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,ue.encoding&&(O||(O=requireString_decoder().StringDecoder),this.decoder=new O(ue.encoding),this.encoding=ue.encoding)}function W(ue){if(t=t||require_stream_duplex$2(),!(this instanceof W))return new W(ue);var ee=this instanceof t;this._readableState=new J(ue,this,ee),this.readable=!0,ue&&(typeof ue.read=="function"&&(this._read=ue.read),typeof ue.destroy=="function"&&(this._destroy=ue.destroy)),a.call(this)}Object.defineProperty(W.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(ee){this._readableState&&(this._readableState.destroyed=ee)}}),W.prototype.destroy=f.destroy,W.prototype._undestroy=f.undestroy,W.prototype._destroy=function(ue,ee){ee(ue)},W.prototype.push=function(ue,ee){var fe=this._readableState,ge;return fe.objectMode?ge=!0:typeof ue=="string"&&(ee=ee||fe.defaultEncoding,ee!==fe.encoding&&(ue=r.from(ue,ee),ee=""),ge=!0),te(this,ue,ee,!1,ge)},W.prototype.unshift=function(ue){return te(this,ue,null,!0,!1)};function te(ue,ee,fe,ge,xe){u("readableAddChunk",ee);var _e=ue._readableState;if(ee===null)_e.reading=!1,N(ue,_e);else{var Ie;if(xe||(Ie=D(_e,ee)),Ie)z(ue,Ie);else if(_e.objectMode||ee&&ee.length>0)if(typeof ee!="string"&&!_e.objectMode&&Object.getPrototypeOf(ee)!==r.prototype&&(ee=s(ee)),ge)_e.endEmitted?z(ue,new B):G(ue,_e,ee,!0);else if(_e.ended)z(ue,new E);else{if(_e.destroyed)return!1;_e.reading=!1,_e.decoder&&!fe?(ee=_e.decoder.write(ee),_e.objectMode||ee.length!==0?G(ue,_e,ee,!1):j(ue,_e)):G(ue,_e,ee,!1)}else ge||(_e.reading=!1,j(ue,_e))}return!_e.ended&&(_e.length<_e.highWaterMark||_e.length===0)}function G(ue,ee,fe,ge){ee.flowing&&ee.length===0&&!ee.sync?(ee.awaitDrain=0,ue.emit("data",fe)):(ee.length+=ee.objectMode?1:fe.length,ge?ee.buffer.unshift(fe):ee.buffer.push(fe),ee.needReadable&&R(ue)),j(ue,ee)}function D(ue,ee){var fe;return!l(ee)&&typeof ee!="string"&&ee!==void 0&&!ue.objectMode&&(fe=new w("chunk",["string","Buffer","Uint8Array"],ee)),fe}W.prototype.isPaused=function(){return this._readableState.flowing===!1},W.prototype.setEncoding=function(ue){O||(O=requireString_decoder().StringDecoder);var ee=new O(ue);this._readableState.decoder=ee,this._readableState.encoding=this._readableState.decoder.encoding;for(var fe=this._readableState.buffer.head,ge="";fe!==null;)ge+=ee.write(fe.data),fe=fe.next;return this._readableState.buffer.clear(),ge!==""&&this._readableState.buffer.push(ge),this._readableState.length=ge.length,this};var M=1073741824;function v(ue){return ue>=M?ue=M:(ue--,ue|=ue>>>1,ue|=ue>>>2,ue|=ue>>>4,ue|=ue>>>8,ue|=ue>>>16,ue++),ue}function S(ue,ee){return ue<=0||ee.length===0&&ee.ended?0:ee.objectMode?1:ue!==ue?ee.flowing&&ee.length?ee.buffer.head.data.length:ee.length:(ue>ee.highWaterMark&&(ee.highWaterMark=v(ue)),ue<=ee.length?ue:ee.ended?ee.length:(ee.needReadable=!0,0))}W.prototype.read=function(ue){u("read",ue),ue=parseInt(ue,10);var ee=this._readableState,fe=ue;if(ue!==0&&(ee.emittedReadable=!1),ue===0&&ee.needReadable&&((ee.highWaterMark!==0?ee.length>=ee.highWaterMark:ee.length>0)||ee.ended))return u("read: emitReadable",ee.length,ee.ended),ee.length===0&&ee.ended?K(this):R(this),null;if(ue=S(ue,ee),ue===0&&ee.ended)return ee.length===0&&K(this),null;var ge=ee.needReadable;u("need readable",ge),(ee.length===0||ee.length-ue<ee.highWaterMark)&&(ge=!0,u("length less than watermark",ge)),ee.ended||ee.reading?(ge=!1,u("reading or ended",ge)):ge&&(u("do read"),ee.reading=!0,ee.sync=!0,ee.length===0&&(ee.needReadable=!0),this._read(ee.highWaterMark),ee.sync=!1,ee.reading||(ue=S(fe,ee)));var xe;return ue>0?xe=U(ue,ee):xe=null,xe===null?(ee.needReadable=ee.length<=ee.highWaterMark,ue=0):(ee.length-=ue,ee.awaitDrain=0),ee.length===0&&(ee.ended||(ee.needReadable=!0),fe!==ue&&ee.ended&&K(this)),xe!==null&&this.emit("data",xe),xe};function N(ue,ee){if(u("onEofChunk"),!ee.ended){if(ee.decoder){var fe=ee.decoder.end();fe&&fe.length&&(ee.buffer.push(fe),ee.length+=ee.objectMode?1:fe.length)}ee.ended=!0,ee.sync?R(ue):(ee.needReadable=!1,ee.emittedReadable||(ee.emittedReadable=!0,k(ue)))}}function R(ue){var ee=ue._readableState;u("emitReadable",ee.needReadable,ee.emittedReadable),ee.needReadable=!1,ee.emittedReadable||(u("emitReadable",ee.flowing),ee.emittedReadable=!0,process$1.nextTick(k,ue))}function k(ue){var ee=ue._readableState;u("emitReadable_",ee.destroyed,ee.length,ee.ended),!ee.destroyed&&(ee.length||ee.ended)&&(ue.emit("readable"),ee.emittedReadable=!1),ee.needReadable=!ee.flowing&&!ee.ended&&ee.length<=ee.highWaterMark,re(ue)}function j(ue,ee){ee.readingMore||(ee.readingMore=!0,process$1.nextTick(I,ue,ee))}function I(ue,ee){for(;!ee.reading&&!ee.ended&&(ee.length<ee.highWaterMark||ee.flowing&&ee.length===0);){var fe=ee.length;if(u("maybeReadMore read 0"),ue.read(0),fe===ee.length)break}ee.readingMore=!1}W.prototype._read=function(ue){z(this,new C("_read()"))},W.prototype.pipe=function(ue,ee){var fe=this,ge=this._readableState;switch(ge.pipesCount){case 0:ge.pipes=ue;break;case 1:ge.pipes=[ge.pipes,ue];break;default:ge.pipes.push(ue);break}ge.pipesCount+=1,u("pipe count=%d opts=%j",ge.pipesCount,ee);var xe=(!ee||ee.end!==!1)&&ue!==process$1.stdout&&ue!==process$1.stderr,_e=xe?De:Te;ge.endEmitted?process$1.nextTick(_e):fe.once("end",_e),ue.on("unpipe",Ie);function Ie(ye,Fe){u("onunpipe"),ye===fe&&Fe&&Fe.hasUnpiped===!1&&(Fe.hasUnpiped=!0,Be())}function De(){u("onend"),ue.end()}var $e=A(fe);ue.on("drain",$e);var Ue=!1;function Be(){u("cleanup"),ue.removeListener("close",Ae),ue.removeListener("finish",Ce),ue.removeListener("drain",$e),ue.removeListener("error",He),ue.removeListener("unpipe",Ie),fe.removeListener("end",De),fe.removeListener("end",Te),fe.removeListener("data",Ve),Ue=!0,ge.awaitDrain&&(!ue._writableState||ue._writableState.needDrain)&&$e()}fe.on("data",Ve);function Ve(ye){u("ondata");var Fe=ue.write(ye);u("dest.write",Fe),Fe===!1&&((ge.pipesCount===1&&ge.pipes===ue||ge.pipesCount>1&&he(ge.pipes,ue)!==-1)&&!Ue&&(u("false write response, pause",ge.awaitDrain),ge.awaitDrain++),fe.pause())}function He(ye){u("onerror",ye),Te(),ue.removeListener("error",He),e(ue,"error")===0&&z(ue,ye)}Z(ue,"error",He);function Ae(){ue.removeListener("finish",Ce),Te()}ue.once("close",Ae);function Ce(){u("onfinish"),ue.removeListener("close",Ae),Te()}ue.once("finish",Ce);function Te(){u("unpipe"),fe.unpipe(ue)}return ue.emit("pipe",fe),ge.flowing||(u("pipe resume"),fe.resume()),ue};function A(ue){return function(){var fe=ue._readableState;u("pipeOnDrain",fe.awaitDrain),fe.awaitDrain&&fe.awaitDrain--,fe.awaitDrain===0&&e(ue,"data")&&(fe.flowing=!0,re(ue))}}W.prototype.unpipe=function(ue){var ee=this._readableState,fe={hasUnpiped:!1};if(ee.pipesCount===0)return this;if(ee.pipesCount===1)return ue&&ue!==ee.pipes?this:(ue||(ue=ee.pipes),ee.pipes=null,ee.pipesCount=0,ee.flowing=!1,ue&&ue.emit("unpipe",this,fe),this);if(!ue){var ge=ee.pipes,xe=ee.pipesCount;ee.pipes=null,ee.pipesCount=0,ee.flowing=!1;for(var _e=0;_e<xe;_e++)ge[_e].emit("unpipe",this,{hasUnpiped:!1});return this}var Ie=he(ee.pipes,ue);return Ie===-1?this:(ee.pipes.splice(Ie,1),ee.pipesCount-=1,ee.pipesCount===1&&(ee.pipes=ee.pipes[0]),ue.emit("unpipe",this,fe),this)},W.prototype.on=function(ue,ee){var fe=a.prototype.on.call(this,ue,ee),ge=this._readableState;return ue==="data"?(ge.readableListening=this.listenerCount("readable")>0,ge.flowing!==!1&&this.resume()):ue==="readable"&&!ge.endEmitted&&!ge.readableListening&&(ge.readableListening=ge.needReadable=!0,ge.flowing=!1,ge.emittedReadable=!1,u("on readable",ge.length,ge.reading),ge.length?R(this):ge.reading||process$1.nextTick(L,this)),fe},W.prototype.addListener=W.prototype.on,W.prototype.removeListener=function(ue,ee){var fe=a.prototype.removeListener.call(this,ue,ee);return ue==="readable"&&process$1.nextTick($,this),fe},W.prototype.removeAllListeners=function(ue){var ee=a.prototype.removeAllListeners.apply(this,arguments);return(ue==="readable"||ue===void 0)&&process$1.nextTick($,this),ee};function $(ue){var ee=ue._readableState;ee.readableListening=ue.listenerCount("readable")>0,ee.resumeScheduled&&!ee.paused?ee.flowing=!0:ue.listenerCount("data")>0&&ue.resume()}function L(ue){u("readable nexttick read 0"),ue.read(0)}W.prototype.resume=function(){var ue=this._readableState;return ue.flowing||(u("resume"),ue.flowing=!ue.readableListening,Y(this,ue)),ue.paused=!1,this};function Y(ue,ee){ee.resumeScheduled||(ee.resumeScheduled=!0,process$1.nextTick(le,ue,ee))}function le(ue,ee){u("resume",ee.reading),ee.reading||ue.read(0),ee.resumeScheduled=!1,ue.emit("resume"),re(ue),ee.flowing&&!ee.reading&&ue.read(0)}W.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function re(ue){var ee=ue._readableState;for(u("flow",ee.flowing);ee.flowing&&ue.read()!==null;);}W.prototype.wrap=function(ue){var ee=this,fe=this._readableState,ge=!1;ue.on("end",function(){if(u("wrapped end"),fe.decoder&&!fe.ended){var Ie=fe.decoder.end();Ie&&Ie.length&&ee.push(Ie)}ee.push(null)}),ue.on("data",function(Ie){if(u("wrapped data"),fe.decoder&&(Ie=fe.decoder.write(Ie)),!(fe.objectMode&&Ie==null)&&!(!fe.objectMode&&(!Ie||!Ie.length))){var De=ee.push(Ie);De||(ge=!0,ue.pause())}});for(var xe in ue)this[xe]===void 0&&typeof ue[xe]=="function"&&(this[xe]=(function(De){return function(){return ue[De].apply(ue,arguments)}})(xe));for(var _e=0;_e<V.length;_e++)ue.on(V[_e],this.emit.bind(this,V[_e]));return this._read=function(Ie){u("wrapped _read",Ie),ge&&(ge=!1,ue.resume())},this},typeof Symbol=="function"&&(W.prototype[Symbol.asyncIterator]=function(){return P===void 0&&(P=requireAsync_iterator()),P(this)}),Object.defineProperty(W.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(W.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(W.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(ee){this._readableState&&(this._readableState.flowing=ee)}}),W._fromList=U,Object.defineProperty(W.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function U(ue,ee){if(ee.length===0)return null;var fe;return ee.objectMode?fe=ee.buffer.shift():!ue||ue>=ee.length?(ee.decoder?fe=ee.buffer.join(""):ee.buffer.length===1?fe=ee.buffer.first():fe=ee.buffer.concat(ee.length),ee.buffer.clear()):fe=ee.buffer.consume(ue,ee.decoder),fe}function K(ue){var ee=ue._readableState;u("endReadable",ee.endEmitted),ee.endEmitted||(ee.ended=!0,process$1.nextTick(se,ee,ue))}function se(ue,ee){if(u("endReadableNT",ue.endEmitted,ue.length),!ue.endEmitted&&ue.length===0&&(ue.endEmitted=!0,ee.readable=!1,ee.emit("end"),ue.autoDestroy)){var fe=ee._writableState;(!fe||fe.autoDestroy&&fe.finished)&&ee.destroy()}}typeof Symbol=="function"&&(W.from=function(ue,ee){return q===void 0&&(q=requireFromBrowser()),q(W,ue,ee)});function he(ue,ee){for(var fe=0,ge=ue.length;fe<ge;fe++)if(ue[fe]===ee)return fe;return-1}return _stream_readable$2}var _stream_transform$2,hasRequired_stream_transform$2;function require_stream_transform$2(){if(hasRequired_stream_transform$2)return _stream_transform$2;hasRequired_stream_transform$2=1,_stream_transform$2=c;var t=requireErrorsBrowser().codes,e=t.ERR_METHOD_NOT_IMPLEMENTED,a=t.ERR_MULTIPLE_CALLBACK,r=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=t.ERR_TRANSFORM_WITH_LENGTH_0,s=require_stream_duplex$2();requireInherits_browser()(c,s);function l(f,m){var g=this._transformState;g.transforming=!1;var b=g.writecb;if(b===null)return this.emit("error",new a);g.writechunk=null,g.writecb=null,m!=null&&this.push(m),b(f);var w=this._readableState;w.reading=!1,(w.needReadable||w.length<w.highWaterMark)&&this._read(w.highWaterMark)}function c(f){if(!(this instanceof c))return new c(f);s.call(this,f),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",u)}function u(){var f=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(m,g){h(f,m,g)}):h(this,null,null)}c.prototype.push=function(f,m){return this._transformState.needTransform=!1,s.prototype.push.call(this,f,m)},c.prototype._transform=function(f,m,g){g(new e("_transform()"))},c.prototype._write=function(f,m,g){var b=this._transformState;if(b.writecb=g,b.writechunk=f,b.writeencoding=m,!b.transforming){var w=this._readableState;(b.needTransform||w.needReadable||w.length<w.highWaterMark)&&this._read(w.highWaterMark)}},c.prototype._read=function(f){var m=this._transformState;m.writechunk!==null&&!m.transforming?(m.transforming=!0,this._transform(m.writechunk,m.writeencoding,m.afterTransform)):m.needTransform=!0},c.prototype._destroy=function(f,m){s.prototype._destroy.call(this,f,function(g){m(g)})};function h(f,m,g){if(m)return f.emit("error",m);if(g!=null&&f.push(g),f._writableState.length)throw new o;if(f._transformState.transforming)throw new r;return f.push(null)}return _stream_transform$2}var _stream_passthrough$2,hasRequired_stream_passthrough$2;function require_stream_passthrough$2(){if(hasRequired_stream_passthrough$2)return _stream_passthrough$2;hasRequired_stream_passthrough$2=1,_stream_passthrough$2=e;var t=require_stream_transform$2();requireInherits_browser()(e,t);function e(a){if(!(this instanceof e))return new e(a);t.call(this,a)}return e.prototype._transform=function(a,r,o){o(null,a)},_stream_passthrough$2}var pipeline_1,hasRequiredPipeline;function requirePipeline(){if(hasRequiredPipeline)return pipeline_1;hasRequiredPipeline=1;var t;function e(g){var b=!1;return function(){b||(b=!0,g.apply(void 0,arguments))}}var a=requireErrorsBrowser().codes,r=a.ERR_MISSING_ARGS,o=a.ERR_STREAM_DESTROYED;function s(g){if(g)throw g}function l(g){return g.setHeader&&typeof g.abort=="function"}function c(g,b,w,E){E=e(E);var C=!1;g.on("close",function(){C=!0}),t===void 0&&(t=requireEndOfStream()),t(g,{readable:b,writable:w},function(O){if(O)return E(O);C=!0,E()});var B=!1;return function(O){if(!C&&!B){if(B=!0,l(g))return g.abort();if(typeof g.destroy=="function")return g.destroy();E(O||new o("pipe"))}}}function u(g){g()}function h(g,b){return g.pipe(b)}function f(g){return!g.length||typeof g[g.length-1]!="function"?s:g.pop()}function m(){for(var g=arguments.length,b=new Array(g),w=0;w<g;w++)b[w]=arguments[w];var E=f(b);if(Array.isArray(b[0])&&(b=b[0]),b.length<2)throw new r("streams");var C,B=b.map(function(O,P){var q=P<b.length-1,z=P>0;return c(O,q,z,function(V){C||(C=V),V&&B.forEach(u),!q&&(B.forEach(u),E(C))})});return b.reduce(h)}return pipeline_1=m,pipeline_1}var streamBrowserify,hasRequiredStreamBrowserify;function requireStreamBrowserify(){if(hasRequiredStreamBrowserify)return streamBrowserify;hasRequiredStreamBrowserify=1,streamBrowserify=a;var t=requireEvents().EventEmitter,e=requireInherits_browser();e(a,t),a.Readable=require_stream_readable$2(),a.Writable=require_stream_writable$2(),a.Duplex=require_stream_duplex$2(),a.Transform=require_stream_transform$2(),a.PassThrough=require_stream_passthrough$2(),a.finished=requireEndOfStream(),a.pipeline=requirePipeline(),a.Stream=a;function a(){t.call(this)}return a.prototype.pipe=function(r,o){var s=this;function l(b){r.writable&&r.write(b)===!1&&s.pause&&s.pause()}s.on("data",l);function c(){s.readable&&s.resume&&s.resume()}r.on("drain",c),!r._isStdio&&(!o||o.end!==!1)&&(s.on("end",h),s.on("close",f));var u=!1;function h(){u||(u=!0,r.end())}function f(){u||(u=!0,typeof r.destroy=="function"&&r.destroy())}function m(b){if(g(),t.listenerCount(this,"error")===0)throw b}s.on("error",m),r.on("error",m);function g(){s.removeListener("data",l),r.removeListener("drain",c),s.removeListener("end",h),s.removeListener("close",f),s.removeListener("error",m),r.removeListener("error",m),s.removeListener("end",g),s.removeListener("close",g),r.removeListener("close",g)}return s.on("end",g),s.on("close",g),r.on("close",g),r.emit("pipe",s),r},streamBrowserify}var hashBase$1,hasRequiredHashBase$1;function requireHashBase$1(){if(hasRequiredHashBase$1)return hashBase$1;hasRequiredHashBase$1=1;var t=requireSafeBuffer$2().Buffer,e=requireStreamBrowserify().Transform,a=requireInherits_browser();function r(c){e.call(this),this._block=t.allocUnsafe(c),this._blockSize=c,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}a(r,e),r.prototype._transform=function(c,u,h){var f=null;try{this.update(c,u)}catch(m){f=m}h(f)},r.prototype._flush=function(c){var u=null;try{this.push(this.digest())}catch(h){u=h}c(u)};var o=typeof Uint8Array<"u",s=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&ArrayBuffer.isView&&(t.prototype instanceof Uint8Array||t.TYPED_ARRAY_SUPPORT);function l(c,u){if(c instanceof t)return c;if(typeof c=="string")return t.from(c,u);if(s&&ArrayBuffer.isView(c)){if(c.byteLength===0)return t.alloc(0);var h=t.from(c.buffer,c.byteOffset,c.byteLength);if(h.byteLength===c.byteLength)return h}if(o&&c instanceof Uint8Array||t.isBuffer(c)&&c.constructor&&typeof c.constructor.isBuffer=="function"&&c.constructor.isBuffer(c))return t.from(c);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}return r.prototype.update=function(c,u){if(this._finalized)throw new Error("Digest already called");c=l(c,u);for(var h=this._block,f=0;this._blockOffset+c.length-f>=this._blockSize;){for(var m=this._blockOffset;m<this._blockSize;)h[m++]=c[f++];this._update(),this._blockOffset=0}for(;f<c.length;)h[this._blockOffset++]=c[f++];for(var g=0,b=c.length*8;b>0;++g)this._length[g]+=b,b=this._length[g]/4294967296|0,b>0&&(this._length[g]-=4294967296*b);return this},r.prototype._update=function(){throw new Error("_update is not implemented")},r.prototype.digest=function(c){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var u=this._digest();c!==void 0&&(u=u.toString(c)),this._block.fill(0),this._blockOffset=0;for(var h=0;h<4;++h)this._length[h]=0;return u},r.prototype._digest=function(){throw new Error("_digest is not implemented")},hashBase$1=r,hashBase$1}var md5_js,hasRequiredMd5_js;function requireMd5_js(){if(hasRequiredMd5_js)return md5_js;hasRequiredMd5_js=1;var t=requireInherits_browser(),e=requireHashBase$1(),a=requireSafeBuffer$2().Buffer,r=new Array(16);function o(){e.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}t(o,e),o.prototype._update=function(){for(var f=r,m=0;m<16;++m)f[m]=this._block.readInt32LE(m*4);var g=this._a,b=this._b,w=this._c,E=this._d;g=l(g,b,w,E,f[0],3614090360,7),E=l(E,g,b,w,f[1],3905402710,12),w=l(w,E,g,b,f[2],606105819,17),b=l(b,w,E,g,f[3],3250441966,22),g=l(g,b,w,E,f[4],4118548399,7),E=l(E,g,b,w,f[5],1200080426,12),w=l(w,E,g,b,f[6],2821735955,17),b=l(b,w,E,g,f[7],4249261313,22),g=l(g,b,w,E,f[8],1770035416,7),E=l(E,g,b,w,f[9],2336552879,12),w=l(w,E,g,b,f[10],4294925233,17),b=l(b,w,E,g,f[11],2304563134,22),g=l(g,b,w,E,f[12],1804603682,7),E=l(E,g,b,w,f[13],4254626195,12),w=l(w,E,g,b,f[14],2792965006,17),b=l(b,w,E,g,f[15],1236535329,22),g=c(g,b,w,E,f[1],4129170786,5),E=c(E,g,b,w,f[6],3225465664,9),w=c(w,E,g,b,f[11],643717713,14),b=c(b,w,E,g,f[0],3921069994,20),g=c(g,b,w,E,f[5],3593408605,5),E=c(E,g,b,w,f[10],38016083,9),w=c(w,E,g,b,f[15],3634488961,14),b=c(b,w,E,g,f[4],3889429448,20),g=c(g,b,w,E,f[9],568446438,5),E=c(E,g,b,w,f[14],3275163606,9),w=c(w,E,g,b,f[3],4107603335,14),b=c(b,w,E,g,f[8],1163531501,20),g=c(g,b,w,E,f[13],2850285829,5),E=c(E,g,b,w,f[2],4243563512,9),w=c(w,E,g,b,f[7],1735328473,14),b=c(b,w,E,g,f[12],2368359562,20),g=u(g,b,w,E,f[5],4294588738,4),E=u(E,g,b,w,f[8],2272392833,11),w=u(w,E,g,b,f[11],1839030562,16),b=u(b,w,E,g,f[14],4259657740,23),g=u(g,b,w,E,f[1],2763975236,4),E=u(E,g,b,w,f[4],1272893353,11),w=u(w,E,g,b,f[7],4139469664,16),b=u(b,w,E,g,f[10],3200236656,23),g=u(g,b,w,E,f[13],681279174,4),E=u(E,g,b,w,f[0],3936430074,11),w=u(w,E,g,b,f[3],3572445317,16),b=u(b,w,E,g,f[6],76029189,23),g=u(g,b,w,E,f[9],3654602809,4),E=u(E,g,b,w,f[12],3873151461,11),w=u(w,E,g,b,f[15],530742520,16),b=u(b,w,E,g,f[2],3299628645,23),g=h(g,b,w,E,f[0],4096336452,6),E=h(E,g,b,w,f[7],1126891415,10),w=h(w,E,g,b,f[14],2878612391,15),b=h(b,w,E,g,f[5],4237533241,21),g=h(g,b,w,E,f[12],1700485571,6),E=h(E,g,b,w,f[3],2399980690,10),w=h(w,E,g,b,f[10],4293915773,15),b=h(b,w,E,g,f[1],2240044497,21),g=h(g,b,w,E,f[8],1873313359,6),E=h(E,g,b,w,f[15],4264355552,10),w=h(w,E,g,b,f[6],2734768916,15),b=h(b,w,E,g,f[13],1309151649,21),g=h(g,b,w,E,f[4],4149444226,6),E=h(E,g,b,w,f[11],3174756917,10),w=h(w,E,g,b,f[2],718787259,15),b=h(b,w,E,g,f[9],3951481745,21),this._a=this._a+g|0,this._b=this._b+b|0,this._c=this._c+w|0,this._d=this._d+E|0},o.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var f=a.allocUnsafe(16);return f.writeInt32LE(this._a,0),f.writeInt32LE(this._b,4),f.writeInt32LE(this._c,8),f.writeInt32LE(this._d,12),f};function s(f,m){return f<<m|f>>>32-m}function l(f,m,g,b,w,E,C){return s(f+(m&g|~m&b)+w+E|0,C)+m|0}function c(f,m,g,b,w,E,C){return s(f+(m&b|g&~b)+w+E|0,C)+m|0}function u(f,m,g,b,w,E,C){return s(f+(m^g^b)+w+E|0,C)+m|0}function h(f,m,g,b,w,E,C){return s(f+(g^(m|~b))+w+E|0,C)+m|0}return md5_js=o,md5_js}var isarray$2,hasRequiredIsarray$2;function requireIsarray$2(){if(hasRequiredIsarray$2)return isarray$2;hasRequiredIsarray$2=1;var t={}.toString;return isarray$2=Array.isArray||function(e){return t.call(e)=="[object Array]"},isarray$2}var typedArrayBuffer,hasRequiredTypedArrayBuffer;function requireTypedArrayBuffer(){if(hasRequiredTypedArrayBuffer)return typedArrayBuffer;hasRequiredTypedArrayBuffer=1;var t=requireType(),e=requireCallBound(),a=e("TypedArray.prototype.buffer",!0),r=requireIsTypedArray();return typedArrayBuffer=a||function(s){if(!r(s))throw new t("Not a Typed Array");return s.buffer},typedArrayBuffer}var toBuffer,hasRequiredToBuffer$2;function requireToBuffer$2(){if(hasRequiredToBuffer$2)return toBuffer;hasRequiredToBuffer$2=1;var t=requireSafeBuffer$2().Buffer,e=requireIsarray$2(),a=requireTypedArrayBuffer(),r=ArrayBuffer.isView||function(u){try{return a(u),!0}catch{return!1}},o=typeof Uint8Array<"u",s=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",l=s&&(t.prototype instanceof Uint8Array||t.TYPED_ARRAY_SUPPORT);return toBuffer=function(u,h){if(t.isBuffer(u))return u.constructor&&!("isBuffer"in u)?t.from(u):u;if(typeof u=="string")return t.from(u,h);if(s&&r(u)){if(u.byteLength===0)return t.alloc(0);if(l){var f=t.from(u.buffer,u.byteOffset,u.byteLength);if(f.byteLength===u.byteLength)return f}var m=u instanceof Uint8Array?u:new Uint8Array(u.buffer,u.byteOffset,u.byteLength),g=t.from(m);if(g.length===u.byteLength)return g}if(o&&u instanceof Uint8Array)return t.from(u);var b=e(u);if(b)for(var w=0;w<u.length;w+=1){var E=u[w];if(typeof E!="number"||E<0||E>255||~~E!==E)throw new RangeError("Array items must be numbers in the range 0-255.")}if(b||t.isBuffer(u)&&u.constructor&&typeof u.constructor.isBuffer=="function"&&u.constructor.isBuffer(u))return t.from(u);throw new TypeError('The "data" argument must be a string, an Array, a Buffer, a Uint8Array, or a DataView.')},toBuffer}var toBuffer_1$1,hasRequiredToBuffer$1;function requireToBuffer$1(){if(hasRequiredToBuffer$1)return toBuffer_1$1;hasRequiredToBuffer$1=1;var t=requireSafeBuffer$2().Buffer,e=requireToBuffer$2(),a=typeof Uint8Array<"u",r=a&&typeof ArrayBuffer<"u",o=r&&ArrayBuffer.isView;return toBuffer_1$1=function(s,l){if(typeof s=="string"||t.isBuffer(s)||a&&s instanceof Uint8Array||o&&o(s))return e(s,l);throw new TypeError('The "data" argument must be a string, a Buffer, a Uint8Array, or a DataView')},toBuffer_1$1}var readableBrowser$1={exports:{}},processNextickArgs={exports:{}},hasRequiredProcessNextickArgs;function requireProcessNextickArgs(){if(hasRequiredProcessNextickArgs)return processNextickArgs.exports;hasRequiredProcessNextickArgs=1,typeof process$1>"u"||!process$1.version||process$1.version.indexOf("v0.")===0||process$1.version.indexOf("v1.")===0&&process$1.version.indexOf("v1.8.")!==0?processNextickArgs.exports={nextTick:t}:processNextickArgs.exports=process$1;function t(e,a,r,o){if(typeof e!="function")throw new TypeError('"callback" argument must be a function');var s=arguments.length,l,c;switch(s){case 0:case 1:return process$1.nextTick(e);case 2:return process$1.nextTick(function(){e.call(null,a)});case 3:return process$1.nextTick(function(){e.call(null,a,r)});case 4:return process$1.nextTick(function(){e.call(null,a,r,o)});default:for(l=new Array(s-1),c=0;c<l.length;)l[c++]=arguments[c];return process$1.nextTick(function(){e.apply(null,l)})}}return processNextickArgs.exports}var isarray$1,hasRequiredIsarray$1;function requireIsarray$1(){if(hasRequiredIsarray$1)return isarray$1;hasRequiredIsarray$1=1;var t={}.toString;return isarray$1=Array.isArray||function(e){return t.call(e)=="[object Array]"},isarray$1}var streamBrowser$1,hasRequiredStreamBrowser$1;function requireStreamBrowser$1(){return hasRequiredStreamBrowser$1||(hasRequiredStreamBrowser$1=1,streamBrowser$1=requireEvents().EventEmitter),streamBrowser$1}var safeBuffer$1={exports:{}},hasRequiredSafeBuffer$1;function requireSafeBuffer$1(){return hasRequiredSafeBuffer$1||(hasRequiredSafeBuffer$1=1,(function(t,e){var a=requireDist(),r=a.Buffer;function o(l,c){for(var u in l)c[u]=l[u]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=a:(o(a,e),e.Buffer=s);function s(l,c,u){return r(l,c,u)}o(r,s),s.from=function(l,c,u){if(typeof l=="number")throw new TypeError("Argument must not be a number");return r(l,c,u)},s.alloc=function(l,c,u){if(typeof l!="number")throw new TypeError("Argument must be a number");var h=r(l);return c!==void 0?typeof u=="string"?h.fill(c,u):h.fill(c):h.fill(0),h},s.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return r(l)},s.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return a.SlowBuffer(l)}})(safeBuffer$1,safeBuffer$1.exports)),safeBuffer$1.exports}var util={},hasRequiredUtil;function requireUtil(){if(hasRequiredUtil)return util;hasRequiredUtil=1;function t(E){return Array.isArray?Array.isArray(E):w(E)==="[object Array]"}util.isArray=t;function e(E){return typeof E=="boolean"}util.isBoolean=e;function a(E){return E===null}util.isNull=a;function r(E){return E==null}util.isNullOrUndefined=r;function o(E){return typeof E=="number"}util.isNumber=o;function s(E){return typeof E=="string"}util.isString=s;function l(E){return typeof E=="symbol"}util.isSymbol=l;function c(E){return E===void 0}util.isUndefined=c;function u(E){return w(E)==="[object RegExp]"}util.isRegExp=u;function h(E){return typeof E=="object"&&E!==null}util.isObject=h;function f(E){return w(E)==="[object Date]"}util.isDate=f;function m(E){return w(E)==="[object Error]"||E instanceof Error}util.isError=m;function g(E){return typeof E=="function"}util.isFunction=g;function b(E){return E===null||typeof E=="boolean"||typeof E=="number"||typeof E=="string"||typeof E=="symbol"||typeof E>"u"}util.isPrimitive=b,util.isBuffer=requireDist().Buffer.isBuffer;function w(E){return Object.prototype.toString.call(E)}return util}var BufferList$1={exports:{}},hasRequiredBufferList$1;function requireBufferList$1(){return hasRequiredBufferList$1||(hasRequiredBufferList$1=1,(function(t){function e(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}var a=requireSafeBuffer$1().Buffer,r=requireUtil$1();function o(s,l,c){s.copy(l,c)}t.exports=(function(){function s(){e(this,s),this.head=null,this.tail=null,this.length=0}return s.prototype.push=function(c){var u={data:c,next:null};this.length>0?this.tail.next=u:this.head=u,this.tail=u,++this.length},s.prototype.unshift=function(c){var u={data:c,next:this.head};this.length===0&&(this.tail=u),this.head=u,++this.length},s.prototype.shift=function(){if(this.length!==0){var c=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,c}},s.prototype.clear=function(){this.head=this.tail=null,this.length=0},s.prototype.join=function(c){if(this.length===0)return"";for(var u=this.head,h=""+u.data;u=u.next;)h+=c+u.data;return h},s.prototype.concat=function(c){if(this.length===0)return a.alloc(0);for(var u=a.allocUnsafe(c>>>0),h=this.head,f=0;h;)o(h.data,u,f),f+=h.data.length,h=h.next;return u},s})(),r&&r.inspect&&r.inspect.custom&&(t.exports.prototype[r.inspect.custom]=function(){var s=r.inspect({length:this.length});return this.constructor.name+" "+s})})(BufferList$1)),BufferList$1.exports}var destroy_1$1,hasRequiredDestroy$1;function requireDestroy$1(){if(hasRequiredDestroy$1)return destroy_1$1;hasRequiredDestroy$1=1;var t=requireProcessNextickArgs();function e(o,s){var l=this,c=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return c||u?(s?s(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,t.nextTick(r,this,o)):t.nextTick(r,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(h){!s&&h?l._writableState?l._writableState.errorEmitted||(l._writableState.errorEmitted=!0,t.nextTick(r,l,h)):t.nextTick(r,l,h):s&&s(h)}),this)}function a(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function r(o,s){o.emit("error",s)}return destroy_1$1={destroy:e,undestroy:a},destroy_1$1}var _stream_writable$1,hasRequired_stream_writable$1;function require_stream_writable$1(){if(hasRequired_stream_writable$1)return _stream_writable$1;hasRequired_stream_writable$1=1;var t=requireProcessNextickArgs();_stream_writable$1=E;function e(R){var k=this;this.next=null,this.entry=null,this.finish=function(){N(k,R)}}var a=!process$1.browser&&["v0.10","v0.9."].indexOf(process$1.version.slice(0,5))>-1?setImmediate:t.nextTick,r;E.WritableState=b;var o=Object.create(requireUtil());o.inherits=requireInherits_browser();var s={deprecate:requireBrowser$a()},l=requireStreamBrowser$1(),c=requireSafeBuffer$1().Buffer,u=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function h(R){return c.from(R)}function f(R){return c.isBuffer(R)||R instanceof u}var m=requireDestroy$1();o.inherits(E,l);function g(){}function b(R,k){r=r||require_stream_duplex$1(),R=R||{};var j=k instanceof r;this.objectMode=!!R.objectMode,j&&(this.objectMode=this.objectMode||!!R.writableObjectMode);var I=R.highWaterMark,A=R.writableHighWaterMark,$=this.objectMode?16:16*1024;I||I===0?this.highWaterMark=I:j&&(A||A===0)?this.highWaterMark=A:this.highWaterMark=$,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var L=R.decodeStrings===!1;this.decodeStrings=!L,this.defaultEncoding=R.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Y){Z(k,Y)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}b.prototype.getBuffer=function(){for(var k=this.bufferedRequest,j=[];k;)j.push(k),k=k.next;return j},(function(){try{Object.defineProperty(b.prototype,"buffer",{get:s.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var w;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(w=Function.prototype[Symbol.hasInstance],Object.defineProperty(E,Symbol.hasInstance,{value:function(R){return w.call(this,R)?!0:this!==E?!1:R&&R._writableState instanceof b}})):w=function(R){return R instanceof this};function E(R){if(r=r||require_stream_duplex$1(),!w.call(E,this)&&!(this instanceof r))return new E(R);this._writableState=new b(R,this),this.writable=!0,R&&(typeof R.write=="function"&&(this._write=R.write),typeof R.writev=="function"&&(this._writev=R.writev),typeof R.destroy=="function"&&(this._destroy=R.destroy),typeof R.final=="function"&&(this._final=R.final)),l.call(this)}E.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function C(R,k){var j=new Error("write after end");R.emit("error",j),t.nextTick(k,j)}function B(R,k,j,I){var A=!0,$=!1;return j===null?$=new TypeError("May not write null values to stream"):typeof j!="string"&&j!==void 0&&!k.objectMode&&($=new TypeError("Invalid non-string/buffer chunk")),$&&(R.emit("error",$),t.nextTick(I,$),A=!1),A}E.prototype.write=function(R,k,j){var I=this._writableState,A=!1,$=!I.objectMode&&f(R);return $&&!c.isBuffer(R)&&(R=h(R)),typeof k=="function"&&(j=k,k=null),$?k="buffer":k||(k=I.defaultEncoding),typeof j!="function"&&(j=g),I.ended?C(this,j):($||B(this,I,R,j))&&(I.pendingcb++,A=P(this,I,$,R,k,j)),A},E.prototype.cork=function(){var R=this._writableState;R.corked++},E.prototype.uncork=function(){var R=this._writableState;R.corked&&(R.corked--,!R.writing&&!R.corked&&!R.bufferProcessing&&R.bufferedRequest&&te(this,R))},E.prototype.setDefaultEncoding=function(k){if(typeof k=="string"&&(k=k.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((k+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+k);return this._writableState.defaultEncoding=k,this};function O(R,k,j){return!R.objectMode&&R.decodeStrings!==!1&&typeof k=="string"&&(k=c.from(k,j)),k}Object.defineProperty(E.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function P(R,k,j,I,A,$){if(!j){var L=O(k,I,A);I!==L&&(j=!0,A="buffer",I=L)}var Y=k.objectMode?1:I.length;k.length+=Y;var le=k.length<k.highWaterMark;if(le||(k.needDrain=!0),k.writing||k.corked){var re=k.lastBufferedRequest;k.lastBufferedRequest={chunk:I,encoding:A,isBuf:j,callback:$,next:null},re?re.next=k.lastBufferedRequest:k.bufferedRequest=k.lastBufferedRequest,k.bufferedRequestCount+=1}else q(R,k,!1,Y,I,A,$);return le}function q(R,k,j,I,A,$,L){k.writelen=I,k.writecb=L,k.writing=!0,k.sync=!0,j?R._writev(A,k.onwrite):R._write(A,$,k.onwrite),k.sync=!1}function z(R,k,j,I,A){--k.pendingcb,j?(t.nextTick(A,I),t.nextTick(v,R,k),R._writableState.errorEmitted=!0,R.emit("error",I)):(A(I),R._writableState.errorEmitted=!0,R.emit("error",I),v(R,k))}function V(R){R.writing=!1,R.writecb=null,R.length-=R.writelen,R.writelen=0}function Z(R,k){var j=R._writableState,I=j.sync,A=j.writecb;if(V(j),k)z(R,j,I,k,A);else{var $=G(j);!$&&!j.corked&&!j.bufferProcessing&&j.bufferedRequest&&te(R,j),I?a(J,R,j,$,A):J(R,j,$,A)}}function J(R,k,j,I){j||W(R,k),k.pendingcb--,I(),v(R,k)}function W(R,k){k.length===0&&k.needDrain&&(k.needDrain=!1,R.emit("drain"))}function te(R,k){k.bufferProcessing=!0;var j=k.bufferedRequest;if(R._writev&&j&&j.next){var I=k.bufferedRequestCount,A=new Array(I),$=k.corkedRequestsFree;$.entry=j;for(var L=0,Y=!0;j;)A[L]=j,j.isBuf||(Y=!1),j=j.next,L+=1;A.allBuffers=Y,q(R,k,!0,k.length,A,"",$.finish),k.pendingcb++,k.lastBufferedRequest=null,$.next?(k.corkedRequestsFree=$.next,$.next=null):k.corkedRequestsFree=new e(k),k.bufferedRequestCount=0}else{for(;j;){var le=j.chunk,re=j.encoding,U=j.callback,K=k.objectMode?1:le.length;if(q(R,k,!1,K,le,re,U),j=j.next,k.bufferedRequestCount--,k.writing)break}j===null&&(k.lastBufferedRequest=null)}k.bufferedRequest=j,k.bufferProcessing=!1}E.prototype._write=function(R,k,j){j(new Error("_write() is not implemented"))},E.prototype._writev=null,E.prototype.end=function(R,k,j){var I=this._writableState;typeof R=="function"?(j=R,R=null,k=null):typeof k=="function"&&(j=k,k=null),R!=null&&this.write(R,k),I.corked&&(I.corked=1,this.uncork()),I.ending||S(this,I,j)};function G(R){return R.ending&&R.length===0&&R.bufferedRequest===null&&!R.finished&&!R.writing}function D(R,k){R._final(function(j){k.pendingcb--,j&&R.emit("error",j),k.prefinished=!0,R.emit("prefinish"),v(R,k)})}function M(R,k){!k.prefinished&&!k.finalCalled&&(typeof R._final=="function"?(k.pendingcb++,k.finalCalled=!0,t.nextTick(D,R,k)):(k.prefinished=!0,R.emit("prefinish")))}function v(R,k){var j=G(k);return j&&(M(R,k),k.pendingcb===0&&(k.finished=!0,R.emit("finish"))),j}function S(R,k,j){k.ending=!0,v(R,k),j&&(k.finished?t.nextTick(j):R.once("finish",j)),k.ended=!0,R.writable=!1}function N(R,k,j){var I=R.entry;for(R.entry=null;I;){var A=I.callback;k.pendingcb--,A(j),I=I.next}k.corkedRequestsFree.next=R}return Object.defineProperty(E.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(R){this._writableState&&(this._writableState.destroyed=R)}}),E.prototype.destroy=m.destroy,E.prototype._undestroy=m.undestroy,E.prototype._destroy=function(R,k){this.end(),k(R)},_stream_writable$1}var _stream_duplex$1,hasRequired_stream_duplex$1;function require_stream_duplex$1(){if(hasRequired_stream_duplex$1)return _stream_duplex$1;hasRequired_stream_duplex$1=1;var t=requireProcessNextickArgs(),e=Object.keys||function(m){var g=[];for(var b in m)g.push(b);return g};_stream_duplex$1=u;var a=Object.create(requireUtil());a.inherits=requireInherits_browser();var r=require_stream_readable$1(),o=require_stream_writable$1();a.inherits(u,r);for(var s=e(o.prototype),l=0;l<s.length;l++){var c=s[l];u.prototype[c]||(u.prototype[c]=o.prototype[c])}function u(m){if(!(this instanceof u))return new u(m);r.call(this,m),o.call(this,m),m&&m.readable===!1&&(this.readable=!1),m&&m.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,m&&m.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",h)}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function h(){this.allowHalfOpen||this._writableState.ended||t.nextTick(f,this)}function f(m){m.end()}return Object.defineProperty(u.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(m){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=m,this._writableState.destroyed=m)}}),u.prototype._destroy=function(m,g){this.push(null),this.end(),t.nextTick(g,m)},_stream_duplex$1}var _stream_readable$1,hasRequired_stream_readable$1;function require_stream_readable$1(){if(hasRequired_stream_readable$1)return _stream_readable$1;hasRequired_stream_readable$1=1;var t=requireProcessNextickArgs();_stream_readable$1=O;var e=requireIsarray$1(),a;O.ReadableState=B,requireEvents().EventEmitter;var r=function(U,K){return U.listeners(K).length},o=requireStreamBrowser$1(),s=requireSafeBuffer$1().Buffer,l=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function c(U){return s.from(U)}function u(U){return s.isBuffer(U)||U instanceof l}var h=Object.create(requireUtil());h.inherits=requireInherits_browser();var f=requireUtil$1(),m=void 0;f&&f.debuglog?m=f.debuglog("stream"):m=function(){};var g=requireBufferList$1(),b=requireDestroy$1(),w;h.inherits(O,o);var E=["error","close","destroy","pause","resume"];function C(U,K,se){if(typeof U.prependListener=="function")return U.prependListener(K,se);!U._events||!U._events[K]?U.on(K,se):e(U._events[K])?U._events[K].unshift(se):U._events[K]=[se,U._events[K]]}function B(U,K){a=a||require_stream_duplex$1(),U=U||{};var se=K instanceof a;this.objectMode=!!U.objectMode,se&&(this.objectMode=this.objectMode||!!U.readableObjectMode);var he=U.highWaterMark,ue=U.readableHighWaterMark,ee=this.objectMode?16:16*1024;he||he===0?this.highWaterMark=he:se&&(ue||ue===0)?this.highWaterMark=ue:this.highWaterMark=ee,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=U.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,U.encoding&&(w||(w=requireString_decoder().StringDecoder),this.decoder=new w(U.encoding),this.encoding=U.encoding)}function O(U){if(a=a||require_stream_duplex$1(),!(this instanceof O))return new O(U);this._readableState=new B(U,this),this.readable=!0,U&&(typeof U.read=="function"&&(this._read=U.read),typeof U.destroy=="function"&&(this._destroy=U.destroy)),o.call(this)}Object.defineProperty(O.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(U){this._readableState&&(this._readableState.destroyed=U)}}),O.prototype.destroy=b.destroy,O.prototype._undestroy=b.undestroy,O.prototype._destroy=function(U,K){this.push(null),K(U)},O.prototype.push=function(U,K){var se=this._readableState,he;return se.objectMode?he=!0:typeof U=="string"&&(K=K||se.defaultEncoding,K!==se.encoding&&(U=s.from(U,K),K=""),he=!0),P(this,U,K,!1,he)},O.prototype.unshift=function(U){return P(this,U,null,!0,!1)};function P(U,K,se,he,ue){var ee=U._readableState;if(K===null)ee.reading=!1,te(U,ee);else{var fe;ue||(fe=z(ee,K)),fe?U.emit("error",fe):ee.objectMode||K&&K.length>0?(typeof K!="string"&&!ee.objectMode&&Object.getPrototypeOf(K)!==s.prototype&&(K=c(K)),he?ee.endEmitted?U.emit("error",new Error("stream.unshift() after end event")):q(U,ee,K,!0):ee.ended?U.emit("error",new Error("stream.push() after EOF")):(ee.reading=!1,ee.decoder&&!se?(K=ee.decoder.write(K),ee.objectMode||K.length!==0?q(U,ee,K,!1):M(U,ee)):q(U,ee,K,!1))):he||(ee.reading=!1)}return V(ee)}function q(U,K,se,he){K.flowing&&K.length===0&&!K.sync?(U.emit("data",se),U.read(0)):(K.length+=K.objectMode?1:se.length,he?K.buffer.unshift(se):K.buffer.push(se),K.needReadable&&G(U)),M(U,K)}function z(U,K){var se;return!u(K)&&typeof K!="string"&&K!==void 0&&!U.objectMode&&(se=new TypeError("Invalid non-string/buffer chunk")),se}function V(U){return!U.ended&&(U.needReadable||U.length<U.highWaterMark||U.length===0)}O.prototype.isPaused=function(){return this._readableState.flowing===!1},O.prototype.setEncoding=function(U){return w||(w=requireString_decoder().StringDecoder),this._readableState.decoder=new w(U),this._readableState.encoding=U,this};var Z=8388608;function J(U){return U>=Z?U=Z:(U--,U|=U>>>1,U|=U>>>2,U|=U>>>4,U|=U>>>8,U|=U>>>16,U++),U}function W(U,K){return U<=0||K.length===0&&K.ended?0:K.objectMode?1:U!==U?K.flowing&&K.length?K.buffer.head.data.length:K.length:(U>K.highWaterMark&&(K.highWaterMark=J(U)),U<=K.length?U:K.ended?K.length:(K.needReadable=!0,0))}O.prototype.read=function(U){m("read",U),U=parseInt(U,10);var K=this._readableState,se=U;if(U!==0&&(K.emittedReadable=!1),U===0&&K.needReadable&&(K.length>=K.highWaterMark||K.ended))return m("read: emitReadable",K.length,K.ended),K.length===0&&K.ended?Y(this):G(this),null;if(U=W(U,K),U===0&&K.ended)return K.length===0&&Y(this),null;var he=K.needReadable;m("need readable",he),(K.length===0||K.length-U<K.highWaterMark)&&(he=!0,m("length less than watermark",he)),K.ended||K.reading?(he=!1,m("reading or ended",he)):he&&(m("do read"),K.reading=!0,K.sync=!0,K.length===0&&(K.needReadable=!0),this._read(K.highWaterMark),K.sync=!1,K.reading||(U=W(se,K)));var ue;return U>0?ue=I(U,K):ue=null,ue===null?(K.needReadable=!0,U=0):K.length-=U,K.length===0&&(K.ended||(K.needReadable=!0),se!==U&&K.ended&&Y(this)),ue!==null&&this.emit("data",ue),ue};function te(U,K){if(!K.ended){if(K.decoder){var se=K.decoder.end();se&&se.length&&(K.buffer.push(se),K.length+=K.objectMode?1:se.length)}K.ended=!0,G(U)}}function G(U){var K=U._readableState;K.needReadable=!1,K.emittedReadable||(m("emitReadable",K.flowing),K.emittedReadable=!0,K.sync?t.nextTick(D,U):D(U))}function D(U){m("emit readable"),U.emit("readable"),j(U)}function M(U,K){K.readingMore||(K.readingMore=!0,t.nextTick(v,U,K))}function v(U,K){for(var se=K.length;!K.reading&&!K.flowing&&!K.ended&&K.length<K.highWaterMark&&(m("maybeReadMore read 0"),U.read(0),se!==K.length);)se=K.length;K.readingMore=!1}O.prototype._read=function(U){this.emit("error",new Error("_read() is not implemented"))},O.prototype.pipe=function(U,K){var se=this,he=this._readableState;switch(he.pipesCount){case 0:he.pipes=U;break;case 1:he.pipes=[he.pipes,U];break;default:he.pipes.push(U);break}he.pipesCount+=1,m("pipe count=%d opts=%j",he.pipesCount,K);var ue=(!K||K.end!==!1)&&U!==process$1.stdout&&U!==process$1.stderr,ee=ue?ge:He;he.endEmitted?t.nextTick(ee):se.once("end",ee),U.on("unpipe",fe);function fe(Ae,Ce){m("onunpipe"),Ae===se&&Ce&&Ce.hasUnpiped===!1&&(Ce.hasUnpiped=!0,Ie())}function ge(){m("onend"),U.end()}var xe=S(se);U.on("drain",xe);var _e=!1;function Ie(){m("cleanup"),U.removeListener("close",Be),U.removeListener("finish",Ve),U.removeListener("drain",xe),U.removeListener("error",Ue),U.removeListener("unpipe",fe),se.removeListener("end",ge),se.removeListener("end",He),se.removeListener("data",$e),_e=!0,he.awaitDrain&&(!U._writableState||U._writableState.needDrain)&&xe()}var De=!1;se.on("data",$e);function $e(Ae){m("ondata"),De=!1;var Ce=U.write(Ae);Ce===!1&&!De&&((he.pipesCount===1&&he.pipes===U||he.pipesCount>1&&re(he.pipes,U)!==-1)&&!_e&&(m("false write response, pause",he.awaitDrain),he.awaitDrain++,De=!0),se.pause())}function Ue(Ae){m("onerror",Ae),He(),U.removeListener("error",Ue),r(U,"error")===0&&U.emit("error",Ae)}C(U,"error",Ue);function Be(){U.removeListener("finish",Ve),He()}U.once("close",Be);function Ve(){m("onfinish"),U.removeListener("close",Be),He()}U.once("finish",Ve);function He(){m("unpipe"),se.unpipe(U)}return U.emit("pipe",se),he.flowing||(m("pipe resume"),se.resume()),U};function S(U){return function(){var K=U._readableState;m("pipeOnDrain",K.awaitDrain),K.awaitDrain&&K.awaitDrain--,K.awaitDrain===0&&r(U,"data")&&(K.flowing=!0,j(U))}}O.prototype.unpipe=function(U){var K=this._readableState,se={hasUnpiped:!1};if(K.pipesCount===0)return this;if(K.pipesCount===1)return U&&U!==K.pipes?this:(U||(U=K.pipes),K.pipes=null,K.pipesCount=0,K.flowing=!1,U&&U.emit("unpipe",this,se),this);if(!U){var he=K.pipes,ue=K.pipesCount;K.pipes=null,K.pipesCount=0,K.flowing=!1;for(var ee=0;ee<ue;ee++)he[ee].emit("unpipe",this,{hasUnpiped:!1});return this}var fe=re(K.pipes,U);return fe===-1?this:(K.pipes.splice(fe,1),K.pipesCount-=1,K.pipesCount===1&&(K.pipes=K.pipes[0]),U.emit("unpipe",this,se),this)},O.prototype.on=function(U,K){var se=o.prototype.on.call(this,U,K);if(U==="data")this._readableState.flowing!==!1&&this.resume();else if(U==="readable"){var he=this._readableState;!he.endEmitted&&!he.readableListening&&(he.readableListening=he.needReadable=!0,he.emittedReadable=!1,he.reading?he.length&&G(this):t.nextTick(N,this))}return se},O.prototype.addListener=O.prototype.on;function N(U){m("readable nexttick read 0"),U.read(0)}O.prototype.resume=function(){var U=this._readableState;return U.flowing||(m("resume"),U.flowing=!0,R(this,U)),this};function R(U,K){K.resumeScheduled||(K.resumeScheduled=!0,t.nextTick(k,U,K))}function k(U,K){K.reading||(m("resume read 0"),U.read(0)),K.resumeScheduled=!1,K.awaitDrain=0,U.emit("resume"),j(U),K.flowing&&!K.reading&&U.read(0)}O.prototype.pause=function(){return m("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(m("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function j(U){var K=U._readableState;for(m("flow",K.flowing);K.flowing&&U.read()!==null;);}O.prototype.wrap=function(U){var K=this,se=this._readableState,he=!1;U.on("end",function(){if(m("wrapped end"),se.decoder&&!se.ended){var fe=se.decoder.end();fe&&fe.length&&K.push(fe)}K.push(null)}),U.on("data",function(fe){if(m("wrapped data"),se.decoder&&(fe=se.decoder.write(fe)),!(se.objectMode&&fe==null)&&!(!se.objectMode&&(!fe||!fe.length))){var ge=K.push(fe);ge||(he=!0,U.pause())}});for(var ue in U)this[ue]===void 0&&typeof U[ue]=="function"&&(this[ue]=(function(fe){return function(){return U[fe].apply(U,arguments)}})(ue));for(var ee=0;ee<E.length;ee++)U.on(E[ee],this.emit.bind(this,E[ee]));return this._read=function(fe){m("wrapped _read",fe),he&&(he=!1,U.resume())},this},Object.defineProperty(O.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),O._fromList=I;function I(U,K){if(K.length===0)return null;var se;return K.objectMode?se=K.buffer.shift():!U||U>=K.length?(K.decoder?se=K.buffer.join(""):K.buffer.length===1?se=K.buffer.head.data:se=K.buffer.concat(K.length),K.buffer.clear()):se=A(U,K.buffer,K.decoder),se}function A(U,K,se){var he;return U<K.head.data.length?(he=K.head.data.slice(0,U),K.head.data=K.head.data.slice(U)):U===K.head.data.length?he=K.shift():he=se?$(U,K):L(U,K),he}function $(U,K){var se=K.head,he=1,ue=se.data;for(U-=ue.length;se=se.next;){var ee=se.data,fe=U>ee.length?ee.length:U;if(fe===ee.length?ue+=ee:ue+=ee.slice(0,U),U-=fe,U===0){fe===ee.length?(++he,se.next?K.head=se.next:K.head=K.tail=null):(K.head=se,se.data=ee.slice(fe));break}++he}return K.length-=he,ue}function L(U,K){var se=s.allocUnsafe(U),he=K.head,ue=1;for(he.data.copy(se),U-=he.data.length;he=he.next;){var ee=he.data,fe=U>ee.length?ee.length:U;if(ee.copy(se,se.length-U,0,fe),U-=fe,U===0){fe===ee.length?(++ue,he.next?K.head=he.next:K.head=K.tail=null):(K.head=he,he.data=ee.slice(fe));break}++ue}return K.length-=ue,se}function Y(U){var K=U._readableState;if(K.length>0)throw new Error('"endReadable()" called on non-empty stream');K.endEmitted||(K.ended=!0,t.nextTick(le,K,U))}function le(U,K){!U.endEmitted&&U.length===0&&(U.endEmitted=!0,K.readable=!1,K.emit("end"))}function re(U,K){for(var se=0,he=U.length;se<he;se++)if(U[se]===K)return se;return-1}return _stream_readable$1}var _stream_transform$1,hasRequired_stream_transform$1;function require_stream_transform$1(){if(hasRequired_stream_transform$1)return _stream_transform$1;hasRequired_stream_transform$1=1,_stream_transform$1=r;var t=require_stream_duplex$1(),e=Object.create(requireUtil());e.inherits=requireInherits_browser(),e.inherits(r,t);function a(l,c){var u=this._transformState;u.transforming=!1;var h=u.writecb;if(!h)return this.emit("error",new Error("write callback called multiple times"));u.writechunk=null,u.writecb=null,c!=null&&this.push(c),h(l);var f=this._readableState;f.reading=!1,(f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}function r(l){if(!(this instanceof r))return new r(l);t.call(this,l),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,l&&(typeof l.transform=="function"&&(this._transform=l.transform),typeof l.flush=="function"&&(this._flush=l.flush)),this.on("prefinish",o)}function o(){var l=this;typeof this._flush=="function"?this._flush(function(c,u){s(l,c,u)}):s(this,null,null)}r.prototype.push=function(l,c){return this._transformState.needTransform=!1,t.prototype.push.call(this,l,c)},r.prototype._transform=function(l,c,u){throw new Error("_transform() is not implemented")},r.prototype._write=function(l,c,u){var h=this._transformState;if(h.writecb=u,h.writechunk=l,h.writeencoding=c,!h.transforming){var f=this._readableState;(h.needTransform||f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}},r.prototype._read=function(l){var c=this._transformState;c.writechunk!==null&&c.writecb&&!c.transforming?(c.transforming=!0,this._transform(c.writechunk,c.writeencoding,c.afterTransform)):c.needTransform=!0},r.prototype._destroy=function(l,c){var u=this;t.prototype._destroy.call(this,l,function(h){c(h),u.emit("close")})};function s(l,c,u){if(c)return l.emit("error",c);if(u!=null&&l.push(u),l._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(l._transformState.transforming)throw new Error("Calling transform done when still transforming");return l.push(null)}return _stream_transform$1}var _stream_passthrough$1,hasRequired_stream_passthrough$1;function require_stream_passthrough$1(){if(hasRequired_stream_passthrough$1)return _stream_passthrough$1;hasRequired_stream_passthrough$1=1,_stream_passthrough$1=a;var t=require_stream_transform$1(),e=Object.create(requireUtil());e.inherits=requireInherits_browser(),e.inherits(a,t);function a(r){if(!(this instanceof a))return new a(r);t.call(this,r)}return a.prototype._transform=function(r,o,s){s(null,r)},_stream_passthrough$1}var hasRequiredReadableBrowser$1;function requireReadableBrowser$1(){return hasRequiredReadableBrowser$1||(hasRequiredReadableBrowser$1=1,(function(t,e){e=t.exports=require_stream_readable$1(),e.Stream=e,e.Readable=e,e.Writable=require_stream_writable$1(),e.Duplex=require_stream_duplex$1(),e.Transform=require_stream_transform$1(),e.PassThrough=require_stream_passthrough$1()})(readableBrowser$1,readableBrowser$1.exports)),readableBrowser$1.exports}var hashBase,hasRequiredHashBase;function requireHashBase(){if(hasRequiredHashBase)return hashBase;hasRequiredHashBase=1;var t=requireSafeBuffer$2().Buffer,e=requireToBuffer$1(),a=requireReadableBrowser$1().Transform,r=requireInherits_browser();function o(s){a.call(this),this._block=t.allocUnsafe(s),this._blockSize=s,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}return r(o,a),o.prototype._transform=function(s,l,c){var u=null;try{this.update(s,l)}catch(h){u=h}c(u)},o.prototype._flush=function(s){var l=null;try{this.push(this.digest())}catch(c){l=c}s(l)},o.prototype.update=function(s,l){if(this._finalized)throw new Error("Digest already called");for(var c=e(s,l),u=this._block,h=0;this._blockOffset+c.length-h>=this._blockSize;){for(var f=this._blockOffset;f<this._blockSize;)u[f]=c[h],f+=1,h+=1;this._update(),this._blockOffset=0}for(;h<c.length;)u[this._blockOffset]=c[h],this._blockOffset+=1,h+=1;for(var m=0,g=c.length*8;g>0;++m)this._length[m]+=g,g=this._length[m]/4294967296|0,g>0&&(this._length[m]-=4294967296*g);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(s){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var l=this._digest();s!==void 0&&(l=l.toString(s)),this._block.fill(0),this._blockOffset=0;for(var c=0;c<4;++c)this._length[c]=0;return l},o.prototype._digest=function(){throw new Error("_digest is not implemented")},hashBase=o,hashBase}var ripemd160$2,hasRequiredRipemd160$1;function requireRipemd160$1(){if(hasRequiredRipemd160$1)return ripemd160$2;hasRequiredRipemd160$1=1;var t=requireDist().Buffer,e=requireInherits_browser(),a=requireHashBase(),r=new Array(16),o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],s=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],l=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],c=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],u=[0,1518500249,1859775393,2400959708,2840853838],h=[1352829926,1548603684,1836072691,2053994217,0];function f(B,O){return B<<O|B>>>32-O}function m(B,O,P,q,z,V,Z,J){return f(B+(O^P^q)+V+Z|0,J)+z|0}function g(B,O,P,q,z,V,Z,J){return f(B+(O&P|~O&q)+V+Z|0,J)+z|0}function b(B,O,P,q,z,V,Z,J){return f(B+((O|~P)^q)+V+Z|0,J)+z|0}function w(B,O,P,q,z,V,Z,J){return f(B+(O&q|P&~q)+V+Z|0,J)+z|0}function E(B,O,P,q,z,V,Z,J){return f(B+(O^(P|~q))+V+Z|0,J)+z|0}function C(){a.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}return e(C,a),C.prototype._update=function(){for(var B=r,O=0;O<16;++O)B[O]=this._block.readInt32LE(O*4);for(var P=this._a|0,q=this._b|0,z=this._c|0,V=this._d|0,Z=this._e|0,J=this._a|0,W=this._b|0,te=this._c|0,G=this._d|0,D=this._e|0,M=0;M<80;M+=1){var v,S;M<16?(v=m(P,q,z,V,Z,B[o[M]],u[0],l[M]),S=E(J,W,te,G,D,B[s[M]],h[0],c[M])):M<32?(v=g(P,q,z,V,Z,B[o[M]],u[1],l[M]),S=w(J,W,te,G,D,B[s[M]],h[1],c[M])):M<48?(v=b(P,q,z,V,Z,B[o[M]],u[2],l[M]),S=b(J,W,te,G,D,B[s[M]],h[2],c[M])):M<64?(v=w(P,q,z,V,Z,B[o[M]],u[3],l[M]),S=g(J,W,te,G,D,B[s[M]],h[3],c[M])):(v=E(P,q,z,V,Z,B[o[M]],u[4],l[M]),S=m(J,W,te,G,D,B[s[M]],h[4],c[M])),P=Z,Z=V,V=f(z,10),z=q,q=v,J=D,D=G,G=f(te,10),te=W,W=S}var N=this._b+z+G|0;this._b=this._c+V+D|0,this._c=this._d+Z+J|0,this._d=this._e+P+W|0,this._e=this._a+q+te|0,this._a=N},C.prototype._digest=function(){this._block[this._blockOffset]=128,this._blockOffset+=1,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var B=t.alloc?t.alloc(20):new t(20);return B.writeInt32LE(this._a,0),B.writeInt32LE(this._b,4),B.writeInt32LE(this._c,8),B.writeInt32LE(this._d,12),B.writeInt32LE(this._e,16),B},ripemd160$2=C,ripemd160$2}var sha_js={exports:{}},hash$1,hasRequiredHash$1;function requireHash$1(){if(hasRequiredHash$1)return hash$1;hasRequiredHash$1=1;var t=requireSafeBuffer$2().Buffer,e=requireToBuffer$2();function a(r,o){this._block=t.alloc(r),this._finalSize=o,this._blockSize=r,this._len=0}return a.prototype.update=function(r,o){r=e(r,o||"utf8");for(var s=this._block,l=this._blockSize,c=r.length,u=this._len,h=0;h<c;){for(var f=u%l,m=Math.min(c-h,l-f),g=0;g<m;g++)s[f+g]=r[h+g];u+=m,h+=m,u%l===0&&this._update(s)}return this._len+=c,this},a.prototype.digest=function(r){var o=this._len%this._blockSize;this._block[o]=128,this._block.fill(0,o+1),o>=this._finalSize&&(this._update(this._block),this._block.fill(0));var s=this._len*8;if(s<=4294967295)this._block.writeUInt32BE(s,this._blockSize-4);else{var l=(s&4294967295)>>>0,c=(s-l)/4294967296;this._block.writeUInt32BE(c,this._blockSize-8),this._block.writeUInt32BE(l,this._blockSize-4)}this._update(this._block);var u=this._hash();return r?u.toString(r):u},a.prototype._update=function(){throw new Error("_update must be implemented by subclass")},hash$1=a,hash$1}var sha$1,hasRequiredSha$1;function requireSha$1(){if(hasRequiredSha$1)return sha$1;hasRequiredSha$1=1;var t=requireInherits_browser(),e=requireHash$1(),a=requireSafeBuffer$2().Buffer,r=[1518500249,1859775393,-1894007588,-899497514],o=new Array(80);function s(){this.init(),this._w=o,e.call(this,64,56)}t(s,e),s.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function l(h){return h<<5|h>>>27}function c(h){return h<<30|h>>>2}function u(h,f,m,g){return h===0?f&m|~f&g:h===2?f&m|f&g|m&g:f^m^g}return s.prototype._update=function(h){for(var f=this._w,m=this._a|0,g=this._b|0,b=this._c|0,w=this._d|0,E=this._e|0,C=0;C<16;++C)f[C]=h.readInt32BE(C*4);for(;C<80;++C)f[C]=f[C-3]^f[C-8]^f[C-14]^f[C-16];for(var B=0;B<80;++B){var O=~~(B/20),P=l(m)+u(O,g,b,w)+E+f[B]+r[O]|0;E=w,w=b,b=c(g),g=m,m=P}this._a=m+this._a|0,this._b=g+this._b|0,this._c=b+this._c|0,this._d=w+this._d|0,this._e=E+this._e|0},s.prototype._hash=function(){var h=a.allocUnsafe(20);return h.writeInt32BE(this._a|0,0),h.writeInt32BE(this._b|0,4),h.writeInt32BE(this._c|0,8),h.writeInt32BE(this._d|0,12),h.writeInt32BE(this._e|0,16),h},sha$1=s,sha$1}var sha1$2,hasRequiredSha1$1;function requireSha1$1(){if(hasRequiredSha1$1)return sha1$2;hasRequiredSha1$1=1;var t=requireInherits_browser(),e=requireHash$1(),a=requireSafeBuffer$2().Buffer,r=[1518500249,1859775393,-1894007588,-899497514],o=new Array(80);function s(){this.init(),this._w=o,e.call(this,64,56)}t(s,e),s.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function l(f){return f<<1|f>>>31}function c(f){return f<<5|f>>>27}function u(f){return f<<30|f>>>2}function h(f,m,g,b){return f===0?m&g|~m&b:f===2?m&g|m&b|g&b:m^g^b}return s.prototype._update=function(f){for(var m=this._w,g=this._a|0,b=this._b|0,w=this._c|0,E=this._d|0,C=this._e|0,B=0;B<16;++B)m[B]=f.readInt32BE(B*4);for(;B<80;++B)m[B]=l(m[B-3]^m[B-8]^m[B-14]^m[B-16]);for(var O=0;O<80;++O){var P=~~(O/20),q=c(g)+h(P,b,w,E)+C+m[O]+r[P]|0;C=E,E=w,w=u(b),b=g,g=q}this._a=g+this._a|0,this._b=b+this._b|0,this._c=w+this._c|0,this._d=E+this._d|0,this._e=C+this._e|0},s.prototype._hash=function(){var f=a.allocUnsafe(20);return f.writeInt32BE(this._a|0,0),f.writeInt32BE(this._b|0,4),f.writeInt32BE(this._c|0,8),f.writeInt32BE(this._d|0,12),f.writeInt32BE(this._e|0,16),f},sha1$2=s,sha1$2}var sha256$6,hasRequiredSha256$1;function requireSha256$1(){if(hasRequiredSha256$1)return sha256$6;hasRequiredSha256$1=1;var t=requireInherits_browser(),e=requireHash$1(),a=requireSafeBuffer$2().Buffer,r=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],o=new Array(64);function s(){this.init(),this._w=o,e.call(this,64,56)}t(s,e),s.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function l(g,b,w){return w^g&(b^w)}function c(g,b,w){return g&b|w&(g|b)}function u(g){return(g>>>2|g<<30)^(g>>>13|g<<19)^(g>>>22|g<<10)}function h(g){return(g>>>6|g<<26)^(g>>>11|g<<21)^(g>>>25|g<<7)}function f(g){return(g>>>7|g<<25)^(g>>>18|g<<14)^g>>>3}function m(g){return(g>>>17|g<<15)^(g>>>19|g<<13)^g>>>10}return s.prototype._update=function(g){for(var b=this._w,w=this._a|0,E=this._b|0,C=this._c|0,B=this._d|0,O=this._e|0,P=this._f|0,q=this._g|0,z=this._h|0,V=0;V<16;++V)b[V]=g.readInt32BE(V*4);for(;V<64;++V)b[V]=m(b[V-2])+b[V-7]+f(b[V-15])+b[V-16]|0;for(var Z=0;Z<64;++Z){var J=z+h(O)+l(O,P,q)+r[Z]+b[Z]|0,W=u(w)+c(w,E,C)|0;z=q,q=P,P=O,O=B+J|0,B=C,C=E,E=w,w=J+W|0}this._a=w+this._a|0,this._b=E+this._b|0,this._c=C+this._c|0,this._d=B+this._d|0,this._e=O+this._e|0,this._f=P+this._f|0,this._g=q+this._g|0,this._h=z+this._h|0},s.prototype._hash=function(){var g=a.allocUnsafe(32);return g.writeInt32BE(this._a,0),g.writeInt32BE(this._b,4),g.writeInt32BE(this._c,8),g.writeInt32BE(this._d,12),g.writeInt32BE(this._e,16),g.writeInt32BE(this._f,20),g.writeInt32BE(this._g,24),g.writeInt32BE(this._h,28),g},sha256$6=s,sha256$6}var sha224$3,hasRequiredSha224$1;function requireSha224$1(){if(hasRequiredSha224$1)return sha224$3;hasRequiredSha224$1=1;var t=requireInherits_browser(),e=requireSha256$1(),a=requireHash$1(),r=requireSafeBuffer$2().Buffer,o=new Array(64);function s(){this.init(),this._w=o,a.call(this,64,56)}return t(s,e),s.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},s.prototype._hash=function(){var l=r.allocUnsafe(28);return l.writeInt32BE(this._a,0),l.writeInt32BE(this._b,4),l.writeInt32BE(this._c,8),l.writeInt32BE(this._d,12),l.writeInt32BE(this._e,16),l.writeInt32BE(this._f,20),l.writeInt32BE(this._g,24),l},sha224$3=s,sha224$3}var sha512$3,hasRequiredSha512$1;function requireSha512$1(){if(hasRequiredSha512$1)return sha512$3;hasRequiredSha512$1=1;var t=requireInherits_browser(),e=requireHash$1(),a=requireSafeBuffer$2().Buffer,r=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],o=new Array(160);function s(){this.init(),this._w=o,e.call(this,128,112)}t(s,e),s.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function l(E,C,B){return B^E&(C^B)}function c(E,C,B){return E&C|B&(E|C)}function u(E,C){return(E>>>28|C<<4)^(C>>>2|E<<30)^(C>>>7|E<<25)}function h(E,C){return(E>>>14|C<<18)^(E>>>18|C<<14)^(C>>>9|E<<23)}function f(E,C){return(E>>>1|C<<31)^(E>>>8|C<<24)^E>>>7}function m(E,C){return(E>>>1|C<<31)^(E>>>8|C<<24)^(E>>>7|C<<25)}function g(E,C){return(E>>>19|C<<13)^(C>>>29|E<<3)^E>>>6}function b(E,C){return(E>>>19|C<<13)^(C>>>29|E<<3)^(E>>>6|C<<26)}function w(E,C){return E>>>0<C>>>0?1:0}return s.prototype._update=function(E){for(var C=this._w,B=this._ah|0,O=this._bh|0,P=this._ch|0,q=this._dh|0,z=this._eh|0,V=this._fh|0,Z=this._gh|0,J=this._hh|0,W=this._al|0,te=this._bl|0,G=this._cl|0,D=this._dl|0,M=this._el|0,v=this._fl|0,S=this._gl|0,N=this._hl|0,R=0;R<32;R+=2)C[R]=E.readInt32BE(R*4),C[R+1]=E.readInt32BE(R*4+4);for(;R<160;R+=2){var k=C[R-30],j=C[R-30+1],I=f(k,j),A=m(j,k);k=C[R-4],j=C[R-4+1];var $=g(k,j),L=b(j,k),Y=C[R-14],le=C[R-14+1],re=C[R-32],U=C[R-32+1],K=A+le|0,se=I+Y+w(K,A)|0;K=K+L|0,se=se+$+w(K,L)|0,K=K+U|0,se=se+re+w(K,U)|0,C[R]=se,C[R+1]=K}for(var he=0;he<160;he+=2){se=C[he],K=C[he+1];var ue=c(B,O,P),ee=c(W,te,G),fe=u(B,W),ge=u(W,B),xe=h(z,M),_e=h(M,z),Ie=r[he],De=r[he+1],$e=l(z,V,Z),Ue=l(M,v,S),Be=N+_e|0,Ve=J+xe+w(Be,N)|0;Be=Be+Ue|0,Ve=Ve+$e+w(Be,Ue)|0,Be=Be+De|0,Ve=Ve+Ie+w(Be,De)|0,Be=Be+K|0,Ve=Ve+se+w(Be,K)|0;var He=ge+ee|0,Ae=fe+ue+w(He,ge)|0;J=Z,N=S,Z=V,S=v,V=z,v=M,M=D+Be|0,z=q+Ve+w(M,D)|0,q=P,D=G,P=O,G=te,O=B,te=W,W=Be+He|0,B=Ve+Ae+w(W,Be)|0}this._al=this._al+W|0,this._bl=this._bl+te|0,this._cl=this._cl+G|0,this._dl=this._dl+D|0,this._el=this._el+M|0,this._fl=this._fl+v|0,this._gl=this._gl+S|0,this._hl=this._hl+N|0,this._ah=this._ah+B+w(this._al,W)|0,this._bh=this._bh+O+w(this._bl,te)|0,this._ch=this._ch+P+w(this._cl,G)|0,this._dh=this._dh+q+w(this._dl,D)|0,this._eh=this._eh+z+w(this._el,M)|0,this._fh=this._fh+V+w(this._fl,v)|0,this._gh=this._gh+Z+w(this._gl,S)|0,this._hh=this._hh+J+w(this._hl,N)|0},s.prototype._hash=function(){var E=a.allocUnsafe(64);function C(B,O,P){E.writeInt32BE(B,P),E.writeInt32BE(O,P+4)}return C(this._ah,this._al,0),C(this._bh,this._bl,8),C(this._ch,this._cl,16),C(this._dh,this._dl,24),C(this._eh,this._el,32),C(this._fh,this._fl,40),C(this._gh,this._gl,48),C(this._hh,this._hl,56),E},sha512$3=s,sha512$3}var sha384$3,hasRequiredSha384$1;function requireSha384$1(){if(hasRequiredSha384$1)return sha384$3;hasRequiredSha384$1=1;var t=requireInherits_browser(),e=requireSha512$1(),a=requireHash$1(),r=requireSafeBuffer$2().Buffer,o=new Array(160);function s(){this.init(),this._w=o,a.call(this,128,112)}return t(s,e),s.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},s.prototype._hash=function(){var l=r.allocUnsafe(48);function c(u,h,f){l.writeInt32BE(u,f),l.writeInt32BE(h,f+4)}return c(this._ah,this._al,0),c(this._bh,this._bl,8),c(this._ch,this._cl,16),c(this._dh,this._dl,24),c(this._eh,this._el,32),c(this._fh,this._fl,40),l},sha384$3=s,sha384$3}var hasRequiredSha_js;function requireSha_js(){return hasRequiredSha_js||(hasRequiredSha_js=1,(function(t){t.exports=function(a){var r=a.toLowerCase(),o=t.exports[r];if(!o)throw new Error(r+" is not supported (we accept pull requests)");return new o},t.exports.sha=requireSha$1(),t.exports.sha1=requireSha1$1(),t.exports.sha224=requireSha224$1(),t.exports.sha256=requireSha256$1(),t.exports.sha384=requireSha384$1(),t.exports.sha512=requireSha512$1()})(sha_js)),sha_js.exports}var cipherBase,hasRequiredCipherBase;function requireCipherBase(){if(hasRequiredCipherBase)return cipherBase;hasRequiredCipherBase=1;var t=requireSafeBuffer$2().Buffer,e=requireStreamBrowserify().Transform,a=requireString_decoder().StringDecoder,r=requireInherits_browser(),o=requireToBuffer$2();function s(l){e.call(this),this.hashMode=typeof l=="string",this.hashMode?this[l]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}return r(s,e),s.prototype.update=function(l,c,u){var h=o(l,c),f=this._update(h);return this.hashMode?this:(u&&(f=this._toString(f,u)),f)},s.prototype.setAutoPadding=function(){},s.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},s.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},s.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},s.prototype._transform=function(l,c,u){var h;try{this.hashMode?this._update(l):this.push(this._update(l))}catch(f){h=f}finally{u(h)}},s.prototype._flush=function(l){var c;try{this.push(this.__final())}catch(u){c=u}l(c)},s.prototype._finalOrDigest=function(l){var c=this.__final()||t.alloc(0);return l&&(c=this._toString(c,l,!0)),c},s.prototype._toString=function(l,c,u){if(this._decoder||(this._decoder=new a(c),this._encoding=c),this._encoding!==c)throw new Error("cant switch encodings");var h=this._decoder.write(l);return u&&(h+=this._decoder.end()),h},cipherBase=s,cipherBase}var browser$9,hasRequiredBrowser$9;function requireBrowser$9(){if(hasRequiredBrowser$9)return browser$9;hasRequiredBrowser$9=1;var t=requireInherits_browser(),e=requireMd5_js(),a=requireRipemd160$1(),r=requireSha_js(),o=requireCipherBase();function s(l){o.call(this,"digest"),this._hash=l}return t(s,o),s.prototype._update=function(l){this._hash.update(l)},s.prototype._final=function(){return this._hash.digest()},browser$9=function(c){return c=c.toLowerCase(),c==="md5"?new e:c==="rmd160"||c==="ripemd160"?new a:new s(r(c))},browser$9}var legacy,hasRequiredLegacy;function requireLegacy(){if(hasRequiredLegacy)return legacy;hasRequiredLegacy=1;var t=requireInherits_browser(),e=requireSafeBuffer$2().Buffer,a=requireCipherBase(),r=e.alloc(128),o=64;function s(l,c){a.call(this,"digest"),typeof c=="string"&&(c=e.from(c)),this._alg=l,this._key=c,c.length>o?c=l(c):c.length<o&&(c=e.concat([c,r],o));for(var u=this._ipad=e.allocUnsafe(o),h=this._opad=e.allocUnsafe(o),f=0;f<o;f++)u[f]=c[f]^54,h[f]=c[f]^92;this._hash=[u]}return t(s,a),s.prototype._update=function(l){this._hash.push(l)},s.prototype._final=function(){var l=this._alg(e.concat(this._hash));return this._alg(e.concat([this._opad,l]))},legacy=s,legacy}var md5$2,hasRequiredMd5$1;function requireMd5$1(){if(hasRequiredMd5$1)return md5$2;hasRequiredMd5$1=1;var t=requireMd5_js();return md5$2=function(e){return new t().update(e).digest()},md5$2}var browser$8,hasRequiredBrowser$8;function requireBrowser$8(){if(hasRequiredBrowser$8)return browser$8;hasRequiredBrowser$8=1;var t=requireInherits_browser(),e=requireLegacy(),a=requireCipherBase(),r=requireSafeBuffer$2().Buffer,o=requireMd5$1(),s=requireRipemd160$1(),l=requireSha_js(),c=r.alloc(128);function u(h,f){a.call(this,"digest"),typeof f=="string"&&(f=r.from(f));var m=h==="sha512"||h==="sha384"?128:64;if(this._alg=h,this._key=f,f.length>m){var g=h==="rmd160"?new s:l(h);f=g.update(f).digest()}else f.length<m&&(f=r.concat([f,c],m));for(var b=this._ipad=r.allocUnsafe(m),w=this._opad=r.allocUnsafe(m),E=0;E<m;E++)b[E]=f[E]^54,w[E]=f[E]^92;this._hash=h==="rmd160"?new s:l(h),this._hash.update(b)}return t(u,a),u.prototype._update=function(h){this._hash.update(h)},u.prototype._final=function(){var h=this._hash.digest(),f=this._alg==="rmd160"?new s:l(this._alg);return f.update(this._opad).update(h).digest()},browser$8=function(f,m){return f=f.toLowerCase(),f==="rmd160"||f==="ripemd160"?new u("rmd160",m):f==="md5"?new e(o,m):new u(f,m)},browser$8}const sha224WithRSAEncryption={sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption={sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption={sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption={sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},sha256$5={sign:"ecdsa",hash:"sha256",id:""},sha224$2={sign:"ecdsa",hash:"sha224",id:""},sha384$2={sign:"ecdsa",hash:"sha384",id:""},sha512$2={sign:"ecdsa",hash:"sha512",id:""},DSA={sign:"dsa",hash:"sha1",id:""},ripemd160WithRSA={sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption={sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},require$$6={sha224WithRSAEncryption,"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption,"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption,"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption,"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:sha256$5,sha224:sha224$2,sha384:sha384$2,sha512:sha512$2,"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA,"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA,"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption,"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}};var algos,hasRequiredAlgos;function requireAlgos(){return hasRequiredAlgos||(hasRequiredAlgos=1,algos=require$$6),algos}var browser$7={},precondition,hasRequiredPrecondition;function requirePrecondition(){if(hasRequiredPrecondition)return precondition;hasRequiredPrecondition=1;var t=isFinite,e=Math.pow(2,30)-1;return precondition=function(a,r){if(typeof a!="number")throw new TypeError("Iterations not a number");if(a<0||!t(a))throw new TypeError("Bad iterations");if(typeof r!="number")throw new TypeError("Key length not a number");if(r<0||r>e||r!==r)throw new TypeError("Bad key length")},precondition}var defaultEncoding_1,hasRequiredDefaultEncoding;function requireDefaultEncoding(){if(hasRequiredDefaultEncoding)return defaultEncoding_1;hasRequiredDefaultEncoding=1;var t;if(commonjsGlobal.process&&commonjsGlobal.process.browser)t="utf-8";else if(commonjsGlobal.process&&commonjsGlobal.process.version){var e=parseInt(process$1.version.split(".")[0].slice(1),10);t=e>=6?"utf-8":"binary"}else t="utf-8";return defaultEncoding_1=t,defaultEncoding_1}var toBuffer_1,hasRequiredToBuffer;function requireToBuffer(){if(hasRequiredToBuffer)return toBuffer_1;hasRequiredToBuffer=1;var t=requireSafeBuffer$2().Buffer,e=requireToBuffer$2(),a=typeof Uint8Array<"u",r=a&&typeof ArrayBuffer<"u",o=r&&ArrayBuffer.isView;return toBuffer_1=function(s,l,c){if(typeof s=="string"||t.isBuffer(s)||a&&s instanceof Uint8Array||o&&o(s))return e(s,l);throw new TypeError(c+" must be a string, a Buffer, a Uint8Array, or a DataView")},toBuffer_1}var syncBrowser,hasRequiredSyncBrowser;function requireSyncBrowser(){if(hasRequiredSyncBrowser)return syncBrowser;hasRequiredSyncBrowser=1;var t=requireMd5$1(),e=requireRipemd160$1(),a=requireSha_js(),r=requireSafeBuffer$2().Buffer,o=requirePrecondition(),s=requireDefaultEncoding(),l=requireToBuffer(),c=r.alloc(128),u={__proto__:null,md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,"sha512-256":32,ripemd160:20,rmd160:20},h={__proto__:null,"sha-1":"sha1","sha-224":"sha224","sha-256":"sha256","sha-384":"sha384","sha-512":"sha512","ripemd-160":"ripemd160"};function f(w){return new e().update(w).digest()}function m(w){function E(C){return a(w).update(C).digest()}return w==="rmd160"||w==="ripemd160"?f:w==="md5"?t:E}function g(w,E,C){var B=m(w),O=w==="sha512"||w==="sha384"?128:64;E.length>O?E=B(E):E.length<O&&(E=r.concat([E,c],O));for(var P=r.allocUnsafe(O+u[w]),q=r.allocUnsafe(O+u[w]),z=0;z<O;z++)P[z]=E[z]^54,q[z]=E[z]^92;var V=r.allocUnsafe(O+C+4);P.copy(V,0,0,O),this.ipad1=V,this.ipad2=P,this.opad=q,this.alg=w,this.blocksize=O,this.hash=B,this.size=u[w]}g.prototype.run=function(w,E){w.copy(E,this.blocksize);var C=this.hash(E);return C.copy(this.opad,this.blocksize),this.hash(this.opad)};function b(w,E,C,B,O){o(C,B),w=l(w,s,"Password"),E=l(E,s,"Salt");var P=(O||"sha1").toLowerCase(),q=h[P]||P,z=u[q];if(typeof z!="number"||!z)throw new TypeError("Digest algorithm not supported: "+O);var V=new g(q,w,E.length),Z=r.allocUnsafe(B),J=r.allocUnsafe(E.length+4);E.copy(J,0,0,E.length);for(var W=0,te=z,G=Math.ceil(B/te),D=1;D<=G;D++){J.writeUInt32BE(D,E.length);for(var M=V.run(J,V.ipad1),v=M,S=1;S<C;S++){v=V.run(v,V.ipad2);for(var N=0;N<te;N++)M[N]^=v[N]}M.copy(Z,W),W+=te}return Z}return syncBrowser=b,syncBrowser}var async,hasRequiredAsync;function requireAsync(){if(hasRequiredAsync)return async;hasRequiredAsync=1;var t=requireSafeBuffer$2().Buffer,e=requirePrecondition(),a=requireDefaultEncoding(),r=requireSyncBrowser(),o=requireToBuffer(),s,l=commonjsGlobal.crypto&&commonjsGlobal.crypto.subtle,c={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},u=[],h;function f(){return h||(commonjsGlobal.process&&commonjsGlobal.process.nextTick?h=commonjsGlobal.process.nextTick:commonjsGlobal.queueMicrotask?h=commonjsGlobal.queueMicrotask:commonjsGlobal.setImmediate?h=commonjsGlobal.setImmediate:h=commonjsGlobal.setTimeout,h)}function m(w,E,C,B,O){return l.importKey("raw",w,{name:"PBKDF2"},!1,["deriveBits"]).then(function(P){return l.deriveBits({name:"PBKDF2",salt:E,iterations:C,hash:{name:O}},P,B<<3)}).then(function(P){return t.from(P)})}function g(w){if(commonjsGlobal.process&&!commonjsGlobal.process.browser||!l||!l.importKey||!l.deriveBits)return Promise.resolve(!1);if(u[w]!==void 0)return u[w];s=s||t.alloc(8);var E=m(s,s,10,128,w).then(function(){return!0},function(){return!1});return u[w]=E,E}function b(w,E){w.then(function(C){f()(function(){E(null,C)})},function(C){f()(function(){E(C)})})}return async=function(w,E,C,B,O,P){if(typeof O=="function"&&(P=O,O=void 0),e(C,B),w=o(w,a,"Password"),E=o(E,a,"Salt"),typeof P!="function")throw new Error("No callback provided to pbkdf2");O=O||"sha1";var q=c[O.toLowerCase()];if(!q||typeof commonjsGlobal.Promise!="function"){f()(function(){var z;try{z=r(w,E,C,B,O)}catch(V){P(V);return}P(null,z)});return}b(g(q).then(function(z){return z?m(w,E,C,B,q):r(w,E,C,B,O)}),P)},async}var hasRequiredBrowser$7;function requireBrowser$7(){return hasRequiredBrowser$7||(hasRequiredBrowser$7=1,browser$7.pbkdf2=requireAsync(),browser$7.pbkdf2Sync=requireSyncBrowser()),browser$7}var browser$6={},des$1={},utils$4={},hasRequiredUtils$3;function requireUtils$3(){if(hasRequiredUtils$3)return utils$4;hasRequiredUtils$3=1,utils$4.readUInt32BE=function(o,s){var l=o[0+s]<<24|o[1+s]<<16|o[2+s]<<8|o[3+s];return l>>>0},utils$4.writeUInt32BE=function(o,s,l){o[0+l]=s>>>24,o[1+l]=s>>>16&255,o[2+l]=s>>>8&255,o[3+l]=s&255},utils$4.ip=function(o,s,l,c){for(var u=0,h=0,f=6;f>=0;f-=2){for(var m=0;m<=24;m+=8)u<<=1,u|=s>>>m+f&1;for(var m=0;m<=24;m+=8)u<<=1,u|=o>>>m+f&1}for(var f=6;f>=0;f-=2){for(var m=1;m<=25;m+=8)h<<=1,h|=s>>>m+f&1;for(var m=1;m<=25;m+=8)h<<=1,h|=o>>>m+f&1}l[c+0]=u>>>0,l[c+1]=h>>>0},utils$4.rip=function(o,s,l,c){for(var u=0,h=0,f=0;f<4;f++)for(var m=24;m>=0;m-=8)u<<=1,u|=s>>>m+f&1,u<<=1,u|=o>>>m+f&1;for(var f=4;f<8;f++)for(var m=24;m>=0;m-=8)h<<=1,h|=s>>>m+f&1,h<<=1,h|=o>>>m+f&1;l[c+0]=u>>>0,l[c+1]=h>>>0},utils$4.pc1=function(o,s,l,c){for(var u=0,h=0,f=7;f>=5;f--){for(var m=0;m<=24;m+=8)u<<=1,u|=s>>m+f&1;for(var m=0;m<=24;m+=8)u<<=1,u|=o>>m+f&1}for(var m=0;m<=24;m+=8)u<<=1,u|=s>>m+f&1;for(var f=1;f<=3;f++){for(var m=0;m<=24;m+=8)h<<=1,h|=s>>m+f&1;for(var m=0;m<=24;m+=8)h<<=1,h|=o>>m+f&1}for(var m=0;m<=24;m+=8)h<<=1,h|=o>>m+f&1;l[c+0]=u>>>0,l[c+1]=h>>>0},utils$4.r28shl=function(o,s){return o<<s&268435455|o>>>28-s};var t=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];utils$4.pc2=function(o,s,l,c){for(var u=0,h=0,f=t.length>>>1,m=0;m<f;m++)u<<=1,u|=o>>>t[m]&1;for(var m=f;m<t.length;m++)h<<=1,h|=s>>>t[m]&1;l[c+0]=u>>>0,l[c+1]=h>>>0},utils$4.expand=function(o,s,l){var c=0,u=0;c=(o&1)<<5|o>>>27;for(var h=23;h>=15;h-=4)c<<=6,c|=o>>>h&63;for(var h=11;h>=3;h-=4)u|=o>>>h&63,u<<=6;u|=(o&31)<<1|o>>>31,s[l+0]=c>>>0,s[l+1]=u>>>0};var e=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];utils$4.substitute=function(o,s){for(var l=0,c=0;c<4;c++){var u=o>>>18-c*6&63,h=e[c*64+u];l<<=4,l|=h}for(var c=0;c<4;c++){var u=s>>>18-c*6&63,h=e[256+c*64+u];l<<=4,l|=h}return l>>>0};var a=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];return utils$4.permute=function(o){for(var s=0,l=0;l<a.length;l++)s<<=1,s|=o>>>a[l]&1;return s>>>0},utils$4.padSplit=function(o,s,l){for(var c=o.toString(2);c.length<s;)c="0"+c;for(var u=[],h=0;h<s;h+=l)u.push(c.slice(h,h+l));return u.join(" ")},utils$4}var minimalisticAssert,hasRequiredMinimalisticAssert;function requireMinimalisticAssert(){if(hasRequiredMinimalisticAssert)return minimalisticAssert;hasRequiredMinimalisticAssert=1,minimalisticAssert=t;function t(e,a){if(!e)throw new Error(a||"Assertion failed")}return t.equal=function(a,r,o){if(a!=r)throw new Error(o||"Assertion failed: "+a+" != "+r)},minimalisticAssert}var cipher,hasRequiredCipher;function requireCipher(){if(hasRequiredCipher)return cipher;hasRequiredCipher=1;var t=requireMinimalisticAssert();function e(a){this.options=a,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=a.padding!==!1}return cipher=e,e.prototype._init=function(){},e.prototype.update=function(r){return r.length===0?[]:this.type==="decrypt"?this._updateDecrypt(r):this._updateEncrypt(r)},e.prototype._buffer=function(r,o){for(var s=Math.min(this.buffer.length-this.bufferOff,r.length-o),l=0;l<s;l++)this.buffer[this.bufferOff+l]=r[o+l];return this.bufferOff+=s,s},e.prototype._flushBuffer=function(r,o){return this._update(this.buffer,0,r,o),this.bufferOff=0,this.blockSize},e.prototype._updateEncrypt=function(r){var o=0,s=0,l=(this.bufferOff+r.length)/this.blockSize|0,c=new Array(l*this.blockSize);this.bufferOff!==0&&(o+=this._buffer(r,o),this.bufferOff===this.buffer.length&&(s+=this._flushBuffer(c,s)));for(var u=r.length-(r.length-o)%this.blockSize;o<u;o+=this.blockSize)this._update(r,o,c,s),s+=this.blockSize;for(;o<r.length;o++,this.bufferOff++)this.buffer[this.bufferOff]=r[o];return c},e.prototype._updateDecrypt=function(r){for(var o=0,s=0,l=Math.ceil((this.bufferOff+r.length)/this.blockSize)-1,c=new Array(l*this.blockSize);l>0;l--)o+=this._buffer(r,o),s+=this._flushBuffer(c,s);return o+=this._buffer(r,o),c},e.prototype.final=function(r){var o;r&&(o=this.update(r));var s;return this.type==="encrypt"?s=this._finalEncrypt():s=this._finalDecrypt(),o?o.concat(s):s},e.prototype._pad=function(r,o){if(o===0)return!1;for(;o<r.length;)r[o++]=0;return!0},e.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var r=new Array(this.blockSize);return this._update(this.buffer,0,r,0),r},e.prototype._unpad=function(r){return r},e.prototype._finalDecrypt=function(){t.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var r=new Array(this.blockSize);return this._flushBuffer(r,0),this._unpad(r)},cipher}var des,hasRequiredDes$1;function requireDes$1(){if(hasRequiredDes$1)return des;hasRequiredDes$1=1;var t=requireMinimalisticAssert(),e=requireInherits_browser(),a=requireUtils$3(),r=requireCipher();function o(){this.tmp=new Array(2),this.keys=null}function s(c){r.call(this,c);var u=new o;this._desState=u,this.deriveKeys(u,c.key)}e(s,r),des=s,s.create=function(u){return new s(u)};var l=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];return s.prototype.deriveKeys=function(u,h){u.keys=new Array(32),t.equal(h.length,this.blockSize,"Invalid key length");var f=a.readUInt32BE(h,0),m=a.readUInt32BE(h,4);a.pc1(f,m,u.tmp,0),f=u.tmp[0],m=u.tmp[1];for(var g=0;g<u.keys.length;g+=2){var b=l[g>>>1];f=a.r28shl(f,b),m=a.r28shl(m,b),a.pc2(f,m,u.keys,g)}},s.prototype._update=function(u,h,f,m){var g=this._desState,b=a.readUInt32BE(u,h),w=a.readUInt32BE(u,h+4);a.ip(b,w,g.tmp,0),b=g.tmp[0],w=g.tmp[1],this.type==="encrypt"?this._encrypt(g,b,w,g.tmp,0):this._decrypt(g,b,w,g.tmp,0),b=g.tmp[0],w=g.tmp[1],a.writeUInt32BE(f,b,m),a.writeUInt32BE(f,w,m+4)},s.prototype._pad=function(u,h){if(this.padding===!1)return!1;for(var f=u.length-h,m=h;m<u.length;m++)u[m]=f;return!0},s.prototype._unpad=function(u){if(this.padding===!1)return u;for(var h=u[u.length-1],f=u.length-h;f<u.length;f++)t.equal(u[f],h);return u.slice(0,u.length-h)},s.prototype._encrypt=function(u,h,f,m,g){for(var b=h,w=f,E=0;E<u.keys.length;E+=2){var C=u.keys[E],B=u.keys[E+1];a.expand(w,u.tmp,0),C^=u.tmp[0],B^=u.tmp[1];var O=a.substitute(C,B),P=a.permute(O),q=w;w=(b^P)>>>0,b=q}a.rip(w,b,m,g)},s.prototype._decrypt=function(u,h,f,m,g){for(var b=f,w=h,E=u.keys.length-2;E>=0;E-=2){var C=u.keys[E],B=u.keys[E+1];a.expand(b,u.tmp,0),C^=u.tmp[0],B^=u.tmp[1];var O=a.substitute(C,B),P=a.permute(O),q=b;b=(w^P)>>>0,w=q}a.rip(b,w,m,g)},des}var cbc$1={},hasRequiredCbc$1;function requireCbc$1(){if(hasRequiredCbc$1)return cbc$1;hasRequiredCbc$1=1;var t=requireMinimalisticAssert(),e=requireInherits_browser(),a={};function r(s){t.equal(s.length,8,"Invalid IV length"),this.iv=new Array(8);for(var l=0;l<this.iv.length;l++)this.iv[l]=s[l]}function o(s){function l(f){s.call(this,f),this._cbcInit()}e(l,s);for(var c=Object.keys(a),u=0;u<c.length;u++){var h=c[u];l.prototype[h]=a[h]}return l.create=function(m){return new l(m)},l}return cbc$1.instantiate=o,a._cbcInit=function(){var l=new r(this.options.iv);this._cbcState=l},a._update=function(l,c,u,h){var f=this._cbcState,m=this.constructor.super_.prototype,g=f.iv;if(this.type==="encrypt"){for(var b=0;b<this.blockSize;b++)g[b]^=l[c+b];m._update.call(this,g,0,u,h);for(var b=0;b<this.blockSize;b++)g[b]=u[h+b]}else{m._update.call(this,l,c,u,h);for(var b=0;b<this.blockSize;b++)u[h+b]^=g[b];for(var b=0;b<this.blockSize;b++)g[b]=l[c+b]}},cbc$1}var ede,hasRequiredEde;function requireEde(){if(hasRequiredEde)return ede;hasRequiredEde=1;var t=requireMinimalisticAssert(),e=requireInherits_browser(),a=requireCipher(),r=requireDes$1();function o(l,c){t.equal(c.length,24,"Invalid key length");var u=c.slice(0,8),h=c.slice(8,16),f=c.slice(16,24);l==="encrypt"?this.ciphers=[r.create({type:"encrypt",key:u}),r.create({type:"decrypt",key:h}),r.create({type:"encrypt",key:f})]:this.ciphers=[r.create({type:"decrypt",key:f}),r.create({type:"encrypt",key:h}),r.create({type:"decrypt",key:u})]}function s(l){a.call(this,l);var c=new o(this.type,this.options.key);this._edeState=c}return e(s,a),ede=s,s.create=function(c){return new s(c)},s.prototype._update=function(c,u,h,f){var m=this._edeState;m.ciphers[0]._update(c,u,h,f),m.ciphers[1]._update(h,f,h,f),m.ciphers[2]._update(h,f,h,f)},s.prototype._pad=r.prototype._pad,s.prototype._unpad=r.prototype._unpad,ede}var hasRequiredDes;function requireDes(){return hasRequiredDes||(hasRequiredDes=1,des$1.utils=requireUtils$3(),des$1.Cipher=requireCipher(),des$1.DES=requireDes$1(),des$1.CBC=requireCbc$1(),des$1.EDE=requireEde()),des$1}var browserifyDes,hasRequiredBrowserifyDes;function requireBrowserifyDes(){if(hasRequiredBrowserifyDes)return browserifyDes;hasRequiredBrowserifyDes=1;var t=requireCipherBase(),e=requireDes(),a=requireInherits_browser(),r=requireSafeBuffer$2().Buffer,o={"des-ede3-cbc":e.CBC.instantiate(e.EDE),"des-ede3":e.EDE,"des-ede-cbc":e.CBC.instantiate(e.EDE),"des-ede":e.EDE,"des-cbc":e.CBC.instantiate(e.DES),"des-ecb":e.DES};o.des=o["des-cbc"],o.des3=o["des-ede3-cbc"],browserifyDes=s,a(s,t);function s(l){t.call(this);var c=l.mode.toLowerCase(),u=o[c],h;l.decrypt?h="decrypt":h="encrypt";var f=l.key;r.isBuffer(f)||(f=r.from(f)),(c==="des-ede"||c==="des-ede-cbc")&&(f=r.concat([f,f.slice(0,8)]));var m=l.iv;r.isBuffer(m)||(m=r.from(m)),this._des=u.create({key:f,iv:m,type:h})}return s.prototype._update=function(l){return r.from(this._des.update(l))},s.prototype._final=function(){return r.from(this._des.final())},browserifyDes}var browser$5={},encrypter={},ecb={},hasRequiredEcb;function requireEcb(){return hasRequiredEcb||(hasRequiredEcb=1,ecb.encrypt=function(t,e){return t._cipher.encryptBlock(e)},ecb.decrypt=function(t,e){return t._cipher.decryptBlock(e)}),ecb}var cbc={},bufferXor,hasRequiredBufferXor;function requireBufferXor(){return hasRequiredBufferXor||(hasRequiredBufferXor=1,bufferXor=function(e,a){for(var r=Math.min(e.length,a.length),o=new Buffer(r),s=0;s<r;++s)o[s]=e[s]^a[s];return o}),bufferXor}var hasRequiredCbc;function requireCbc(){if(hasRequiredCbc)return cbc;hasRequiredCbc=1;var t=requireBufferXor();return cbc.encrypt=function(e,a){var r=t(a,e._prev);return e._prev=e._cipher.encryptBlock(r),e._prev},cbc.decrypt=function(e,a){var r=e._prev;e._prev=a;var o=e._cipher.decryptBlock(a);return t(o,r)},cbc}var cfb={},hasRequiredCfb;function requireCfb(){if(hasRequiredCfb)return cfb;hasRequiredCfb=1;var t=requireSafeBuffer$2().Buffer,e=requireBufferXor();function a(r,o,s){var l=o.length,c=e(o,r._cache);return r._cache=r._cache.slice(l),r._prev=t.concat([r._prev,s?o:c]),c}return cfb.encrypt=function(r,o,s){for(var l=t.allocUnsafe(0),c;o.length;)if(r._cache.length===0&&(r._cache=r._cipher.encryptBlock(r._prev),r._prev=t.allocUnsafe(0)),r._cache.length<=o.length)c=r._cache.length,l=t.concat([l,a(r,o.slice(0,c),s)]),o=o.slice(c);else{l=t.concat([l,a(r,o,s)]);break}return l},cfb}var cfb8={},hasRequiredCfb8;function requireCfb8(){if(hasRequiredCfb8)return cfb8;hasRequiredCfb8=1;var t=requireSafeBuffer$2().Buffer;function e(a,r,o){var s=a._cipher.encryptBlock(a._prev),l=s[0]^r;return a._prev=t.concat([a._prev.slice(1),t.from([o?r:l])]),l}return cfb8.encrypt=function(a,r,o){for(var s=r.length,l=t.allocUnsafe(s),c=-1;++c<s;)l[c]=e(a,r[c],o);return l},cfb8}var cfb1={},hasRequiredCfb1;function requireCfb1(){if(hasRequiredCfb1)return cfb1;hasRequiredCfb1=1;var t=requireSafeBuffer$2().Buffer;function e(r,o,s){for(var l,c=-1,u=8,h=0,f,m;++c<u;)l=r._cipher.encryptBlock(r._prev),f=o&1<<7-c?128:0,m=l[0]^f,h+=(m&128)>>c%8,r._prev=a(r._prev,s?f:m);return h}function a(r,o){var s=r.length,l=-1,c=t.allocUnsafe(r.length);for(r=t.concat([r,t.from([o])]);++l<s;)c[l]=r[l]<<1|r[l+1]>>7;return c}return cfb1.encrypt=function(r,o,s){for(var l=o.length,c=t.allocUnsafe(l),u=-1;++u<l;)c[u]=e(r,o[u],s);return c},cfb1}var ofb={},hasRequiredOfb;function requireOfb(){if(hasRequiredOfb)return ofb;hasRequiredOfb=1;var t=requireBufferXor();function e(a){return a._prev=a._cipher.encryptBlock(a._prev),a._prev}return ofb.encrypt=function(a,r){for(;a._cache.length<r.length;)a._cache=Buffer.concat([a._cache,e(a)]);var o=a._cache.slice(0,r.length);return a._cache=a._cache.slice(r.length),t(r,o)},ofb}var ctr={},incr32_1,hasRequiredIncr32;function requireIncr32(){if(hasRequiredIncr32)return incr32_1;hasRequiredIncr32=1;function t(e){for(var a=e.length,r;a--;)if(r=e.readUInt8(a),r===255)e.writeUInt8(0,a);else{r++,e.writeUInt8(r,a);break}}return incr32_1=t,incr32_1}var hasRequiredCtr;function requireCtr(){if(hasRequiredCtr)return ctr;hasRequiredCtr=1;var t=requireBufferXor(),e=requireSafeBuffer$2().Buffer,a=requireIncr32();function r(s){var l=s._cipher.encryptBlockRaw(s._prev);return a(s._prev),l}var o=16;return ctr.encrypt=function(s,l){var c=Math.ceil(l.length/o),u=s._cache.length;s._cache=e.concat([s._cache,e.allocUnsafe(c*o)]);for(var h=0;h<c;h++){var f=r(s),m=u+h*o;s._cache.writeUInt32BE(f[0],m+0),s._cache.writeUInt32BE(f[1],m+4),s._cache.writeUInt32BE(f[2],m+8),s._cache.writeUInt32BE(f[3],m+12)}var g=s._cache.slice(0,l.length);return s._cache=s._cache.slice(l.length),t(l,g)},ctr}const aes128={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},require$$2$2={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128,aes192,aes256,"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}};var modes_1,hasRequiredModes$1;function requireModes$1(){if(hasRequiredModes$1)return modes_1;hasRequiredModes$1=1;var t={ECB:requireEcb(),CBC:requireCbc(),CFB:requireCfb(),CFB8:requireCfb8(),CFB1:requireCfb1(),OFB:requireOfb(),CTR:requireCtr(),GCM:requireCtr()},e=require$$2$2;for(var a in e)e[a].module=t[e[a].mode];return modes_1=e,modes_1}var aes$2={},hasRequiredAes$1;function requireAes$1(){if(hasRequiredAes$1)return aes$2;hasRequiredAes$1=1;var t=requireSafeBuffer$2().Buffer;function e(c){t.isBuffer(c)||(c=t.from(c));for(var u=c.length/4|0,h=new Array(u),f=0;f<u;f++)h[f]=c.readUInt32BE(f*4);return h}function a(c){for(var u=0;u<c.length;c++)c[u]=0}function r(c,u,h,f,m){for(var g=h[0],b=h[1],w=h[2],E=h[3],C=c[0]^u[0],B=c[1]^u[1],O=c[2]^u[2],P=c[3]^u[3],q,z,V,Z,J=4,W=1;W<m;W++)q=g[C>>>24]^b[B>>>16&255]^w[O>>>8&255]^E[P&255]^u[J++],z=g[B>>>24]^b[O>>>16&255]^w[P>>>8&255]^E[C&255]^u[J++],V=g[O>>>24]^b[P>>>16&255]^w[C>>>8&255]^E[B&255]^u[J++],Z=g[P>>>24]^b[C>>>16&255]^w[B>>>8&255]^E[O&255]^u[J++],C=q,B=z,O=V,P=Z;return q=(f[C>>>24]<<24|f[B>>>16&255]<<16|f[O>>>8&255]<<8|f[P&255])^u[J++],z=(f[B>>>24]<<24|f[O>>>16&255]<<16|f[P>>>8&255]<<8|f[C&255])^u[J++],V=(f[O>>>24]<<24|f[P>>>16&255]<<16|f[C>>>8&255]<<8|f[B&255])^u[J++],Z=(f[P>>>24]<<24|f[C>>>16&255]<<16|f[B>>>8&255]<<8|f[O&255])^u[J++],q=q>>>0,z=z>>>0,V=V>>>0,Z=Z>>>0,[q,z,V,Z]}var o=[0,1,2,4,8,16,32,64,128,27,54],s=(function(){for(var c=new Array(256),u=0;u<256;u++)u<128?c[u]=u<<1:c[u]=u<<1^283;for(var h=[],f=[],m=[[],[],[],[]],g=[[],[],[],[]],b=0,w=0,E=0;E<256;++E){var C=w^w<<1^w<<2^w<<3^w<<4;C=C>>>8^C&255^99,h[b]=C,f[C]=b;var B=c[b],O=c[B],P=c[O],q=c[C]*257^C*16843008;m[0][b]=q<<24|q>>>8,m[1][b]=q<<16|q>>>16,m[2][b]=q<<8|q>>>24,m[3][b]=q,q=P*16843009^O*65537^B*257^b*16843008,g[0][C]=q<<24|q>>>8,g[1][C]=q<<16|q>>>16,g[2][C]=q<<8|q>>>24,g[3][C]=q,b===0?b=w=1:(b=B^c[c[c[P^B]]],w^=c[c[w]])}return{SBOX:h,INV_SBOX:f,SUB_MIX:m,INV_SUB_MIX:g}})();function l(c){this._key=e(c),this._reset()}return l.blockSize=16,l.keySize=256/8,l.prototype.blockSize=l.blockSize,l.prototype.keySize=l.keySize,l.prototype._reset=function(){for(var c=this._key,u=c.length,h=u+6,f=(h+1)*4,m=[],g=0;g<u;g++)m[g]=c[g];for(g=u;g<f;g++){var b=m[g-1];g%u===0?(b=b<<8|b>>>24,b=s.SBOX[b>>>24]<<24|s.SBOX[b>>>16&255]<<16|s.SBOX[b>>>8&255]<<8|s.SBOX[b&255],b^=o[g/u|0]<<24):u>6&&g%u===4&&(b=s.SBOX[b>>>24]<<24|s.SBOX[b>>>16&255]<<16|s.SBOX[b>>>8&255]<<8|s.SBOX[b&255]),m[g]=m[g-u]^b}for(var w=[],E=0;E<f;E++){var C=f-E,B=m[C-(E%4?0:4)];E<4||C<=4?w[E]=B:w[E]=s.INV_SUB_MIX[0][s.SBOX[B>>>24]]^s.INV_SUB_MIX[1][s.SBOX[B>>>16&255]]^s.INV_SUB_MIX[2][s.SBOX[B>>>8&255]]^s.INV_SUB_MIX[3][s.SBOX[B&255]]}this._nRounds=h,this._keySchedule=m,this._invKeySchedule=w},l.prototype.encryptBlockRaw=function(c){return c=e(c),r(c,this._keySchedule,s.SUB_MIX,s.SBOX,this._nRounds)},l.prototype.encryptBlock=function(c){var u=this.encryptBlockRaw(c),h=t.allocUnsafe(16);return h.writeUInt32BE(u[0],0),h.writeUInt32BE(u[1],4),h.writeUInt32BE(u[2],8),h.writeUInt32BE(u[3],12),h},l.prototype.decryptBlock=function(c){c=e(c);var u=c[1];c[1]=c[3],c[3]=u;var h=r(c,this._invKeySchedule,s.INV_SUB_MIX,s.INV_SBOX,this._nRounds),f=t.allocUnsafe(16);return f.writeUInt32BE(h[0],0),f.writeUInt32BE(h[3],4),f.writeUInt32BE(h[2],8),f.writeUInt32BE(h[1],12),f},l.prototype.scrub=function(){a(this._keySchedule),a(this._invKeySchedule),a(this._key)},aes$2.AES=l,aes$2}var ghash,hasRequiredGhash;function requireGhash(){if(hasRequiredGhash)return ghash;hasRequiredGhash=1;var t=requireSafeBuffer$2().Buffer,e=t.alloc(16,0);function a(s){return[s.readUInt32BE(0),s.readUInt32BE(4),s.readUInt32BE(8),s.readUInt32BE(12)]}function r(s){var l=t.allocUnsafe(16);return l.writeUInt32BE(s[0]>>>0,0),l.writeUInt32BE(s[1]>>>0,4),l.writeUInt32BE(s[2]>>>0,8),l.writeUInt32BE(s[3]>>>0,12),l}function o(s){this.h=s,this.state=t.alloc(16,0),this.cache=t.allocUnsafe(0)}return o.prototype.ghash=function(s){for(var l=-1;++l<s.length;)this.state[l]^=s[l];this._multiply()},o.prototype._multiply=function(){for(var s=a(this.h),l=[0,0,0,0],c,u,h,f=-1;++f<128;){for(u=(this.state[~~(f/8)]&1<<7-f%8)!==0,u&&(l[0]^=s[0],l[1]^=s[1],l[2]^=s[2],l[3]^=s[3]),h=(s[3]&1)!==0,c=3;c>0;c--)s[c]=s[c]>>>1|(s[c-1]&1)<<31;s[0]=s[0]>>>1,h&&(s[0]=s[0]^225<<24)}this.state=r(l)},o.prototype.update=function(s){this.cache=t.concat([this.cache,s]);for(var l;this.cache.length>=16;)l=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(l)},o.prototype.final=function(s,l){return this.cache.length&&this.ghash(t.concat([this.cache,e],16)),this.ghash(r([0,s,0,l])),this.state},ghash=o,ghash}var authCipher,hasRequiredAuthCipher;function requireAuthCipher(){if(hasRequiredAuthCipher)return authCipher;hasRequiredAuthCipher=1;var t=requireAes$1(),e=requireSafeBuffer$2().Buffer,a=requireCipherBase(),r=requireInherits_browser(),o=requireGhash(),s=requireBufferXor(),l=requireIncr32();function c(f,m){var g=0;f.length!==m.length&&g++;for(var b=Math.min(f.length,m.length),w=0;w<b;++w)g+=f[w]^m[w];return g}function u(f,m,g){if(m.length===12)return f._finID=e.concat([m,e.from([0,0,0,1])]),e.concat([m,e.from([0,0,0,2])]);var b=new o(g),w=m.length,E=w%16;b.update(m),E&&(E=16-E,b.update(e.alloc(E,0))),b.update(e.alloc(8,0));var C=w*8,B=e.alloc(8);B.writeUIntBE(C,0,8),b.update(B),f._finID=b.state;var O=e.from(f._finID);return l(O),O}function h(f,m,g,b){a.call(this);var w=e.alloc(4,0);this._cipher=new t.AES(m);var E=this._cipher.encryptBlock(w);this._ghash=new o(E),g=u(this,g,E),this._prev=e.from(g),this._cache=e.allocUnsafe(0),this._secCache=e.allocUnsafe(0),this._decrypt=b,this._alen=0,this._len=0,this._mode=f,this._authTag=null,this._called=!1}return r(h,a),h.prototype._update=function(f){if(!this._called&&this._alen){var m=16-this._alen%16;m<16&&(m=e.alloc(m,0),this._ghash.update(m))}this._called=!0;var g=this._mode.encrypt(this,f);return this._decrypt?this._ghash.update(f):this._ghash.update(g),this._len+=f.length,g},h.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var f=s(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&c(f,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=f,this._cipher.scrub()},h.prototype.getAuthTag=function(){if(this._decrypt||!e.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},h.prototype.setAuthTag=function(m){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=m},h.prototype.setAAD=function(m){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(m),this._alen+=m.length},authCipher=h,authCipher}var streamCipher,hasRequiredStreamCipher;function requireStreamCipher(){if(hasRequiredStreamCipher)return streamCipher;hasRequiredStreamCipher=1;var t=requireAes$1(),e=requireSafeBuffer$2().Buffer,a=requireCipherBase(),r=requireInherits_browser();function o(s,l,c,u){a.call(this),this._cipher=new t.AES(l),this._prev=e.from(c),this._cache=e.allocUnsafe(0),this._secCache=e.allocUnsafe(0),this._decrypt=u,this._mode=s}return r(o,a),o.prototype._update=function(s){return this._mode.encrypt(this,s,this._decrypt)},o.prototype._final=function(){this._cipher.scrub()},streamCipher=o,streamCipher}var evp_bytestokey,hasRequiredEvp_bytestokey;function requireEvp_bytestokey(){if(hasRequiredEvp_bytestokey)return evp_bytestokey;hasRequiredEvp_bytestokey=1;var t=requireSafeBuffer$2().Buffer,e=requireMd5_js();function a(r,o,s,l){if(t.isBuffer(r)||(r=t.from(r,"binary")),o&&(t.isBuffer(o)||(o=t.from(o,"binary")),o.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var c=s/8,u=t.alloc(c),h=t.alloc(l||0),f=t.alloc(0);c>0||l>0;){var m=new e;m.update(f),m.update(r),o&&m.update(o),f=m.digest();var g=0;if(c>0){var b=u.length-c;g=Math.min(c,f.length),f.copy(u,b,0,g),c-=g}if(g<f.length&&l>0){var w=h.length-l,E=Math.min(l,f.length-g);f.copy(h,w,g,g+E),l-=E}}return f.fill(0),{key:u,iv:h}}return evp_bytestokey=a,evp_bytestokey}var hasRequiredEncrypter;function requireEncrypter(){if(hasRequiredEncrypter)return encrypter;hasRequiredEncrypter=1;var t=requireModes$1(),e=requireAuthCipher(),a=requireSafeBuffer$2().Buffer,r=requireStreamCipher(),o=requireCipherBase(),s=requireAes$1(),l=requireEvp_bytestokey(),c=requireInherits_browser();function u(b,w,E){o.call(this),this._cache=new f,this._cipher=new s.AES(w),this._prev=a.from(E),this._mode=b,this._autopadding=!0}c(u,o),u.prototype._update=function(b){this._cache.add(b);for(var w,E,C=[];w=this._cache.get();)E=this._mode.encrypt(this,w),C.push(E);return a.concat(C)};var h=a.alloc(16,16);u.prototype._final=function(){var b=this._cache.flush();if(this._autopadding)return b=this._mode.encrypt(this,b),this._cipher.scrub(),b;if(!b.equals(h))throw this._cipher.scrub(),new Error("data not multiple of block length")},u.prototype.setAutoPadding=function(b){return this._autopadding=!!b,this};function f(){this.cache=a.allocUnsafe(0)}f.prototype.add=function(b){this.cache=a.concat([this.cache,b])},f.prototype.get=function(){if(this.cache.length>15){var b=this.cache.slice(0,16);return this.cache=this.cache.slice(16),b}return null},f.prototype.flush=function(){for(var b=16-this.cache.length,w=a.allocUnsafe(b),E=-1;++E<b;)w.writeUInt8(b,E);return a.concat([this.cache,w])};function m(b,w,E){var C=t[b.toLowerCase()];if(!C)throw new TypeError("invalid suite type");if(typeof w=="string"&&(w=a.from(w)),w.length!==C.key/8)throw new TypeError("invalid key length "+w.length);if(typeof E=="string"&&(E=a.from(E)),C.mode!=="GCM"&&E.length!==C.iv)throw new TypeError("invalid iv length "+E.length);return C.type==="stream"?new r(C.module,w,E):C.type==="auth"?new e(C.module,w,E):new u(C.module,w,E)}function g(b,w){var E=t[b.toLowerCase()];if(!E)throw new TypeError("invalid suite type");var C=l(w,!1,E.key,E.iv);return m(b,C.key,C.iv)}return encrypter.createCipheriv=m,encrypter.createCipher=g,encrypter}var decrypter={},hasRequiredDecrypter;function requireDecrypter(){if(hasRequiredDecrypter)return decrypter;hasRequiredDecrypter=1;var t=requireAuthCipher(),e=requireSafeBuffer$2().Buffer,a=requireModes$1(),r=requireStreamCipher(),o=requireCipherBase(),s=requireAes$1(),l=requireEvp_bytestokey(),c=requireInherits_browser();function u(b,w,E){o.call(this),this._cache=new h,this._last=void 0,this._cipher=new s.AES(w),this._prev=e.from(E),this._mode=b,this._autopadding=!0}c(u,o),u.prototype._update=function(b){this._cache.add(b);for(var w,E,C=[];w=this._cache.get(this._autopadding);)E=this._mode.decrypt(this,w),C.push(E);return e.concat(C)},u.prototype._final=function(){var b=this._cache.flush();if(this._autopadding)return f(this._mode.decrypt(this,b));if(b)throw new Error("data not multiple of block length")},u.prototype.setAutoPadding=function(b){return this._autopadding=!!b,this};function h(){this.cache=e.allocUnsafe(0)}h.prototype.add=function(b){this.cache=e.concat([this.cache,b])},h.prototype.get=function(b){var w;if(b){if(this.cache.length>16)return w=this.cache.slice(0,16),this.cache=this.cache.slice(16),w}else if(this.cache.length>=16)return w=this.cache.slice(0,16),this.cache=this.cache.slice(16),w;return null},h.prototype.flush=function(){if(this.cache.length)return this.cache};function f(b){var w=b[15];if(w<1||w>16)throw new Error("unable to decrypt data");for(var E=-1;++E<w;)if(b[E+(16-w)]!==w)throw new Error("unable to decrypt data");if(w!==16)return b.slice(0,16-w)}function m(b,w,E){var C=a[b.toLowerCase()];if(!C)throw new TypeError("invalid suite type");if(typeof E=="string"&&(E=e.from(E)),C.mode!=="GCM"&&E.length!==C.iv)throw new TypeError("invalid iv length "+E.length);if(typeof w=="string"&&(w=e.from(w)),w.length!==C.key/8)throw new TypeError("invalid key length "+w.length);return C.type==="stream"?new r(C.module,w,E,!0):C.type==="auth"?new t(C.module,w,E,!0):new u(C.module,w,E)}function g(b,w){var E=a[b.toLowerCase()];if(!E)throw new TypeError("invalid suite type");var C=l(w,!1,E.key,E.iv);return m(b,C.key,C.iv)}return decrypter.createDecipher=g,decrypter.createDecipheriv=m,decrypter}var hasRequiredBrowser$6;function requireBrowser$6(){if(hasRequiredBrowser$6)return browser$5;hasRequiredBrowser$6=1;var t=requireEncrypter(),e=requireDecrypter(),a=require$$2$2;function r(){return Object.keys(a)}return browser$5.createCipher=browser$5.Cipher=t.createCipher,browser$5.createCipheriv=browser$5.Cipheriv=t.createCipheriv,browser$5.createDecipher=browser$5.Decipher=e.createDecipher,browser$5.createDecipheriv=browser$5.Decipheriv=e.createDecipheriv,browser$5.listCiphers=browser$5.getCiphers=r,browser$5}var modes={},hasRequiredModes;function requireModes(){return hasRequiredModes||(hasRequiredModes=1,(function(t){t["des-ecb"]={key:8,iv:0},t["des-cbc"]=t.des={key:8,iv:8},t["des-ede3-cbc"]=t.des3={key:24,iv:8},t["des-ede3"]={key:24,iv:0},t["des-ede-cbc"]={key:16,iv:8},t["des-ede"]={key:16,iv:0}})(modes)),modes}var hasRequiredBrowser$5;function requireBrowser$5(){if(hasRequiredBrowser$5)return browser$6;hasRequiredBrowser$5=1;var t=requireBrowserifyDes(),e=requireBrowser$6(),a=requireModes$1(),r=requireModes(),o=requireEvp_bytestokey();function s(f,m){f=f.toLowerCase();var g,b;if(a[f])g=a[f].key,b=a[f].iv;else if(r[f])g=r[f].key*8,b=r[f].iv;else throw new TypeError("invalid suite type");var w=o(m,!1,g,b);return c(f,w.key,w.iv)}function l(f,m){f=f.toLowerCase();var g,b;if(a[f])g=a[f].key,b=a[f].iv;else if(r[f])g=r[f].key*8,b=r[f].iv;else throw new TypeError("invalid suite type");var w=o(m,!1,g,b);return u(f,w.key,w.iv)}function c(f,m,g){if(f=f.toLowerCase(),a[f])return e.createCipheriv(f,m,g);if(r[f])return new t({key:m,iv:g,mode:f});throw new TypeError("invalid suite type")}function u(f,m,g){if(f=f.toLowerCase(),a[f])return e.createDecipheriv(f,m,g);if(r[f])return new t({key:m,iv:g,mode:f,decrypt:!0});throw new TypeError("invalid suite type")}function h(){return Object.keys(r).concat(e.getCiphers())}return browser$6.createCipher=browser$6.Cipher=s,browser$6.createCipheriv=browser$6.Cipheriv=c,browser$6.createDecipher=browser$6.Decipher=l,browser$6.createDecipheriv=browser$6.Decipheriv=u,browser$6.listCiphers=browser$6.getCiphers=h,browser$6}var browser$4={},bn$5={exports:{}},bn$4=bn$5.exports,hasRequiredBn$2;function requireBn$2(){return hasRequiredBn$2||(hasRequiredBn$2=1,(function(t){(function(e,a){function r(G,D){if(!G)throw new Error(D||"Assertion failed")}function o(G,D){G.super_=D;var M=function(){};M.prototype=D.prototype,G.prototype=new M,G.prototype.constructor=G}function s(G,D,M){if(s.isBN(G))return G;this.negative=0,this.words=null,this.length=0,this.red=null,G!==null&&((D==="le"||D==="be")&&(M=D,D=10),this._init(G||0,D||10,M||"be"))}typeof e=="object"?e.exports=s:a.BN=s,s.BN=s,s.wordSize=26;var l;try{typeof window<"u"&&typeof window.Buffer<"u"?l=window.Buffer:l=requireDist().Buffer}catch{}s.isBN=function(D){return D instanceof s?!0:D!==null&&typeof D=="object"&&D.constructor.wordSize===s.wordSize&&Array.isArray(D.words)},s.max=function(D,M){return D.cmp(M)>0?D:M},s.min=function(D,M){return D.cmp(M)<0?D:M},s.prototype._init=function(D,M,v){if(typeof D=="number")return this._initNumber(D,M,v);if(typeof D=="object")return this._initArray(D,M,v);M==="hex"&&(M=16),r(M===(M|0)&&M>=2&&M<=36),D=D.toString().replace(/\s+/g,"");var S=0;D[0]==="-"&&(S++,this.negative=1),S<D.length&&(M===16?this._parseHex(D,S,v):(this._parseBase(D,M,S),v==="le"&&this._initArray(this.toArray(),M,v)))},s.prototype._initNumber=function(D,M,v){D<0&&(this.negative=1,D=-D),D<67108864?(this.words=[D&67108863],this.length=1):D<4503599627370496?(this.words=[D&67108863,D/67108864&67108863],this.length=2):(r(D<9007199254740992),this.words=[D&67108863,D/67108864&67108863,1],this.length=3),v==="le"&&this._initArray(this.toArray(),M,v)},s.prototype._initArray=function(D,M,v){if(r(typeof D.length=="number"),D.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(D.length/3),this.words=new Array(this.length);for(var S=0;S<this.length;S++)this.words[S]=0;var N,R,k=0;if(v==="be")for(S=D.length-1,N=0;S>=0;S-=3)R=D[S]|D[S-1]<<8|D[S-2]<<16,this.words[N]|=R<<k&67108863,this.words[N+1]=R>>>26-k&67108863,k+=24,k>=26&&(k-=26,N++);else if(v==="le")for(S=0,N=0;S<D.length;S+=3)R=D[S]|D[S+1]<<8|D[S+2]<<16,this.words[N]|=R<<k&67108863,this.words[N+1]=R>>>26-k&67108863,k+=24,k>=26&&(k-=26,N++);return this.strip()};function c(G,D){var M=G.charCodeAt(D);return M>=65&&M<=70?M-55:M>=97&&M<=102?M-87:M-48&15}function u(G,D,M){var v=c(G,M);return M-1>=D&&(v|=c(G,M-1)<<4),v}s.prototype._parseHex=function(D,M,v){this.length=Math.ceil((D.length-M)/6),this.words=new Array(this.length);for(var S=0;S<this.length;S++)this.words[S]=0;var N=0,R=0,k;if(v==="be")for(S=D.length-1;S>=M;S-=2)k=u(D,M,S)<<N,this.words[R]|=k&67108863,N>=18?(N-=18,R+=1,this.words[R]|=k>>>26):N+=8;else{var j=D.length-M;for(S=j%2===0?M+1:M;S<D.length;S+=2)k=u(D,M,S)<<N,this.words[R]|=k&67108863,N>=18?(N-=18,R+=1,this.words[R]|=k>>>26):N+=8}this.strip()};function h(G,D,M,v){for(var S=0,N=Math.min(G.length,M),R=D;R<N;R++){var k=G.charCodeAt(R)-48;S*=v,k>=49?S+=k-49+10:k>=17?S+=k-17+10:S+=k}return S}s.prototype._parseBase=function(D,M,v){this.words=[0],this.length=1;for(var S=0,N=1;N<=67108863;N*=M)S++;S--,N=N/M|0;for(var R=D.length-v,k=R%S,j=Math.min(R,R-k)+v,I=0,A=v;A<j;A+=S)I=h(D,A,A+S,M),this.imuln(N),this.words[0]+I<67108864?this.words[0]+=I:this._iaddn(I);if(k!==0){var $=1;for(I=h(D,A,D.length,M),A=0;A<k;A++)$*=M;this.imuln($),this.words[0]+I<67108864?this.words[0]+=I:this._iaddn(I)}this.strip()},s.prototype.copy=function(D){D.words=new Array(this.length);for(var M=0;M<this.length;M++)D.words[M]=this.words[M];D.length=this.length,D.negative=this.negative,D.red=this.red},s.prototype.clone=function(){var D=new s(null);return this.copy(D),D},s.prototype._expand=function(D){for(;this.length<D;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(D,M){D=D||10,M=M|0||1;var v;if(D===16||D==="hex"){v="";for(var S=0,N=0,R=0;R<this.length;R++){var k=this.words[R],j=((k<<S|N)&16777215).toString(16);N=k>>>24-S&16777215,S+=2,S>=26&&(S-=26,R--),N!==0||R!==this.length-1?v=f[6-j.length]+j+v:v=j+v}for(N!==0&&(v=N.toString(16)+v);v.length%M!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}if(D===(D|0)&&D>=2&&D<=36){var I=m[D],A=g[D];v="";var $=this.clone();for($.negative=0;!$.isZero();){var L=$.modn(A).toString(D);$=$.idivn(A),$.isZero()?v=L+v:v=f[I-L.length]+L+v}for(this.isZero()&&(v="0"+v);v.length%M!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var D=this.words[0];return this.length===2?D+=this.words[1]*67108864:this.length===3&&this.words[2]===1?D+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-D:D},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(D,M){return r(typeof l<"u"),this.toArrayLike(l,D,M)},s.prototype.toArray=function(D,M){return this.toArrayLike(Array,D,M)},s.prototype.toArrayLike=function(D,M,v){var S=this.byteLength(),N=v||Math.max(1,S);r(S<=N,"byte array longer than desired length"),r(N>0,"Requested array length <= 0"),this.strip();var R=M==="le",k=new D(N),j,I,A=this.clone();if(R){for(I=0;!A.isZero();I++)j=A.andln(255),A.iushrn(8),k[I]=j;for(;I<N;I++)k[I]=0}else{for(I=0;I<N-S;I++)k[I]=0;for(I=0;!A.isZero();I++)j=A.andln(255),A.iushrn(8),k[N-I-1]=j}return k},Math.clz32?s.prototype._countBits=function(D){return 32-Math.clz32(D)}:s.prototype._countBits=function(D){var M=D,v=0;return M>=4096&&(v+=13,M>>>=13),M>=64&&(v+=7,M>>>=7),M>=8&&(v+=4,M>>>=4),M>=2&&(v+=2,M>>>=2),v+M},s.prototype._zeroBits=function(D){if(D===0)return 26;var M=D,v=0;return(M&8191)===0&&(v+=13,M>>>=13),(M&127)===0&&(v+=7,M>>>=7),(M&15)===0&&(v+=4,M>>>=4),(M&3)===0&&(v+=2,M>>>=2),(M&1)===0&&v++,v},s.prototype.bitLength=function(){var D=this.words[this.length-1],M=this._countBits(D);return(this.length-1)*26+M};function b(G){for(var D=new Array(G.bitLength()),M=0;M<D.length;M++){var v=M/26|0,S=M%26;D[M]=(G.words[v]&1<<S)>>>S}return D}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var D=0,M=0;M<this.length;M++){var v=this._zeroBits(this.words[M]);if(D+=v,v!==26)break}return D},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(D){return this.negative!==0?this.abs().inotn(D).iaddn(1):this.clone()},s.prototype.fromTwos=function(D){return this.testn(D-1)?this.notn(D).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(D){for(;this.length<D.length;)this.words[this.length++]=0;for(var M=0;M<D.length;M++)this.words[M]=this.words[M]|D.words[M];return this.strip()},s.prototype.ior=function(D){return r((this.negative|D.negative)===0),this.iuor(D)},s.prototype.or=function(D){return this.length>D.length?this.clone().ior(D):D.clone().ior(this)},s.prototype.uor=function(D){return this.length>D.length?this.clone().iuor(D):D.clone().iuor(this)},s.prototype.iuand=function(D){var M;this.length>D.length?M=D:M=this;for(var v=0;v<M.length;v++)this.words[v]=this.words[v]&D.words[v];return this.length=M.length,this.strip()},s.prototype.iand=function(D){return r((this.negative|D.negative)===0),this.iuand(D)},s.prototype.and=function(D){return this.length>D.length?this.clone().iand(D):D.clone().iand(this)},s.prototype.uand=function(D){return this.length>D.length?this.clone().iuand(D):D.clone().iuand(this)},s.prototype.iuxor=function(D){var M,v;this.length>D.length?(M=this,v=D):(M=D,v=this);for(var S=0;S<v.length;S++)this.words[S]=M.words[S]^v.words[S];if(this!==M)for(;S<M.length;S++)this.words[S]=M.words[S];return this.length=M.length,this.strip()},s.prototype.ixor=function(D){return r((this.negative|D.negative)===0),this.iuxor(D)},s.prototype.xor=function(D){return this.length>D.length?this.clone().ixor(D):D.clone().ixor(this)},s.prototype.uxor=function(D){return this.length>D.length?this.clone().iuxor(D):D.clone().iuxor(this)},s.prototype.inotn=function(D){r(typeof D=="number"&&D>=0);var M=Math.ceil(D/26)|0,v=D%26;this._expand(M),v>0&&M--;for(var S=0;S<M;S++)this.words[S]=~this.words[S]&67108863;return v>0&&(this.words[S]=~this.words[S]&67108863>>26-v),this.strip()},s.prototype.notn=function(D){return this.clone().inotn(D)},s.prototype.setn=function(D,M){r(typeof D=="number"&&D>=0);var v=D/26|0,S=D%26;return this._expand(v+1),M?this.words[v]=this.words[v]|1<<S:this.words[v]=this.words[v]&~(1<<S),this.strip()},s.prototype.iadd=function(D){var M;if(this.negative!==0&&D.negative===0)return this.negative=0,M=this.isub(D),this.negative^=1,this._normSign();if(this.negative===0&&D.negative!==0)return D.negative=0,M=this.isub(D),D.negative=1,M._normSign();var v,S;this.length>D.length?(v=this,S=D):(v=D,S=this);for(var N=0,R=0;R<S.length;R++)M=(v.words[R]|0)+(S.words[R]|0)+N,this.words[R]=M&67108863,N=M>>>26;for(;N!==0&&R<v.length;R++)M=(v.words[R]|0)+N,this.words[R]=M&67108863,N=M>>>26;if(this.length=v.length,N!==0)this.words[this.length]=N,this.length++;else if(v!==this)for(;R<v.length;R++)this.words[R]=v.words[R];return this},s.prototype.add=function(D){var M;return D.negative!==0&&this.negative===0?(D.negative=0,M=this.sub(D),D.negative^=1,M):D.negative===0&&this.negative!==0?(this.negative=0,M=D.sub(this),this.negative=1,M):this.length>D.length?this.clone().iadd(D):D.clone().iadd(this)},s.prototype.isub=function(D){if(D.negative!==0){D.negative=0;var M=this.iadd(D);return D.negative=1,M._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(D),this.negative=1,this._normSign();var v=this.cmp(D);if(v===0)return this.negative=0,this.length=1,this.words[0]=0,this;var S,N;v>0?(S=this,N=D):(S=D,N=this);for(var R=0,k=0;k<N.length;k++)M=(S.words[k]|0)-(N.words[k]|0)+R,R=M>>26,this.words[k]=M&67108863;for(;R!==0&&k<S.length;k++)M=(S.words[k]|0)+R,R=M>>26,this.words[k]=M&67108863;if(R===0&&k<S.length&&S!==this)for(;k<S.length;k++)this.words[k]=S.words[k];return this.length=Math.max(this.length,k),S!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(D){return this.clone().isub(D)};function w(G,D,M){M.negative=D.negative^G.negative;var v=G.length+D.length|0;M.length=v,v=v-1|0;var S=G.words[0]|0,N=D.words[0]|0,R=S*N,k=R&67108863,j=R/67108864|0;M.words[0]=k;for(var I=1;I<v;I++){for(var A=j>>>26,$=j&67108863,L=Math.min(I,D.length-1),Y=Math.max(0,I-G.length+1);Y<=L;Y++){var le=I-Y|0;S=G.words[le]|0,N=D.words[Y]|0,R=S*N+$,A+=R/67108864|0,$=R&67108863}M.words[I]=$|0,j=A|0}return j!==0?M.words[I]=j|0:M.length--,M.strip()}var E=function(D,M,v){var S=D.words,N=M.words,R=v.words,k=0,j,I,A,$=S[0]|0,L=$&8191,Y=$>>>13,le=S[1]|0,re=le&8191,U=le>>>13,K=S[2]|0,se=K&8191,he=K>>>13,ue=S[3]|0,ee=ue&8191,fe=ue>>>13,ge=S[4]|0,xe=ge&8191,_e=ge>>>13,Ie=S[5]|0,De=Ie&8191,$e=Ie>>>13,Ue=S[6]|0,Be=Ue&8191,Ve=Ue>>>13,He=S[7]|0,Ae=He&8191,Ce=He>>>13,Te=S[8]|0,ye=Te&8191,Fe=Te>>>13,qe=S[9]|0,oe=qe&8191,Q=qe>>>13,ie=N[0]|0,pe=ie&8191,be=ie>>>13,we=N[1]|0,Re=we&8191,Ge=we>>>13,Ye=N[2]|0,Je=Ye&8191,st=Ye>>>13,et=N[3]|0,tt=et&8191,mt=et>>>13,ut=N[4]|0,nt=ut&8191,yt=ut>>>13,ft=N[5]|0,de=ft&8191,ne=ft>>>13,ae=N[6]|0,ve=ae&8191,Ee=ae>>>13,Me=N[7]|0,Ne=Me&8191,it=Me>>>13,at=N[8]|0,Xe=at&8191,ct=at>>>13,Qe=N[9]|0,rt=Qe&8191,Rt=Qe>>>13;v.negative=D.negative^M.negative,v.length=19,j=Math.imul(L,pe),I=Math.imul(L,be),I=I+Math.imul(Y,pe)|0,A=Math.imul(Y,be);var pt=(k+j|0)+((I&8191)<<13)|0;k=(A+(I>>>13)|0)+(pt>>>26)|0,pt&=67108863,j=Math.imul(re,pe),I=Math.imul(re,be),I=I+Math.imul(U,pe)|0,A=Math.imul(U,be),j=j+Math.imul(L,Re)|0,I=I+Math.imul(L,Ge)|0,I=I+Math.imul(Y,Re)|0,A=A+Math.imul(Y,Ge)|0;var gt=(k+j|0)+((I&8191)<<13)|0;k=(A+(I>>>13)|0)+(gt>>>26)|0,gt&=67108863,j=Math.imul(se,pe),I=Math.imul(se,be),I=I+Math.imul(he,pe)|0,A=Math.imul(he,be),j=j+Math.imul(re,Re)|0,I=I+Math.imul(re,Ge)|0,I=I+Math.imul(U,Re)|0,A=A+Math.imul(U,Ge)|0,j=j+Math.imul(L,Je)|0,I=I+Math.imul(L,st)|0,I=I+Math.imul(Y,Je)|0,A=A+Math.imul(Y,st)|0;var br=(k+j|0)+((I&8191)<<13)|0;k=(A+(I>>>13)|0)+(br>>>26)|0,br&=67108863,j=Math.imul(ee,pe),I=Math.imul(ee,be),I=I+Math.imul(fe,pe)|0,A=Math.imul(fe,be),j=j+Math.imul(se,Re)|0,I=I+Math.imul(se,Ge)|0,I=I+Math.imul(he,Re)|0,A=A+Math.imul(he,Ge)|0,j=j+Math.imul(re,Je)|0,I=I+Math.imul(re,st)|0,I=I+Math.imul(U,Je)|0,A=A+Math.imul(U,st)|0,j=j+Math.imul(L,tt)|0,I=I+Math.imul(L,mt)|0,I=I+Math.imul(Y,tt)|0,A=A+Math.imul(Y,mt)|0;var lr=(k+j|0)+((I&8191)<<13)|0;k=(A+(I>>>13)|0)+(lr>>>26)|0,lr&=67108863,j=Math.imul(xe,pe),I=Math.imul(xe,be),I=I+Math.imul(_e,pe)|0,A=Math.imul(_e,be),j=j+Math.imul(ee,Re)|0,I=I+Math.imul(ee,Ge)|0,I=I+Math.imul(fe,Re)|0,A=A+Math.imul(fe,Ge)|0,j=j+Math.imul(se,Je)|0,I=I+Math.imul(se,st)|0,I=I+Math.imul(he,Je)|0,A=A+Math.imul(he,st)|0,j=j+Math.imul(re,tt)|0,I=I+Math.imul(re,mt)|0,I=I+Math.imul(U,tt)|0,A=A+Math.imul(U,mt)|0,j=j+Math.imul(L,nt)|0,I=I+Math.imul(L,yt)|0,I=I+Math.imul(Y,nt)|0,A=A+Math.imul(Y,yt)|0;var er=(k+j|0)+((I&8191)<<13)|0;k=(A+(I>>>13)|0)+(er>>>26)|0,er&=67108863,j=Math.imul(De,pe),I=Math.imul(De,be),I=I+Math.imul($e,pe)|0,A=Math.imul($e,be),j=j+Math.imul(xe,Re)|0,I=I+Math.imul(xe,Ge)|0,I=I+Math.imul(_e,Re)|0,A=A+Math.imul(_e,Ge)|0,j=j+Math.imul(ee,Je)|0,I=I+Math.imul(ee,st)|0,I=I+Math.imul(fe,Je)|0,A=A+Math.imul(fe,st)|0,j=j+Math.imul(se,tt)|0,I=I+Math.imul(se,mt)|0,I=I+Math.imul(he,tt)|0,A=A+Math.imul(he,mt)|0,j=j+Math.imul(re,nt)|0,I=I+Math.imul(re,yt)|0,I=I+Math.imul(U,nt)|0,A=A+Math.imul(U,yt)|0,j=j+Math.imul(L,de)|0,I=I+Math.imul(L,ne)|0,I=I+Math.imul(Y,de)|0,A=A+Math.imul(Y,ne)|0;var or=(k+j|0)+((I&8191)<<13)|0;k=(A+(I>>>13)|0)+(or>>>26)|0,or&=67108863,j=Math.imul(Be,pe),I=Math.imul(Be,be),I=I+Math.imul(Ve,pe)|0,A=Math.imul(Ve,be),j=j+Math.imul(De,Re)|0,I=I+Math.imul(De,Ge)|0,I=I+Math.imul($e,Re)|0,A=A+Math.imul($e,Ge)|0,j=j+Math.imul(xe,Je)|0,I=I+Math.imul(xe,st)|0,I=I+Math.imul(_e,Je)|0,A=A+Math.imul(_e,st)|0,j=j+Math.imul(ee,tt)|0,I=I+Math.imul(ee,mt)|0,I=I+Math.imul(fe,tt)|0,A=A+Math.imul(fe,mt)|0,j=j+Math.imul(se,nt)|0,I=I+Math.imul(se,yt)|0,I=I+Math.imul(he,nt)|0,A=A+Math.imul(he,yt)|0,j=j+Math.imul(re,de)|0,I=I+Math.imul(re,ne)|0,I=I+Math.imul(U,de)|0,A=A+Math.imul(U,ne)|0,j=j+Math.imul(L,ve)|0,I=I+Math.imul(L,Ee)|0,I=I+Math.imul(Y,ve)|0,A=A+Math.imul(Y,Ee)|0;var Zt=(k+j|0)+((I&8191)<<13)|0;k=(A+(I>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,j=Math.imul(Ae,pe),I=Math.imul(Ae,be),I=I+Math.imul(Ce,pe)|0,A=Math.imul(Ce,be),j=j+Math.imul(Be,Re)|0,I=I+Math.imul(Be,Ge)|0,I=I+Math.imul(Ve,Re)|0,A=A+Math.imul(Ve,Ge)|0,j=j+Math.imul(De,Je)|0,I=I+Math.imul(De,st)|0,I=I+Math.imul($e,Je)|0,A=A+Math.imul($e,st)|0,j=j+Math.imul(xe,tt)|0,I=I+Math.imul(xe,mt)|0,I=I+Math.imul(_e,tt)|0,A=A+Math.imul(_e,mt)|0,j=j+Math.imul(ee,nt)|0,I=I+Math.imul(ee,yt)|0,I=I+Math.imul(fe,nt)|0,A=A+Math.imul(fe,yt)|0,j=j+Math.imul(se,de)|0,I=I+Math.imul(se,ne)|0,I=I+Math.imul(he,de)|0,A=A+Math.imul(he,ne)|0,j=j+Math.imul(re,ve)|0,I=I+Math.imul(re,Ee)|0,I=I+Math.imul(U,ve)|0,A=A+Math.imul(U,Ee)|0,j=j+Math.imul(L,Ne)|0,I=I+Math.imul(L,it)|0,I=I+Math.imul(Y,Ne)|0,A=A+Math.imul(Y,it)|0;var Yt=(k+j|0)+((I&8191)<<13)|0;k=(A+(I>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,j=Math.imul(ye,pe),I=Math.imul(ye,be),I=I+Math.imul(Fe,pe)|0,A=Math.imul(Fe,be),j=j+Math.imul(Ae,Re)|0,I=I+Math.imul(Ae,Ge)|0,I=I+Math.imul(Ce,Re)|0,A=A+Math.imul(Ce,Ge)|0,j=j+Math.imul(Be,Je)|0,I=I+Math.imul(Be,st)|0,I=I+Math.imul(Ve,Je)|0,A=A+Math.imul(Ve,st)|0,j=j+Math.imul(De,tt)|0,I=I+Math.imul(De,mt)|0,I=I+Math.imul($e,tt)|0,A=A+Math.imul($e,mt)|0,j=j+Math.imul(xe,nt)|0,I=I+Math.imul(xe,yt)|0,I=I+Math.imul(_e,nt)|0,A=A+Math.imul(_e,yt)|0,j=j+Math.imul(ee,de)|0,I=I+Math.imul(ee,ne)|0,I=I+Math.imul(fe,de)|0,A=A+Math.imul(fe,ne)|0,j=j+Math.imul(se,ve)|0,I=I+Math.imul(se,Ee)|0,I=I+Math.imul(he,ve)|0,A=A+Math.imul(he,Ee)|0,j=j+Math.imul(re,Ne)|0,I=I+Math.imul(re,it)|0,I=I+Math.imul(U,Ne)|0,A=A+Math.imul(U,it)|0,j=j+Math.imul(L,Xe)|0,I=I+Math.imul(L,ct)|0,I=I+Math.imul(Y,Xe)|0,A=A+Math.imul(Y,ct)|0;var tr=(k+j|0)+((I&8191)<<13)|0;k=(A+(I>>>13)|0)+(tr>>>26)|0,tr&=67108863,j=Math.imul(oe,pe),I=Math.imul(oe,be),I=I+Math.imul(Q,pe)|0,A=Math.imul(Q,be),j=j+Math.imul(ye,Re)|0,I=I+Math.imul(ye,Ge)|0,I=I+Math.imul(Fe,Re)|0,A=A+Math.imul(Fe,Ge)|0,j=j+Math.imul(Ae,Je)|0,I=I+Math.imul(Ae,st)|0,I=I+Math.imul(Ce,Je)|0,A=A+Math.imul(Ce,st)|0,j=j+Math.imul(Be,tt)|0,I=I+Math.imul(Be,mt)|0,I=I+Math.imul(Ve,tt)|0,A=A+Math.imul(Ve,mt)|0,j=j+Math.imul(De,nt)|0,I=I+Math.imul(De,yt)|0,I=I+Math.imul($e,nt)|0,A=A+Math.imul($e,yt)|0,j=j+Math.imul(xe,de)|0,I=I+Math.imul(xe,ne)|0,I=I+Math.imul(_e,de)|0,A=A+Math.imul(_e,ne)|0,j=j+Math.imul(ee,ve)|0,I=I+Math.imul(ee,Ee)|0,I=I+Math.imul(fe,ve)|0,A=A+Math.imul(fe,Ee)|0,j=j+Math.imul(se,Ne)|0,I=I+Math.imul(se,it)|0,I=I+Math.imul(he,Ne)|0,A=A+Math.imul(he,it)|0,j=j+Math.imul(re,Xe)|0,I=I+Math.imul(re,ct)|0,I=I+Math.imul(U,Xe)|0,A=A+Math.imul(U,ct)|0,j=j+Math.imul(L,rt)|0,I=I+Math.imul(L,Rt)|0,I=I+Math.imul(Y,rt)|0,A=A+Math.imul(Y,Rt)|0;var Jt=(k+j|0)+((I&8191)<<13)|0;k=(A+(I>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,j=Math.imul(oe,Re),I=Math.imul(oe,Ge),I=I+Math.imul(Q,Re)|0,A=Math.imul(Q,Ge),j=j+Math.imul(ye,Je)|0,I=I+Math.imul(ye,st)|0,I=I+Math.imul(Fe,Je)|0,A=A+Math.imul(Fe,st)|0,j=j+Math.imul(Ae,tt)|0,I=I+Math.imul(Ae,mt)|0,I=I+Math.imul(Ce,tt)|0,A=A+Math.imul(Ce,mt)|0,j=j+Math.imul(Be,nt)|0,I=I+Math.imul(Be,yt)|0,I=I+Math.imul(Ve,nt)|0,A=A+Math.imul(Ve,yt)|0,j=j+Math.imul(De,de)|0,I=I+Math.imul(De,ne)|0,I=I+Math.imul($e,de)|0,A=A+Math.imul($e,ne)|0,j=j+Math.imul(xe,ve)|0,I=I+Math.imul(xe,Ee)|0,I=I+Math.imul(_e,ve)|0,A=A+Math.imul(_e,Ee)|0,j=j+Math.imul(ee,Ne)|0,I=I+Math.imul(ee,it)|0,I=I+Math.imul(fe,Ne)|0,A=A+Math.imul(fe,it)|0,j=j+Math.imul(se,Xe)|0,I=I+Math.imul(se,ct)|0,I=I+Math.imul(he,Xe)|0,A=A+Math.imul(he,ct)|0,j=j+Math.imul(re,rt)|0,I=I+Math.imul(re,Rt)|0,I=I+Math.imul(U,rt)|0,A=A+Math.imul(U,Rt)|0;var kt=(k+j|0)+((I&8191)<<13)|0;k=(A+(I>>>13)|0)+(kt>>>26)|0,kt&=67108863,j=Math.imul(oe,Je),I=Math.imul(oe,st),I=I+Math.imul(Q,Je)|0,A=Math.imul(Q,st),j=j+Math.imul(ye,tt)|0,I=I+Math.imul(ye,mt)|0,I=I+Math.imul(Fe,tt)|0,A=A+Math.imul(Fe,mt)|0,j=j+Math.imul(Ae,nt)|0,I=I+Math.imul(Ae,yt)|0,I=I+Math.imul(Ce,nt)|0,A=A+Math.imul(Ce,yt)|0,j=j+Math.imul(Be,de)|0,I=I+Math.imul(Be,ne)|0,I=I+Math.imul(Ve,de)|0,A=A+Math.imul(Ve,ne)|0,j=j+Math.imul(De,ve)|0,I=I+Math.imul(De,Ee)|0,I=I+Math.imul($e,ve)|0,A=A+Math.imul($e,Ee)|0,j=j+Math.imul(xe,Ne)|0,I=I+Math.imul(xe,it)|0,I=I+Math.imul(_e,Ne)|0,A=A+Math.imul(_e,it)|0,j=j+Math.imul(ee,Xe)|0,I=I+Math.imul(ee,ct)|0,I=I+Math.imul(fe,Xe)|0,A=A+Math.imul(fe,ct)|0,j=j+Math.imul(se,rt)|0,I=I+Math.imul(se,Rt)|0,I=I+Math.imul(he,rt)|0,A=A+Math.imul(he,Rt)|0;var cr=(k+j|0)+((I&8191)<<13)|0;k=(A+(I>>>13)|0)+(cr>>>26)|0,cr&=67108863,j=Math.imul(oe,tt),I=Math.imul(oe,mt),I=I+Math.imul(Q,tt)|0,A=Math.imul(Q,mt),j=j+Math.imul(ye,nt)|0,I=I+Math.imul(ye,yt)|0,I=I+Math.imul(Fe,nt)|0,A=A+Math.imul(Fe,yt)|0,j=j+Math.imul(Ae,de)|0,I=I+Math.imul(Ae,ne)|0,I=I+Math.imul(Ce,de)|0,A=A+Math.imul(Ce,ne)|0,j=j+Math.imul(Be,ve)|0,I=I+Math.imul(Be,Ee)|0,I=I+Math.imul(Ve,ve)|0,A=A+Math.imul(Ve,Ee)|0,j=j+Math.imul(De,Ne)|0,I=I+Math.imul(De,it)|0,I=I+Math.imul($e,Ne)|0,A=A+Math.imul($e,it)|0,j=j+Math.imul(xe,Xe)|0,I=I+Math.imul(xe,ct)|0,I=I+Math.imul(_e,Xe)|0,A=A+Math.imul(_e,ct)|0,j=j+Math.imul(ee,rt)|0,I=I+Math.imul(ee,Rt)|0,I=I+Math.imul(fe,rt)|0,A=A+Math.imul(fe,Rt)|0;var ur=(k+j|0)+((I&8191)<<13)|0;k=(A+(I>>>13)|0)+(ur>>>26)|0,ur&=67108863,j=Math.imul(oe,nt),I=Math.imul(oe,yt),I=I+Math.imul(Q,nt)|0,A=Math.imul(Q,yt),j=j+Math.imul(ye,de)|0,I=I+Math.imul(ye,ne)|0,I=I+Math.imul(Fe,de)|0,A=A+Math.imul(Fe,ne)|0,j=j+Math.imul(Ae,ve)|0,I=I+Math.imul(Ae,Ee)|0,I=I+Math.imul(Ce,ve)|0,A=A+Math.imul(Ce,Ee)|0,j=j+Math.imul(Be,Ne)|0,I=I+Math.imul(Be,it)|0,I=I+Math.imul(Ve,Ne)|0,A=A+Math.imul(Ve,it)|0,j=j+Math.imul(De,Xe)|0,I=I+Math.imul(De,ct)|0,I=I+Math.imul($e,Xe)|0,A=A+Math.imul($e,ct)|0,j=j+Math.imul(xe,rt)|0,I=I+Math.imul(xe,Rt)|0,I=I+Math.imul(_e,rt)|0,A=A+Math.imul(_e,Rt)|0;var Gt=(k+j|0)+((I&8191)<<13)|0;k=(A+(I>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,j=Math.imul(oe,de),I=Math.imul(oe,ne),I=I+Math.imul(Q,de)|0,A=Math.imul(Q,ne),j=j+Math.imul(ye,ve)|0,I=I+Math.imul(ye,Ee)|0,I=I+Math.imul(Fe,ve)|0,A=A+Math.imul(Fe,Ee)|0,j=j+Math.imul(Ae,Ne)|0,I=I+Math.imul(Ae,it)|0,I=I+Math.imul(Ce,Ne)|0,A=A+Math.imul(Ce,it)|0,j=j+Math.imul(Be,Xe)|0,I=I+Math.imul(Be,ct)|0,I=I+Math.imul(Ve,Xe)|0,A=A+Math.imul(Ve,ct)|0,j=j+Math.imul(De,rt)|0,I=I+Math.imul(De,Rt)|0,I=I+Math.imul($e,rt)|0,A=A+Math.imul($e,Rt)|0;var Xt=(k+j|0)+((I&8191)<<13)|0;k=(A+(I>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,j=Math.imul(oe,ve),I=Math.imul(oe,Ee),I=I+Math.imul(Q,ve)|0,A=Math.imul(Q,Ee),j=j+Math.imul(ye,Ne)|0,I=I+Math.imul(ye,it)|0,I=I+Math.imul(Fe,Ne)|0,A=A+Math.imul(Fe,it)|0,j=j+Math.imul(Ae,Xe)|0,I=I+Math.imul(Ae,ct)|0,I=I+Math.imul(Ce,Xe)|0,A=A+Math.imul(Ce,ct)|0,j=j+Math.imul(Be,rt)|0,I=I+Math.imul(Be,Rt)|0,I=I+Math.imul(Ve,rt)|0,A=A+Math.imul(Ve,Rt)|0;var wr=(k+j|0)+((I&8191)<<13)|0;k=(A+(I>>>13)|0)+(wr>>>26)|0,wr&=67108863,j=Math.imul(oe,Ne),I=Math.imul(oe,it),I=I+Math.imul(Q,Ne)|0,A=Math.imul(Q,it),j=j+Math.imul(ye,Xe)|0,I=I+Math.imul(ye,ct)|0,I=I+Math.imul(Fe,Xe)|0,A=A+Math.imul(Fe,ct)|0,j=j+Math.imul(Ae,rt)|0,I=I+Math.imul(Ae,Rt)|0,I=I+Math.imul(Ce,rt)|0,A=A+Math.imul(Ce,Rt)|0;var dr=(k+j|0)+((I&8191)<<13)|0;k=(A+(I>>>13)|0)+(dr>>>26)|0,dr&=67108863,j=Math.imul(oe,Xe),I=Math.imul(oe,ct),I=I+Math.imul(Q,Xe)|0,A=Math.imul(Q,ct),j=j+Math.imul(ye,rt)|0,I=I+Math.imul(ye,Rt)|0,I=I+Math.imul(Fe,rt)|0,A=A+Math.imul(Fe,Rt)|0;var fr=(k+j|0)+((I&8191)<<13)|0;k=(A+(I>>>13)|0)+(fr>>>26)|0,fr&=67108863,j=Math.imul(oe,rt),I=Math.imul(oe,Rt),I=I+Math.imul(Q,rt)|0,A=Math.imul(Q,Rt);var _r=(k+j|0)+((I&8191)<<13)|0;return k=(A+(I>>>13)|0)+(_r>>>26)|0,_r&=67108863,R[0]=pt,R[1]=gt,R[2]=br,R[3]=lr,R[4]=er,R[5]=or,R[6]=Zt,R[7]=Yt,R[8]=tr,R[9]=Jt,R[10]=kt,R[11]=cr,R[12]=ur,R[13]=Gt,R[14]=Xt,R[15]=wr,R[16]=dr,R[17]=fr,R[18]=_r,k!==0&&(R[19]=k,v.length++),v};Math.imul||(E=w);function C(G,D,M){M.negative=D.negative^G.negative,M.length=G.length+D.length;for(var v=0,S=0,N=0;N<M.length-1;N++){var R=S;S=0;for(var k=v&67108863,j=Math.min(N,D.length-1),I=Math.max(0,N-G.length+1);I<=j;I++){var A=N-I,$=G.words[A]|0,L=D.words[I]|0,Y=$*L,le=Y&67108863;R=R+(Y/67108864|0)|0,le=le+k|0,k=le&67108863,R=R+(le>>>26)|0,S+=R>>>26,R&=67108863}M.words[N]=k,v=R,R=S}return v!==0?M.words[N]=v:M.length--,M.strip()}function B(G,D,M){var v=new O;return v.mulp(G,D,M)}s.prototype.mulTo=function(D,M){var v,S=this.length+D.length;return this.length===10&&D.length===10?v=E(this,D,M):S<63?v=w(this,D,M):S<1024?v=C(this,D,M):v=B(this,D,M),v};function O(G,D){this.x=G,this.y=D}O.prototype.makeRBT=function(D){for(var M=new Array(D),v=s.prototype._countBits(D)-1,S=0;S<D;S++)M[S]=this.revBin(S,v,D);return M},O.prototype.revBin=function(D,M,v){if(D===0||D===v-1)return D;for(var S=0,N=0;N<M;N++)S|=(D&1)<<M-N-1,D>>=1;return S},O.prototype.permute=function(D,M,v,S,N,R){for(var k=0;k<R;k++)S[k]=M[D[k]],N[k]=v[D[k]]},O.prototype.transform=function(D,M,v,S,N,R){this.permute(R,D,M,v,S,N);for(var k=1;k<N;k<<=1)for(var j=k<<1,I=Math.cos(2*Math.PI/j),A=Math.sin(2*Math.PI/j),$=0;$<N;$+=j)for(var L=I,Y=A,le=0;le<k;le++){var re=v[$+le],U=S[$+le],K=v[$+le+k],se=S[$+le+k],he=L*K-Y*se;se=L*se+Y*K,K=he,v[$+le]=re+K,S[$+le]=U+se,v[$+le+k]=re-K,S[$+le+k]=U-se,le!==j&&(he=I*L-A*Y,Y=I*Y+A*L,L=he)}},O.prototype.guessLen13b=function(D,M){var v=Math.max(M,D)|1,S=v&1,N=0;for(v=v/2|0;v;v=v>>>1)N++;return 1<<N+1+S},O.prototype.conjugate=function(D,M,v){if(!(v<=1))for(var S=0;S<v/2;S++){var N=D[S];D[S]=D[v-S-1],D[v-S-1]=N,N=M[S],M[S]=-M[v-S-1],M[v-S-1]=-N}},O.prototype.normalize13b=function(D,M){for(var v=0,S=0;S<M/2;S++){var N=Math.round(D[2*S+1]/M)*8192+Math.round(D[2*S]/M)+v;D[S]=N&67108863,N<67108864?v=0:v=N/67108864|0}return D},O.prototype.convert13b=function(D,M,v,S){for(var N=0,R=0;R<M;R++)N=N+(D[R]|0),v[2*R]=N&8191,N=N>>>13,v[2*R+1]=N&8191,N=N>>>13;for(R=2*M;R<S;++R)v[R]=0;r(N===0),r((N&-8192)===0)},O.prototype.stub=function(D){for(var M=new Array(D),v=0;v<D;v++)M[v]=0;return M},O.prototype.mulp=function(D,M,v){var S=2*this.guessLen13b(D.length,M.length),N=this.makeRBT(S),R=this.stub(S),k=new Array(S),j=new Array(S),I=new Array(S),A=new Array(S),$=new Array(S),L=new Array(S),Y=v.words;Y.length=S,this.convert13b(D.words,D.length,k,S),this.convert13b(M.words,M.length,A,S),this.transform(k,R,j,I,S,N),this.transform(A,R,$,L,S,N);for(var le=0;le<S;le++){var re=j[le]*$[le]-I[le]*L[le];I[le]=j[le]*L[le]+I[le]*$[le],j[le]=re}return this.conjugate(j,I,S),this.transform(j,I,Y,R,S,N),this.conjugate(Y,R,S),this.normalize13b(Y,S),v.negative=D.negative^M.negative,v.length=D.length+M.length,v.strip()},s.prototype.mul=function(D){var M=new s(null);return M.words=new Array(this.length+D.length),this.mulTo(D,M)},s.prototype.mulf=function(D){var M=new s(null);return M.words=new Array(this.length+D.length),B(this,D,M)},s.prototype.imul=function(D){return this.clone().mulTo(D,this)},s.prototype.imuln=function(D){r(typeof D=="number"),r(D<67108864);for(var M=0,v=0;v<this.length;v++){var S=(this.words[v]|0)*D,N=(S&67108863)+(M&67108863);M>>=26,M+=S/67108864|0,M+=N>>>26,this.words[v]=N&67108863}return M!==0&&(this.words[v]=M,this.length++),this.length=D===0?1:this.length,this},s.prototype.muln=function(D){return this.clone().imuln(D)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(D){var M=b(D);if(M.length===0)return new s(1);for(var v=this,S=0;S<M.length&&M[S]===0;S++,v=v.sqr());if(++S<M.length)for(var N=v.sqr();S<M.length;S++,N=N.sqr())M[S]!==0&&(v=v.mul(N));return v},s.prototype.iushln=function(D){r(typeof D=="number"&&D>=0);var M=D%26,v=(D-M)/26,S=67108863>>>26-M<<26-M,N;if(M!==0){var R=0;for(N=0;N<this.length;N++){var k=this.words[N]&S,j=(this.words[N]|0)-k<<M;this.words[N]=j|R,R=k>>>26-M}R&&(this.words[N]=R,this.length++)}if(v!==0){for(N=this.length-1;N>=0;N--)this.words[N+v]=this.words[N];for(N=0;N<v;N++)this.words[N]=0;this.length+=v}return this.strip()},s.prototype.ishln=function(D){return r(this.negative===0),this.iushln(D)},s.prototype.iushrn=function(D,M,v){r(typeof D=="number"&&D>=0);var S;M?S=(M-M%26)/26:S=0;var N=D%26,R=Math.min((D-N)/26,this.length),k=67108863^67108863>>>N<<N,j=v;if(S-=R,S=Math.max(0,S),j){for(var I=0;I<R;I++)j.words[I]=this.words[I];j.length=R}if(R!==0)if(this.length>R)for(this.length-=R,I=0;I<this.length;I++)this.words[I]=this.words[I+R];else this.words[0]=0,this.length=1;var A=0;for(I=this.length-1;I>=0&&(A!==0||I>=S);I--){var $=this.words[I]|0;this.words[I]=A<<26-N|$>>>N,A=$&k}return j&&A!==0&&(j.words[j.length++]=A),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(D,M,v){return r(this.negative===0),this.iushrn(D,M,v)},s.prototype.shln=function(D){return this.clone().ishln(D)},s.prototype.ushln=function(D){return this.clone().iushln(D)},s.prototype.shrn=function(D){return this.clone().ishrn(D)},s.prototype.ushrn=function(D){return this.clone().iushrn(D)},s.prototype.testn=function(D){r(typeof D=="number"&&D>=0);var M=D%26,v=(D-M)/26,S=1<<M;if(this.length<=v)return!1;var N=this.words[v];return!!(N&S)},s.prototype.imaskn=function(D){r(typeof D=="number"&&D>=0);var M=D%26,v=(D-M)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=v)return this;if(M!==0&&v++,this.length=Math.min(v,this.length),M!==0){var S=67108863^67108863>>>M<<M;this.words[this.length-1]&=S}return this.strip()},s.prototype.maskn=function(D){return this.clone().imaskn(D)},s.prototype.iaddn=function(D){return r(typeof D=="number"),r(D<67108864),D<0?this.isubn(-D):this.negative!==0?this.length===1&&(this.words[0]|0)<D?(this.words[0]=D-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(D),this.negative=1,this):this._iaddn(D)},s.prototype._iaddn=function(D){this.words[0]+=D;for(var M=0;M<this.length&&this.words[M]>=67108864;M++)this.words[M]-=67108864,M===this.length-1?this.words[M+1]=1:this.words[M+1]++;return this.length=Math.max(this.length,M+1),this},s.prototype.isubn=function(D){if(r(typeof D=="number"),r(D<67108864),D<0)return this.iaddn(-D);if(this.negative!==0)return this.negative=0,this.iaddn(D),this.negative=1,this;if(this.words[0]-=D,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var M=0;M<this.length&&this.words[M]<0;M++)this.words[M]+=67108864,this.words[M+1]-=1;return this.strip()},s.prototype.addn=function(D){return this.clone().iaddn(D)},s.prototype.subn=function(D){return this.clone().isubn(D)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(D,M,v){var S=D.length+v,N;this._expand(S);var R,k=0;for(N=0;N<D.length;N++){R=(this.words[N+v]|0)+k;var j=(D.words[N]|0)*M;R-=j&67108863,k=(R>>26)-(j/67108864|0),this.words[N+v]=R&67108863}for(;N<this.length-v;N++)R=(this.words[N+v]|0)+k,k=R>>26,this.words[N+v]=R&67108863;if(k===0)return this.strip();for(r(k===-1),k=0,N=0;N<this.length;N++)R=-(this.words[N]|0)+k,k=R>>26,this.words[N]=R&67108863;return this.negative=1,this.strip()},s.prototype._wordDiv=function(D,M){var v=this.length-D.length,S=this.clone(),N=D,R=N.words[N.length-1]|0,k=this._countBits(R);v=26-k,v!==0&&(N=N.ushln(v),S.iushln(v),R=N.words[N.length-1]|0);var j=S.length-N.length,I;if(M!=="mod"){I=new s(null),I.length=j+1,I.words=new Array(I.length);for(var A=0;A<I.length;A++)I.words[A]=0}var $=S.clone()._ishlnsubmul(N,1,j);$.negative===0&&(S=$,I&&(I.words[j]=1));for(var L=j-1;L>=0;L--){var Y=(S.words[N.length+L]|0)*67108864+(S.words[N.length+L-1]|0);for(Y=Math.min(Y/R|0,67108863),S._ishlnsubmul(N,Y,L);S.negative!==0;)Y--,S.negative=0,S._ishlnsubmul(N,1,L),S.isZero()||(S.negative^=1);I&&(I.words[L]=Y)}return I&&I.strip(),S.strip(),M!=="div"&&v!==0&&S.iushrn(v),{div:I||null,mod:S}},s.prototype.divmod=function(D,M,v){if(r(!D.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var S,N,R;return this.negative!==0&&D.negative===0?(R=this.neg().divmod(D,M),M!=="mod"&&(S=R.div.neg()),M!=="div"&&(N=R.mod.neg(),v&&N.negative!==0&&N.iadd(D)),{div:S,mod:N}):this.negative===0&&D.negative!==0?(R=this.divmod(D.neg(),M),M!=="mod"&&(S=R.div.neg()),{div:S,mod:R.mod}):(this.negative&D.negative)!==0?(R=this.neg().divmod(D.neg(),M),M!=="div"&&(N=R.mod.neg(),v&&N.negative!==0&&N.isub(D)),{div:R.div,mod:N}):D.length>this.length||this.cmp(D)<0?{div:new s(0),mod:this}:D.length===1?M==="div"?{div:this.divn(D.words[0]),mod:null}:M==="mod"?{div:null,mod:new s(this.modn(D.words[0]))}:{div:this.divn(D.words[0]),mod:new s(this.modn(D.words[0]))}:this._wordDiv(D,M)},s.prototype.div=function(D){return this.divmod(D,"div",!1).div},s.prototype.mod=function(D){return this.divmod(D,"mod",!1).mod},s.prototype.umod=function(D){return this.divmod(D,"mod",!0).mod},s.prototype.divRound=function(D){var M=this.divmod(D);if(M.mod.isZero())return M.div;var v=M.div.negative!==0?M.mod.isub(D):M.mod,S=D.ushrn(1),N=D.andln(1),R=v.cmp(S);return R<0||N===1&&R===0?M.div:M.div.negative!==0?M.div.isubn(1):M.div.iaddn(1)},s.prototype.modn=function(D){r(D<=67108863);for(var M=(1<<26)%D,v=0,S=this.length-1;S>=0;S--)v=(M*v+(this.words[S]|0))%D;return v},s.prototype.idivn=function(D){r(D<=67108863);for(var M=0,v=this.length-1;v>=0;v--){var S=(this.words[v]|0)+M*67108864;this.words[v]=S/D|0,M=S%D}return this.strip()},s.prototype.divn=function(D){return this.clone().idivn(D)},s.prototype.egcd=function(D){r(D.negative===0),r(!D.isZero());var M=this,v=D.clone();M.negative!==0?M=M.umod(D):M=M.clone();for(var S=new s(1),N=new s(0),R=new s(0),k=new s(1),j=0;M.isEven()&&v.isEven();)M.iushrn(1),v.iushrn(1),++j;for(var I=v.clone(),A=M.clone();!M.isZero();){for(var $=0,L=1;(M.words[0]&L)===0&&$<26;++$,L<<=1);if($>0)for(M.iushrn($);$-- >0;)(S.isOdd()||N.isOdd())&&(S.iadd(I),N.isub(A)),S.iushrn(1),N.iushrn(1);for(var Y=0,le=1;(v.words[0]&le)===0&&Y<26;++Y,le<<=1);if(Y>0)for(v.iushrn(Y);Y-- >0;)(R.isOdd()||k.isOdd())&&(R.iadd(I),k.isub(A)),R.iushrn(1),k.iushrn(1);M.cmp(v)>=0?(M.isub(v),S.isub(R),N.isub(k)):(v.isub(M),R.isub(S),k.isub(N))}return{a:R,b:k,gcd:v.iushln(j)}},s.prototype._invmp=function(D){r(D.negative===0),r(!D.isZero());var M=this,v=D.clone();M.negative!==0?M=M.umod(D):M=M.clone();for(var S=new s(1),N=new s(0),R=v.clone();M.cmpn(1)>0&&v.cmpn(1)>0;){for(var k=0,j=1;(M.words[0]&j)===0&&k<26;++k,j<<=1);if(k>0)for(M.iushrn(k);k-- >0;)S.isOdd()&&S.iadd(R),S.iushrn(1);for(var I=0,A=1;(v.words[0]&A)===0&&I<26;++I,A<<=1);if(I>0)for(v.iushrn(I);I-- >0;)N.isOdd()&&N.iadd(R),N.iushrn(1);M.cmp(v)>=0?(M.isub(v),S.isub(N)):(v.isub(M),N.isub(S))}var $;return M.cmpn(1)===0?$=S:$=N,$.cmpn(0)<0&&$.iadd(D),$},s.prototype.gcd=function(D){if(this.isZero())return D.abs();if(D.isZero())return this.abs();var M=this.clone(),v=D.clone();M.negative=0,v.negative=0;for(var S=0;M.isEven()&&v.isEven();S++)M.iushrn(1),v.iushrn(1);do{for(;M.isEven();)M.iushrn(1);for(;v.isEven();)v.iushrn(1);var N=M.cmp(v);if(N<0){var R=M;M=v,v=R}else if(N===0||v.cmpn(1)===0)break;M.isub(v)}while(!0);return v.iushln(S)},s.prototype.invm=function(D){return this.egcd(D).a.umod(D)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(D){return this.words[0]&D},s.prototype.bincn=function(D){r(typeof D=="number");var M=D%26,v=(D-M)/26,S=1<<M;if(this.length<=v)return this._expand(v+1),this.words[v]|=S,this;for(var N=S,R=v;N!==0&&R<this.length;R++){var k=this.words[R]|0;k+=N,N=k>>>26,k&=67108863,this.words[R]=k}return N!==0&&(this.words[R]=N,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(D){var M=D<0;if(this.negative!==0&&!M)return-1;if(this.negative===0&&M)return 1;this.strip();var v;if(this.length>1)v=1;else{M&&(D=-D),r(D<=67108863,"Number is too big");var S=this.words[0]|0;v=S===D?0:S<D?-1:1}return this.negative!==0?-v|0:v},s.prototype.cmp=function(D){if(this.negative!==0&&D.negative===0)return-1;if(this.negative===0&&D.negative!==0)return 1;var M=this.ucmp(D);return this.negative!==0?-M|0:M},s.prototype.ucmp=function(D){if(this.length>D.length)return 1;if(this.length<D.length)return-1;for(var M=0,v=this.length-1;v>=0;v--){var S=this.words[v]|0,N=D.words[v]|0;if(S!==N){S<N?M=-1:S>N&&(M=1);break}}return M},s.prototype.gtn=function(D){return this.cmpn(D)===1},s.prototype.gt=function(D){return this.cmp(D)===1},s.prototype.gten=function(D){return this.cmpn(D)>=0},s.prototype.gte=function(D){return this.cmp(D)>=0},s.prototype.ltn=function(D){return this.cmpn(D)===-1},s.prototype.lt=function(D){return this.cmp(D)===-1},s.prototype.lten=function(D){return this.cmpn(D)<=0},s.prototype.lte=function(D){return this.cmp(D)<=0},s.prototype.eqn=function(D){return this.cmpn(D)===0},s.prototype.eq=function(D){return this.cmp(D)===0},s.red=function(D){return new W(D)},s.prototype.toRed=function(D){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),D.convertTo(this)._forceRed(D)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(D){return this.red=D,this},s.prototype.forceRed=function(D){return r(!this.red,"Already a number in reduction context"),this._forceRed(D)},s.prototype.redAdd=function(D){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,D)},s.prototype.redIAdd=function(D){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,D)},s.prototype.redSub=function(D){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,D)},s.prototype.redISub=function(D){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,D)},s.prototype.redShl=function(D){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,D)},s.prototype.redMul=function(D){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,D),this.red.mul(this,D)},s.prototype.redIMul=function(D){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,D),this.red.imul(this,D)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(D){return r(this.red&&!D.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,D)};var P={k256:null,p224:null,p192:null,p25519:null};function q(G,D){this.name=G,this.p=new s(D,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}q.prototype._tmp=function(){var D=new s(null);return D.words=new Array(Math.ceil(this.n/13)),D},q.prototype.ireduce=function(D){var M=D,v;do this.split(M,this.tmp),M=this.imulK(M),M=M.iadd(this.tmp),v=M.bitLength();while(v>this.n);var S=v<this.n?-1:M.ucmp(this.p);return S===0?(M.words[0]=0,M.length=1):S>0?M.isub(this.p):M.strip!==void 0?M.strip():M._strip(),M},q.prototype.split=function(D,M){D.iushrn(this.n,0,M)},q.prototype.imulK=function(D){return D.imul(this.k)};function z(){q.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(z,q),z.prototype.split=function(D,M){for(var v=4194303,S=Math.min(D.length,9),N=0;N<S;N++)M.words[N]=D.words[N];if(M.length=S,D.length<=9){D.words[0]=0,D.length=1;return}var R=D.words[9];for(M.words[M.length++]=R&v,N=10;N<D.length;N++){var k=D.words[N]|0;D.words[N-10]=(k&v)<<4|R>>>22,R=k}R>>>=22,D.words[N-10]=R,R===0&&D.length>10?D.length-=10:D.length-=9},z.prototype.imulK=function(D){D.words[D.length]=0,D.words[D.length+1]=0,D.length+=2;for(var M=0,v=0;v<D.length;v++){var S=D.words[v]|0;M+=S*977,D.words[v]=M&67108863,M=S*64+(M/67108864|0)}return D.words[D.length-1]===0&&(D.length--,D.words[D.length-1]===0&&D.length--),D};function V(){q.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(V,q);function Z(){q.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(Z,q);function J(){q.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(J,q),J.prototype.imulK=function(D){for(var M=0,v=0;v<D.length;v++){var S=(D.words[v]|0)*19+M,N=S&67108863;S>>>=26,D.words[v]=N,M=S}return M!==0&&(D.words[D.length++]=M),D},s._prime=function(D){if(P[D])return P[D];var M;if(D==="k256")M=new z;else if(D==="p224")M=new V;else if(D==="p192")M=new Z;else if(D==="p25519")M=new J;else throw new Error("Unknown prime "+D);return P[D]=M,M};function W(G){if(typeof G=="string"){var D=s._prime(G);this.m=D.p,this.prime=D}else r(G.gtn(1),"modulus must be greater than 1"),this.m=G,this.prime=null}W.prototype._verify1=function(D){r(D.negative===0,"red works only with positives"),r(D.red,"red works only with red numbers")},W.prototype._verify2=function(D,M){r((D.negative|M.negative)===0,"red works only with positives"),r(D.red&&D.red===M.red,"red works only with red numbers")},W.prototype.imod=function(D){return this.prime?this.prime.ireduce(D)._forceRed(this):D.umod(this.m)._forceRed(this)},W.prototype.neg=function(D){return D.isZero()?D.clone():this.m.sub(D)._forceRed(this)},W.prototype.add=function(D,M){this._verify2(D,M);var v=D.add(M);return v.cmp(this.m)>=0&&v.isub(this.m),v._forceRed(this)},W.prototype.iadd=function(D,M){this._verify2(D,M);var v=D.iadd(M);return v.cmp(this.m)>=0&&v.isub(this.m),v},W.prototype.sub=function(D,M){this._verify2(D,M);var v=D.sub(M);return v.cmpn(0)<0&&v.iadd(this.m),v._forceRed(this)},W.prototype.isub=function(D,M){this._verify2(D,M);var v=D.isub(M);return v.cmpn(0)<0&&v.iadd(this.m),v},W.prototype.shl=function(D,M){return this._verify1(D),this.imod(D.ushln(M))},W.prototype.imul=function(D,M){return this._verify2(D,M),this.imod(D.imul(M))},W.prototype.mul=function(D,M){return this._verify2(D,M),this.imod(D.mul(M))},W.prototype.isqr=function(D){return this.imul(D,D.clone())},W.prototype.sqr=function(D){return this.mul(D,D)},W.prototype.sqrt=function(D){if(D.isZero())return D.clone();var M=this.m.andln(3);if(r(M%2===1),M===3){var v=this.m.add(new s(1)).iushrn(2);return this.pow(D,v)}for(var S=this.m.subn(1),N=0;!S.isZero()&&S.andln(1)===0;)N++,S.iushrn(1);r(!S.isZero());var R=new s(1).toRed(this),k=R.redNeg(),j=this.m.subn(1).iushrn(1),I=this.m.bitLength();for(I=new s(2*I*I).toRed(this);this.pow(I,j).cmp(k)!==0;)I.redIAdd(k);for(var A=this.pow(I,S),$=this.pow(D,S.addn(1).iushrn(1)),L=this.pow(D,S),Y=N;L.cmp(R)!==0;){for(var le=L,re=0;le.cmp(R)!==0;re++)le=le.redSqr();r(re<Y);var U=this.pow(A,new s(1).iushln(Y-re-1));$=$.redMul(U),A=U.redSqr(),L=L.redMul(A),Y=re}return $},W.prototype.invm=function(D){var M=D._invmp(this.m);return M.negative!==0?(M.negative=0,this.imod(M).redNeg()):this.imod(M)},W.prototype.pow=function(D,M){if(M.isZero())return new s(1).toRed(this);if(M.cmpn(1)===0)return D.clone();var v=4,S=new Array(1<<v);S[0]=new s(1).toRed(this),S[1]=D;for(var N=2;N<S.length;N++)S[N]=this.mul(S[N-1],D);var R=S[0],k=0,j=0,I=M.bitLength()%26;for(I===0&&(I=26),N=M.length-1;N>=0;N--){for(var A=M.words[N],$=I-1;$>=0;$--){var L=A>>$&1;if(R!==S[0]&&(R=this.sqr(R)),L===0&&k===0){j=0;continue}k<<=1,k|=L,j++,!(j!==v&&(N!==0||$!==0))&&(R=this.mul(R,S[k]),j=0,k=0)}I=26}return R},W.prototype.convertTo=function(D){var M=D.umod(this.m);return M===D?M.clone():M},W.prototype.convertFrom=function(D){var M=D.clone();return M.red=null,M},s.mont=function(D){return new te(D)};function te(G){W.call(this,G),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(te,W),te.prototype.convertTo=function(D){return this.imod(D.ushln(this.shift))},te.prototype.convertFrom=function(D){var M=this.imod(D.mul(this.rinv));return M.red=null,M},te.prototype.imul=function(D,M){if(D.isZero()||M.isZero())return D.words[0]=0,D.length=1,D;var v=D.imul(M),S=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),N=v.isub(S).iushrn(this.shift),R=N;return N.cmp(this.m)>=0?R=N.isub(this.m):N.cmpn(0)<0&&(R=N.iadd(this.m)),R._forceRed(this)},te.prototype.mul=function(D,M){if(D.isZero()||M.isZero())return new s(0)._forceRed(this);var v=D.mul(M),S=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),N=v.isub(S).iushrn(this.shift),R=N;return N.cmp(this.m)>=0?R=N.isub(this.m):N.cmpn(0)<0&&(R=N.iadd(this.m)),R._forceRed(this)},te.prototype.invm=function(D){var M=this.imod(D._invmp(this.m).mul(this.r2));return M._forceRed(this)}})(t,bn$4)})(bn$5)),bn$5.exports}var brorand={exports:{}},hasRequiredBrorand;function requireBrorand(){if(hasRequiredBrorand)return brorand.exports;hasRequiredBrorand=1;var t;brorand.exports=function(o){return t||(t=new e(null)),t.generate(o)};function e(r){this.rand=r}if(brorand.exports.Rand=e,e.prototype.generate=function(o){return this._rand(o)},e.prototype._rand=function(o){if(this.rand.getBytes)return this.rand.getBytes(o);for(var s=new Uint8Array(o),l=0;l<s.length;l++)s[l]=this.rand.getByte();return s},typeof self=="object")self.crypto&&self.crypto.getRandomValues?e.prototype._rand=function(o){var s=new Uint8Array(o);return self.crypto.getRandomValues(s),s}:self.msCrypto&&self.msCrypto.getRandomValues?e.prototype._rand=function(o){var s=new Uint8Array(o);return self.msCrypto.getRandomValues(s),s}:typeof window=="object"&&(e.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var a=requireCryptoBrowserify();if(typeof a.randomBytes!="function")throw new Error("Not supported");e.prototype._rand=function(o){return a.randomBytes(o)}}catch{}return brorand.exports}var mr,hasRequiredMr;function requireMr(){if(hasRequiredMr)return mr;hasRequiredMr=1;var t=requireBn$2(),e=requireBrorand();function a(r){this.rand=r||new e.Rand}return mr=a,a.create=function(o){return new a(o)},a.prototype._randbelow=function(o){var s=o.bitLength(),l=Math.ceil(s/8);do var c=new t(this.rand.generate(l));while(c.cmp(o)>=0);return c},a.prototype._randrange=function(o,s){var l=s.sub(o);return o.add(this._randbelow(l))},a.prototype.test=function(o,s,l){var c=o.bitLength(),u=t.mont(o),h=new t(1).toRed(u);s||(s=Math.max(1,c/48|0));for(var f=o.subn(1),m=0;!f.testn(m);m++);for(var g=o.shrn(m),b=f.toRed(u),w=!0;s>0;s--){var E=this._randrange(new t(2),f);l&&l(E);var C=E.toRed(u).redPow(g);if(!(C.cmp(h)===0||C.cmp(b)===0)){for(var B=1;B<m;B++){if(C=C.redSqr(),C.cmp(h)===0)return!1;if(C.cmp(b)===0)break}if(B===m)return!1}}return w},a.prototype.getDivisor=function(o,s){var l=o.bitLength(),c=t.mont(o),u=new t(1).toRed(c);s||(s=Math.max(1,l/48|0));for(var h=o.subn(1),f=0;!h.testn(f);f++);for(var m=o.shrn(f),g=h.toRed(c);s>0;s--){var b=this._randrange(new t(2),h),w=o.gcd(b);if(w.cmpn(1)!==0)return w;var E=b.toRed(c).redPow(m);if(!(E.cmp(u)===0||E.cmp(g)===0)){for(var C=1;C<f;C++){if(E=E.redSqr(),E.cmp(u)===0)return E.fromRed().subn(1).gcd(o);if(E.cmp(g)===0)break}if(C===f)return E=E.redSqr(),E.fromRed().subn(1).gcd(o)}}return!1},mr}var generatePrime,hasRequiredGeneratePrime;function requireGeneratePrime(){if(hasRequiredGeneratePrime)return generatePrime;hasRequiredGeneratePrime=1;var t=requireBrowser$b();generatePrime=C,C.simpleSieve=w,C.fermatTest=E;var e=requireBn$2(),a=new e(24),r=requireMr(),o=new r,s=new e(1),l=new e(2),c=new e(5);new e(16),new e(8);var u=new e(10),h=new e(3);new e(7);var f=new e(11),m=new e(4);new e(12);var g=null;function b(){if(g!==null)return g;var B=1048576,O=[];O[0]=2;for(var P=1,q=3;q<B;q+=2){for(var z=Math.ceil(Math.sqrt(q)),V=0;V<P&&O[V]<=z&&q%O[V]!==0;V++);P!==V&&O[V]<=z||(O[P++]=q)}return g=O,O}function w(B){for(var O=b(),P=0;P<O.length;P++)if(B.modn(O[P])===0)return B.cmpn(O[P])===0;return!0}function E(B){var O=e.mont(B);return l.toRed(O).redPow(B.subn(1)).fromRed().cmpn(1)===0}function C(B,O){if(B<16)return O===2||O===5?new e([140,123]):new e([140,39]);O=new e(O);for(var P,q;;){for(P=new e(t(Math.ceil(B/8)));P.bitLength()>B;)P.ishrn(1);if(P.isEven()&&P.iadd(s),P.testn(1)||P.iadd(l),O.cmp(l)){if(!O.cmp(c))for(;P.mod(u).cmp(h);)P.iadd(m)}else for(;P.mod(a).cmp(f);)P.iadd(m);if(q=P.shrn(1),w(q)&&w(P)&&E(q)&&E(P)&&o.test(q)&&o.test(P))return P}}return generatePrime}const modp1={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"},require$$1$1={modp1,modp2,modp5,modp14,modp15,modp16,modp17,modp18};var dh,hasRequiredDh;function requireDh(){if(hasRequiredDh)return dh;hasRequiredDh=1;var t=requireBn$2(),e=requireMr(),a=new e,r=new t(24),o=new t(11),s=new t(10),l=new t(3),c=new t(7),u=requireGeneratePrime(),h=requireBrowser$b();dh=w;function f(C,B){return B=B||"utf8",Buffer.isBuffer(C)||(C=new Buffer(C,B)),this._pub=new t(C),this}function m(C,B){return B=B||"utf8",Buffer.isBuffer(C)||(C=new Buffer(C,B)),this._priv=new t(C),this}var g={};function b(C,B){var O=B.toString("hex"),P=[O,C.toString(16)].join("_");if(P in g)return g[P];var q=0;if(C.isEven()||!u.simpleSieve||!u.fermatTest(C)||!a.test(C))return q+=1,O==="02"||O==="05"?q+=8:q+=4,g[P]=q,q;a.test(C.shrn(1))||(q+=2);var z;switch(O){case"02":C.mod(r).cmp(o)&&(q+=8);break;case"05":z=C.mod(s),z.cmp(l)&&z.cmp(c)&&(q+=8);break;default:q+=4}return g[P]=q,q}function w(C,B,O){this.setGenerator(B),this.__prime=new t(C),this._prime=t.mont(this.__prime),this._primeLen=C.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,O?(this.setPublicKey=f,this.setPrivateKey=m):this._primeCode=8}Object.defineProperty(w.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=b(this.__prime,this.__gen)),this._primeCode}}),w.prototype.generateKeys=function(){return this._priv||(this._priv=new t(h(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},w.prototype.computeSecret=function(C){C=new t(C),C=C.toRed(this._prime);var B=C.redPow(this._priv).fromRed(),O=new Buffer(B.toArray()),P=this.getPrime();if(O.length<P.length){var q=new Buffer(P.length-O.length);q.fill(0),O=Buffer.concat([q,O])}return O},w.prototype.getPublicKey=function(B){return E(this._pub,B)},w.prototype.getPrivateKey=function(B){return E(this._priv,B)},w.prototype.getPrime=function(C){return E(this.__prime,C)},w.prototype.getGenerator=function(C){return E(this._gen,C)},w.prototype.setGenerator=function(C,B){return B=B||"utf8",Buffer.isBuffer(C)||(C=new Buffer(C,B)),this.__gen=C,this._gen=new t(C),this};function E(C,B){var O=new Buffer(C.toArray());return B?O.toString(B):O}return dh}var hasRequiredBrowser$4;function requireBrowser$4(){if(hasRequiredBrowser$4)return browser$4;hasRequiredBrowser$4=1;var t=requireGeneratePrime(),e=require$$1$1,a=requireDh();function r(l){var c=new Buffer(e[l].prime,"hex"),u=new Buffer(e[l].gen,"hex");return new a(c,u)}var o={binary:!0,hex:!0,base64:!0};function s(l,c,u,h){return Buffer.isBuffer(c)||o[c]===void 0?s(l,"binary",c,u):(c=c||"binary",h=h||"binary",u=u||new Buffer([2]),Buffer.isBuffer(u)||(u=new Buffer(u,h)),typeof l=="number"?new a(t(l,u),u,!0):(Buffer.isBuffer(l)||(l=new Buffer(l,c)),new a(l,u,!0)))}return browser$4.DiffieHellmanGroup=browser$4.createDiffieHellmanGroup=browser$4.getDiffieHellman=r,browser$4.createDiffieHellman=browser$4.DiffieHellman=s,browser$4}var readableBrowser={exports:{}},isarray,hasRequiredIsarray;function requireIsarray(){if(hasRequiredIsarray)return isarray;hasRequiredIsarray=1;var t={}.toString;return isarray=Array.isArray||function(e){return t.call(e)=="[object Array]"},isarray}var streamBrowser,hasRequiredStreamBrowser;function requireStreamBrowser(){return hasRequiredStreamBrowser||(hasRequiredStreamBrowser=1,streamBrowser=requireEvents().EventEmitter),streamBrowser}var safeBuffer={exports:{}},hasRequiredSafeBuffer;function requireSafeBuffer(){return hasRequiredSafeBuffer||(hasRequiredSafeBuffer=1,(function(t,e){var a=requireDist(),r=a.Buffer;function o(l,c){for(var u in l)c[u]=l[u]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=a:(o(a,e),e.Buffer=s);function s(l,c,u){return r(l,c,u)}o(r,s),s.from=function(l,c,u){if(typeof l=="number")throw new TypeError("Argument must not be a number");return r(l,c,u)},s.alloc=function(l,c,u){if(typeof l!="number")throw new TypeError("Argument must be a number");var h=r(l);return c!==void 0?typeof u=="string"?h.fill(c,u):h.fill(c):h.fill(0),h},s.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return r(l)},s.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return a.SlowBuffer(l)}})(safeBuffer,safeBuffer.exports)),safeBuffer.exports}var BufferList={exports:{}},hasRequiredBufferList;function requireBufferList(){return hasRequiredBufferList||(hasRequiredBufferList=1,(function(t){function e(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}var a=requireSafeBuffer().Buffer,r=requireUtil$1();function o(s,l,c){s.copy(l,c)}t.exports=(function(){function s(){e(this,s),this.head=null,this.tail=null,this.length=0}return s.prototype.push=function(c){var u={data:c,next:null};this.length>0?this.tail.next=u:this.head=u,this.tail=u,++this.length},s.prototype.unshift=function(c){var u={data:c,next:this.head};this.length===0&&(this.tail=u),this.head=u,++this.length},s.prototype.shift=function(){if(this.length!==0){var c=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,c}},s.prototype.clear=function(){this.head=this.tail=null,this.length=0},s.prototype.join=function(c){if(this.length===0)return"";for(var u=this.head,h=""+u.data;u=u.next;)h+=c+u.data;return h},s.prototype.concat=function(c){if(this.length===0)return a.alloc(0);for(var u=a.allocUnsafe(c>>>0),h=this.head,f=0;h;)o(h.data,u,f),f+=h.data.length,h=h.next;return u},s})(),r&&r.inspect&&r.inspect.custom&&(t.exports.prototype[r.inspect.custom]=function(){var s=r.inspect({length:this.length});return this.constructor.name+" "+s})})(BufferList)),BufferList.exports}var destroy_1,hasRequiredDestroy;function requireDestroy(){if(hasRequiredDestroy)return destroy_1;hasRequiredDestroy=1;var t=requireProcessNextickArgs();function e(o,s){var l=this,c=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return c||u?(s?s(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,t.nextTick(r,this,o)):t.nextTick(r,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(h){!s&&h?l._writableState?l._writableState.errorEmitted||(l._writableState.errorEmitted=!0,t.nextTick(r,l,h)):t.nextTick(r,l,h):s&&s(h)}),this)}function a(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function r(o,s){o.emit("error",s)}return destroy_1={destroy:e,undestroy:a},destroy_1}var _stream_writable,hasRequired_stream_writable;function require_stream_writable(){if(hasRequired_stream_writable)return _stream_writable;hasRequired_stream_writable=1;var t=requireProcessNextickArgs();_stream_writable=E;function e(R){var k=this;this.next=null,this.entry=null,this.finish=function(){N(k,R)}}var a=!process$1.browser&&["v0.10","v0.9."].indexOf(process$1.version.slice(0,5))>-1?setImmediate:t.nextTick,r;E.WritableState=b;var o=Object.create(requireUtil());o.inherits=requireInherits_browser();var s={deprecate:requireBrowser$a()},l=requireStreamBrowser(),c=requireSafeBuffer().Buffer,u=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function h(R){return c.from(R)}function f(R){return c.isBuffer(R)||R instanceof u}var m=requireDestroy();o.inherits(E,l);function g(){}function b(R,k){r=r||require_stream_duplex(),R=R||{};var j=k instanceof r;this.objectMode=!!R.objectMode,j&&(this.objectMode=this.objectMode||!!R.writableObjectMode);var I=R.highWaterMark,A=R.writableHighWaterMark,$=this.objectMode?16:16*1024;I||I===0?this.highWaterMark=I:j&&(A||A===0)?this.highWaterMark=A:this.highWaterMark=$,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var L=R.decodeStrings===!1;this.decodeStrings=!L,this.defaultEncoding=R.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Y){Z(k,Y)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}b.prototype.getBuffer=function(){for(var k=this.bufferedRequest,j=[];k;)j.push(k),k=k.next;return j},(function(){try{Object.defineProperty(b.prototype,"buffer",{get:s.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var w;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(w=Function.prototype[Symbol.hasInstance],Object.defineProperty(E,Symbol.hasInstance,{value:function(R){return w.call(this,R)?!0:this!==E?!1:R&&R._writableState instanceof b}})):w=function(R){return R instanceof this};function E(R){if(r=r||require_stream_duplex(),!w.call(E,this)&&!(this instanceof r))return new E(R);this._writableState=new b(R,this),this.writable=!0,R&&(typeof R.write=="function"&&(this._write=R.write),typeof R.writev=="function"&&(this._writev=R.writev),typeof R.destroy=="function"&&(this._destroy=R.destroy),typeof R.final=="function"&&(this._final=R.final)),l.call(this)}E.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function C(R,k){var j=new Error("write after end");R.emit("error",j),t.nextTick(k,j)}function B(R,k,j,I){var A=!0,$=!1;return j===null?$=new TypeError("May not write null values to stream"):typeof j!="string"&&j!==void 0&&!k.objectMode&&($=new TypeError("Invalid non-string/buffer chunk")),$&&(R.emit("error",$),t.nextTick(I,$),A=!1),A}E.prototype.write=function(R,k,j){var I=this._writableState,A=!1,$=!I.objectMode&&f(R);return $&&!c.isBuffer(R)&&(R=h(R)),typeof k=="function"&&(j=k,k=null),$?k="buffer":k||(k=I.defaultEncoding),typeof j!="function"&&(j=g),I.ended?C(this,j):($||B(this,I,R,j))&&(I.pendingcb++,A=P(this,I,$,R,k,j)),A},E.prototype.cork=function(){var R=this._writableState;R.corked++},E.prototype.uncork=function(){var R=this._writableState;R.corked&&(R.corked--,!R.writing&&!R.corked&&!R.bufferProcessing&&R.bufferedRequest&&te(this,R))},E.prototype.setDefaultEncoding=function(k){if(typeof k=="string"&&(k=k.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((k+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+k);return this._writableState.defaultEncoding=k,this};function O(R,k,j){return!R.objectMode&&R.decodeStrings!==!1&&typeof k=="string"&&(k=c.from(k,j)),k}Object.defineProperty(E.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function P(R,k,j,I,A,$){if(!j){var L=O(k,I,A);I!==L&&(j=!0,A="buffer",I=L)}var Y=k.objectMode?1:I.length;k.length+=Y;var le=k.length<k.highWaterMark;if(le||(k.needDrain=!0),k.writing||k.corked){var re=k.lastBufferedRequest;k.lastBufferedRequest={chunk:I,encoding:A,isBuf:j,callback:$,next:null},re?re.next=k.lastBufferedRequest:k.bufferedRequest=k.lastBufferedRequest,k.bufferedRequestCount+=1}else q(R,k,!1,Y,I,A,$);return le}function q(R,k,j,I,A,$,L){k.writelen=I,k.writecb=L,k.writing=!0,k.sync=!0,j?R._writev(A,k.onwrite):R._write(A,$,k.onwrite),k.sync=!1}function z(R,k,j,I,A){--k.pendingcb,j?(t.nextTick(A,I),t.nextTick(v,R,k),R._writableState.errorEmitted=!0,R.emit("error",I)):(A(I),R._writableState.errorEmitted=!0,R.emit("error",I),v(R,k))}function V(R){R.writing=!1,R.writecb=null,R.length-=R.writelen,R.writelen=0}function Z(R,k){var j=R._writableState,I=j.sync,A=j.writecb;if(V(j),k)z(R,j,I,k,A);else{var $=G(j);!$&&!j.corked&&!j.bufferProcessing&&j.bufferedRequest&&te(R,j),I?a(J,R,j,$,A):J(R,j,$,A)}}function J(R,k,j,I){j||W(R,k),k.pendingcb--,I(),v(R,k)}function W(R,k){k.length===0&&k.needDrain&&(k.needDrain=!1,R.emit("drain"))}function te(R,k){k.bufferProcessing=!0;var j=k.bufferedRequest;if(R._writev&&j&&j.next){var I=k.bufferedRequestCount,A=new Array(I),$=k.corkedRequestsFree;$.entry=j;for(var L=0,Y=!0;j;)A[L]=j,j.isBuf||(Y=!1),j=j.next,L+=1;A.allBuffers=Y,q(R,k,!0,k.length,A,"",$.finish),k.pendingcb++,k.lastBufferedRequest=null,$.next?(k.corkedRequestsFree=$.next,$.next=null):k.corkedRequestsFree=new e(k),k.bufferedRequestCount=0}else{for(;j;){var le=j.chunk,re=j.encoding,U=j.callback,K=k.objectMode?1:le.length;if(q(R,k,!1,K,le,re,U),j=j.next,k.bufferedRequestCount--,k.writing)break}j===null&&(k.lastBufferedRequest=null)}k.bufferedRequest=j,k.bufferProcessing=!1}E.prototype._write=function(R,k,j){j(new Error("_write() is not implemented"))},E.prototype._writev=null,E.prototype.end=function(R,k,j){var I=this._writableState;typeof R=="function"?(j=R,R=null,k=null):typeof k=="function"&&(j=k,k=null),R!=null&&this.write(R,k),I.corked&&(I.corked=1,this.uncork()),I.ending||S(this,I,j)};function G(R){return R.ending&&R.length===0&&R.bufferedRequest===null&&!R.finished&&!R.writing}function D(R,k){R._final(function(j){k.pendingcb--,j&&R.emit("error",j),k.prefinished=!0,R.emit("prefinish"),v(R,k)})}function M(R,k){!k.prefinished&&!k.finalCalled&&(typeof R._final=="function"?(k.pendingcb++,k.finalCalled=!0,t.nextTick(D,R,k)):(k.prefinished=!0,R.emit("prefinish")))}function v(R,k){var j=G(k);return j&&(M(R,k),k.pendingcb===0&&(k.finished=!0,R.emit("finish"))),j}function S(R,k,j){k.ending=!0,v(R,k),j&&(k.finished?t.nextTick(j):R.once("finish",j)),k.ended=!0,R.writable=!1}function N(R,k,j){var I=R.entry;for(R.entry=null;I;){var A=I.callback;k.pendingcb--,A(j),I=I.next}k.corkedRequestsFree.next=R}return Object.defineProperty(E.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(R){this._writableState&&(this._writableState.destroyed=R)}}),E.prototype.destroy=m.destroy,E.prototype._undestroy=m.undestroy,E.prototype._destroy=function(R,k){this.end(),k(R)},_stream_writable}var _stream_duplex,hasRequired_stream_duplex;function require_stream_duplex(){if(hasRequired_stream_duplex)return _stream_duplex;hasRequired_stream_duplex=1;var t=requireProcessNextickArgs(),e=Object.keys||function(m){var g=[];for(var b in m)g.push(b);return g};_stream_duplex=u;var a=Object.create(requireUtil());a.inherits=requireInherits_browser();var r=require_stream_readable(),o=require_stream_writable();a.inherits(u,r);for(var s=e(o.prototype),l=0;l<s.length;l++){var c=s[l];u.prototype[c]||(u.prototype[c]=o.prototype[c])}function u(m){if(!(this instanceof u))return new u(m);r.call(this,m),o.call(this,m),m&&m.readable===!1&&(this.readable=!1),m&&m.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,m&&m.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",h)}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function h(){this.allowHalfOpen||this._writableState.ended||t.nextTick(f,this)}function f(m){m.end()}return Object.defineProperty(u.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(m){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=m,this._writableState.destroyed=m)}}),u.prototype._destroy=function(m,g){this.push(null),this.end(),t.nextTick(g,m)},_stream_duplex}var _stream_readable,hasRequired_stream_readable;function require_stream_readable(){if(hasRequired_stream_readable)return _stream_readable;hasRequired_stream_readable=1;var t=requireProcessNextickArgs();_stream_readable=O;var e=requireIsarray(),a;O.ReadableState=B,requireEvents().EventEmitter;var r=function(U,K){return U.listeners(K).length},o=requireStreamBrowser(),s=requireSafeBuffer().Buffer,l=(typeof commonjsGlobal<"u"?commonjsGlobal:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function c(U){return s.from(U)}function u(U){return s.isBuffer(U)||U instanceof l}var h=Object.create(requireUtil());h.inherits=requireInherits_browser();var f=requireUtil$1(),m=void 0;f&&f.debuglog?m=f.debuglog("stream"):m=function(){};var g=requireBufferList(),b=requireDestroy(),w;h.inherits(O,o);var E=["error","close","destroy","pause","resume"];function C(U,K,se){if(typeof U.prependListener=="function")return U.prependListener(K,se);!U._events||!U._events[K]?U.on(K,se):e(U._events[K])?U._events[K].unshift(se):U._events[K]=[se,U._events[K]]}function B(U,K){a=a||require_stream_duplex(),U=U||{};var se=K instanceof a;this.objectMode=!!U.objectMode,se&&(this.objectMode=this.objectMode||!!U.readableObjectMode);var he=U.highWaterMark,ue=U.readableHighWaterMark,ee=this.objectMode?16:16*1024;he||he===0?this.highWaterMark=he:se&&(ue||ue===0)?this.highWaterMark=ue:this.highWaterMark=ee,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=U.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,U.encoding&&(w||(w=requireString_decoder().StringDecoder),this.decoder=new w(U.encoding),this.encoding=U.encoding)}function O(U){if(a=a||require_stream_duplex(),!(this instanceof O))return new O(U);this._readableState=new B(U,this),this.readable=!0,U&&(typeof U.read=="function"&&(this._read=U.read),typeof U.destroy=="function"&&(this._destroy=U.destroy)),o.call(this)}Object.defineProperty(O.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(U){this._readableState&&(this._readableState.destroyed=U)}}),O.prototype.destroy=b.destroy,O.prototype._undestroy=b.undestroy,O.prototype._destroy=function(U,K){this.push(null),K(U)},O.prototype.push=function(U,K){var se=this._readableState,he;return se.objectMode?he=!0:typeof U=="string"&&(K=K||se.defaultEncoding,K!==se.encoding&&(U=s.from(U,K),K=""),he=!0),P(this,U,K,!1,he)},O.prototype.unshift=function(U){return P(this,U,null,!0,!1)};function P(U,K,se,he,ue){var ee=U._readableState;if(K===null)ee.reading=!1,te(U,ee);else{var fe;ue||(fe=z(ee,K)),fe?U.emit("error",fe):ee.objectMode||K&&K.length>0?(typeof K!="string"&&!ee.objectMode&&Object.getPrototypeOf(K)!==s.prototype&&(K=c(K)),he?ee.endEmitted?U.emit("error",new Error("stream.unshift() after end event")):q(U,ee,K,!0):ee.ended?U.emit("error",new Error("stream.push() after EOF")):(ee.reading=!1,ee.decoder&&!se?(K=ee.decoder.write(K),ee.objectMode||K.length!==0?q(U,ee,K,!1):M(U,ee)):q(U,ee,K,!1))):he||(ee.reading=!1)}return V(ee)}function q(U,K,se,he){K.flowing&&K.length===0&&!K.sync?(U.emit("data",se),U.read(0)):(K.length+=K.objectMode?1:se.length,he?K.buffer.unshift(se):K.buffer.push(se),K.needReadable&&G(U)),M(U,K)}function z(U,K){var se;return!u(K)&&typeof K!="string"&&K!==void 0&&!U.objectMode&&(se=new TypeError("Invalid non-string/buffer chunk")),se}function V(U){return!U.ended&&(U.needReadable||U.length<U.highWaterMark||U.length===0)}O.prototype.isPaused=function(){return this._readableState.flowing===!1},O.prototype.setEncoding=function(U){return w||(w=requireString_decoder().StringDecoder),this._readableState.decoder=new w(U),this._readableState.encoding=U,this};var Z=8388608;function J(U){return U>=Z?U=Z:(U--,U|=U>>>1,U|=U>>>2,U|=U>>>4,U|=U>>>8,U|=U>>>16,U++),U}function W(U,K){return U<=0||K.length===0&&K.ended?0:K.objectMode?1:U!==U?K.flowing&&K.length?K.buffer.head.data.length:K.length:(U>K.highWaterMark&&(K.highWaterMark=J(U)),U<=K.length?U:K.ended?K.length:(K.needReadable=!0,0))}O.prototype.read=function(U){m("read",U),U=parseInt(U,10);var K=this._readableState,se=U;if(U!==0&&(K.emittedReadable=!1),U===0&&K.needReadable&&(K.length>=K.highWaterMark||K.ended))return m("read: emitReadable",K.length,K.ended),K.length===0&&K.ended?Y(this):G(this),null;if(U=W(U,K),U===0&&K.ended)return K.length===0&&Y(this),null;var he=K.needReadable;m("need readable",he),(K.length===0||K.length-U<K.highWaterMark)&&(he=!0,m("length less than watermark",he)),K.ended||K.reading?(he=!1,m("reading or ended",he)):he&&(m("do read"),K.reading=!0,K.sync=!0,K.length===0&&(K.needReadable=!0),this._read(K.highWaterMark),K.sync=!1,K.reading||(U=W(se,K)));var ue;return U>0?ue=I(U,K):ue=null,ue===null?(K.needReadable=!0,U=0):K.length-=U,K.length===0&&(K.ended||(K.needReadable=!0),se!==U&&K.ended&&Y(this)),ue!==null&&this.emit("data",ue),ue};function te(U,K){if(!K.ended){if(K.decoder){var se=K.decoder.end();se&&se.length&&(K.buffer.push(se),K.length+=K.objectMode?1:se.length)}K.ended=!0,G(U)}}function G(U){var K=U._readableState;K.needReadable=!1,K.emittedReadable||(m("emitReadable",K.flowing),K.emittedReadable=!0,K.sync?t.nextTick(D,U):D(U))}function D(U){m("emit readable"),U.emit("readable"),j(U)}function M(U,K){K.readingMore||(K.readingMore=!0,t.nextTick(v,U,K))}function v(U,K){for(var se=K.length;!K.reading&&!K.flowing&&!K.ended&&K.length<K.highWaterMark&&(m("maybeReadMore read 0"),U.read(0),se!==K.length);)se=K.length;K.readingMore=!1}O.prototype._read=function(U){this.emit("error",new Error("_read() is not implemented"))},O.prototype.pipe=function(U,K){var se=this,he=this._readableState;switch(he.pipesCount){case 0:he.pipes=U;break;case 1:he.pipes=[he.pipes,U];break;default:he.pipes.push(U);break}he.pipesCount+=1,m("pipe count=%d opts=%j",he.pipesCount,K);var ue=(!K||K.end!==!1)&&U!==process$1.stdout&&U!==process$1.stderr,ee=ue?ge:He;he.endEmitted?t.nextTick(ee):se.once("end",ee),U.on("unpipe",fe);function fe(Ae,Ce){m("onunpipe"),Ae===se&&Ce&&Ce.hasUnpiped===!1&&(Ce.hasUnpiped=!0,Ie())}function ge(){m("onend"),U.end()}var xe=S(se);U.on("drain",xe);var _e=!1;function Ie(){m("cleanup"),U.removeListener("close",Be),U.removeListener("finish",Ve),U.removeListener("drain",xe),U.removeListener("error",Ue),U.removeListener("unpipe",fe),se.removeListener("end",ge),se.removeListener("end",He),se.removeListener("data",$e),_e=!0,he.awaitDrain&&(!U._writableState||U._writableState.needDrain)&&xe()}var De=!1;se.on("data",$e);function $e(Ae){m("ondata"),De=!1;var Ce=U.write(Ae);Ce===!1&&!De&&((he.pipesCount===1&&he.pipes===U||he.pipesCount>1&&re(he.pipes,U)!==-1)&&!_e&&(m("false write response, pause",he.awaitDrain),he.awaitDrain++,De=!0),se.pause())}function Ue(Ae){m("onerror",Ae),He(),U.removeListener("error",Ue),r(U,"error")===0&&U.emit("error",Ae)}C(U,"error",Ue);function Be(){U.removeListener("finish",Ve),He()}U.once("close",Be);function Ve(){m("onfinish"),U.removeListener("close",Be),He()}U.once("finish",Ve);function He(){m("unpipe"),se.unpipe(U)}return U.emit("pipe",se),he.flowing||(m("pipe resume"),se.resume()),U};function S(U){return function(){var K=U._readableState;m("pipeOnDrain",K.awaitDrain),K.awaitDrain&&K.awaitDrain--,K.awaitDrain===0&&r(U,"data")&&(K.flowing=!0,j(U))}}O.prototype.unpipe=function(U){var K=this._readableState,se={hasUnpiped:!1};if(K.pipesCount===0)return this;if(K.pipesCount===1)return U&&U!==K.pipes?this:(U||(U=K.pipes),K.pipes=null,K.pipesCount=0,K.flowing=!1,U&&U.emit("unpipe",this,se),this);if(!U){var he=K.pipes,ue=K.pipesCount;K.pipes=null,K.pipesCount=0,K.flowing=!1;for(var ee=0;ee<ue;ee++)he[ee].emit("unpipe",this,{hasUnpiped:!1});return this}var fe=re(K.pipes,U);return fe===-1?this:(K.pipes.splice(fe,1),K.pipesCount-=1,K.pipesCount===1&&(K.pipes=K.pipes[0]),U.emit("unpipe",this,se),this)},O.prototype.on=function(U,K){var se=o.prototype.on.call(this,U,K);if(U==="data")this._readableState.flowing!==!1&&this.resume();else if(U==="readable"){var he=this._readableState;!he.endEmitted&&!he.readableListening&&(he.readableListening=he.needReadable=!0,he.emittedReadable=!1,he.reading?he.length&&G(this):t.nextTick(N,this))}return se},O.prototype.addListener=O.prototype.on;function N(U){m("readable nexttick read 0"),U.read(0)}O.prototype.resume=function(){var U=this._readableState;return U.flowing||(m("resume"),U.flowing=!0,R(this,U)),this};function R(U,K){K.resumeScheduled||(K.resumeScheduled=!0,t.nextTick(k,U,K))}function k(U,K){K.reading||(m("resume read 0"),U.read(0)),K.resumeScheduled=!1,K.awaitDrain=0,U.emit("resume"),j(U),K.flowing&&!K.reading&&U.read(0)}O.prototype.pause=function(){return m("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(m("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function j(U){var K=U._readableState;for(m("flow",K.flowing);K.flowing&&U.read()!==null;);}O.prototype.wrap=function(U){var K=this,se=this._readableState,he=!1;U.on("end",function(){if(m("wrapped end"),se.decoder&&!se.ended){var fe=se.decoder.end();fe&&fe.length&&K.push(fe)}K.push(null)}),U.on("data",function(fe){if(m("wrapped data"),se.decoder&&(fe=se.decoder.write(fe)),!(se.objectMode&&fe==null)&&!(!se.objectMode&&(!fe||!fe.length))){var ge=K.push(fe);ge||(he=!0,U.pause())}});for(var ue in U)this[ue]===void 0&&typeof U[ue]=="function"&&(this[ue]=(function(fe){return function(){return U[fe].apply(U,arguments)}})(ue));for(var ee=0;ee<E.length;ee++)U.on(E[ee],this.emit.bind(this,E[ee]));return this._read=function(fe){m("wrapped _read",fe),he&&(he=!1,U.resume())},this},Object.defineProperty(O.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),O._fromList=I;function I(U,K){if(K.length===0)return null;var se;return K.objectMode?se=K.buffer.shift():!U||U>=K.length?(K.decoder?se=K.buffer.join(""):K.buffer.length===1?se=K.buffer.head.data:se=K.buffer.concat(K.length),K.buffer.clear()):se=A(U,K.buffer,K.decoder),se}function A(U,K,se){var he;return U<K.head.data.length?(he=K.head.data.slice(0,U),K.head.data=K.head.data.slice(U)):U===K.head.data.length?he=K.shift():he=se?$(U,K):L(U,K),he}function $(U,K){var se=K.head,he=1,ue=se.data;for(U-=ue.length;se=se.next;){var ee=se.data,fe=U>ee.length?ee.length:U;if(fe===ee.length?ue+=ee:ue+=ee.slice(0,U),U-=fe,U===0){fe===ee.length?(++he,se.next?K.head=se.next:K.head=K.tail=null):(K.head=se,se.data=ee.slice(fe));break}++he}return K.length-=he,ue}function L(U,K){var se=s.allocUnsafe(U),he=K.head,ue=1;for(he.data.copy(se),U-=he.data.length;he=he.next;){var ee=he.data,fe=U>ee.length?ee.length:U;if(ee.copy(se,se.length-U,0,fe),U-=fe,U===0){fe===ee.length?(++ue,he.next?K.head=he.next:K.head=K.tail=null):(K.head=he,he.data=ee.slice(fe));break}++ue}return K.length-=ue,se}function Y(U){var K=U._readableState;if(K.length>0)throw new Error('"endReadable()" called on non-empty stream');K.endEmitted||(K.ended=!0,t.nextTick(le,K,U))}function le(U,K){!U.endEmitted&&U.length===0&&(U.endEmitted=!0,K.readable=!1,K.emit("end"))}function re(U,K){for(var se=0,he=U.length;se<he;se++)if(U[se]===K)return se;return-1}return _stream_readable}var _stream_transform,hasRequired_stream_transform;function require_stream_transform(){if(hasRequired_stream_transform)return _stream_transform;hasRequired_stream_transform=1,_stream_transform=r;var t=require_stream_duplex(),e=Object.create(requireUtil());e.inherits=requireInherits_browser(),e.inherits(r,t);function a(l,c){var u=this._transformState;u.transforming=!1;var h=u.writecb;if(!h)return this.emit("error",new Error("write callback called multiple times"));u.writechunk=null,u.writecb=null,c!=null&&this.push(c),h(l);var f=this._readableState;f.reading=!1,(f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}function r(l){if(!(this instanceof r))return new r(l);t.call(this,l),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,l&&(typeof l.transform=="function"&&(this._transform=l.transform),typeof l.flush=="function"&&(this._flush=l.flush)),this.on("prefinish",o)}function o(){var l=this;typeof this._flush=="function"?this._flush(function(c,u){s(l,c,u)}):s(this,null,null)}r.prototype.push=function(l,c){return this._transformState.needTransform=!1,t.prototype.push.call(this,l,c)},r.prototype._transform=function(l,c,u){throw new Error("_transform() is not implemented")},r.prototype._write=function(l,c,u){var h=this._transformState;if(h.writecb=u,h.writechunk=l,h.writeencoding=c,!h.transforming){var f=this._readableState;(h.needTransform||f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}},r.prototype._read=function(l){var c=this._transformState;c.writechunk!==null&&c.writecb&&!c.transforming?(c.transforming=!0,this._transform(c.writechunk,c.writeencoding,c.afterTransform)):c.needTransform=!0},r.prototype._destroy=function(l,c){var u=this;t.prototype._destroy.call(this,l,function(h){c(h),u.emit("close")})};function s(l,c,u){if(c)return l.emit("error",c);if(u!=null&&l.push(u),l._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(l._transformState.transforming)throw new Error("Calling transform done when still transforming");return l.push(null)}return _stream_transform}var _stream_passthrough,hasRequired_stream_passthrough;function require_stream_passthrough(){if(hasRequired_stream_passthrough)return _stream_passthrough;hasRequired_stream_passthrough=1,_stream_passthrough=a;var t=require_stream_transform(),e=Object.create(requireUtil());e.inherits=requireInherits_browser(),e.inherits(a,t);function a(r){if(!(this instanceof a))return new a(r);t.call(this,r)}return a.prototype._transform=function(r,o,s){s(null,r)},_stream_passthrough}var hasRequiredReadableBrowser;function requireReadableBrowser(){return hasRequiredReadableBrowser||(hasRequiredReadableBrowser=1,(function(t,e){e=t.exports=require_stream_readable(),e.Stream=e,e.Readable=e,e.Writable=require_stream_writable(),e.Duplex=require_stream_duplex(),e.Transform=require_stream_transform(),e.PassThrough=require_stream_passthrough()})(readableBrowser,readableBrowser.exports)),readableBrowser.exports}var sign$1={exports:{}},bn$3={exports:{}},bn$2=bn$3.exports,hasRequiredBn$1;function requireBn$1(){return hasRequiredBn$1||(hasRequiredBn$1=1,(function(t){(function(e,a){function r(M,v){if(!M)throw new Error(v||"Assertion failed")}function o(M,v){M.super_=v;var S=function(){};S.prototype=v.prototype,M.prototype=new S,M.prototype.constructor=M}function s(M,v,S){if(s.isBN(M))return M;this.negative=0,this.words=null,this.length=0,this.red=null,M!==null&&((v==="le"||v==="be")&&(S=v,v=10),this._init(M||0,v||10,S||"be"))}typeof e=="object"?e.exports=s:a.BN=s,s.BN=s,s.wordSize=26;var l;try{typeof window<"u"&&typeof window.Buffer<"u"?l=window.Buffer:l=requireDist().Buffer}catch{}s.isBN=function(v){return v instanceof s?!0:v!==null&&typeof v=="object"&&v.constructor.wordSize===s.wordSize&&Array.isArray(v.words)},s.max=function(v,S){return v.cmp(S)>0?v:S},s.min=function(v,S){return v.cmp(S)<0?v:S},s.prototype._init=function(v,S,N){if(typeof v=="number")return this._initNumber(v,S,N);if(typeof v=="object")return this._initArray(v,S,N);S==="hex"&&(S=16),r(S===(S|0)&&S>=2&&S<=36),v=v.toString().replace(/\s+/g,"");var R=0;v[0]==="-"&&(R++,this.negative=1),R<v.length&&(S===16?this._parseHex(v,R,N):(this._parseBase(v,S,R),N==="le"&&this._initArray(this.toArray(),S,N)))},s.prototype._initNumber=function(v,S,N){v<0&&(this.negative=1,v=-v),v<67108864?(this.words=[v&67108863],this.length=1):v<4503599627370496?(this.words=[v&67108863,v/67108864&67108863],this.length=2):(r(v<9007199254740992),this.words=[v&67108863,v/67108864&67108863,1],this.length=3),N==="le"&&this._initArray(this.toArray(),S,N)},s.prototype._initArray=function(v,S,N){if(r(typeof v.length=="number"),v.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(v.length/3),this.words=new Array(this.length);for(var R=0;R<this.length;R++)this.words[R]=0;var k,j,I=0;if(N==="be")for(R=v.length-1,k=0;R>=0;R-=3)j=v[R]|v[R-1]<<8|v[R-2]<<16,this.words[k]|=j<<I&67108863,this.words[k+1]=j>>>26-I&67108863,I+=24,I>=26&&(I-=26,k++);else if(N==="le")for(R=0,k=0;R<v.length;R+=3)j=v[R]|v[R+1]<<8|v[R+2]<<16,this.words[k]|=j<<I&67108863,this.words[k+1]=j>>>26-I&67108863,I+=24,I>=26&&(I-=26,k++);return this._strip()};function c(M,v){var S=M.charCodeAt(v);if(S>=48&&S<=57)return S-48;if(S>=65&&S<=70)return S-55;if(S>=97&&S<=102)return S-87;r(!1,"Invalid character in "+M)}function u(M,v,S){var N=c(M,S);return S-1>=v&&(N|=c(M,S-1)<<4),N}s.prototype._parseHex=function(v,S,N){this.length=Math.ceil((v.length-S)/6),this.words=new Array(this.length);for(var R=0;R<this.length;R++)this.words[R]=0;var k=0,j=0,I;if(N==="be")for(R=v.length-1;R>=S;R-=2)I=u(v,S,R)<<k,this.words[j]|=I&67108863,k>=18?(k-=18,j+=1,this.words[j]|=I>>>26):k+=8;else{var A=v.length-S;for(R=A%2===0?S+1:S;R<v.length;R+=2)I=u(v,S,R)<<k,this.words[j]|=I&67108863,k>=18?(k-=18,j+=1,this.words[j]|=I>>>26):k+=8}this._strip()};function h(M,v,S,N){for(var R=0,k=0,j=Math.min(M.length,S),I=v;I<j;I++){var A=M.charCodeAt(I)-48;R*=N,A>=49?k=A-49+10:A>=17?k=A-17+10:k=A,r(A>=0&&k<N,"Invalid character"),R+=k}return R}s.prototype._parseBase=function(v,S,N){this.words=[0],this.length=1;for(var R=0,k=1;k<=67108863;k*=S)R++;R--,k=k/S|0;for(var j=v.length-N,I=j%R,A=Math.min(j,j-I)+N,$=0,L=N;L<A;L+=R)$=h(v,L,L+R,S),this.imuln(k),this.words[0]+$<67108864?this.words[0]+=$:this._iaddn($);if(I!==0){var Y=1;for($=h(v,L,v.length,S),L=0;L<I;L++)Y*=S;this.imuln(Y),this.words[0]+$<67108864?this.words[0]+=$:this._iaddn($)}this._strip()},s.prototype.copy=function(v){v.words=new Array(this.length);for(var S=0;S<this.length;S++)v.words[S]=this.words[S];v.length=this.length,v.negative=this.negative,v.red=this.red};function f(M,v){M.words=v.words,M.length=v.length,M.negative=v.negative,M.red=v.red}if(s.prototype._move=function(v){f(v,this)},s.prototype.clone=function(){var v=new s(null);return this.copy(v),v},s.prototype._expand=function(v){for(;this.length<v;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=m}catch{s.prototype.inspect=m}else s.prototype.inspect=m;function m(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],w=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(v,S){v=v||10,S=S|0||1;var N;if(v===16||v==="hex"){N="";for(var R=0,k=0,j=0;j<this.length;j++){var I=this.words[j],A=((I<<R|k)&16777215).toString(16);k=I>>>24-R&16777215,R+=2,R>=26&&(R-=26,j--),k!==0||j!==this.length-1?N=g[6-A.length]+A+N:N=A+N}for(k!==0&&(N=k.toString(16)+N);N.length%S!==0;)N="0"+N;return this.negative!==0&&(N="-"+N),N}if(v===(v|0)&&v>=2&&v<=36){var $=b[v],L=w[v];N="";var Y=this.clone();for(Y.negative=0;!Y.isZero();){var le=Y.modrn(L).toString(v);Y=Y.idivn(L),Y.isZero()?N=le+N:N=g[$-le.length]+le+N}for(this.isZero()&&(N="0"+N);N.length%S!==0;)N="0"+N;return this.negative!==0&&(N="-"+N),N}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var v=this.words[0];return this.length===2?v+=this.words[1]*67108864:this.length===3&&this.words[2]===1?v+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-v:v},s.prototype.toJSON=function(){return this.toString(16,2)},l&&(s.prototype.toBuffer=function(v,S){return this.toArrayLike(l,v,S)}),s.prototype.toArray=function(v,S){return this.toArrayLike(Array,v,S)};var E=function(v,S){return v.allocUnsafe?v.allocUnsafe(S):new v(S)};s.prototype.toArrayLike=function(v,S,N){this._strip();var R=this.byteLength(),k=N||Math.max(1,R);r(R<=k,"byte array longer than desired length"),r(k>0,"Requested array length <= 0");var j=E(v,k),I=S==="le"?"LE":"BE";return this["_toArrayLike"+I](j,R),j},s.prototype._toArrayLikeLE=function(v,S){for(var N=0,R=0,k=0,j=0;k<this.length;k++){var I=this.words[k]<<j|R;v[N++]=I&255,N<v.length&&(v[N++]=I>>8&255),N<v.length&&(v[N++]=I>>16&255),j===6?(N<v.length&&(v[N++]=I>>24&255),R=0,j=0):(R=I>>>24,j+=2)}if(N<v.length)for(v[N++]=R;N<v.length;)v[N++]=0},s.prototype._toArrayLikeBE=function(v,S){for(var N=v.length-1,R=0,k=0,j=0;k<this.length;k++){var I=this.words[k]<<j|R;v[N--]=I&255,N>=0&&(v[N--]=I>>8&255),N>=0&&(v[N--]=I>>16&255),j===6?(N>=0&&(v[N--]=I>>24&255),R=0,j=0):(R=I>>>24,j+=2)}if(N>=0)for(v[N--]=R;N>=0;)v[N--]=0},Math.clz32?s.prototype._countBits=function(v){return 32-Math.clz32(v)}:s.prototype._countBits=function(v){var S=v,N=0;return S>=4096&&(N+=13,S>>>=13),S>=64&&(N+=7,S>>>=7),S>=8&&(N+=4,S>>>=4),S>=2&&(N+=2,S>>>=2),N+S},s.prototype._zeroBits=function(v){if(v===0)return 26;var S=v,N=0;return(S&8191)===0&&(N+=13,S>>>=13),(S&127)===0&&(N+=7,S>>>=7),(S&15)===0&&(N+=4,S>>>=4),(S&3)===0&&(N+=2,S>>>=2),(S&1)===0&&N++,N},s.prototype.bitLength=function(){var v=this.words[this.length-1],S=this._countBits(v);return(this.length-1)*26+S};function C(M){for(var v=new Array(M.bitLength()),S=0;S<v.length;S++){var N=S/26|0,R=S%26;v[S]=M.words[N]>>>R&1}return v}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var v=0,S=0;S<this.length;S++){var N=this._zeroBits(this.words[S]);if(v+=N,N!==26)break}return v},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(v){return this.negative!==0?this.abs().inotn(v).iaddn(1):this.clone()},s.prototype.fromTwos=function(v){return this.testn(v-1)?this.notn(v).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(v){for(;this.length<v.length;)this.words[this.length++]=0;for(var S=0;S<v.length;S++)this.words[S]=this.words[S]|v.words[S];return this._strip()},s.prototype.ior=function(v){return r((this.negative|v.negative)===0),this.iuor(v)},s.prototype.or=function(v){return this.length>v.length?this.clone().ior(v):v.clone().ior(this)},s.prototype.uor=function(v){return this.length>v.length?this.clone().iuor(v):v.clone().iuor(this)},s.prototype.iuand=function(v){var S;this.length>v.length?S=v:S=this;for(var N=0;N<S.length;N++)this.words[N]=this.words[N]&v.words[N];return this.length=S.length,this._strip()},s.prototype.iand=function(v){return r((this.negative|v.negative)===0),this.iuand(v)},s.prototype.and=function(v){return this.length>v.length?this.clone().iand(v):v.clone().iand(this)},s.prototype.uand=function(v){return this.length>v.length?this.clone().iuand(v):v.clone().iuand(this)},s.prototype.iuxor=function(v){var S,N;this.length>v.length?(S=this,N=v):(S=v,N=this);for(var R=0;R<N.length;R++)this.words[R]=S.words[R]^N.words[R];if(this!==S)for(;R<S.length;R++)this.words[R]=S.words[R];return this.length=S.length,this._strip()},s.prototype.ixor=function(v){return r((this.negative|v.negative)===0),this.iuxor(v)},s.prototype.xor=function(v){return this.length>v.length?this.clone().ixor(v):v.clone().ixor(this)},s.prototype.uxor=function(v){return this.length>v.length?this.clone().iuxor(v):v.clone().iuxor(this)},s.prototype.inotn=function(v){r(typeof v=="number"&&v>=0);var S=Math.ceil(v/26)|0,N=v%26;this._expand(S),N>0&&S--;for(var R=0;R<S;R++)this.words[R]=~this.words[R]&67108863;return N>0&&(this.words[R]=~this.words[R]&67108863>>26-N),this._strip()},s.prototype.notn=function(v){return this.clone().inotn(v)},s.prototype.setn=function(v,S){r(typeof v=="number"&&v>=0);var N=v/26|0,R=v%26;return this._expand(N+1),S?this.words[N]=this.words[N]|1<<R:this.words[N]=this.words[N]&~(1<<R),this._strip()},s.prototype.iadd=function(v){var S;if(this.negative!==0&&v.negative===0)return this.negative=0,S=this.isub(v),this.negative^=1,this._normSign();if(this.negative===0&&v.negative!==0)return v.negative=0,S=this.isub(v),v.negative=1,S._normSign();var N,R;this.length>v.length?(N=this,R=v):(N=v,R=this);for(var k=0,j=0;j<R.length;j++)S=(N.words[j]|0)+(R.words[j]|0)+k,this.words[j]=S&67108863,k=S>>>26;for(;k!==0&&j<N.length;j++)S=(N.words[j]|0)+k,this.words[j]=S&67108863,k=S>>>26;if(this.length=N.length,k!==0)this.words[this.length]=k,this.length++;else if(N!==this)for(;j<N.length;j++)this.words[j]=N.words[j];return this},s.prototype.add=function(v){var S;return v.negative!==0&&this.negative===0?(v.negative=0,S=this.sub(v),v.negative^=1,S):v.negative===0&&this.negative!==0?(this.negative=0,S=v.sub(this),this.negative=1,S):this.length>v.length?this.clone().iadd(v):v.clone().iadd(this)},s.prototype.isub=function(v){if(v.negative!==0){v.negative=0;var S=this.iadd(v);return v.negative=1,S._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(v),this.negative=1,this._normSign();var N=this.cmp(v);if(N===0)return this.negative=0,this.length=1,this.words[0]=0,this;var R,k;N>0?(R=this,k=v):(R=v,k=this);for(var j=0,I=0;I<k.length;I++)S=(R.words[I]|0)-(k.words[I]|0)+j,j=S>>26,this.words[I]=S&67108863;for(;j!==0&&I<R.length;I++)S=(R.words[I]|0)+j,j=S>>26,this.words[I]=S&67108863;if(j===0&&I<R.length&&R!==this)for(;I<R.length;I++)this.words[I]=R.words[I];return this.length=Math.max(this.length,I),R!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(v){return this.clone().isub(v)};function B(M,v,S){S.negative=v.negative^M.negative;var N=M.length+v.length|0;S.length=N,N=N-1|0;var R=M.words[0]|0,k=v.words[0]|0,j=R*k,I=j&67108863,A=j/67108864|0;S.words[0]=I;for(var $=1;$<N;$++){for(var L=A>>>26,Y=A&67108863,le=Math.min($,v.length-1),re=Math.max(0,$-M.length+1);re<=le;re++){var U=$-re|0;R=M.words[U]|0,k=v.words[re]|0,j=R*k+Y,L+=j/67108864|0,Y=j&67108863}S.words[$]=Y|0,A=L|0}return A!==0?S.words[$]=A|0:S.length--,S._strip()}var O=function(v,S,N){var R=v.words,k=S.words,j=N.words,I=0,A,$,L,Y=R[0]|0,le=Y&8191,re=Y>>>13,U=R[1]|0,K=U&8191,se=U>>>13,he=R[2]|0,ue=he&8191,ee=he>>>13,fe=R[3]|0,ge=fe&8191,xe=fe>>>13,_e=R[4]|0,Ie=_e&8191,De=_e>>>13,$e=R[5]|0,Ue=$e&8191,Be=$e>>>13,Ve=R[6]|0,He=Ve&8191,Ae=Ve>>>13,Ce=R[7]|0,Te=Ce&8191,ye=Ce>>>13,Fe=R[8]|0,qe=Fe&8191,oe=Fe>>>13,Q=R[9]|0,ie=Q&8191,pe=Q>>>13,be=k[0]|0,we=be&8191,Re=be>>>13,Ge=k[1]|0,Ye=Ge&8191,Je=Ge>>>13,st=k[2]|0,et=st&8191,tt=st>>>13,mt=k[3]|0,ut=mt&8191,nt=mt>>>13,yt=k[4]|0,ft=yt&8191,de=yt>>>13,ne=k[5]|0,ae=ne&8191,ve=ne>>>13,Ee=k[6]|0,Me=Ee&8191,Ne=Ee>>>13,it=k[7]|0,at=it&8191,Xe=it>>>13,ct=k[8]|0,Qe=ct&8191,rt=ct>>>13,Rt=k[9]|0,pt=Rt&8191,gt=Rt>>>13;N.negative=v.negative^S.negative,N.length=19,A=Math.imul(le,we),$=Math.imul(le,Re),$=$+Math.imul(re,we)|0,L=Math.imul(re,Re);var br=(I+A|0)+(($&8191)<<13)|0;I=(L+($>>>13)|0)+(br>>>26)|0,br&=67108863,A=Math.imul(K,we),$=Math.imul(K,Re),$=$+Math.imul(se,we)|0,L=Math.imul(se,Re),A=A+Math.imul(le,Ye)|0,$=$+Math.imul(le,Je)|0,$=$+Math.imul(re,Ye)|0,L=L+Math.imul(re,Je)|0;var lr=(I+A|0)+(($&8191)<<13)|0;I=(L+($>>>13)|0)+(lr>>>26)|0,lr&=67108863,A=Math.imul(ue,we),$=Math.imul(ue,Re),$=$+Math.imul(ee,we)|0,L=Math.imul(ee,Re),A=A+Math.imul(K,Ye)|0,$=$+Math.imul(K,Je)|0,$=$+Math.imul(se,Ye)|0,L=L+Math.imul(se,Je)|0,A=A+Math.imul(le,et)|0,$=$+Math.imul(le,tt)|0,$=$+Math.imul(re,et)|0,L=L+Math.imul(re,tt)|0;var er=(I+A|0)+(($&8191)<<13)|0;I=(L+($>>>13)|0)+(er>>>26)|0,er&=67108863,A=Math.imul(ge,we),$=Math.imul(ge,Re),$=$+Math.imul(xe,we)|0,L=Math.imul(xe,Re),A=A+Math.imul(ue,Ye)|0,$=$+Math.imul(ue,Je)|0,$=$+Math.imul(ee,Ye)|0,L=L+Math.imul(ee,Je)|0,A=A+Math.imul(K,et)|0,$=$+Math.imul(K,tt)|0,$=$+Math.imul(se,et)|0,L=L+Math.imul(se,tt)|0,A=A+Math.imul(le,ut)|0,$=$+Math.imul(le,nt)|0,$=$+Math.imul(re,ut)|0,L=L+Math.imul(re,nt)|0;var or=(I+A|0)+(($&8191)<<13)|0;I=(L+($>>>13)|0)+(or>>>26)|0,or&=67108863,A=Math.imul(Ie,we),$=Math.imul(Ie,Re),$=$+Math.imul(De,we)|0,L=Math.imul(De,Re),A=A+Math.imul(ge,Ye)|0,$=$+Math.imul(ge,Je)|0,$=$+Math.imul(xe,Ye)|0,L=L+Math.imul(xe,Je)|0,A=A+Math.imul(ue,et)|0,$=$+Math.imul(ue,tt)|0,$=$+Math.imul(ee,et)|0,L=L+Math.imul(ee,tt)|0,A=A+Math.imul(K,ut)|0,$=$+Math.imul(K,nt)|0,$=$+Math.imul(se,ut)|0,L=L+Math.imul(se,nt)|0,A=A+Math.imul(le,ft)|0,$=$+Math.imul(le,de)|0,$=$+Math.imul(re,ft)|0,L=L+Math.imul(re,de)|0;var Zt=(I+A|0)+(($&8191)<<13)|0;I=(L+($>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,A=Math.imul(Ue,we),$=Math.imul(Ue,Re),$=$+Math.imul(Be,we)|0,L=Math.imul(Be,Re),A=A+Math.imul(Ie,Ye)|0,$=$+Math.imul(Ie,Je)|0,$=$+Math.imul(De,Ye)|0,L=L+Math.imul(De,Je)|0,A=A+Math.imul(ge,et)|0,$=$+Math.imul(ge,tt)|0,$=$+Math.imul(xe,et)|0,L=L+Math.imul(xe,tt)|0,A=A+Math.imul(ue,ut)|0,$=$+Math.imul(ue,nt)|0,$=$+Math.imul(ee,ut)|0,L=L+Math.imul(ee,nt)|0,A=A+Math.imul(K,ft)|0,$=$+Math.imul(K,de)|0,$=$+Math.imul(se,ft)|0,L=L+Math.imul(se,de)|0,A=A+Math.imul(le,ae)|0,$=$+Math.imul(le,ve)|0,$=$+Math.imul(re,ae)|0,L=L+Math.imul(re,ve)|0;var Yt=(I+A|0)+(($&8191)<<13)|0;I=(L+($>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,A=Math.imul(He,we),$=Math.imul(He,Re),$=$+Math.imul(Ae,we)|0,L=Math.imul(Ae,Re),A=A+Math.imul(Ue,Ye)|0,$=$+Math.imul(Ue,Je)|0,$=$+Math.imul(Be,Ye)|0,L=L+Math.imul(Be,Je)|0,A=A+Math.imul(Ie,et)|0,$=$+Math.imul(Ie,tt)|0,$=$+Math.imul(De,et)|0,L=L+Math.imul(De,tt)|0,A=A+Math.imul(ge,ut)|0,$=$+Math.imul(ge,nt)|0,$=$+Math.imul(xe,ut)|0,L=L+Math.imul(xe,nt)|0,A=A+Math.imul(ue,ft)|0,$=$+Math.imul(ue,de)|0,$=$+Math.imul(ee,ft)|0,L=L+Math.imul(ee,de)|0,A=A+Math.imul(K,ae)|0,$=$+Math.imul(K,ve)|0,$=$+Math.imul(se,ae)|0,L=L+Math.imul(se,ve)|0,A=A+Math.imul(le,Me)|0,$=$+Math.imul(le,Ne)|0,$=$+Math.imul(re,Me)|0,L=L+Math.imul(re,Ne)|0;var tr=(I+A|0)+(($&8191)<<13)|0;I=(L+($>>>13)|0)+(tr>>>26)|0,tr&=67108863,A=Math.imul(Te,we),$=Math.imul(Te,Re),$=$+Math.imul(ye,we)|0,L=Math.imul(ye,Re),A=A+Math.imul(He,Ye)|0,$=$+Math.imul(He,Je)|0,$=$+Math.imul(Ae,Ye)|0,L=L+Math.imul(Ae,Je)|0,A=A+Math.imul(Ue,et)|0,$=$+Math.imul(Ue,tt)|0,$=$+Math.imul(Be,et)|0,L=L+Math.imul(Be,tt)|0,A=A+Math.imul(Ie,ut)|0,$=$+Math.imul(Ie,nt)|0,$=$+Math.imul(De,ut)|0,L=L+Math.imul(De,nt)|0,A=A+Math.imul(ge,ft)|0,$=$+Math.imul(ge,de)|0,$=$+Math.imul(xe,ft)|0,L=L+Math.imul(xe,de)|0,A=A+Math.imul(ue,ae)|0,$=$+Math.imul(ue,ve)|0,$=$+Math.imul(ee,ae)|0,L=L+Math.imul(ee,ve)|0,A=A+Math.imul(K,Me)|0,$=$+Math.imul(K,Ne)|0,$=$+Math.imul(se,Me)|0,L=L+Math.imul(se,Ne)|0,A=A+Math.imul(le,at)|0,$=$+Math.imul(le,Xe)|0,$=$+Math.imul(re,at)|0,L=L+Math.imul(re,Xe)|0;var Jt=(I+A|0)+(($&8191)<<13)|0;I=(L+($>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,A=Math.imul(qe,we),$=Math.imul(qe,Re),$=$+Math.imul(oe,we)|0,L=Math.imul(oe,Re),A=A+Math.imul(Te,Ye)|0,$=$+Math.imul(Te,Je)|0,$=$+Math.imul(ye,Ye)|0,L=L+Math.imul(ye,Je)|0,A=A+Math.imul(He,et)|0,$=$+Math.imul(He,tt)|0,$=$+Math.imul(Ae,et)|0,L=L+Math.imul(Ae,tt)|0,A=A+Math.imul(Ue,ut)|0,$=$+Math.imul(Ue,nt)|0,$=$+Math.imul(Be,ut)|0,L=L+Math.imul(Be,nt)|0,A=A+Math.imul(Ie,ft)|0,$=$+Math.imul(Ie,de)|0,$=$+Math.imul(De,ft)|0,L=L+Math.imul(De,de)|0,A=A+Math.imul(ge,ae)|0,$=$+Math.imul(ge,ve)|0,$=$+Math.imul(xe,ae)|0,L=L+Math.imul(xe,ve)|0,A=A+Math.imul(ue,Me)|0,$=$+Math.imul(ue,Ne)|0,$=$+Math.imul(ee,Me)|0,L=L+Math.imul(ee,Ne)|0,A=A+Math.imul(K,at)|0,$=$+Math.imul(K,Xe)|0,$=$+Math.imul(se,at)|0,L=L+Math.imul(se,Xe)|0,A=A+Math.imul(le,Qe)|0,$=$+Math.imul(le,rt)|0,$=$+Math.imul(re,Qe)|0,L=L+Math.imul(re,rt)|0;var kt=(I+A|0)+(($&8191)<<13)|0;I=(L+($>>>13)|0)+(kt>>>26)|0,kt&=67108863,A=Math.imul(ie,we),$=Math.imul(ie,Re),$=$+Math.imul(pe,we)|0,L=Math.imul(pe,Re),A=A+Math.imul(qe,Ye)|0,$=$+Math.imul(qe,Je)|0,$=$+Math.imul(oe,Ye)|0,L=L+Math.imul(oe,Je)|0,A=A+Math.imul(Te,et)|0,$=$+Math.imul(Te,tt)|0,$=$+Math.imul(ye,et)|0,L=L+Math.imul(ye,tt)|0,A=A+Math.imul(He,ut)|0,$=$+Math.imul(He,nt)|0,$=$+Math.imul(Ae,ut)|0,L=L+Math.imul(Ae,nt)|0,A=A+Math.imul(Ue,ft)|0,$=$+Math.imul(Ue,de)|0,$=$+Math.imul(Be,ft)|0,L=L+Math.imul(Be,de)|0,A=A+Math.imul(Ie,ae)|0,$=$+Math.imul(Ie,ve)|0,$=$+Math.imul(De,ae)|0,L=L+Math.imul(De,ve)|0,A=A+Math.imul(ge,Me)|0,$=$+Math.imul(ge,Ne)|0,$=$+Math.imul(xe,Me)|0,L=L+Math.imul(xe,Ne)|0,A=A+Math.imul(ue,at)|0,$=$+Math.imul(ue,Xe)|0,$=$+Math.imul(ee,at)|0,L=L+Math.imul(ee,Xe)|0,A=A+Math.imul(K,Qe)|0,$=$+Math.imul(K,rt)|0,$=$+Math.imul(se,Qe)|0,L=L+Math.imul(se,rt)|0,A=A+Math.imul(le,pt)|0,$=$+Math.imul(le,gt)|0,$=$+Math.imul(re,pt)|0,L=L+Math.imul(re,gt)|0;var cr=(I+A|0)+(($&8191)<<13)|0;I=(L+($>>>13)|0)+(cr>>>26)|0,cr&=67108863,A=Math.imul(ie,Ye),$=Math.imul(ie,Je),$=$+Math.imul(pe,Ye)|0,L=Math.imul(pe,Je),A=A+Math.imul(qe,et)|0,$=$+Math.imul(qe,tt)|0,$=$+Math.imul(oe,et)|0,L=L+Math.imul(oe,tt)|0,A=A+Math.imul(Te,ut)|0,$=$+Math.imul(Te,nt)|0,$=$+Math.imul(ye,ut)|0,L=L+Math.imul(ye,nt)|0,A=A+Math.imul(He,ft)|0,$=$+Math.imul(He,de)|0,$=$+Math.imul(Ae,ft)|0,L=L+Math.imul(Ae,de)|0,A=A+Math.imul(Ue,ae)|0,$=$+Math.imul(Ue,ve)|0,$=$+Math.imul(Be,ae)|0,L=L+Math.imul(Be,ve)|0,A=A+Math.imul(Ie,Me)|0,$=$+Math.imul(Ie,Ne)|0,$=$+Math.imul(De,Me)|0,L=L+Math.imul(De,Ne)|0,A=A+Math.imul(ge,at)|0,$=$+Math.imul(ge,Xe)|0,$=$+Math.imul(xe,at)|0,L=L+Math.imul(xe,Xe)|0,A=A+Math.imul(ue,Qe)|0,$=$+Math.imul(ue,rt)|0,$=$+Math.imul(ee,Qe)|0,L=L+Math.imul(ee,rt)|0,A=A+Math.imul(K,pt)|0,$=$+Math.imul(K,gt)|0,$=$+Math.imul(se,pt)|0,L=L+Math.imul(se,gt)|0;var ur=(I+A|0)+(($&8191)<<13)|0;I=(L+($>>>13)|0)+(ur>>>26)|0,ur&=67108863,A=Math.imul(ie,et),$=Math.imul(ie,tt),$=$+Math.imul(pe,et)|0,L=Math.imul(pe,tt),A=A+Math.imul(qe,ut)|0,$=$+Math.imul(qe,nt)|0,$=$+Math.imul(oe,ut)|0,L=L+Math.imul(oe,nt)|0,A=A+Math.imul(Te,ft)|0,$=$+Math.imul(Te,de)|0,$=$+Math.imul(ye,ft)|0,L=L+Math.imul(ye,de)|0,A=A+Math.imul(He,ae)|0,$=$+Math.imul(He,ve)|0,$=$+Math.imul(Ae,ae)|0,L=L+Math.imul(Ae,ve)|0,A=A+Math.imul(Ue,Me)|0,$=$+Math.imul(Ue,Ne)|0,$=$+Math.imul(Be,Me)|0,L=L+Math.imul(Be,Ne)|0,A=A+Math.imul(Ie,at)|0,$=$+Math.imul(Ie,Xe)|0,$=$+Math.imul(De,at)|0,L=L+Math.imul(De,Xe)|0,A=A+Math.imul(ge,Qe)|0,$=$+Math.imul(ge,rt)|0,$=$+Math.imul(xe,Qe)|0,L=L+Math.imul(xe,rt)|0,A=A+Math.imul(ue,pt)|0,$=$+Math.imul(ue,gt)|0,$=$+Math.imul(ee,pt)|0,L=L+Math.imul(ee,gt)|0;var Gt=(I+A|0)+(($&8191)<<13)|0;I=(L+($>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,A=Math.imul(ie,ut),$=Math.imul(ie,nt),$=$+Math.imul(pe,ut)|0,L=Math.imul(pe,nt),A=A+Math.imul(qe,ft)|0,$=$+Math.imul(qe,de)|0,$=$+Math.imul(oe,ft)|0,L=L+Math.imul(oe,de)|0,A=A+Math.imul(Te,ae)|0,$=$+Math.imul(Te,ve)|0,$=$+Math.imul(ye,ae)|0,L=L+Math.imul(ye,ve)|0,A=A+Math.imul(He,Me)|0,$=$+Math.imul(He,Ne)|0,$=$+Math.imul(Ae,Me)|0,L=L+Math.imul(Ae,Ne)|0,A=A+Math.imul(Ue,at)|0,$=$+Math.imul(Ue,Xe)|0,$=$+Math.imul(Be,at)|0,L=L+Math.imul(Be,Xe)|0,A=A+Math.imul(Ie,Qe)|0,$=$+Math.imul(Ie,rt)|0,$=$+Math.imul(De,Qe)|0,L=L+Math.imul(De,rt)|0,A=A+Math.imul(ge,pt)|0,$=$+Math.imul(ge,gt)|0,$=$+Math.imul(xe,pt)|0,L=L+Math.imul(xe,gt)|0;var Xt=(I+A|0)+(($&8191)<<13)|0;I=(L+($>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,A=Math.imul(ie,ft),$=Math.imul(ie,de),$=$+Math.imul(pe,ft)|0,L=Math.imul(pe,de),A=A+Math.imul(qe,ae)|0,$=$+Math.imul(qe,ve)|0,$=$+Math.imul(oe,ae)|0,L=L+Math.imul(oe,ve)|0,A=A+Math.imul(Te,Me)|0,$=$+Math.imul(Te,Ne)|0,$=$+Math.imul(ye,Me)|0,L=L+Math.imul(ye,Ne)|0,A=A+Math.imul(He,at)|0,$=$+Math.imul(He,Xe)|0,$=$+Math.imul(Ae,at)|0,L=L+Math.imul(Ae,Xe)|0,A=A+Math.imul(Ue,Qe)|0,$=$+Math.imul(Ue,rt)|0,$=$+Math.imul(Be,Qe)|0,L=L+Math.imul(Be,rt)|0,A=A+Math.imul(Ie,pt)|0,$=$+Math.imul(Ie,gt)|0,$=$+Math.imul(De,pt)|0,L=L+Math.imul(De,gt)|0;var wr=(I+A|0)+(($&8191)<<13)|0;I=(L+($>>>13)|0)+(wr>>>26)|0,wr&=67108863,A=Math.imul(ie,ae),$=Math.imul(ie,ve),$=$+Math.imul(pe,ae)|0,L=Math.imul(pe,ve),A=A+Math.imul(qe,Me)|0,$=$+Math.imul(qe,Ne)|0,$=$+Math.imul(oe,Me)|0,L=L+Math.imul(oe,Ne)|0,A=A+Math.imul(Te,at)|0,$=$+Math.imul(Te,Xe)|0,$=$+Math.imul(ye,at)|0,L=L+Math.imul(ye,Xe)|0,A=A+Math.imul(He,Qe)|0,$=$+Math.imul(He,rt)|0,$=$+Math.imul(Ae,Qe)|0,L=L+Math.imul(Ae,rt)|0,A=A+Math.imul(Ue,pt)|0,$=$+Math.imul(Ue,gt)|0,$=$+Math.imul(Be,pt)|0,L=L+Math.imul(Be,gt)|0;var dr=(I+A|0)+(($&8191)<<13)|0;I=(L+($>>>13)|0)+(dr>>>26)|0,dr&=67108863,A=Math.imul(ie,Me),$=Math.imul(ie,Ne),$=$+Math.imul(pe,Me)|0,L=Math.imul(pe,Ne),A=A+Math.imul(qe,at)|0,$=$+Math.imul(qe,Xe)|0,$=$+Math.imul(oe,at)|0,L=L+Math.imul(oe,Xe)|0,A=A+Math.imul(Te,Qe)|0,$=$+Math.imul(Te,rt)|0,$=$+Math.imul(ye,Qe)|0,L=L+Math.imul(ye,rt)|0,A=A+Math.imul(He,pt)|0,$=$+Math.imul(He,gt)|0,$=$+Math.imul(Ae,pt)|0,L=L+Math.imul(Ae,gt)|0;var fr=(I+A|0)+(($&8191)<<13)|0;I=(L+($>>>13)|0)+(fr>>>26)|0,fr&=67108863,A=Math.imul(ie,at),$=Math.imul(ie,Xe),$=$+Math.imul(pe,at)|0,L=Math.imul(pe,Xe),A=A+Math.imul(qe,Qe)|0,$=$+Math.imul(qe,rt)|0,$=$+Math.imul(oe,Qe)|0,L=L+Math.imul(oe,rt)|0,A=A+Math.imul(Te,pt)|0,$=$+Math.imul(Te,gt)|0,$=$+Math.imul(ye,pt)|0,L=L+Math.imul(ye,gt)|0;var _r=(I+A|0)+(($&8191)<<13)|0;I=(L+($>>>13)|0)+(_r>>>26)|0,_r&=67108863,A=Math.imul(ie,Qe),$=Math.imul(ie,rt),$=$+Math.imul(pe,Qe)|0,L=Math.imul(pe,rt),A=A+Math.imul(qe,pt)|0,$=$+Math.imul(qe,gt)|0,$=$+Math.imul(oe,pt)|0,L=L+Math.imul(oe,gt)|0;var Tr=(I+A|0)+(($&8191)<<13)|0;I=(L+($>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,A=Math.imul(ie,pt),$=Math.imul(ie,gt),$=$+Math.imul(pe,pt)|0,L=Math.imul(pe,gt);var Mr=(I+A|0)+(($&8191)<<13)|0;return I=(L+($>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,j[0]=br,j[1]=lr,j[2]=er,j[3]=or,j[4]=Zt,j[5]=Yt,j[6]=tr,j[7]=Jt,j[8]=kt,j[9]=cr,j[10]=ur,j[11]=Gt,j[12]=Xt,j[13]=wr,j[14]=dr,j[15]=fr,j[16]=_r,j[17]=Tr,j[18]=Mr,I!==0&&(j[19]=I,N.length++),N};Math.imul||(O=B);function P(M,v,S){S.negative=v.negative^M.negative,S.length=M.length+v.length;for(var N=0,R=0,k=0;k<S.length-1;k++){var j=R;R=0;for(var I=N&67108863,A=Math.min(k,v.length-1),$=Math.max(0,k-M.length+1);$<=A;$++){var L=k-$,Y=M.words[L]|0,le=v.words[$]|0,re=Y*le,U=re&67108863;j=j+(re/67108864|0)|0,U=U+I|0,I=U&67108863,j=j+(U>>>26)|0,R+=j>>>26,j&=67108863}S.words[k]=I,N=j,j=R}return N!==0?S.words[k]=N:S.length--,S._strip()}function q(M,v,S){return P(M,v,S)}s.prototype.mulTo=function(v,S){var N,R=this.length+v.length;return this.length===10&&v.length===10?N=O(this,v,S):R<63?N=B(this,v,S):R<1024?N=P(this,v,S):N=q(this,v,S),N},s.prototype.mul=function(v){var S=new s(null);return S.words=new Array(this.length+v.length),this.mulTo(v,S)},s.prototype.mulf=function(v){var S=new s(null);return S.words=new Array(this.length+v.length),q(this,v,S)},s.prototype.imul=function(v){return this.clone().mulTo(v,this)},s.prototype.imuln=function(v){var S=v<0;S&&(v=-v),r(typeof v=="number"),r(v<67108864);for(var N=0,R=0;R<this.length;R++){var k=(this.words[R]|0)*v,j=(k&67108863)+(N&67108863);N>>=26,N+=k/67108864|0,N+=j>>>26,this.words[R]=j&67108863}return N!==0&&(this.words[R]=N,this.length++),this.length=v===0?1:this.length,S?this.ineg():this},s.prototype.muln=function(v){return this.clone().imuln(v)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(v){var S=C(v);if(S.length===0)return new s(1);for(var N=this,R=0;R<S.length&&S[R]===0;R++,N=N.sqr());if(++R<S.length)for(var k=N.sqr();R<S.length;R++,k=k.sqr())S[R]!==0&&(N=N.mul(k));return N},s.prototype.iushln=function(v){r(typeof v=="number"&&v>=0);var S=v%26,N=(v-S)/26,R=67108863>>>26-S<<26-S,k;if(S!==0){var j=0;for(k=0;k<this.length;k++){var I=this.words[k]&R,A=(this.words[k]|0)-I<<S;this.words[k]=A|j,j=I>>>26-S}j&&(this.words[k]=j,this.length++)}if(N!==0){for(k=this.length-1;k>=0;k--)this.words[k+N]=this.words[k];for(k=0;k<N;k++)this.words[k]=0;this.length+=N}return this._strip()},s.prototype.ishln=function(v){return r(this.negative===0),this.iushln(v)},s.prototype.iushrn=function(v,S,N){r(typeof v=="number"&&v>=0);var R;S?R=(S-S%26)/26:R=0;var k=v%26,j=Math.min((v-k)/26,this.length),I=67108863^67108863>>>k<<k,A=N;if(R-=j,R=Math.max(0,R),A){for(var $=0;$<j;$++)A.words[$]=this.words[$];A.length=j}if(j!==0)if(this.length>j)for(this.length-=j,$=0;$<this.length;$++)this.words[$]=this.words[$+j];else this.words[0]=0,this.length=1;var L=0;for($=this.length-1;$>=0&&(L!==0||$>=R);$--){var Y=this.words[$]|0;this.words[$]=L<<26-k|Y>>>k,L=Y&I}return A&&L!==0&&(A.words[A.length++]=L),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(v,S,N){return r(this.negative===0),this.iushrn(v,S,N)},s.prototype.shln=function(v){return this.clone().ishln(v)},s.prototype.ushln=function(v){return this.clone().iushln(v)},s.prototype.shrn=function(v){return this.clone().ishrn(v)},s.prototype.ushrn=function(v){return this.clone().iushrn(v)},s.prototype.testn=function(v){r(typeof v=="number"&&v>=0);var S=v%26,N=(v-S)/26,R=1<<S;if(this.length<=N)return!1;var k=this.words[N];return!!(k&R)},s.prototype.imaskn=function(v){r(typeof v=="number"&&v>=0);var S=v%26,N=(v-S)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=N)return this;if(S!==0&&N++,this.length=Math.min(N,this.length),S!==0){var R=67108863^67108863>>>S<<S;this.words[this.length-1]&=R}return this._strip()},s.prototype.maskn=function(v){return this.clone().imaskn(v)},s.prototype.iaddn=function(v){return r(typeof v=="number"),r(v<67108864),v<0?this.isubn(-v):this.negative!==0?this.length===1&&(this.words[0]|0)<=v?(this.words[0]=v-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(v),this.negative=1,this):this._iaddn(v)},s.prototype._iaddn=function(v){this.words[0]+=v;for(var S=0;S<this.length&&this.words[S]>=67108864;S++)this.words[S]-=67108864,S===this.length-1?this.words[S+1]=1:this.words[S+1]++;return this.length=Math.max(this.length,S+1),this},s.prototype.isubn=function(v){if(r(typeof v=="number"),r(v<67108864),v<0)return this.iaddn(-v);if(this.negative!==0)return this.negative=0,this.iaddn(v),this.negative=1,this;if(this.words[0]-=v,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var S=0;S<this.length&&this.words[S]<0;S++)this.words[S]+=67108864,this.words[S+1]-=1;return this._strip()},s.prototype.addn=function(v){return this.clone().iaddn(v)},s.prototype.subn=function(v){return this.clone().isubn(v)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(v,S,N){var R=v.length+N,k;this._expand(R);var j,I=0;for(k=0;k<v.length;k++){j=(this.words[k+N]|0)+I;var A=(v.words[k]|0)*S;j-=A&67108863,I=(j>>26)-(A/67108864|0),this.words[k+N]=j&67108863}for(;k<this.length-N;k++)j=(this.words[k+N]|0)+I,I=j>>26,this.words[k+N]=j&67108863;if(I===0)return this._strip();for(r(I===-1),I=0,k=0;k<this.length;k++)j=-(this.words[k]|0)+I,I=j>>26,this.words[k]=j&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(v,S){var N=this.length-v.length,R=this.clone(),k=v,j=k.words[k.length-1]|0,I=this._countBits(j);N=26-I,N!==0&&(k=k.ushln(N),R.iushln(N),j=k.words[k.length-1]|0);var A=R.length-k.length,$;if(S!=="mod"){$=new s(null),$.length=A+1,$.words=new Array($.length);for(var L=0;L<$.length;L++)$.words[L]=0}var Y=R.clone()._ishlnsubmul(k,1,A);Y.negative===0&&(R=Y,$&&($.words[A]=1));for(var le=A-1;le>=0;le--){var re=(R.words[k.length+le]|0)*67108864+(R.words[k.length+le-1]|0);for(re=Math.min(re/j|0,67108863),R._ishlnsubmul(k,re,le);R.negative!==0;)re--,R.negative=0,R._ishlnsubmul(k,1,le),R.isZero()||(R.negative^=1);$&&($.words[le]=re)}return $&&$._strip(),R._strip(),S!=="div"&&N!==0&&R.iushrn(N),{div:$||null,mod:R}},s.prototype.divmod=function(v,S,N){if(r(!v.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var R,k,j;return this.negative!==0&&v.negative===0?(j=this.neg().divmod(v,S),S!=="mod"&&(R=j.div.neg()),S!=="div"&&(k=j.mod.neg(),N&&k.negative!==0&&k.iadd(v)),{div:R,mod:k}):this.negative===0&&v.negative!==0?(j=this.divmod(v.neg(),S),S!=="mod"&&(R=j.div.neg()),{div:R,mod:j.mod}):(this.negative&v.negative)!==0?(j=this.neg().divmod(v.neg(),S),S!=="div"&&(k=j.mod.neg(),N&&k.negative!==0&&k.isub(v)),{div:j.div,mod:k}):v.length>this.length||this.cmp(v)<0?{div:new s(0),mod:this}:v.length===1?S==="div"?{div:this.divn(v.words[0]),mod:null}:S==="mod"?{div:null,mod:new s(this.modrn(v.words[0]))}:{div:this.divn(v.words[0]),mod:new s(this.modrn(v.words[0]))}:this._wordDiv(v,S)},s.prototype.div=function(v){return this.divmod(v,"div",!1).div},s.prototype.mod=function(v){return this.divmod(v,"mod",!1).mod},s.prototype.umod=function(v){return this.divmod(v,"mod",!0).mod},s.prototype.divRound=function(v){var S=this.divmod(v);if(S.mod.isZero())return S.div;var N=S.div.negative!==0?S.mod.isub(v):S.mod,R=v.ushrn(1),k=v.andln(1),j=N.cmp(R);return j<0||k===1&&j===0?S.div:S.div.negative!==0?S.div.isubn(1):S.div.iaddn(1)},s.prototype.modrn=function(v){var S=v<0;S&&(v=-v),r(v<=67108863);for(var N=(1<<26)%v,R=0,k=this.length-1;k>=0;k--)R=(N*R+(this.words[k]|0))%v;return S?-R:R},s.prototype.modn=function(v){return this.modrn(v)},s.prototype.idivn=function(v){var S=v<0;S&&(v=-v),r(v<=67108863);for(var N=0,R=this.length-1;R>=0;R--){var k=(this.words[R]|0)+N*67108864;this.words[R]=k/v|0,N=k%v}return this._strip(),S?this.ineg():this},s.prototype.divn=function(v){return this.clone().idivn(v)},s.prototype.egcd=function(v){r(v.negative===0),r(!v.isZero());var S=this,N=v.clone();S.negative!==0?S=S.umod(v):S=S.clone();for(var R=new s(1),k=new s(0),j=new s(0),I=new s(1),A=0;S.isEven()&&N.isEven();)S.iushrn(1),N.iushrn(1),++A;for(var $=N.clone(),L=S.clone();!S.isZero();){for(var Y=0,le=1;(S.words[0]&le)===0&&Y<26;++Y,le<<=1);if(Y>0)for(S.iushrn(Y);Y-- >0;)(R.isOdd()||k.isOdd())&&(R.iadd($),k.isub(L)),R.iushrn(1),k.iushrn(1);for(var re=0,U=1;(N.words[0]&U)===0&&re<26;++re,U<<=1);if(re>0)for(N.iushrn(re);re-- >0;)(j.isOdd()||I.isOdd())&&(j.iadd($),I.isub(L)),j.iushrn(1),I.iushrn(1);S.cmp(N)>=0?(S.isub(N),R.isub(j),k.isub(I)):(N.isub(S),j.isub(R),I.isub(k))}return{a:j,b:I,gcd:N.iushln(A)}},s.prototype._invmp=function(v){r(v.negative===0),r(!v.isZero());var S=this,N=v.clone();S.negative!==0?S=S.umod(v):S=S.clone();for(var R=new s(1),k=new s(0),j=N.clone();S.cmpn(1)>0&&N.cmpn(1)>0;){for(var I=0,A=1;(S.words[0]&A)===0&&I<26;++I,A<<=1);if(I>0)for(S.iushrn(I);I-- >0;)R.isOdd()&&R.iadd(j),R.iushrn(1);for(var $=0,L=1;(N.words[0]&L)===0&&$<26;++$,L<<=1);if($>0)for(N.iushrn($);$-- >0;)k.isOdd()&&k.iadd(j),k.iushrn(1);S.cmp(N)>=0?(S.isub(N),R.isub(k)):(N.isub(S),k.isub(R))}var Y;return S.cmpn(1)===0?Y=R:Y=k,Y.cmpn(0)<0&&Y.iadd(v),Y},s.prototype.gcd=function(v){if(this.isZero())return v.abs();if(v.isZero())return this.abs();var S=this.clone(),N=v.clone();S.negative=0,N.negative=0;for(var R=0;S.isEven()&&N.isEven();R++)S.iushrn(1),N.iushrn(1);do{for(;S.isEven();)S.iushrn(1);for(;N.isEven();)N.iushrn(1);var k=S.cmp(N);if(k<0){var j=S;S=N,N=j}else if(k===0||N.cmpn(1)===0)break;S.isub(N)}while(!0);return N.iushln(R)},s.prototype.invm=function(v){return this.egcd(v).a.umod(v)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(v){return this.words[0]&v},s.prototype.bincn=function(v){r(typeof v=="number");var S=v%26,N=(v-S)/26,R=1<<S;if(this.length<=N)return this._expand(N+1),this.words[N]|=R,this;for(var k=R,j=N;k!==0&&j<this.length;j++){var I=this.words[j]|0;I+=k,k=I>>>26,I&=67108863,this.words[j]=I}return k!==0&&(this.words[j]=k,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(v){var S=v<0;if(this.negative!==0&&!S)return-1;if(this.negative===0&&S)return 1;this._strip();var N;if(this.length>1)N=1;else{S&&(v=-v),r(v<=67108863,"Number is too big");var R=this.words[0]|0;N=R===v?0:R<v?-1:1}return this.negative!==0?-N|0:N},s.prototype.cmp=function(v){if(this.negative!==0&&v.negative===0)return-1;if(this.negative===0&&v.negative!==0)return 1;var S=this.ucmp(v);return this.negative!==0?-S|0:S},s.prototype.ucmp=function(v){if(this.length>v.length)return 1;if(this.length<v.length)return-1;for(var S=0,N=this.length-1;N>=0;N--){var R=this.words[N]|0,k=v.words[N]|0;if(R!==k){R<k?S=-1:R>k&&(S=1);break}}return S},s.prototype.gtn=function(v){return this.cmpn(v)===1},s.prototype.gt=function(v){return this.cmp(v)===1},s.prototype.gten=function(v){return this.cmpn(v)>=0},s.prototype.gte=function(v){return this.cmp(v)>=0},s.prototype.ltn=function(v){return this.cmpn(v)===-1},s.prototype.lt=function(v){return this.cmp(v)===-1},s.prototype.lten=function(v){return this.cmpn(v)<=0},s.prototype.lte=function(v){return this.cmp(v)<=0},s.prototype.eqn=function(v){return this.cmpn(v)===0},s.prototype.eq=function(v){return this.cmp(v)===0},s.red=function(v){return new G(v)},s.prototype.toRed=function(v){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),v.convertTo(this)._forceRed(v)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(v){return this.red=v,this},s.prototype.forceRed=function(v){return r(!this.red,"Already a number in reduction context"),this._forceRed(v)},s.prototype.redAdd=function(v){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,v)},s.prototype.redIAdd=function(v){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,v)},s.prototype.redSub=function(v){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,v)},s.prototype.redISub=function(v){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,v)},s.prototype.redShl=function(v){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,v)},s.prototype.redMul=function(v){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,v),this.red.mul(this,v)},s.prototype.redIMul=function(v){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,v),this.red.imul(this,v)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(v){return r(this.red&&!v.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,v)};var z={k256:null,p224:null,p192:null,p25519:null};function V(M,v){this.name=M,this.p=new s(v,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}V.prototype._tmp=function(){var v=new s(null);return v.words=new Array(Math.ceil(this.n/13)),v},V.prototype.ireduce=function(v){var S=v,N;do this.split(S,this.tmp),S=this.imulK(S),S=S.iadd(this.tmp),N=S.bitLength();while(N>this.n);var R=N<this.n?-1:S.ucmp(this.p);return R===0?(S.words[0]=0,S.length=1):R>0?S.isub(this.p):S.strip!==void 0?S.strip():S._strip(),S},V.prototype.split=function(v,S){v.iushrn(this.n,0,S)},V.prototype.imulK=function(v){return v.imul(this.k)};function Z(){V.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(Z,V),Z.prototype.split=function(v,S){for(var N=4194303,R=Math.min(v.length,9),k=0;k<R;k++)S.words[k]=v.words[k];if(S.length=R,v.length<=9){v.words[0]=0,v.length=1;return}var j=v.words[9];for(S.words[S.length++]=j&N,k=10;k<v.length;k++){var I=v.words[k]|0;v.words[k-10]=(I&N)<<4|j>>>22,j=I}j>>>=22,v.words[k-10]=j,j===0&&v.length>10?v.length-=10:v.length-=9},Z.prototype.imulK=function(v){v.words[v.length]=0,v.words[v.length+1]=0,v.length+=2;for(var S=0,N=0;N<v.length;N++){var R=v.words[N]|0;S+=R*977,v.words[N]=S&67108863,S=R*64+(S/67108864|0)}return v.words[v.length-1]===0&&(v.length--,v.words[v.length-1]===0&&v.length--),v};function J(){V.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(J,V);function W(){V.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(W,V);function te(){V.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(te,V),te.prototype.imulK=function(v){for(var S=0,N=0;N<v.length;N++){var R=(v.words[N]|0)*19+S,k=R&67108863;R>>>=26,v.words[N]=k,S=R}return S!==0&&(v.words[v.length++]=S),v},s._prime=function(v){if(z[v])return z[v];var S;if(v==="k256")S=new Z;else if(v==="p224")S=new J;else if(v==="p192")S=new W;else if(v==="p25519")S=new te;else throw new Error("Unknown prime "+v);return z[v]=S,S};function G(M){if(typeof M=="string"){var v=s._prime(M);this.m=v.p,this.prime=v}else r(M.gtn(1),"modulus must be greater than 1"),this.m=M,this.prime=null}G.prototype._verify1=function(v){r(v.negative===0,"red works only with positives"),r(v.red,"red works only with red numbers")},G.prototype._verify2=function(v,S){r((v.negative|S.negative)===0,"red works only with positives"),r(v.red&&v.red===S.red,"red works only with red numbers")},G.prototype.imod=function(v){return this.prime?this.prime.ireduce(v)._forceRed(this):(f(v,v.umod(this.m)._forceRed(this)),v)},G.prototype.neg=function(v){return v.isZero()?v.clone():this.m.sub(v)._forceRed(this)},G.prototype.add=function(v,S){this._verify2(v,S);var N=v.add(S);return N.cmp(this.m)>=0&&N.isub(this.m),N._forceRed(this)},G.prototype.iadd=function(v,S){this._verify2(v,S);var N=v.iadd(S);return N.cmp(this.m)>=0&&N.isub(this.m),N},G.prototype.sub=function(v,S){this._verify2(v,S);var N=v.sub(S);return N.cmpn(0)<0&&N.iadd(this.m),N._forceRed(this)},G.prototype.isub=function(v,S){this._verify2(v,S);var N=v.isub(S);return N.cmpn(0)<0&&N.iadd(this.m),N},G.prototype.shl=function(v,S){return this._verify1(v),this.imod(v.ushln(S))},G.prototype.imul=function(v,S){return this._verify2(v,S),this.imod(v.imul(S))},G.prototype.mul=function(v,S){return this._verify2(v,S),this.imod(v.mul(S))},G.prototype.isqr=function(v){return this.imul(v,v.clone())},G.prototype.sqr=function(v){return this.mul(v,v)},G.prototype.sqrt=function(v){if(v.isZero())return v.clone();var S=this.m.andln(3);if(r(S%2===1),S===3){var N=this.m.add(new s(1)).iushrn(2);return this.pow(v,N)}for(var R=this.m.subn(1),k=0;!R.isZero()&&R.andln(1)===0;)k++,R.iushrn(1);r(!R.isZero());var j=new s(1).toRed(this),I=j.redNeg(),A=this.m.subn(1).iushrn(1),$=this.m.bitLength();for($=new s(2*$*$).toRed(this);this.pow($,A).cmp(I)!==0;)$.redIAdd(I);for(var L=this.pow($,R),Y=this.pow(v,R.addn(1).iushrn(1)),le=this.pow(v,R),re=k;le.cmp(j)!==0;){for(var U=le,K=0;U.cmp(j)!==0;K++)U=U.redSqr();r(K<re);var se=this.pow(L,new s(1).iushln(re-K-1));Y=Y.redMul(se),L=se.redSqr(),le=le.redMul(L),re=K}return Y},G.prototype.invm=function(v){var S=v._invmp(this.m);return S.negative!==0?(S.negative=0,this.imod(S).redNeg()):this.imod(S)},G.prototype.pow=function(v,S){if(S.isZero())return new s(1).toRed(this);if(S.cmpn(1)===0)return v.clone();var N=4,R=new Array(1<<N);R[0]=new s(1).toRed(this),R[1]=v;for(var k=2;k<R.length;k++)R[k]=this.mul(R[k-1],v);var j=R[0],I=0,A=0,$=S.bitLength()%26;for($===0&&($=26),k=S.length-1;k>=0;k--){for(var L=S.words[k],Y=$-1;Y>=0;Y--){var le=L>>Y&1;if(j!==R[0]&&(j=this.sqr(j)),le===0&&I===0){A=0;continue}I<<=1,I|=le,A++,!(A!==N&&(k!==0||Y!==0))&&(j=this.mul(j,R[I]),A=0,I=0)}$=26}return j},G.prototype.convertTo=function(v){var S=v.umod(this.m);return S===v?S.clone():S},G.prototype.convertFrom=function(v){var S=v.clone();return S.red=null,S},s.mont=function(v){return new D(v)};function D(M){G.call(this,M),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(D,G),D.prototype.convertTo=function(v){return this.imod(v.ushln(this.shift))},D.prototype.convertFrom=function(v){var S=this.imod(v.mul(this.rinv));return S.red=null,S},D.prototype.imul=function(v,S){if(v.isZero()||S.isZero())return v.words[0]=0,v.length=1,v;var N=v.imul(S),R=N.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),k=N.isub(R).iushrn(this.shift),j=k;return k.cmp(this.m)>=0?j=k.isub(this.m):k.cmpn(0)<0&&(j=k.iadd(this.m)),j._forceRed(this)},D.prototype.mul=function(v,S){if(v.isZero()||S.isZero())return new s(0)._forceRed(this);var N=v.mul(S),R=N.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),k=N.isub(R).iushrn(this.shift),j=k;return k.cmp(this.m)>=0?j=k.isub(this.m):k.cmpn(0)<0&&(j=k.iadd(this.m)),j._forceRed(this)},D.prototype.invm=function(v){var S=this.imod(v._invmp(this.m).mul(this.r2));return S._forceRed(this)}})(t,bn$2)})(bn$3)),bn$3.exports}var browserifyRsa,hasRequiredBrowserifyRsa;function requireBrowserifyRsa(){if(hasRequiredBrowserifyRsa)return browserifyRsa;hasRequiredBrowserifyRsa=1;var t=requireBn$1(),e=requireBrowser$b(),a=requireSafeBuffer$2().Buffer;function r(l){var c=l.modulus.byteLength(),u;do u=new t(e(c));while(u.cmp(l.modulus)>=0||!u.umod(l.prime1)||!u.umod(l.prime2));return u}function o(l){var c=r(l),u=c.toRed(t.mont(l.modulus)).redPow(new t(l.publicExponent)).fromRed();return{blinder:u,unblinder:c.invm(l.modulus)}}function s(l,c){var u=o(c),h=c.modulus.byteLength(),f=new t(l).mul(u.blinder).umod(c.modulus),m=f.toRed(t.mont(c.prime1)),g=f.toRed(t.mont(c.prime2)),b=c.coefficient,w=c.prime1,E=c.prime2,C=m.redPow(c.exponent1).fromRed(),B=g.redPow(c.exponent2).fromRed(),O=C.isub(B).imul(b).umod(w).imul(E);return B.iadd(O).imul(u.unblinder).umod(c.modulus).toArrayLike(a,"be",h)}return s.getr=r,browserifyRsa=s,browserifyRsa}var elliptic$1={};const version$1="6.6.1",require$$0={version:version$1};var utils$3={},utils$2={},hasRequiredUtils$2;function requireUtils$2(){return hasRequiredUtils$2||(hasRequiredUtils$2=1,(function(t){var e=t;function a(s,l){if(Array.isArray(s))return s.slice();if(!s)return[];var c=[];if(typeof s!="string"){for(var u=0;u<s.length;u++)c[u]=s[u]|0;return c}if(l==="hex"){s=s.replace(/[^a-z0-9]+/ig,""),s.length%2!==0&&(s="0"+s);for(var u=0;u<s.length;u+=2)c.push(parseInt(s[u]+s[u+1],16))}else for(var u=0;u<s.length;u++){var h=s.charCodeAt(u),f=h>>8,m=h&255;f?c.push(f,m):c.push(m)}return c}e.toArray=a;function r(s){return s.length===1?"0"+s:s}e.zero2=r;function o(s){for(var l="",c=0;c<s.length;c++)l+=r(s[c].toString(16));return l}e.toHex=o,e.encode=function(l,c){return c==="hex"?o(l):l}})(utils$2)),utils$2}var hasRequiredUtils$1;function requireUtils$1(){return hasRequiredUtils$1||(hasRequiredUtils$1=1,(function(t){var e=t,a=requireBn$2(),r=requireMinimalisticAssert(),o=requireUtils$2();e.assert=r,e.toArray=o.toArray,e.zero2=o.zero2,e.toHex=o.toHex,e.encode=o.encode;function s(f,m,g){var b=new Array(Math.max(f.bitLength(),g)+1),w;for(w=0;w<b.length;w+=1)b[w]=0;var E=1<<m+1,C=f.clone();for(w=0;w<b.length;w++){var B,O=C.andln(E-1);C.isOdd()?(O>(E>>1)-1?B=(E>>1)-O:B=O,C.isubn(B)):B=0,b[w]=B,C.iushrn(1)}return b}e.getNAF=s;function l(f,m){var g=[[],[]];f=f.clone(),m=m.clone();for(var b=0,w=0,E;f.cmpn(-b)>0||m.cmpn(-w)>0;){var C=f.andln(3)+b&3,B=m.andln(3)+w&3;C===3&&(C=-1),B===3&&(B=-1);var O;(C&1)===0?O=0:(E=f.andln(7)+b&7,(E===3||E===5)&&B===2?O=-C:O=C),g[0].push(O);var P;(B&1)===0?P=0:(E=m.andln(7)+w&7,(E===3||E===5)&&C===2?P=-B:P=B),g[1].push(P),2*b===O+1&&(b=1-b),2*w===P+1&&(w=1-w),f.iushrn(1),m.iushrn(1)}return g}e.getJSF=l;function c(f,m,g){var b="_"+m;f.prototype[m]=function(){return this[b]!==void 0?this[b]:this[b]=g.call(this)}}e.cachedProperty=c;function u(f){return typeof f=="string"?e.toArray(f,"hex"):f}e.parseBytes=u;function h(f){return new a(f,"hex","le")}e.intFromLE=h})(utils$3)),utils$3}var curve={},base$1,hasRequiredBase$1;function requireBase$1(){if(hasRequiredBase$1)return base$1;hasRequiredBase$1=1;var t=requireBn$2(),e=requireUtils$1(),a=e.getNAF,r=e.getJSF,o=e.assert;function s(c,u){this.type=c,this.p=new t(u.p,16),this.red=u.prime?t.red(u.prime):t.mont(this.p),this.zero=new t(0).toRed(this.red),this.one=new t(1).toRed(this.red),this.two=new t(2).toRed(this.red),this.n=u.n&&new t(u.n,16),this.g=u.g&&this.pointFromJSON(u.g,u.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var h=this.n&&this.p.div(this.n);!h||h.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}base$1=s,s.prototype.point=function(){throw new Error("Not implemented")},s.prototype.validate=function(){throw new Error("Not implemented")},s.prototype._fixedNafMul=function(u,h){o(u.precomputed);var f=u._getDoubles(),m=a(h,1,this._bitLength),g=(1<<f.step+1)-(f.step%2===0?2:1);g/=3;var b=[],w,E;for(w=0;w<m.length;w+=f.step){E=0;for(var C=w+f.step-1;C>=w;C--)E=(E<<1)+m[C];b.push(E)}for(var B=this.jpoint(null,null,null),O=this.jpoint(null,null,null),P=g;P>0;P--){for(w=0;w<b.length;w++)E=b[w],E===P?O=O.mixedAdd(f.points[w]):E===-P&&(O=O.mixedAdd(f.points[w].neg()));B=B.add(O)}return B.toP()},s.prototype._wnafMul=function(u,h){var f=4,m=u._getNAFPoints(f);f=m.wnd;for(var g=m.points,b=a(h,f,this._bitLength),w=this.jpoint(null,null,null),E=b.length-1;E>=0;E--){for(var C=0;E>=0&&b[E]===0;E--)C++;if(E>=0&&C++,w=w.dblp(C),E<0)break;var B=b[E];o(B!==0),u.type==="affine"?B>0?w=w.mixedAdd(g[B-1>>1]):w=w.mixedAdd(g[-B-1>>1].neg()):B>0?w=w.add(g[B-1>>1]):w=w.add(g[-B-1>>1].neg())}return u.type==="affine"?w.toP():w},s.prototype._wnafMulAdd=function(u,h,f,m,g){var b=this._wnafT1,w=this._wnafT2,E=this._wnafT3,C=0,B,O,P;for(B=0;B<m;B++){P=h[B];var q=P._getNAFPoints(u);b[B]=q.wnd,w[B]=q.points}for(B=m-1;B>=1;B-=2){var z=B-1,V=B;if(b[z]!==1||b[V]!==1){E[z]=a(f[z],b[z],this._bitLength),E[V]=a(f[V],b[V],this._bitLength),C=Math.max(E[z].length,C),C=Math.max(E[V].length,C);continue}var Z=[h[z],null,null,h[V]];h[z].y.cmp(h[V].y)===0?(Z[1]=h[z].add(h[V]),Z[2]=h[z].toJ().mixedAdd(h[V].neg())):h[z].y.cmp(h[V].y.redNeg())===0?(Z[1]=h[z].toJ().mixedAdd(h[V]),Z[2]=h[z].add(h[V].neg())):(Z[1]=h[z].toJ().mixedAdd(h[V]),Z[2]=h[z].toJ().mixedAdd(h[V].neg()));var J=[-3,-1,-5,-7,0,7,5,1,3],W=r(f[z],f[V]);for(C=Math.max(W[0].length,C),E[z]=new Array(C),E[V]=new Array(C),O=0;O<C;O++){var te=W[0][O]|0,G=W[1][O]|0;E[z][O]=J[(te+1)*3+(G+1)],E[V][O]=0,w[z]=Z}}var D=this.jpoint(null,null,null),M=this._wnafT4;for(B=C;B>=0;B--){for(var v=0;B>=0;){var S=!0;for(O=0;O<m;O++)M[O]=E[O][B]|0,M[O]!==0&&(S=!1);if(!S)break;v++,B--}if(B>=0&&v++,D=D.dblp(v),B<0)break;for(O=0;O<m;O++){var N=M[O];N!==0&&(N>0?P=w[O][N-1>>1]:N<0&&(P=w[O][-N-1>>1].neg()),P.type==="affine"?D=D.mixedAdd(P):D=D.add(P))}}for(B=0;B<m;B++)w[B]=null;return g?D:D.toP()};function l(c,u){this.curve=c,this.type=u,this.precomputed=null}return s.BasePoint=l,l.prototype.eq=function(){throw new Error("Not implemented")},l.prototype.validate=function(){return this.curve.validate(this)},s.prototype.decodePoint=function(u,h){u=e.toArray(u,h);var f=this.p.byteLength();if((u[0]===4||u[0]===6||u[0]===7)&&u.length-1===2*f){u[0]===6?o(u[u.length-1]%2===0):u[0]===7&&o(u[u.length-1]%2===1);var m=this.point(u.slice(1,1+f),u.slice(1+f,1+2*f));return m}else if((u[0]===2||u[0]===3)&&u.length-1===f)return this.pointFromX(u.slice(1,1+f),u[0]===3);throw new Error("Unknown point format")},l.prototype.encodeCompressed=function(u){return this.encode(u,!0)},l.prototype._encode=function(u){var h=this.curve.p.byteLength(),f=this.getX().toArray("be",h);return u?[this.getY().isEven()?2:3].concat(f):[4].concat(f,this.getY().toArray("be",h))},l.prototype.encode=function(u,h){return e.encode(this._encode(h),u)},l.prototype.precompute=function(u){if(this.precomputed)return this;var h={doubles:null,naf:null,beta:null};return h.naf=this._getNAFPoints(8),h.doubles=this._getDoubles(4,u),h.beta=this._getBeta(),this.precomputed=h,this},l.prototype._hasDoubles=function(u){if(!this.precomputed)return!1;var h=this.precomputed.doubles;return h?h.points.length>=Math.ceil((u.bitLength()+1)/h.step):!1},l.prototype._getDoubles=function(u,h){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var f=[this],m=this,g=0;g<h;g+=u){for(var b=0;b<u;b++)m=m.dbl();f.push(m)}return{step:u,points:f}},l.prototype._getNAFPoints=function(u){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var h=[this],f=(1<<u)-1,m=f===1?null:this.dbl(),g=1;g<f;g++)h[g]=h[g-1].add(m);return{wnd:u,points:h}},l.prototype._getBeta=function(){return null},l.prototype.dblp=function(u){for(var h=this,f=0;f<u;f++)h=h.dbl();return h},base$1}var short,hasRequiredShort;function requireShort(){if(hasRequiredShort)return short;hasRequiredShort=1;var t=requireUtils$1(),e=requireBn$2(),a=requireInherits_browser(),r=requireBase$1(),o=t.assert;function s(u){r.call(this,"short",u),this.a=new e(u.a,16).toRed(this.red),this.b=new e(u.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(u),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}a(s,r),short=s,s.prototype._getEndomorphism=function(h){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var f,m;if(h.beta)f=new e(h.beta,16).toRed(this.red);else{var g=this._getEndoRoots(this.p);f=g[0].cmp(g[1])<0?g[0]:g[1],f=f.toRed(this.red)}if(h.lambda)m=new e(h.lambda,16);else{var b=this._getEndoRoots(this.n);this.g.mul(b[0]).x.cmp(this.g.x.redMul(f))===0?m=b[0]:(m=b[1],o(this.g.mul(m).x.cmp(this.g.x.redMul(f))===0))}var w;return h.basis?w=h.basis.map(function(E){return{a:new e(E.a,16),b:new e(E.b,16)}}):w=this._getEndoBasis(m),{beta:f,lambda:m,basis:w}}},s.prototype._getEndoRoots=function(h){var f=h===this.p?this.red:e.mont(h),m=new e(2).toRed(f).redInvm(),g=m.redNeg(),b=new e(3).toRed(f).redNeg().redSqrt().redMul(m),w=g.redAdd(b).fromRed(),E=g.redSub(b).fromRed();return[w,E]},s.prototype._getEndoBasis=function(h){for(var f=this.n.ushrn(Math.floor(this.n.bitLength()/2)),m=h,g=this.n.clone(),b=new e(1),w=new e(0),E=new e(0),C=new e(1),B,O,P,q,z,V,Z,J=0,W,te;m.cmpn(0)!==0;){var G=g.div(m);W=g.sub(G.mul(m)),te=E.sub(G.mul(b));var D=C.sub(G.mul(w));if(!P&&W.cmp(f)<0)B=Z.neg(),O=b,P=W.neg(),q=te;else if(P&&++J===2)break;Z=W,g=m,m=W,E=b,b=te,C=w,w=D}z=W.neg(),V=te;var M=P.sqr().add(q.sqr()),v=z.sqr().add(V.sqr());return v.cmp(M)>=0&&(z=B,V=O),P.negative&&(P=P.neg(),q=q.neg()),z.negative&&(z=z.neg(),V=V.neg()),[{a:P,b:q},{a:z,b:V}]},s.prototype._endoSplit=function(h){var f=this.endo.basis,m=f[0],g=f[1],b=g.b.mul(h).divRound(this.n),w=m.b.neg().mul(h).divRound(this.n),E=b.mul(m.a),C=w.mul(g.a),B=b.mul(m.b),O=w.mul(g.b),P=h.sub(E).sub(C),q=B.add(O).neg();return{k1:P,k2:q}},s.prototype.pointFromX=function(h,f){h=new e(h,16),h.red||(h=h.toRed(this.red));var m=h.redSqr().redMul(h).redIAdd(h.redMul(this.a)).redIAdd(this.b),g=m.redSqrt();if(g.redSqr().redSub(m).cmp(this.zero)!==0)throw new Error("invalid point");var b=g.fromRed().isOdd();return(f&&!b||!f&&b)&&(g=g.redNeg()),this.point(h,g)},s.prototype.validate=function(h){if(h.inf)return!0;var f=h.x,m=h.y,g=this.a.redMul(f),b=f.redSqr().redMul(f).redIAdd(g).redIAdd(this.b);return m.redSqr().redISub(b).cmpn(0)===0},s.prototype._endoWnafMulAdd=function(h,f,m){for(var g=this._endoWnafT1,b=this._endoWnafT2,w=0;w<h.length;w++){var E=this._endoSplit(f[w]),C=h[w],B=C._getBeta();E.k1.negative&&(E.k1.ineg(),C=C.neg(!0)),E.k2.negative&&(E.k2.ineg(),B=B.neg(!0)),g[w*2]=C,g[w*2+1]=B,b[w*2]=E.k1,b[w*2+1]=E.k2}for(var O=this._wnafMulAdd(1,g,b,w*2,m),P=0;P<w*2;P++)g[P]=null,b[P]=null;return O};function l(u,h,f,m){r.BasePoint.call(this,u,"affine"),h===null&&f===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new e(h,16),this.y=new e(f,16),m&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}a(l,r.BasePoint),s.prototype.point=function(h,f,m){return new l(this,h,f,m)},s.prototype.pointFromJSON=function(h,f){return l.fromJSON(this,h,f)},l.prototype._getBeta=function(){if(this.curve.endo){var h=this.precomputed;if(h&&h.beta)return h.beta;var f=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(h){var m=this.curve,g=function(b){return m.point(b.x.redMul(m.endo.beta),b.y)};h.beta=f,f.precomputed={beta:null,naf:h.naf&&{wnd:h.naf.wnd,points:h.naf.points.map(g)},doubles:h.doubles&&{step:h.doubles.step,points:h.doubles.points.map(g)}}}return f}},l.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},l.fromJSON=function(h,f,m){typeof f=="string"&&(f=JSON.parse(f));var g=h.point(f[0],f[1],m);if(!f[2])return g;function b(E){return h.point(E[0],E[1],m)}var w=f[2];return g.precomputed={beta:null,doubles:w.doubles&&{step:w.doubles.step,points:[g].concat(w.doubles.points.map(b))},naf:w.naf&&{wnd:w.naf.wnd,points:[g].concat(w.naf.points.map(b))}},g},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return this.inf},l.prototype.add=function(h){if(this.inf)return h;if(h.inf)return this;if(this.eq(h))return this.dbl();if(this.neg().eq(h))return this.curve.point(null,null);if(this.x.cmp(h.x)===0)return this.curve.point(null,null);var f=this.y.redSub(h.y);f.cmpn(0)!==0&&(f=f.redMul(this.x.redSub(h.x).redInvm()));var m=f.redSqr().redISub(this.x).redISub(h.x),g=f.redMul(this.x.redSub(m)).redISub(this.y);return this.curve.point(m,g)},l.prototype.dbl=function(){if(this.inf)return this;var h=this.y.redAdd(this.y);if(h.cmpn(0)===0)return this.curve.point(null,null);var f=this.curve.a,m=this.x.redSqr(),g=h.redInvm(),b=m.redAdd(m).redIAdd(m).redIAdd(f).redMul(g),w=b.redSqr().redISub(this.x.redAdd(this.x)),E=b.redMul(this.x.redSub(w)).redISub(this.y);return this.curve.point(w,E)},l.prototype.getX=function(){return this.x.fromRed()},l.prototype.getY=function(){return this.y.fromRed()},l.prototype.mul=function(h){return h=new e(h,16),this.isInfinity()?this:this._hasDoubles(h)?this.curve._fixedNafMul(this,h):this.curve.endo?this.curve._endoWnafMulAdd([this],[h]):this.curve._wnafMul(this,h)},l.prototype.mulAdd=function(h,f,m){var g=[this,f],b=[h,m];return this.curve.endo?this.curve._endoWnafMulAdd(g,b):this.curve._wnafMulAdd(1,g,b,2)},l.prototype.jmulAdd=function(h,f,m){var g=[this,f],b=[h,m];return this.curve.endo?this.curve._endoWnafMulAdd(g,b,!0):this.curve._wnafMulAdd(1,g,b,2,!0)},l.prototype.eq=function(h){return this===h||this.inf===h.inf&&(this.inf||this.x.cmp(h.x)===0&&this.y.cmp(h.y)===0)},l.prototype.neg=function(h){if(this.inf)return this;var f=this.curve.point(this.x,this.y.redNeg());if(h&&this.precomputed){var m=this.precomputed,g=function(b){return b.neg()};f.precomputed={naf:m.naf&&{wnd:m.naf.wnd,points:m.naf.points.map(g)},doubles:m.doubles&&{step:m.doubles.step,points:m.doubles.points.map(g)}}}return f},l.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var h=this.curve.jpoint(this.x,this.y,this.curve.one);return h};function c(u,h,f,m){r.BasePoint.call(this,u,"jacobian"),h===null&&f===null&&m===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new e(0)):(this.x=new e(h,16),this.y=new e(f,16),this.z=new e(m,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}return a(c,r.BasePoint),s.prototype.jpoint=function(h,f,m){return new c(this,h,f,m)},c.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var h=this.z.redInvm(),f=h.redSqr(),m=this.x.redMul(f),g=this.y.redMul(f).redMul(h);return this.curve.point(m,g)},c.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},c.prototype.add=function(h){if(this.isInfinity())return h;if(h.isInfinity())return this;var f=h.z.redSqr(),m=this.z.redSqr(),g=this.x.redMul(f),b=h.x.redMul(m),w=this.y.redMul(f.redMul(h.z)),E=h.y.redMul(m.redMul(this.z)),C=g.redSub(b),B=w.redSub(E);if(C.cmpn(0)===0)return B.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var O=C.redSqr(),P=O.redMul(C),q=g.redMul(O),z=B.redSqr().redIAdd(P).redISub(q).redISub(q),V=B.redMul(q.redISub(z)).redISub(w.redMul(P)),Z=this.z.redMul(h.z).redMul(C);return this.curve.jpoint(z,V,Z)},c.prototype.mixedAdd=function(h){if(this.isInfinity())return h.toJ();if(h.isInfinity())return this;var f=this.z.redSqr(),m=this.x,g=h.x.redMul(f),b=this.y,w=h.y.redMul(f).redMul(this.z),E=m.redSub(g),C=b.redSub(w);if(E.cmpn(0)===0)return C.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var B=E.redSqr(),O=B.redMul(E),P=m.redMul(B),q=C.redSqr().redIAdd(O).redISub(P).redISub(P),z=C.redMul(P.redISub(q)).redISub(b.redMul(O)),V=this.z.redMul(E);return this.curve.jpoint(q,z,V)},c.prototype.dblp=function(h){if(h===0)return this;if(this.isInfinity())return this;if(!h)return this.dbl();var f;if(this.curve.zeroA||this.curve.threeA){var m=this;for(f=0;f<h;f++)m=m.dbl();return m}var g=this.curve.a,b=this.curve.tinv,w=this.x,E=this.y,C=this.z,B=C.redSqr().redSqr(),O=E.redAdd(E);for(f=0;f<h;f++){var P=w.redSqr(),q=O.redSqr(),z=q.redSqr(),V=P.redAdd(P).redIAdd(P).redIAdd(g.redMul(B)),Z=w.redMul(q),J=V.redSqr().redISub(Z.redAdd(Z)),W=Z.redISub(J),te=V.redMul(W);te=te.redIAdd(te).redISub(z);var G=O.redMul(C);f+1<h&&(B=B.redMul(z)),w=J,C=G,O=te}return this.curve.jpoint(w,O.redMul(b),C)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},c.prototype._zeroDbl=function(){var h,f,m;if(this.zOne){var g=this.x.redSqr(),b=this.y.redSqr(),w=b.redSqr(),E=this.x.redAdd(b).redSqr().redISub(g).redISub(w);E=E.redIAdd(E);var C=g.redAdd(g).redIAdd(g),B=C.redSqr().redISub(E).redISub(E),O=w.redIAdd(w);O=O.redIAdd(O),O=O.redIAdd(O),h=B,f=C.redMul(E.redISub(B)).redISub(O),m=this.y.redAdd(this.y)}else{var P=this.x.redSqr(),q=this.y.redSqr(),z=q.redSqr(),V=this.x.redAdd(q).redSqr().redISub(P).redISub(z);V=V.redIAdd(V);var Z=P.redAdd(P).redIAdd(P),J=Z.redSqr(),W=z.redIAdd(z);W=W.redIAdd(W),W=W.redIAdd(W),h=J.redISub(V).redISub(V),f=Z.redMul(V.redISub(h)).redISub(W),m=this.y.redMul(this.z),m=m.redIAdd(m)}return this.curve.jpoint(h,f,m)},c.prototype._threeDbl=function(){var h,f,m;if(this.zOne){var g=this.x.redSqr(),b=this.y.redSqr(),w=b.redSqr(),E=this.x.redAdd(b).redSqr().redISub(g).redISub(w);E=E.redIAdd(E);var C=g.redAdd(g).redIAdd(g).redIAdd(this.curve.a),B=C.redSqr().redISub(E).redISub(E);h=B;var O=w.redIAdd(w);O=O.redIAdd(O),O=O.redIAdd(O),f=C.redMul(E.redISub(B)).redISub(O),m=this.y.redAdd(this.y)}else{var P=this.z.redSqr(),q=this.y.redSqr(),z=this.x.redMul(q),V=this.x.redSub(P).redMul(this.x.redAdd(P));V=V.redAdd(V).redIAdd(V);var Z=z.redIAdd(z);Z=Z.redIAdd(Z);var J=Z.redAdd(Z);h=V.redSqr().redISub(J),m=this.y.redAdd(this.z).redSqr().redISub(q).redISub(P);var W=q.redSqr();W=W.redIAdd(W),W=W.redIAdd(W),W=W.redIAdd(W),f=V.redMul(Z.redISub(h)).redISub(W)}return this.curve.jpoint(h,f,m)},c.prototype._dbl=function(){var h=this.curve.a,f=this.x,m=this.y,g=this.z,b=g.redSqr().redSqr(),w=f.redSqr(),E=m.redSqr(),C=w.redAdd(w).redIAdd(w).redIAdd(h.redMul(b)),B=f.redAdd(f);B=B.redIAdd(B);var O=B.redMul(E),P=C.redSqr().redISub(O.redAdd(O)),q=O.redISub(P),z=E.redSqr();z=z.redIAdd(z),z=z.redIAdd(z),z=z.redIAdd(z);var V=C.redMul(q).redISub(z),Z=m.redAdd(m).redMul(g);return this.curve.jpoint(P,V,Z)},c.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var h=this.x.redSqr(),f=this.y.redSqr(),m=this.z.redSqr(),g=f.redSqr(),b=h.redAdd(h).redIAdd(h),w=b.redSqr(),E=this.x.redAdd(f).redSqr().redISub(h).redISub(g);E=E.redIAdd(E),E=E.redAdd(E).redIAdd(E),E=E.redISub(w);var C=E.redSqr(),B=g.redIAdd(g);B=B.redIAdd(B),B=B.redIAdd(B),B=B.redIAdd(B);var O=b.redIAdd(E).redSqr().redISub(w).redISub(C).redISub(B),P=f.redMul(O);P=P.redIAdd(P),P=P.redIAdd(P);var q=this.x.redMul(C).redISub(P);q=q.redIAdd(q),q=q.redIAdd(q);var z=this.y.redMul(O.redMul(B.redISub(O)).redISub(E.redMul(C)));z=z.redIAdd(z),z=z.redIAdd(z),z=z.redIAdd(z);var V=this.z.redAdd(E).redSqr().redISub(m).redISub(C);return this.curve.jpoint(q,z,V)},c.prototype.mul=function(h,f){return h=new e(h,f),this.curve._wnafMul(this,h)},c.prototype.eq=function(h){if(h.type==="affine")return this.eq(h.toJ());if(this===h)return!0;var f=this.z.redSqr(),m=h.z.redSqr();if(this.x.redMul(m).redISub(h.x.redMul(f)).cmpn(0)!==0)return!1;var g=f.redMul(this.z),b=m.redMul(h.z);return this.y.redMul(b).redISub(h.y.redMul(g)).cmpn(0)===0},c.prototype.eqXToP=function(h){var f=this.z.redSqr(),m=h.toRed(this.curve.red).redMul(f);if(this.x.cmp(m)===0)return!0;for(var g=h.clone(),b=this.curve.redN.redMul(f);;){if(g.iadd(this.curve.n),g.cmp(this.curve.p)>=0)return!1;if(m.redIAdd(b),this.x.cmp(m)===0)return!0}},c.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},c.prototype.isInfinity=function(){return this.z.cmpn(0)===0},short}var mont,hasRequiredMont;function requireMont(){if(hasRequiredMont)return mont;hasRequiredMont=1;var t=requireBn$2(),e=requireInherits_browser(),a=requireBase$1(),r=requireUtils$1();function o(l){a.call(this,"mont",l),this.a=new t(l.a,16).toRed(this.red),this.b=new t(l.b,16).toRed(this.red),this.i4=new t(4).toRed(this.red).redInvm(),this.two=new t(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}e(o,a),mont=o,o.prototype.validate=function(c){var u=c.normalize().x,h=u.redSqr(),f=h.redMul(u).redAdd(h.redMul(this.a)).redAdd(u),m=f.redSqrt();return m.redSqr().cmp(f)===0};function s(l,c,u){a.BasePoint.call(this,l,"projective"),c===null&&u===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new t(c,16),this.z=new t(u,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}return e(s,a.BasePoint),o.prototype.decodePoint=function(c,u){return this.point(r.toArray(c,u),1)},o.prototype.point=function(c,u){return new s(this,c,u)},o.prototype.pointFromJSON=function(c){return s.fromJSON(this,c)},s.prototype.precompute=function(){},s.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},s.fromJSON=function(c,u){return new s(c,u[0],u[1]||c.one)},s.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},s.prototype.isInfinity=function(){return this.z.cmpn(0)===0},s.prototype.dbl=function(){var c=this.x.redAdd(this.z),u=c.redSqr(),h=this.x.redSub(this.z),f=h.redSqr(),m=u.redSub(f),g=u.redMul(f),b=m.redMul(f.redAdd(this.curve.a24.redMul(m)));return this.curve.point(g,b)},s.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},s.prototype.diffAdd=function(c,u){var h=this.x.redAdd(this.z),f=this.x.redSub(this.z),m=c.x.redAdd(c.z),g=c.x.redSub(c.z),b=g.redMul(h),w=m.redMul(f),E=u.z.redMul(b.redAdd(w).redSqr()),C=u.x.redMul(b.redISub(w).redSqr());return this.curve.point(E,C)},s.prototype.mul=function(c){for(var u=c.clone(),h=this,f=this.curve.point(null,null),m=this,g=[];u.cmpn(0)!==0;u.iushrn(1))g.push(u.andln(1));for(var b=g.length-1;b>=0;b--)g[b]===0?(h=h.diffAdd(f,m),f=f.dbl()):(f=h.diffAdd(f,m),h=h.dbl());return f},s.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},s.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},s.prototype.eq=function(c){return this.getX().cmp(c.getX())===0},s.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},s.prototype.getX=function(){return this.normalize(),this.x.fromRed()},mont}var edwards,hasRequiredEdwards;function requireEdwards(){if(hasRequiredEdwards)return edwards;hasRequiredEdwards=1;var t=requireUtils$1(),e=requireBn$2(),a=requireInherits_browser(),r=requireBase$1(),o=t.assert;function s(c){this.twisted=(c.a|0)!==1,this.mOneA=this.twisted&&(c.a|0)===-1,this.extended=this.mOneA,r.call(this,"edwards",c),this.a=new e(c.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new e(c.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new e(c.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),o(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(c.c|0)===1}a(s,r),edwards=s,s.prototype._mulA=function(u){return this.mOneA?u.redNeg():this.a.redMul(u)},s.prototype._mulC=function(u){return this.oneC?u:this.c.redMul(u)},s.prototype.jpoint=function(u,h,f,m){return this.point(u,h,f,m)},s.prototype.pointFromX=function(u,h){u=new e(u,16),u.red||(u=u.toRed(this.red));var f=u.redSqr(),m=this.c2.redSub(this.a.redMul(f)),g=this.one.redSub(this.c2.redMul(this.d).redMul(f)),b=m.redMul(g.redInvm()),w=b.redSqrt();if(w.redSqr().redSub(b).cmp(this.zero)!==0)throw new Error("invalid point");var E=w.fromRed().isOdd();return(h&&!E||!h&&E)&&(w=w.redNeg()),this.point(u,w)},s.prototype.pointFromY=function(u,h){u=new e(u,16),u.red||(u=u.toRed(this.red));var f=u.redSqr(),m=f.redSub(this.c2),g=f.redMul(this.d).redMul(this.c2).redSub(this.a),b=m.redMul(g.redInvm());if(b.cmp(this.zero)===0){if(h)throw new Error("invalid point");return this.point(this.zero,u)}var w=b.redSqrt();if(w.redSqr().redSub(b).cmp(this.zero)!==0)throw new Error("invalid point");return w.fromRed().isOdd()!==h&&(w=w.redNeg()),this.point(w,u)},s.prototype.validate=function(u){if(u.isInfinity())return!0;u.normalize();var h=u.x.redSqr(),f=u.y.redSqr(),m=h.redMul(this.a).redAdd(f),g=this.c2.redMul(this.one.redAdd(this.d.redMul(h).redMul(f)));return m.cmp(g)===0};function l(c,u,h,f,m){r.BasePoint.call(this,c,"projective"),u===null&&h===null&&f===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new e(u,16),this.y=new e(h,16),this.z=f?new e(f,16):this.curve.one,this.t=m&&new e(m,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}return a(l,r.BasePoint),s.prototype.pointFromJSON=function(u){return l.fromJSON(this,u)},s.prototype.point=function(u,h,f,m){return new l(this,u,h,f,m)},l.fromJSON=function(u,h){return new l(u,h[0],h[1],h[2])},l.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},l.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},l.prototype._extDbl=function(){var u=this.x.redSqr(),h=this.y.redSqr(),f=this.z.redSqr();f=f.redIAdd(f);var m=this.curve._mulA(u),g=this.x.redAdd(this.y).redSqr().redISub(u).redISub(h),b=m.redAdd(h),w=b.redSub(f),E=m.redSub(h),C=g.redMul(w),B=b.redMul(E),O=g.redMul(E),P=w.redMul(b);return this.curve.point(C,B,P,O)},l.prototype._projDbl=function(){var u=this.x.redAdd(this.y).redSqr(),h=this.x.redSqr(),f=this.y.redSqr(),m,g,b,w,E,C;if(this.curve.twisted){w=this.curve._mulA(h);var B=w.redAdd(f);this.zOne?(m=u.redSub(h).redSub(f).redMul(B.redSub(this.curve.two)),g=B.redMul(w.redSub(f)),b=B.redSqr().redSub(B).redSub(B)):(E=this.z.redSqr(),C=B.redSub(E).redISub(E),m=u.redSub(h).redISub(f).redMul(C),g=B.redMul(w.redSub(f)),b=B.redMul(C))}else w=h.redAdd(f),E=this.curve._mulC(this.z).redSqr(),C=w.redSub(E).redSub(E),m=this.curve._mulC(u.redISub(w)).redMul(C),g=this.curve._mulC(w).redMul(h.redISub(f)),b=w.redMul(C);return this.curve.point(m,g,b)},l.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},l.prototype._extAdd=function(u){var h=this.y.redSub(this.x).redMul(u.y.redSub(u.x)),f=this.y.redAdd(this.x).redMul(u.y.redAdd(u.x)),m=this.t.redMul(this.curve.dd).redMul(u.t),g=this.z.redMul(u.z.redAdd(u.z)),b=f.redSub(h),w=g.redSub(m),E=g.redAdd(m),C=f.redAdd(h),B=b.redMul(w),O=E.redMul(C),P=b.redMul(C),q=w.redMul(E);return this.curve.point(B,O,q,P)},l.prototype._projAdd=function(u){var h=this.z.redMul(u.z),f=h.redSqr(),m=this.x.redMul(u.x),g=this.y.redMul(u.y),b=this.curve.d.redMul(m).redMul(g),w=f.redSub(b),E=f.redAdd(b),C=this.x.redAdd(this.y).redMul(u.x.redAdd(u.y)).redISub(m).redISub(g),B=h.redMul(w).redMul(C),O,P;return this.curve.twisted?(O=h.redMul(E).redMul(g.redSub(this.curve._mulA(m))),P=w.redMul(E)):(O=h.redMul(E).redMul(g.redSub(m)),P=this.curve._mulC(w).redMul(E)),this.curve.point(B,O,P)},l.prototype.add=function(u){return this.isInfinity()?u:u.isInfinity()?this:this.curve.extended?this._extAdd(u):this._projAdd(u)},l.prototype.mul=function(u){return this._hasDoubles(u)?this.curve._fixedNafMul(this,u):this.curve._wnafMul(this,u)},l.prototype.mulAdd=function(u,h,f){return this.curve._wnafMulAdd(1,[this,h],[u,f],2,!1)},l.prototype.jmulAdd=function(u,h,f){return this.curve._wnafMulAdd(1,[this,h],[u,f],2,!0)},l.prototype.normalize=function(){if(this.zOne)return this;var u=this.z.redInvm();return this.x=this.x.redMul(u),this.y=this.y.redMul(u),this.t&&(this.t=this.t.redMul(u)),this.z=this.curve.one,this.zOne=!0,this},l.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},l.prototype.getX=function(){return this.normalize(),this.x.fromRed()},l.prototype.getY=function(){return this.normalize(),this.y.fromRed()},l.prototype.eq=function(u){return this===u||this.getX().cmp(u.getX())===0&&this.getY().cmp(u.getY())===0},l.prototype.eqXToP=function(u){var h=u.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(h)===0)return!0;for(var f=u.clone(),m=this.curve.redN.redMul(this.z);;){if(f.iadd(this.curve.n),f.cmp(this.curve.p)>=0)return!1;if(h.redIAdd(m),this.x.cmp(h)===0)return!0}},l.prototype.toP=l.prototype.normalize,l.prototype.mixedAdd=l.prototype.add,edwards}var hasRequiredCurve;function requireCurve(){return hasRequiredCurve||(hasRequiredCurve=1,(function(t){var e=t;e.base=requireBase$1(),e.short=requireShort(),e.mont=requireMont(),e.edwards=requireEdwards()})(curve)),curve}var curves={},hash={},utils$1={},hasRequiredUtils;function requireUtils(){if(hasRequiredUtils)return utils$1;hasRequiredUtils=1;var t=requireMinimalisticAssert(),e=requireInherits_browser();utils$1.inherits=e;function a(D,M){return(D.charCodeAt(M)&64512)!==55296||M<0||M+1>=D.length?!1:(D.charCodeAt(M+1)&64512)===56320}function r(D,M){if(Array.isArray(D))return D.slice();if(!D)return[];var v=[];if(typeof D=="string")if(M){if(M==="hex")for(D=D.replace(/[^a-z0-9]+/ig,""),D.length%2!==0&&(D="0"+D),N=0;N<D.length;N+=2)v.push(parseInt(D[N]+D[N+1],16))}else for(var S=0,N=0;N<D.length;N++){var R=D.charCodeAt(N);R<128?v[S++]=R:R<2048?(v[S++]=R>>6|192,v[S++]=R&63|128):a(D,N)?(R=65536+((R&1023)<<10)+(D.charCodeAt(++N)&1023),v[S++]=R>>18|240,v[S++]=R>>12&63|128,v[S++]=R>>6&63|128,v[S++]=R&63|128):(v[S++]=R>>12|224,v[S++]=R>>6&63|128,v[S++]=R&63|128)}else for(N=0;N<D.length;N++)v[N]=D[N]|0;return v}utils$1.toArray=r;function o(D){for(var M="",v=0;v<D.length;v++)M+=c(D[v].toString(16));return M}utils$1.toHex=o;function s(D){var M=D>>>24|D>>>8&65280|D<<8&16711680|(D&255)<<24;return M>>>0}utils$1.htonl=s;function l(D,M){for(var v="",S=0;S<D.length;S++){var N=D[S];M==="little"&&(N=s(N)),v+=u(N.toString(16))}return v}utils$1.toHex32=l;function c(D){return D.length===1?"0"+D:D}utils$1.zero2=c;function u(D){return D.length===7?"0"+D:D.length===6?"00"+D:D.length===5?"000"+D:D.length===4?"0000"+D:D.length===3?"00000"+D:D.length===2?"000000"+D:D.length===1?"0000000"+D:D}utils$1.zero8=u;function h(D,M,v,S){var N=v-M;t(N%4===0);for(var R=new Array(N/4),k=0,j=M;k<R.length;k++,j+=4){var I;S==="big"?I=D[j]<<24|D[j+1]<<16|D[j+2]<<8|D[j+3]:I=D[j+3]<<24|D[j+2]<<16|D[j+1]<<8|D[j],R[k]=I>>>0}return R}utils$1.join32=h;function f(D,M){for(var v=new Array(D.length*4),S=0,N=0;S<D.length;S++,N+=4){var R=D[S];M==="big"?(v[N]=R>>>24,v[N+1]=R>>>16&255,v[N+2]=R>>>8&255,v[N+3]=R&255):(v[N+3]=R>>>24,v[N+2]=R>>>16&255,v[N+1]=R>>>8&255,v[N]=R&255)}return v}utils$1.split32=f;function m(D,M){return D>>>M|D<<32-M}utils$1.rotr32=m;function g(D,M){return D<<M|D>>>32-M}utils$1.rotl32=g;function b(D,M){return D+M>>>0}utils$1.sum32=b;function w(D,M,v){return D+M+v>>>0}utils$1.sum32_3=w;function E(D,M,v,S){return D+M+v+S>>>0}utils$1.sum32_4=E;function C(D,M,v,S,N){return D+M+v+S+N>>>0}utils$1.sum32_5=C;function B(D,M,v,S){var N=D[M],R=D[M+1],k=S+R>>>0,j=(k<S?1:0)+v+N;D[M]=j>>>0,D[M+1]=k}utils$1.sum64=B;function O(D,M,v,S){var N=M+S>>>0,R=(N<M?1:0)+D+v;return R>>>0}utils$1.sum64_hi=O;function P(D,M,v,S){var N=M+S;return N>>>0}utils$1.sum64_lo=P;function q(D,M,v,S,N,R,k,j){var I=0,A=M;A=A+S>>>0,I+=A<M?1:0,A=A+R>>>0,I+=A<R?1:0,A=A+j>>>0,I+=A<j?1:0;var $=D+v+N+k+I;return $>>>0}utils$1.sum64_4_hi=q;function z(D,M,v,S,N,R,k,j){var I=M+S+R+j;return I>>>0}utils$1.sum64_4_lo=z;function V(D,M,v,S,N,R,k,j,I,A){var $=0,L=M;L=L+S>>>0,$+=L<M?1:0,L=L+R>>>0,$+=L<R?1:0,L=L+j>>>0,$+=L<j?1:0,L=L+A>>>0,$+=L<A?1:0;var Y=D+v+N+k+I+$;return Y>>>0}utils$1.sum64_5_hi=V;function Z(D,M,v,S,N,R,k,j,I,A){var $=M+S+R+j+A;return $>>>0}utils$1.sum64_5_lo=Z;function J(D,M,v){var S=M<<32-v|D>>>v;return S>>>0}utils$1.rotr64_hi=J;function W(D,M,v){var S=D<<32-v|M>>>v;return S>>>0}utils$1.rotr64_lo=W;function te(D,M,v){return D>>>v}utils$1.shr64_hi=te;function G(D,M,v){var S=D<<32-v|M>>>v;return S>>>0}return utils$1.shr64_lo=G,utils$1}var common$1={},hasRequiredCommon$1;function requireCommon$1(){if(hasRequiredCommon$1)return common$1;hasRequiredCommon$1=1;var t=requireUtils(),e=requireMinimalisticAssert();function a(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return common$1.BlockHash=a,a.prototype.update=function(o,s){if(o=t.toArray(o,s),this.pending?this.pending=this.pending.concat(o):this.pending=o,this.pendingTotal+=o.length,this.pending.length>=this._delta8){o=this.pending;var l=o.length%this._delta8;this.pending=o.slice(o.length-l,o.length),this.pending.length===0&&(this.pending=null),o=t.join32(o,0,o.length-l,this.endian);for(var c=0;c<o.length;c+=this._delta32)this._update(o,c,c+this._delta32)}return this},a.prototype.digest=function(o){return this.update(this._pad()),e(this.pending===null),this._digest(o)},a.prototype._pad=function(){var o=this.pendingTotal,s=this._delta8,l=s-(o+this.padLength)%s,c=new Array(l+this.padLength);c[0]=128;for(var u=1;u<l;u++)c[u]=0;if(o<<=3,this.endian==="big"){for(var h=8;h<this.padLength;h++)c[u++]=0;c[u++]=0,c[u++]=0,c[u++]=0,c[u++]=0,c[u++]=o>>>24&255,c[u++]=o>>>16&255,c[u++]=o>>>8&255,c[u++]=o&255}else for(c[u++]=o&255,c[u++]=o>>>8&255,c[u++]=o>>>16&255,c[u++]=o>>>24&255,c[u++]=0,c[u++]=0,c[u++]=0,c[u++]=0,h=8;h<this.padLength;h++)c[u++]=0;return c},common$1}var sha={},common={},hasRequiredCommon;function requireCommon(){if(hasRequiredCommon)return common;hasRequiredCommon=1;var t=requireUtils(),e=t.rotr32;function a(f,m,g,b){if(f===0)return r(m,g,b);if(f===1||f===3)return s(m,g,b);if(f===2)return o(m,g,b)}common.ft_1=a;function r(f,m,g){return f&m^~f&g}common.ch32=r;function o(f,m,g){return f&m^f&g^m&g}common.maj32=o;function s(f,m,g){return f^m^g}common.p32=s;function l(f){return e(f,2)^e(f,13)^e(f,22)}common.s0_256=l;function c(f){return e(f,6)^e(f,11)^e(f,25)}common.s1_256=c;function u(f){return e(f,7)^e(f,18)^f>>>3}common.g0_256=u;function h(f){return e(f,17)^e(f,19)^f>>>10}return common.g1_256=h,common}var _1,hasRequired_1;function require_1(){if(hasRequired_1)return _1;hasRequired_1=1;var t=requireUtils(),e=requireCommon$1(),a=requireCommon(),r=t.rotl32,o=t.sum32,s=t.sum32_5,l=a.ft_1,c=e.BlockHash,u=[1518500249,1859775393,2400959708,3395469782];function h(){if(!(this instanceof h))return new h;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return t.inherits(h,c),_1=h,h.blockSize=512,h.outSize=160,h.hmacStrength=80,h.padLength=64,h.prototype._update=function(m,g){for(var b=this.W,w=0;w<16;w++)b[w]=m[g+w];for(;w<b.length;w++)b[w]=r(b[w-3]^b[w-8]^b[w-14]^b[w-16],1);var E=this.h[0],C=this.h[1],B=this.h[2],O=this.h[3],P=this.h[4];for(w=0;w<b.length;w++){var q=~~(w/20),z=s(r(E,5),l(q,C,B,O),P,b[w],u[q]);P=O,O=B,B=r(C,30),C=E,E=z}this.h[0]=o(this.h[0],E),this.h[1]=o(this.h[1],C),this.h[2]=o(this.h[2],B),this.h[3]=o(this.h[3],O),this.h[4]=o(this.h[4],P)},h.prototype._digest=function(m){return m==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},_1}var _256,hasRequired_256;function require_256(){if(hasRequired_256)return _256;hasRequired_256=1;var t=requireUtils(),e=requireCommon$1(),a=requireCommon(),r=requireMinimalisticAssert(),o=t.sum32,s=t.sum32_4,l=t.sum32_5,c=a.ch32,u=a.maj32,h=a.s0_256,f=a.s1_256,m=a.g0_256,g=a.g1_256,b=e.BlockHash,w=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function E(){if(!(this instanceof E))return new E;b.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=w,this.W=new Array(64)}return t.inherits(E,b),_256=E,E.blockSize=512,E.outSize=256,E.hmacStrength=192,E.padLength=64,E.prototype._update=function(B,O){for(var P=this.W,q=0;q<16;q++)P[q]=B[O+q];for(;q<P.length;q++)P[q]=s(g(P[q-2]),P[q-7],m(P[q-15]),P[q-16]);var z=this.h[0],V=this.h[1],Z=this.h[2],J=this.h[3],W=this.h[4],te=this.h[5],G=this.h[6],D=this.h[7];for(r(this.k.length===P.length),q=0;q<P.length;q++){var M=l(D,f(W),c(W,te,G),this.k[q],P[q]),v=o(h(z),u(z,V,Z));D=G,G=te,te=W,W=o(J,M),J=Z,Z=V,V=z,z=o(M,v)}this.h[0]=o(this.h[0],z),this.h[1]=o(this.h[1],V),this.h[2]=o(this.h[2],Z),this.h[3]=o(this.h[3],J),this.h[4]=o(this.h[4],W),this.h[5]=o(this.h[5],te),this.h[6]=o(this.h[6],G),this.h[7]=o(this.h[7],D)},E.prototype._digest=function(B){return B==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},_256}var _224,hasRequired_224;function require_224(){if(hasRequired_224)return _224;hasRequired_224=1;var t=requireUtils(),e=require_256();function a(){if(!(this instanceof a))return new a;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return t.inherits(a,e),_224=a,a.blockSize=512,a.outSize=224,a.hmacStrength=192,a.padLength=64,a.prototype._digest=function(o){return o==="hex"?t.toHex32(this.h.slice(0,7),"big"):t.split32(this.h.slice(0,7),"big")},_224}var _512,hasRequired_512;function require_512(){if(hasRequired_512)return _512;hasRequired_512=1;var t=requireUtils(),e=requireCommon$1(),a=requireMinimalisticAssert(),r=t.rotr64_hi,o=t.rotr64_lo,s=t.shr64_hi,l=t.shr64_lo,c=t.sum64,u=t.sum64_hi,h=t.sum64_lo,f=t.sum64_4_hi,m=t.sum64_4_lo,g=t.sum64_5_hi,b=t.sum64_5_lo,w=e.BlockHash,E=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function C(){if(!(this instanceof C))return new C;w.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=E,this.W=new Array(160)}t.inherits(C,w),_512=C,C.blockSize=1024,C.outSize=512,C.hmacStrength=192,C.padLength=128,C.prototype._prepareBlock=function(v,S){for(var N=this.W,R=0;R<32;R++)N[R]=v[S+R];for(;R<N.length;R+=2){var k=G(N[R-4],N[R-3]),j=D(N[R-4],N[R-3]),I=N[R-14],A=N[R-13],$=W(N[R-30],N[R-29]),L=te(N[R-30],N[R-29]),Y=N[R-32],le=N[R-31];N[R]=f(k,j,I,A,$,L,Y,le),N[R+1]=m(k,j,I,A,$,L,Y,le)}},C.prototype._update=function(v,S){this._prepareBlock(v,S);var N=this.W,R=this.h[0],k=this.h[1],j=this.h[2],I=this.h[3],A=this.h[4],$=this.h[5],L=this.h[6],Y=this.h[7],le=this.h[8],re=this.h[9],U=this.h[10],K=this.h[11],se=this.h[12],he=this.h[13],ue=this.h[14],ee=this.h[15];a(this.k.length===N.length);for(var fe=0;fe<N.length;fe+=2){var ge=ue,xe=ee,_e=Z(le,re),Ie=J(le,re),De=B(le,re,U,K,se),$e=O(le,re,U,K,se,he),Ue=this.k[fe],Be=this.k[fe+1],Ve=N[fe],He=N[fe+1],Ae=g(ge,xe,_e,Ie,De,$e,Ue,Be,Ve,He),Ce=b(ge,xe,_e,Ie,De,$e,Ue,Be,Ve,He);ge=z(R,k),xe=V(R,k),_e=P(R,k,j,I,A),Ie=q(R,k,j,I,A,$);var Te=u(ge,xe,_e,Ie),ye=h(ge,xe,_e,Ie);ue=se,ee=he,se=U,he=K,U=le,K=re,le=u(L,Y,Ae,Ce),re=h(Y,Y,Ae,Ce),L=A,Y=$,A=j,$=I,j=R,I=k,R=u(Ae,Ce,Te,ye),k=h(Ae,Ce,Te,ye)}c(this.h,0,R,k),c(this.h,2,j,I),c(this.h,4,A,$),c(this.h,6,L,Y),c(this.h,8,le,re),c(this.h,10,U,K),c(this.h,12,se,he),c(this.h,14,ue,ee)},C.prototype._digest=function(v){return v==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")};function B(M,v,S,N,R){var k=M&S^~M&R;return k<0&&(k+=4294967296),k}function O(M,v,S,N,R,k){var j=v&N^~v&k;return j<0&&(j+=4294967296),j}function P(M,v,S,N,R){var k=M&S^M&R^S&R;return k<0&&(k+=4294967296),k}function q(M,v,S,N,R,k){var j=v&N^v&k^N&k;return j<0&&(j+=4294967296),j}function z(M,v){var S=r(M,v,28),N=r(v,M,2),R=r(v,M,7),k=S^N^R;return k<0&&(k+=4294967296),k}function V(M,v){var S=o(M,v,28),N=o(v,M,2),R=o(v,M,7),k=S^N^R;return k<0&&(k+=4294967296),k}function Z(M,v){var S=r(M,v,14),N=r(M,v,18),R=r(v,M,9),k=S^N^R;return k<0&&(k+=4294967296),k}function J(M,v){var S=o(M,v,14),N=o(M,v,18),R=o(v,M,9),k=S^N^R;return k<0&&(k+=4294967296),k}function W(M,v){var S=r(M,v,1),N=r(M,v,8),R=s(M,v,7),k=S^N^R;return k<0&&(k+=4294967296),k}function te(M,v){var S=o(M,v,1),N=o(M,v,8),R=l(M,v,7),k=S^N^R;return k<0&&(k+=4294967296),k}function G(M,v){var S=r(M,v,19),N=r(v,M,29),R=s(M,v,6),k=S^N^R;return k<0&&(k+=4294967296),k}function D(M,v){var S=o(M,v,19),N=o(v,M,29),R=l(M,v,6),k=S^N^R;return k<0&&(k+=4294967296),k}return _512}var _384,hasRequired_384;function require_384(){if(hasRequired_384)return _384;hasRequired_384=1;var t=requireUtils(),e=require_512();function a(){if(!(this instanceof a))return new a;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return t.inherits(a,e),_384=a,a.blockSize=1024,a.outSize=384,a.hmacStrength=192,a.padLength=128,a.prototype._digest=function(o){return o==="hex"?t.toHex32(this.h.slice(0,12),"big"):t.split32(this.h.slice(0,12),"big")},_384}var hasRequiredSha;function requireSha(){return hasRequiredSha||(hasRequiredSha=1,sha.sha1=require_1(),sha.sha224=require_224(),sha.sha256=require_256(),sha.sha384=require_384(),sha.sha512=require_512()),sha}var ripemd={},hasRequiredRipemd;function requireRipemd(){if(hasRequiredRipemd)return ripemd;hasRequiredRipemd=1;var t=requireUtils(),e=requireCommon$1(),a=t.rotl32,r=t.sum32,o=t.sum32_3,s=t.sum32_4,l=e.BlockHash;function c(){if(!(this instanceof c))return new c;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}t.inherits(c,l),ripemd.ripemd160=c,c.blockSize=512,c.outSize=160,c.hmacStrength=192,c.padLength=64,c.prototype._update=function(C,B){for(var O=this.h[0],P=this.h[1],q=this.h[2],z=this.h[3],V=this.h[4],Z=O,J=P,W=q,te=z,G=V,D=0;D<80;D++){var M=r(a(s(O,u(D,P,q,z),C[m[D]+B],h(D)),b[D]),V);O=V,V=z,z=a(q,10),q=P,P=M,M=r(a(s(Z,u(79-D,J,W,te),C[g[D]+B],f(D)),w[D]),G),Z=G,G=te,te=a(W,10),W=J,J=M}M=o(this.h[1],q,te),this.h[1]=o(this.h[2],z,G),this.h[2]=o(this.h[3],V,Z),this.h[3]=o(this.h[4],O,J),this.h[4]=o(this.h[0],P,W),this.h[0]=M},c.prototype._digest=function(C){return C==="hex"?t.toHex32(this.h,"little"):t.split32(this.h,"little")};function u(E,C,B,O){return E<=15?C^B^O:E<=31?C&B|~C&O:E<=47?(C|~B)^O:E<=63?C&O|B&~O:C^(B|~O)}function h(E){return E<=15?0:E<=31?1518500249:E<=47?1859775393:E<=63?2400959708:2840853838}function f(E){return E<=15?1352829926:E<=31?1548603684:E<=47?1836072691:E<=63?2053994217:0}var m=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],g=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],b=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],w=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return ripemd}var hmac$3,hasRequiredHmac$1;function requireHmac$1(){if(hasRequiredHmac$1)return hmac$3;hasRequiredHmac$1=1;var t=requireUtils(),e=requireMinimalisticAssert();function a(r,o,s){if(!(this instanceof a))return new a(r,o,s);this.Hash=r,this.blockSize=r.blockSize/8,this.outSize=r.outSize/8,this.inner=null,this.outer=null,this._init(t.toArray(o,s))}return hmac$3=a,a.prototype._init=function(o){o.length>this.blockSize&&(o=new this.Hash().update(o).digest()),e(o.length<=this.blockSize);for(var s=o.length;s<this.blockSize;s++)o.push(0);for(s=0;s<o.length;s++)o[s]^=54;for(this.inner=new this.Hash().update(o),s=0;s<o.length;s++)o[s]^=106;this.outer=new this.Hash().update(o)},a.prototype.update=function(o,s){return this.inner.update(o,s),this},a.prototype.digest=function(o){return this.outer.update(this.inner.digest()),this.outer.digest(o)},hmac$3}var hasRequiredHash;function requireHash(){return hasRequiredHash||(hasRequiredHash=1,(function(t){var e=t;e.utils=requireUtils(),e.common=requireCommon$1(),e.sha=requireSha(),e.ripemd=requireRipemd(),e.hmac=requireHmac$1(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(hash)),hash}var secp256k1$1,hasRequiredSecp256k1;function requireSecp256k1(){return hasRequiredSecp256k1||(hasRequiredSecp256k1=1,secp256k1$1={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),secp256k1$1}var hasRequiredCurves;function requireCurves(){return hasRequiredCurves||(hasRequiredCurves=1,(function(t){var e=t,a=requireHash(),r=requireCurve(),o=requireUtils$1(),s=o.assert;function l(h){h.type==="short"?this.curve=new r.short(h):h.type==="edwards"?this.curve=new r.edwards(h):this.curve=new r.mont(h),this.g=this.curve.g,this.n=this.curve.n,this.hash=h.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=l;function c(h,f){Object.defineProperty(e,h,{configurable:!0,enumerable:!0,get:function(){var m=new l(f);return Object.defineProperty(e,h,{configurable:!0,enumerable:!0,value:m}),m}})}c("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:a.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),c("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:a.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),c("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:a.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),c("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:a.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),c("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:a.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),c("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:a.sha256,gRed:!1,g:["9"]}),c("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:a.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var u;try{u=requireSecp256k1()}catch{u=void 0}c("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:a.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",u]})})(curves)),curves}var hmacDrbg,hasRequiredHmacDrbg;function requireHmacDrbg(){if(hasRequiredHmacDrbg)return hmacDrbg;hasRequiredHmacDrbg=1;var t=requireHash(),e=requireUtils$2(),a=requireMinimalisticAssert();function r(o){if(!(this instanceof r))return new r(o);this.hash=o.hash,this.predResist=!!o.predResist,this.outLen=this.hash.outSize,this.minEntropy=o.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var s=e.toArray(o.entropy,o.entropyEnc||"hex"),l=e.toArray(o.nonce,o.nonceEnc||"hex"),c=e.toArray(o.pers,o.persEnc||"hex");a(s.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(s,l,c)}return hmacDrbg=r,r.prototype._init=function(s,l,c){var u=s.concat(l).concat(c);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var h=0;h<this.V.length;h++)this.K[h]=0,this.V[h]=1;this._update(u),this._reseed=1,this.reseedInterval=281474976710656},r.prototype._hmac=function(){return new t.hmac(this.hash,this.K)},r.prototype._update=function(s){var l=this._hmac().update(this.V).update([0]);s&&(l=l.update(s)),this.K=l.digest(),this.V=this._hmac().update(this.V).digest(),s&&(this.K=this._hmac().update(this.V).update([1]).update(s).digest(),this.V=this._hmac().update(this.V).digest())},r.prototype.reseed=function(s,l,c,u){typeof l!="string"&&(u=c,c=l,l=null),s=e.toArray(s,l),c=e.toArray(c,u),a(s.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(s.concat(c||[])),this._reseed=1},r.prototype.generate=function(s,l,c,u){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof l!="string"&&(u=c,c=l,l=null),c&&(c=e.toArray(c,u||"hex"),this._update(c));for(var h=[];h.length<s;)this.V=this._hmac().update(this.V).digest(),h=h.concat(this.V);var f=h.slice(0,s);return this._update(c),this._reseed++,e.encode(f,l)},hmacDrbg}var key$1,hasRequiredKey$1;function requireKey$1(){if(hasRequiredKey$1)return key$1;hasRequiredKey$1=1;var t=requireBn$2(),e=requireUtils$1(),a=e.assert;function r(o,s){this.ec=o,this.priv=null,this.pub=null,s.priv&&this._importPrivate(s.priv,s.privEnc),s.pub&&this._importPublic(s.pub,s.pubEnc)}return key$1=r,r.fromPublic=function(s,l,c){return l instanceof r?l:new r(s,{pub:l,pubEnc:c})},r.fromPrivate=function(s,l,c){return l instanceof r?l:new r(s,{priv:l,privEnc:c})},r.prototype.validate=function(){var s=this.getPublic();return s.isInfinity()?{result:!1,reason:"Invalid public key"}:s.validate()?s.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},r.prototype.getPublic=function(s,l){return typeof s=="string"&&(l=s,s=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),l?this.pub.encode(l,s):this.pub},r.prototype.getPrivate=function(s){return s==="hex"?this.priv.toString(16,2):this.priv},r.prototype._importPrivate=function(s,l){this.priv=new t(s,l||16),this.priv=this.priv.umod(this.ec.curve.n)},r.prototype._importPublic=function(s,l){if(s.x||s.y){this.ec.curve.type==="mont"?a(s.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&a(s.x&&s.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(s.x,s.y);return}this.pub=this.ec.curve.decodePoint(s,l)},r.prototype.derive=function(s){return s.validate()||a(s.validate(),"public point not validated"),s.mul(this.priv).getX()},r.prototype.sign=function(s,l,c){return this.ec.sign(s,this,l,c)},r.prototype.verify=function(s,l,c){return this.ec.verify(s,l,this,void 0,c)},r.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},key$1}var signature$1,hasRequiredSignature$1;function requireSignature$1(){if(hasRequiredSignature$1)return signature$1;hasRequiredSignature$1=1;var t=requireBn$2(),e=requireUtils$1(),a=e.assert;function r(u,h){if(u instanceof r)return u;this._importDER(u,h)||(a(u.r&&u.s,"Signature without r or s"),this.r=new t(u.r,16),this.s=new t(u.s,16),u.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=u.recoveryParam)}signature$1=r;function o(){this.place=0}function s(u,h){var f=u[h.place++];if(!(f&128))return f;var m=f&15;if(m===0||m>4||u[h.place]===0)return!1;for(var g=0,b=0,w=h.place;b<m;b++,w++)g<<=8,g|=u[w],g>>>=0;return g<=127?!1:(h.place=w,g)}function l(u){for(var h=0,f=u.length-1;!u[h]&&!(u[h+1]&128)&&h<f;)h++;return h===0?u:u.slice(h)}r.prototype._importDER=function(h,f){h=e.toArray(h,f);var m=new o;if(h[m.place++]!==48)return!1;var g=s(h,m);if(g===!1||g+m.place!==h.length||h[m.place++]!==2)return!1;var b=s(h,m);if(b===!1||(h[m.place]&128)!==0)return!1;var w=h.slice(m.place,b+m.place);if(m.place+=b,h[m.place++]!==2)return!1;var E=s(h,m);if(E===!1||h.length!==E+m.place||(h[m.place]&128)!==0)return!1;var C=h.slice(m.place,E+m.place);if(w[0]===0)if(w[1]&128)w=w.slice(1);else return!1;if(C[0]===0)if(C[1]&128)C=C.slice(1);else return!1;return this.r=new t(w),this.s=new t(C),this.recoveryParam=null,!0};function c(u,h){if(h<128){u.push(h);return}var f=1+(Math.log(h)/Math.LN2>>>3);for(u.push(f|128);--f;)u.push(h>>>(f<<3)&255);u.push(h)}return r.prototype.toDER=function(h){var f=this.r.toArray(),m=this.s.toArray();for(f[0]&128&&(f=[0].concat(f)),m[0]&128&&(m=[0].concat(m)),f=l(f),m=l(m);!m[0]&&!(m[1]&128);)m=m.slice(1);var g=[2];c(g,f.length),g=g.concat(f),g.push(2),c(g,m.length);var b=g.concat(m),w=[48];return c(w,b.length),w=w.concat(b),e.encode(w,h)},signature$1}var ec$6,hasRequiredEc;function requireEc(){if(hasRequiredEc)return ec$6;hasRequiredEc=1;var t=requireBn$2(),e=requireHmacDrbg(),a=requireUtils$1(),r=requireCurves(),o=requireBrorand(),s=a.assert,l=requireKey$1(),c=requireSignature$1();function u(h){if(!(this instanceof u))return new u(h);typeof h=="string"&&(s(Object.prototype.hasOwnProperty.call(r,h),"Unknown curve "+h),h=r[h]),h instanceof r.PresetCurve&&(h={curve:h}),this.curve=h.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=h.curve.g,this.g.precompute(h.curve.n.bitLength()+1),this.hash=h.hash||h.curve.hash}return ec$6=u,u.prototype.keyPair=function(f){return new l(this,f)},u.prototype.keyFromPrivate=function(f,m){return l.fromPrivate(this,f,m)},u.prototype.keyFromPublic=function(f,m){return l.fromPublic(this,f,m)},u.prototype.genKeyPair=function(f){f||(f={});for(var m=new e({hash:this.hash,pers:f.pers,persEnc:f.persEnc||"utf8",entropy:f.entropy||o(this.hash.hmacStrength),entropyEnc:f.entropy&&f.entropyEnc||"utf8",nonce:this.n.toArray()}),g=this.n.byteLength(),b=this.n.sub(new t(2));;){var w=new t(m.generate(g));if(!(w.cmp(b)>0))return w.iaddn(1),this.keyFromPrivate(w)}},u.prototype._truncateToN=function(f,m,g){var b;if(t.isBN(f)||typeof f=="number")f=new t(f,16),b=f.byteLength();else if(typeof f=="object")b=f.length,f=new t(f,16);else{var w=f.toString();b=w.length+1>>>1,f=new t(w,16)}typeof g!="number"&&(g=b*8);var E=g-this.n.bitLength();return E>0&&(f=f.ushrn(E)),!m&&f.cmp(this.n)>=0?f.sub(this.n):f},u.prototype.sign=function(f,m,g,b){if(typeof g=="object"&&(b=g,g=null),b||(b={}),typeof f!="string"&&typeof f!="number"&&!t.isBN(f)){s(typeof f=="object"&&f&&typeof f.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),s(f.length>>>0===f.length);for(var w=0;w<f.length;w++)s((f[w]&255)===f[w])}m=this.keyFromPrivate(m,g),f=this._truncateToN(f,!1,b.msgBitLength),s(!f.isNeg(),"Can not sign a negative message");var E=this.n.byteLength(),C=m.getPrivate().toArray("be",E),B=f.toArray("be",E);s(new t(B).eq(f),"Can not sign message");for(var O=new e({hash:this.hash,entropy:C,nonce:B,pers:b.pers,persEnc:b.persEnc||"utf8"}),P=this.n.sub(new t(1)),q=0;;q++){var z=b.k?b.k(q):new t(O.generate(this.n.byteLength()));if(z=this._truncateToN(z,!0),!(z.cmpn(1)<=0||z.cmp(P)>=0)){var V=this.g.mul(z);if(!V.isInfinity()){var Z=V.getX(),J=Z.umod(this.n);if(J.cmpn(0)!==0){var W=z.invm(this.n).mul(J.mul(m.getPrivate()).iadd(f));if(W=W.umod(this.n),W.cmpn(0)!==0){var te=(V.getY().isOdd()?1:0)|(Z.cmp(J)!==0?2:0);return b.canonical&&W.cmp(this.nh)>0&&(W=this.n.sub(W),te^=1),new c({r:J,s:W,recoveryParam:te})}}}}}},u.prototype.verify=function(f,m,g,b,w){w||(w={}),f=this._truncateToN(f,!1,w.msgBitLength),g=this.keyFromPublic(g,b),m=new c(m,"hex");var E=m.r,C=m.s;if(E.cmpn(1)<0||E.cmp(this.n)>=0||C.cmpn(1)<0||C.cmp(this.n)>=0)return!1;var B=C.invm(this.n),O=B.mul(f).umod(this.n),P=B.mul(E).umod(this.n),q;return this.curve._maxwellTrick?(q=this.g.jmulAdd(O,g.getPublic(),P),q.isInfinity()?!1:q.eqXToP(E)):(q=this.g.mulAdd(O,g.getPublic(),P),q.isInfinity()?!1:q.getX().umod(this.n).cmp(E)===0)},u.prototype.recoverPubKey=function(h,f,m,g){s((3&m)===m,"The recovery param is more than two bits"),f=new c(f,g);var b=this.n,w=new t(h),E=f.r,C=f.s,B=m&1,O=m>>1;if(E.cmp(this.curve.p.umod(this.curve.n))>=0&&O)throw new Error("Unable to find sencond key candinate");O?E=this.curve.pointFromX(E.add(this.curve.n),B):E=this.curve.pointFromX(E,B);var P=f.r.invm(b),q=b.sub(w).mul(P).umod(b),z=C.mul(P).umod(b);return this.g.mulAdd(q,E,z)},u.prototype.getKeyRecoveryParam=function(h,f,m,g){if(f=new c(f,g),f.recoveryParam!==null)return f.recoveryParam;for(var b=0;b<4;b++){var w;try{w=this.recoverPubKey(h,f,b)}catch{continue}if(w.eq(m))return b}throw new Error("Unable to find valid recovery factor")},ec$6}var key,hasRequiredKey;function requireKey(){if(hasRequiredKey)return key;hasRequiredKey=1;var t=requireUtils$1(),e=t.assert,a=t.parseBytes,r=t.cachedProperty;function o(s,l){this.eddsa=s,this._secret=a(l.secret),s.isPoint(l.pub)?this._pub=l.pub:this._pubBytes=a(l.pub)}return o.fromPublic=function(l,c){return c instanceof o?c:new o(l,{pub:c})},o.fromSecret=function(l,c){return c instanceof o?c:new o(l,{secret:c})},o.prototype.secret=function(){return this._secret},r(o,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),r(o,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),r(o,"privBytes",function(){var l=this.eddsa,c=this.hash(),u=l.encodingLength-1,h=c.slice(0,l.encodingLength);return h[0]&=248,h[u]&=127,h[u]|=64,h}),r(o,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),r(o,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),r(o,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),o.prototype.sign=function(l){return e(this._secret,"KeyPair can only verify"),this.eddsa.sign(l,this)},o.prototype.verify=function(l,c){return this.eddsa.verify(l,c,this)},o.prototype.getSecret=function(l){return e(this._secret,"KeyPair is public only"),t.encode(this.secret(),l)},o.prototype.getPublic=function(l){return t.encode(this.pubBytes(),l)},key=o,key}var signature,hasRequiredSignature;function requireSignature(){if(hasRequiredSignature)return signature;hasRequiredSignature=1;var t=requireBn$2(),e=requireUtils$1(),a=e.assert,r=e.cachedProperty,o=e.parseBytes;function s(l,c){this.eddsa=l,typeof c!="object"&&(c=o(c)),Array.isArray(c)&&(a(c.length===l.encodingLength*2,"Signature has invalid size"),c={R:c.slice(0,l.encodingLength),S:c.slice(l.encodingLength)}),a(c.R&&c.S,"Signature without R or S"),l.isPoint(c.R)&&(this._R=c.R),c.S instanceof t&&(this._S=c.S),this._Rencoded=Array.isArray(c.R)?c.R:c.Rencoded,this._Sencoded=Array.isArray(c.S)?c.S:c.Sencoded}return r(s,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),r(s,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),r(s,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),r(s,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),s.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},s.prototype.toHex=function(){return e.encode(this.toBytes(),"hex").toUpperCase()},signature=s,signature}var eddsa,hasRequiredEddsa;function requireEddsa(){if(hasRequiredEddsa)return eddsa;hasRequiredEddsa=1;var t=requireHash(),e=requireCurves(),a=requireUtils$1(),r=a.assert,o=a.parseBytes,s=requireKey(),l=requireSignature();function c(u){if(r(u==="ed25519","only tested with ed25519 so far"),!(this instanceof c))return new c(u);u=e[u].curve,this.curve=u,this.g=u.g,this.g.precompute(u.n.bitLength()+1),this.pointClass=u.point().constructor,this.encodingLength=Math.ceil(u.n.bitLength()/8),this.hash=t.sha512}return eddsa=c,c.prototype.sign=function(h,f){h=o(h);var m=this.keyFromSecret(f),g=this.hashInt(m.messagePrefix(),h),b=this.g.mul(g),w=this.encodePoint(b),E=this.hashInt(w,m.pubBytes(),h).mul(m.priv()),C=g.add(E).umod(this.curve.n);return this.makeSignature({R:b,S:C,Rencoded:w})},c.prototype.verify=function(h,f,m){if(h=o(h),f=this.makeSignature(f),f.S().gte(f.eddsa.curve.n)||f.S().isNeg())return!1;var g=this.keyFromPublic(m),b=this.hashInt(f.Rencoded(),g.pubBytes(),h),w=this.g.mul(f.S()),E=f.R().add(g.pub().mul(b));return E.eq(w)},c.prototype.hashInt=function(){for(var h=this.hash(),f=0;f<arguments.length;f++)h.update(arguments[f]);return a.intFromLE(h.digest()).umod(this.curve.n)},c.prototype.keyFromPublic=function(h){return s.fromPublic(this,h)},c.prototype.keyFromSecret=function(h){return s.fromSecret(this,h)},c.prototype.makeSignature=function(h){return h instanceof l?h:new l(this,h)},c.prototype.encodePoint=function(h){var f=h.getY().toArray("le",this.encodingLength);return f[this.encodingLength-1]|=h.getX().isOdd()?128:0,f},c.prototype.decodePoint=function(h){h=a.parseBytes(h);var f=h.length-1,m=h.slice(0,f).concat(h[f]&-129),g=(h[f]&128)!==0,b=a.intFromLE(m);return this.curve.pointFromY(b,g)},c.prototype.encodeInt=function(h){return h.toArray("le",this.encodingLength)},c.prototype.decodeInt=function(h){return a.intFromLE(h)},c.prototype.isPoint=function(h){return h instanceof this.pointClass},eddsa}var hasRequiredElliptic;function requireElliptic(){return hasRequiredElliptic||(hasRequiredElliptic=1,(function(t){var e=t;e.version=require$$0.version,e.utils=requireUtils$1(),e.rand=requireBrorand(),e.curve=requireCurve(),e.curves=requireCurves(),e.ec=requireEc(),e.eddsa=requireEddsa()})(elliptic$1)),elliptic$1}var bn$1={exports:{}},bn=bn$1.exports,hasRequiredBn;function requireBn(){return hasRequiredBn||(hasRequiredBn=1,(function(t){(function(e,a){function r(M,v){if(!M)throw new Error(v||"Assertion failed")}function o(M,v){M.super_=v;var S=function(){};S.prototype=v.prototype,M.prototype=new S,M.prototype.constructor=M}function s(M,v,S){if(s.isBN(M))return M;this.negative=0,this.words=null,this.length=0,this.red=null,M!==null&&((v==="le"||v==="be")&&(S=v,v=10),this._init(M||0,v||10,S||"be"))}typeof e=="object"?e.exports=s:a.BN=s,s.BN=s,s.wordSize=26;var l;try{typeof window<"u"&&typeof window.Buffer<"u"?l=window.Buffer:l=requireDist().Buffer}catch{}s.isBN=function(v){return v instanceof s?!0:v!==null&&typeof v=="object"&&v.constructor.wordSize===s.wordSize&&Array.isArray(v.words)},s.max=function(v,S){return v.cmp(S)>0?v:S},s.min=function(v,S){return v.cmp(S)<0?v:S},s.prototype._init=function(v,S,N){if(typeof v=="number")return this._initNumber(v,S,N);if(typeof v=="object")return this._initArray(v,S,N);S==="hex"&&(S=16),r(S===(S|0)&&S>=2&&S<=36),v=v.toString().replace(/\s+/g,"");var R=0;v[0]==="-"&&(R++,this.negative=1),R<v.length&&(S===16?this._parseHex(v,R,N):(this._parseBase(v,S,R),N==="le"&&this._initArray(this.toArray(),S,N)))},s.prototype._initNumber=function(v,S,N){v<0&&(this.negative=1,v=-v),v<67108864?(this.words=[v&67108863],this.length=1):v<4503599627370496?(this.words=[v&67108863,v/67108864&67108863],this.length=2):(r(v<9007199254740992),this.words=[v&67108863,v/67108864&67108863,1],this.length=3),N==="le"&&this._initArray(this.toArray(),S,N)},s.prototype._initArray=function(v,S,N){if(r(typeof v.length=="number"),v.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(v.length/3),this.words=new Array(this.length);for(var R=0;R<this.length;R++)this.words[R]=0;var k,j,I=0;if(N==="be")for(R=v.length-1,k=0;R>=0;R-=3)j=v[R]|v[R-1]<<8|v[R-2]<<16,this.words[k]|=j<<I&67108863,this.words[k+1]=j>>>26-I&67108863,I+=24,I>=26&&(I-=26,k++);else if(N==="le")for(R=0,k=0;R<v.length;R+=3)j=v[R]|v[R+1]<<8|v[R+2]<<16,this.words[k]|=j<<I&67108863,this.words[k+1]=j>>>26-I&67108863,I+=24,I>=26&&(I-=26,k++);return this._strip()};function c(M,v){var S=M.charCodeAt(v);if(S>=48&&S<=57)return S-48;if(S>=65&&S<=70)return S-55;if(S>=97&&S<=102)return S-87;r(!1,"Invalid character in "+M)}function u(M,v,S){var N=c(M,S);return S-1>=v&&(N|=c(M,S-1)<<4),N}s.prototype._parseHex=function(v,S,N){this.length=Math.ceil((v.length-S)/6),this.words=new Array(this.length);for(var R=0;R<this.length;R++)this.words[R]=0;var k=0,j=0,I;if(N==="be")for(R=v.length-1;R>=S;R-=2)I=u(v,S,R)<<k,this.words[j]|=I&67108863,k>=18?(k-=18,j+=1,this.words[j]|=I>>>26):k+=8;else{var A=v.length-S;for(R=A%2===0?S+1:S;R<v.length;R+=2)I=u(v,S,R)<<k,this.words[j]|=I&67108863,k>=18?(k-=18,j+=1,this.words[j]|=I>>>26):k+=8}this._strip()};function h(M,v,S,N){for(var R=0,k=0,j=Math.min(M.length,S),I=v;I<j;I++){var A=M.charCodeAt(I)-48;R*=N,A>=49?k=A-49+10:A>=17?k=A-17+10:k=A,r(A>=0&&k<N,"Invalid character"),R+=k}return R}s.prototype._parseBase=function(v,S,N){this.words=[0],this.length=1;for(var R=0,k=1;k<=67108863;k*=S)R++;R--,k=k/S|0;for(var j=v.length-N,I=j%R,A=Math.min(j,j-I)+N,$=0,L=N;L<A;L+=R)$=h(v,L,L+R,S),this.imuln(k),this.words[0]+$<67108864?this.words[0]+=$:this._iaddn($);if(I!==0){var Y=1;for($=h(v,L,v.length,S),L=0;L<I;L++)Y*=S;this.imuln(Y),this.words[0]+$<67108864?this.words[0]+=$:this._iaddn($)}this._strip()},s.prototype.copy=function(v){v.words=new Array(this.length);for(var S=0;S<this.length;S++)v.words[S]=this.words[S];v.length=this.length,v.negative=this.negative,v.red=this.red};function f(M,v){M.words=v.words,M.length=v.length,M.negative=v.negative,M.red=v.red}if(s.prototype._move=function(v){f(v,this)},s.prototype.clone=function(){var v=new s(null);return this.copy(v),v},s.prototype._expand=function(v){for(;this.length<v;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=m}catch{s.prototype.inspect=m}else s.prototype.inspect=m;function m(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],w=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(v,S){v=v||10,S=S|0||1;var N;if(v===16||v==="hex"){N="";for(var R=0,k=0,j=0;j<this.length;j++){var I=this.words[j],A=((I<<R|k)&16777215).toString(16);k=I>>>24-R&16777215,R+=2,R>=26&&(R-=26,j--),k!==0||j!==this.length-1?N=g[6-A.length]+A+N:N=A+N}for(k!==0&&(N=k.toString(16)+N);N.length%S!==0;)N="0"+N;return this.negative!==0&&(N="-"+N),N}if(v===(v|0)&&v>=2&&v<=36){var $=b[v],L=w[v];N="";var Y=this.clone();for(Y.negative=0;!Y.isZero();){var le=Y.modrn(L).toString(v);Y=Y.idivn(L),Y.isZero()?N=le+N:N=g[$-le.length]+le+N}for(this.isZero()&&(N="0"+N);N.length%S!==0;)N="0"+N;return this.negative!==0&&(N="-"+N),N}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var v=this.words[0];return this.length===2?v+=this.words[1]*67108864:this.length===3&&this.words[2]===1?v+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-v:v},s.prototype.toJSON=function(){return this.toString(16,2)},l&&(s.prototype.toBuffer=function(v,S){return this.toArrayLike(l,v,S)}),s.prototype.toArray=function(v,S){return this.toArrayLike(Array,v,S)};var E=function(v,S){return v.allocUnsafe?v.allocUnsafe(S):new v(S)};s.prototype.toArrayLike=function(v,S,N){this._strip();var R=this.byteLength(),k=N||Math.max(1,R);r(R<=k,"byte array longer than desired length"),r(k>0,"Requested array length <= 0");var j=E(v,k),I=S==="le"?"LE":"BE";return this["_toArrayLike"+I](j,R),j},s.prototype._toArrayLikeLE=function(v,S){for(var N=0,R=0,k=0,j=0;k<this.length;k++){var I=this.words[k]<<j|R;v[N++]=I&255,N<v.length&&(v[N++]=I>>8&255),N<v.length&&(v[N++]=I>>16&255),j===6?(N<v.length&&(v[N++]=I>>24&255),R=0,j=0):(R=I>>>24,j+=2)}if(N<v.length)for(v[N++]=R;N<v.length;)v[N++]=0},s.prototype._toArrayLikeBE=function(v,S){for(var N=v.length-1,R=0,k=0,j=0;k<this.length;k++){var I=this.words[k]<<j|R;v[N--]=I&255,N>=0&&(v[N--]=I>>8&255),N>=0&&(v[N--]=I>>16&255),j===6?(N>=0&&(v[N--]=I>>24&255),R=0,j=0):(R=I>>>24,j+=2)}if(N>=0)for(v[N--]=R;N>=0;)v[N--]=0},Math.clz32?s.prototype._countBits=function(v){return 32-Math.clz32(v)}:s.prototype._countBits=function(v){var S=v,N=0;return S>=4096&&(N+=13,S>>>=13),S>=64&&(N+=7,S>>>=7),S>=8&&(N+=4,S>>>=4),S>=2&&(N+=2,S>>>=2),N+S},s.prototype._zeroBits=function(v){if(v===0)return 26;var S=v,N=0;return(S&8191)===0&&(N+=13,S>>>=13),(S&127)===0&&(N+=7,S>>>=7),(S&15)===0&&(N+=4,S>>>=4),(S&3)===0&&(N+=2,S>>>=2),(S&1)===0&&N++,N},s.prototype.bitLength=function(){var v=this.words[this.length-1],S=this._countBits(v);return(this.length-1)*26+S};function C(M){for(var v=new Array(M.bitLength()),S=0;S<v.length;S++){var N=S/26|0,R=S%26;v[S]=M.words[N]>>>R&1}return v}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var v=0,S=0;S<this.length;S++){var N=this._zeroBits(this.words[S]);if(v+=N,N!==26)break}return v},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(v){return this.negative!==0?this.abs().inotn(v).iaddn(1):this.clone()},s.prototype.fromTwos=function(v){return this.testn(v-1)?this.notn(v).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(v){for(;this.length<v.length;)this.words[this.length++]=0;for(var S=0;S<v.length;S++)this.words[S]=this.words[S]|v.words[S];return this._strip()},s.prototype.ior=function(v){return r((this.negative|v.negative)===0),this.iuor(v)},s.prototype.or=function(v){return this.length>v.length?this.clone().ior(v):v.clone().ior(this)},s.prototype.uor=function(v){return this.length>v.length?this.clone().iuor(v):v.clone().iuor(this)},s.prototype.iuand=function(v){var S;this.length>v.length?S=v:S=this;for(var N=0;N<S.length;N++)this.words[N]=this.words[N]&v.words[N];return this.length=S.length,this._strip()},s.prototype.iand=function(v){return r((this.negative|v.negative)===0),this.iuand(v)},s.prototype.and=function(v){return this.length>v.length?this.clone().iand(v):v.clone().iand(this)},s.prototype.uand=function(v){return this.length>v.length?this.clone().iuand(v):v.clone().iuand(this)},s.prototype.iuxor=function(v){var S,N;this.length>v.length?(S=this,N=v):(S=v,N=this);for(var R=0;R<N.length;R++)this.words[R]=S.words[R]^N.words[R];if(this!==S)for(;R<S.length;R++)this.words[R]=S.words[R];return this.length=S.length,this._strip()},s.prototype.ixor=function(v){return r((this.negative|v.negative)===0),this.iuxor(v)},s.prototype.xor=function(v){return this.length>v.length?this.clone().ixor(v):v.clone().ixor(this)},s.prototype.uxor=function(v){return this.length>v.length?this.clone().iuxor(v):v.clone().iuxor(this)},s.prototype.inotn=function(v){r(typeof v=="number"&&v>=0);var S=Math.ceil(v/26)|0,N=v%26;this._expand(S),N>0&&S--;for(var R=0;R<S;R++)this.words[R]=~this.words[R]&67108863;return N>0&&(this.words[R]=~this.words[R]&67108863>>26-N),this._strip()},s.prototype.notn=function(v){return this.clone().inotn(v)},s.prototype.setn=function(v,S){r(typeof v=="number"&&v>=0);var N=v/26|0,R=v%26;return this._expand(N+1),S?this.words[N]=this.words[N]|1<<R:this.words[N]=this.words[N]&~(1<<R),this._strip()},s.prototype.iadd=function(v){var S;if(this.negative!==0&&v.negative===0)return this.negative=0,S=this.isub(v),this.negative^=1,this._normSign();if(this.negative===0&&v.negative!==0)return v.negative=0,S=this.isub(v),v.negative=1,S._normSign();var N,R;this.length>v.length?(N=this,R=v):(N=v,R=this);for(var k=0,j=0;j<R.length;j++)S=(N.words[j]|0)+(R.words[j]|0)+k,this.words[j]=S&67108863,k=S>>>26;for(;k!==0&&j<N.length;j++)S=(N.words[j]|0)+k,this.words[j]=S&67108863,k=S>>>26;if(this.length=N.length,k!==0)this.words[this.length]=k,this.length++;else if(N!==this)for(;j<N.length;j++)this.words[j]=N.words[j];return this},s.prototype.add=function(v){var S;return v.negative!==0&&this.negative===0?(v.negative=0,S=this.sub(v),v.negative^=1,S):v.negative===0&&this.negative!==0?(this.negative=0,S=v.sub(this),this.negative=1,S):this.length>v.length?this.clone().iadd(v):v.clone().iadd(this)},s.prototype.isub=function(v){if(v.negative!==0){v.negative=0;var S=this.iadd(v);return v.negative=1,S._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(v),this.negative=1,this._normSign();var N=this.cmp(v);if(N===0)return this.negative=0,this.length=1,this.words[0]=0,this;var R,k;N>0?(R=this,k=v):(R=v,k=this);for(var j=0,I=0;I<k.length;I++)S=(R.words[I]|0)-(k.words[I]|0)+j,j=S>>26,this.words[I]=S&67108863;for(;j!==0&&I<R.length;I++)S=(R.words[I]|0)+j,j=S>>26,this.words[I]=S&67108863;if(j===0&&I<R.length&&R!==this)for(;I<R.length;I++)this.words[I]=R.words[I];return this.length=Math.max(this.length,I),R!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(v){return this.clone().isub(v)};function B(M,v,S){S.negative=v.negative^M.negative;var N=M.length+v.length|0;S.length=N,N=N-1|0;var R=M.words[0]|0,k=v.words[0]|0,j=R*k,I=j&67108863,A=j/67108864|0;S.words[0]=I;for(var $=1;$<N;$++){for(var L=A>>>26,Y=A&67108863,le=Math.min($,v.length-1),re=Math.max(0,$-M.length+1);re<=le;re++){var U=$-re|0;R=M.words[U]|0,k=v.words[re]|0,j=R*k+Y,L+=j/67108864|0,Y=j&67108863}S.words[$]=Y|0,A=L|0}return A!==0?S.words[$]=A|0:S.length--,S._strip()}var O=function(v,S,N){var R=v.words,k=S.words,j=N.words,I=0,A,$,L,Y=R[0]|0,le=Y&8191,re=Y>>>13,U=R[1]|0,K=U&8191,se=U>>>13,he=R[2]|0,ue=he&8191,ee=he>>>13,fe=R[3]|0,ge=fe&8191,xe=fe>>>13,_e=R[4]|0,Ie=_e&8191,De=_e>>>13,$e=R[5]|0,Ue=$e&8191,Be=$e>>>13,Ve=R[6]|0,He=Ve&8191,Ae=Ve>>>13,Ce=R[7]|0,Te=Ce&8191,ye=Ce>>>13,Fe=R[8]|0,qe=Fe&8191,oe=Fe>>>13,Q=R[9]|0,ie=Q&8191,pe=Q>>>13,be=k[0]|0,we=be&8191,Re=be>>>13,Ge=k[1]|0,Ye=Ge&8191,Je=Ge>>>13,st=k[2]|0,et=st&8191,tt=st>>>13,mt=k[3]|0,ut=mt&8191,nt=mt>>>13,yt=k[4]|0,ft=yt&8191,de=yt>>>13,ne=k[5]|0,ae=ne&8191,ve=ne>>>13,Ee=k[6]|0,Me=Ee&8191,Ne=Ee>>>13,it=k[7]|0,at=it&8191,Xe=it>>>13,ct=k[8]|0,Qe=ct&8191,rt=ct>>>13,Rt=k[9]|0,pt=Rt&8191,gt=Rt>>>13;N.negative=v.negative^S.negative,N.length=19,A=Math.imul(le,we),$=Math.imul(le,Re),$=$+Math.imul(re,we)|0,L=Math.imul(re,Re);var br=(I+A|0)+(($&8191)<<13)|0;I=(L+($>>>13)|0)+(br>>>26)|0,br&=67108863,A=Math.imul(K,we),$=Math.imul(K,Re),$=$+Math.imul(se,we)|0,L=Math.imul(se,Re),A=A+Math.imul(le,Ye)|0,$=$+Math.imul(le,Je)|0,$=$+Math.imul(re,Ye)|0,L=L+Math.imul(re,Je)|0;var lr=(I+A|0)+(($&8191)<<13)|0;I=(L+($>>>13)|0)+(lr>>>26)|0,lr&=67108863,A=Math.imul(ue,we),$=Math.imul(ue,Re),$=$+Math.imul(ee,we)|0,L=Math.imul(ee,Re),A=A+Math.imul(K,Ye)|0,$=$+Math.imul(K,Je)|0,$=$+Math.imul(se,Ye)|0,L=L+Math.imul(se,Je)|0,A=A+Math.imul(le,et)|0,$=$+Math.imul(le,tt)|0,$=$+Math.imul(re,et)|0,L=L+Math.imul(re,tt)|0;var er=(I+A|0)+(($&8191)<<13)|0;I=(L+($>>>13)|0)+(er>>>26)|0,er&=67108863,A=Math.imul(ge,we),$=Math.imul(ge,Re),$=$+Math.imul(xe,we)|0,L=Math.imul(xe,Re),A=A+Math.imul(ue,Ye)|0,$=$+Math.imul(ue,Je)|0,$=$+Math.imul(ee,Ye)|0,L=L+Math.imul(ee,Je)|0,A=A+Math.imul(K,et)|0,$=$+Math.imul(K,tt)|0,$=$+Math.imul(se,et)|0,L=L+Math.imul(se,tt)|0,A=A+Math.imul(le,ut)|0,$=$+Math.imul(le,nt)|0,$=$+Math.imul(re,ut)|0,L=L+Math.imul(re,nt)|0;var or=(I+A|0)+(($&8191)<<13)|0;I=(L+($>>>13)|0)+(or>>>26)|0,or&=67108863,A=Math.imul(Ie,we),$=Math.imul(Ie,Re),$=$+Math.imul(De,we)|0,L=Math.imul(De,Re),A=A+Math.imul(ge,Ye)|0,$=$+Math.imul(ge,Je)|0,$=$+Math.imul(xe,Ye)|0,L=L+Math.imul(xe,Je)|0,A=A+Math.imul(ue,et)|0,$=$+Math.imul(ue,tt)|0,$=$+Math.imul(ee,et)|0,L=L+Math.imul(ee,tt)|0,A=A+Math.imul(K,ut)|0,$=$+Math.imul(K,nt)|0,$=$+Math.imul(se,ut)|0,L=L+Math.imul(se,nt)|0,A=A+Math.imul(le,ft)|0,$=$+Math.imul(le,de)|0,$=$+Math.imul(re,ft)|0,L=L+Math.imul(re,de)|0;var Zt=(I+A|0)+(($&8191)<<13)|0;I=(L+($>>>13)|0)+(Zt>>>26)|0,Zt&=67108863,A=Math.imul(Ue,we),$=Math.imul(Ue,Re),$=$+Math.imul(Be,we)|0,L=Math.imul(Be,Re),A=A+Math.imul(Ie,Ye)|0,$=$+Math.imul(Ie,Je)|0,$=$+Math.imul(De,Ye)|0,L=L+Math.imul(De,Je)|0,A=A+Math.imul(ge,et)|0,$=$+Math.imul(ge,tt)|0,$=$+Math.imul(xe,et)|0,L=L+Math.imul(xe,tt)|0,A=A+Math.imul(ue,ut)|0,$=$+Math.imul(ue,nt)|0,$=$+Math.imul(ee,ut)|0,L=L+Math.imul(ee,nt)|0,A=A+Math.imul(K,ft)|0,$=$+Math.imul(K,de)|0,$=$+Math.imul(se,ft)|0,L=L+Math.imul(se,de)|0,A=A+Math.imul(le,ae)|0,$=$+Math.imul(le,ve)|0,$=$+Math.imul(re,ae)|0,L=L+Math.imul(re,ve)|0;var Yt=(I+A|0)+(($&8191)<<13)|0;I=(L+($>>>13)|0)+(Yt>>>26)|0,Yt&=67108863,A=Math.imul(He,we),$=Math.imul(He,Re),$=$+Math.imul(Ae,we)|0,L=Math.imul(Ae,Re),A=A+Math.imul(Ue,Ye)|0,$=$+Math.imul(Ue,Je)|0,$=$+Math.imul(Be,Ye)|0,L=L+Math.imul(Be,Je)|0,A=A+Math.imul(Ie,et)|0,$=$+Math.imul(Ie,tt)|0,$=$+Math.imul(De,et)|0,L=L+Math.imul(De,tt)|0,A=A+Math.imul(ge,ut)|0,$=$+Math.imul(ge,nt)|0,$=$+Math.imul(xe,ut)|0,L=L+Math.imul(xe,nt)|0,A=A+Math.imul(ue,ft)|0,$=$+Math.imul(ue,de)|0,$=$+Math.imul(ee,ft)|0,L=L+Math.imul(ee,de)|0,A=A+Math.imul(K,ae)|0,$=$+Math.imul(K,ve)|0,$=$+Math.imul(se,ae)|0,L=L+Math.imul(se,ve)|0,A=A+Math.imul(le,Me)|0,$=$+Math.imul(le,Ne)|0,$=$+Math.imul(re,Me)|0,L=L+Math.imul(re,Ne)|0;var tr=(I+A|0)+(($&8191)<<13)|0;I=(L+($>>>13)|0)+(tr>>>26)|0,tr&=67108863,A=Math.imul(Te,we),$=Math.imul(Te,Re),$=$+Math.imul(ye,we)|0,L=Math.imul(ye,Re),A=A+Math.imul(He,Ye)|0,$=$+Math.imul(He,Je)|0,$=$+Math.imul(Ae,Ye)|0,L=L+Math.imul(Ae,Je)|0,A=A+Math.imul(Ue,et)|0,$=$+Math.imul(Ue,tt)|0,$=$+Math.imul(Be,et)|0,L=L+Math.imul(Be,tt)|0,A=A+Math.imul(Ie,ut)|0,$=$+Math.imul(Ie,nt)|0,$=$+Math.imul(De,ut)|0,L=L+Math.imul(De,nt)|0,A=A+Math.imul(ge,ft)|0,$=$+Math.imul(ge,de)|0,$=$+Math.imul(xe,ft)|0,L=L+Math.imul(xe,de)|0,A=A+Math.imul(ue,ae)|0,$=$+Math.imul(ue,ve)|0,$=$+Math.imul(ee,ae)|0,L=L+Math.imul(ee,ve)|0,A=A+Math.imul(K,Me)|0,$=$+Math.imul(K,Ne)|0,$=$+Math.imul(se,Me)|0,L=L+Math.imul(se,Ne)|0,A=A+Math.imul(le,at)|0,$=$+Math.imul(le,Xe)|0,$=$+Math.imul(re,at)|0,L=L+Math.imul(re,Xe)|0;var Jt=(I+A|0)+(($&8191)<<13)|0;I=(L+($>>>13)|0)+(Jt>>>26)|0,Jt&=67108863,A=Math.imul(qe,we),$=Math.imul(qe,Re),$=$+Math.imul(oe,we)|0,L=Math.imul(oe,Re),A=A+Math.imul(Te,Ye)|0,$=$+Math.imul(Te,Je)|0,$=$+Math.imul(ye,Ye)|0,L=L+Math.imul(ye,Je)|0,A=A+Math.imul(He,et)|0,$=$+Math.imul(He,tt)|0,$=$+Math.imul(Ae,et)|0,L=L+Math.imul(Ae,tt)|0,A=A+Math.imul(Ue,ut)|0,$=$+Math.imul(Ue,nt)|0,$=$+Math.imul(Be,ut)|0,L=L+Math.imul(Be,nt)|0,A=A+Math.imul(Ie,ft)|0,$=$+Math.imul(Ie,de)|0,$=$+Math.imul(De,ft)|0,L=L+Math.imul(De,de)|0,A=A+Math.imul(ge,ae)|0,$=$+Math.imul(ge,ve)|0,$=$+Math.imul(xe,ae)|0,L=L+Math.imul(xe,ve)|0,A=A+Math.imul(ue,Me)|0,$=$+Math.imul(ue,Ne)|0,$=$+Math.imul(ee,Me)|0,L=L+Math.imul(ee,Ne)|0,A=A+Math.imul(K,at)|0,$=$+Math.imul(K,Xe)|0,$=$+Math.imul(se,at)|0,L=L+Math.imul(se,Xe)|0,A=A+Math.imul(le,Qe)|0,$=$+Math.imul(le,rt)|0,$=$+Math.imul(re,Qe)|0,L=L+Math.imul(re,rt)|0;var kt=(I+A|0)+(($&8191)<<13)|0;I=(L+($>>>13)|0)+(kt>>>26)|0,kt&=67108863,A=Math.imul(ie,we),$=Math.imul(ie,Re),$=$+Math.imul(pe,we)|0,L=Math.imul(pe,Re),A=A+Math.imul(qe,Ye)|0,$=$+Math.imul(qe,Je)|0,$=$+Math.imul(oe,Ye)|0,L=L+Math.imul(oe,Je)|0,A=A+Math.imul(Te,et)|0,$=$+Math.imul(Te,tt)|0,$=$+Math.imul(ye,et)|0,L=L+Math.imul(ye,tt)|0,A=A+Math.imul(He,ut)|0,$=$+Math.imul(He,nt)|0,$=$+Math.imul(Ae,ut)|0,L=L+Math.imul(Ae,nt)|0,A=A+Math.imul(Ue,ft)|0,$=$+Math.imul(Ue,de)|0,$=$+Math.imul(Be,ft)|0,L=L+Math.imul(Be,de)|0,A=A+Math.imul(Ie,ae)|0,$=$+Math.imul(Ie,ve)|0,$=$+Math.imul(De,ae)|0,L=L+Math.imul(De,ve)|0,A=A+Math.imul(ge,Me)|0,$=$+Math.imul(ge,Ne)|0,$=$+Math.imul(xe,Me)|0,L=L+Math.imul(xe,Ne)|0,A=A+Math.imul(ue,at)|0,$=$+Math.imul(ue,Xe)|0,$=$+Math.imul(ee,at)|0,L=L+Math.imul(ee,Xe)|0,A=A+Math.imul(K,Qe)|0,$=$+Math.imul(K,rt)|0,$=$+Math.imul(se,Qe)|0,L=L+Math.imul(se,rt)|0,A=A+Math.imul(le,pt)|0,$=$+Math.imul(le,gt)|0,$=$+Math.imul(re,pt)|0,L=L+Math.imul(re,gt)|0;var cr=(I+A|0)+(($&8191)<<13)|0;I=(L+($>>>13)|0)+(cr>>>26)|0,cr&=67108863,A=Math.imul(ie,Ye),$=Math.imul(ie,Je),$=$+Math.imul(pe,Ye)|0,L=Math.imul(pe,Je),A=A+Math.imul(qe,et)|0,$=$+Math.imul(qe,tt)|0,$=$+Math.imul(oe,et)|0,L=L+Math.imul(oe,tt)|0,A=A+Math.imul(Te,ut)|0,$=$+Math.imul(Te,nt)|0,$=$+Math.imul(ye,ut)|0,L=L+Math.imul(ye,nt)|0,A=A+Math.imul(He,ft)|0,$=$+Math.imul(He,de)|0,$=$+Math.imul(Ae,ft)|0,L=L+Math.imul(Ae,de)|0,A=A+Math.imul(Ue,ae)|0,$=$+Math.imul(Ue,ve)|0,$=$+Math.imul(Be,ae)|0,L=L+Math.imul(Be,ve)|0,A=A+Math.imul(Ie,Me)|0,$=$+Math.imul(Ie,Ne)|0,$=$+Math.imul(De,Me)|0,L=L+Math.imul(De,Ne)|0,A=A+Math.imul(ge,at)|0,$=$+Math.imul(ge,Xe)|0,$=$+Math.imul(xe,at)|0,L=L+Math.imul(xe,Xe)|0,A=A+Math.imul(ue,Qe)|0,$=$+Math.imul(ue,rt)|0,$=$+Math.imul(ee,Qe)|0,L=L+Math.imul(ee,rt)|0,A=A+Math.imul(K,pt)|0,$=$+Math.imul(K,gt)|0,$=$+Math.imul(se,pt)|0,L=L+Math.imul(se,gt)|0;var ur=(I+A|0)+(($&8191)<<13)|0;I=(L+($>>>13)|0)+(ur>>>26)|0,ur&=67108863,A=Math.imul(ie,et),$=Math.imul(ie,tt),$=$+Math.imul(pe,et)|0,L=Math.imul(pe,tt),A=A+Math.imul(qe,ut)|0,$=$+Math.imul(qe,nt)|0,$=$+Math.imul(oe,ut)|0,L=L+Math.imul(oe,nt)|0,A=A+Math.imul(Te,ft)|0,$=$+Math.imul(Te,de)|0,$=$+Math.imul(ye,ft)|0,L=L+Math.imul(ye,de)|0,A=A+Math.imul(He,ae)|0,$=$+Math.imul(He,ve)|0,$=$+Math.imul(Ae,ae)|0,L=L+Math.imul(Ae,ve)|0,A=A+Math.imul(Ue,Me)|0,$=$+Math.imul(Ue,Ne)|0,$=$+Math.imul(Be,Me)|0,L=L+Math.imul(Be,Ne)|0,A=A+Math.imul(Ie,at)|0,$=$+Math.imul(Ie,Xe)|0,$=$+Math.imul(De,at)|0,L=L+Math.imul(De,Xe)|0,A=A+Math.imul(ge,Qe)|0,$=$+Math.imul(ge,rt)|0,$=$+Math.imul(xe,Qe)|0,L=L+Math.imul(xe,rt)|0,A=A+Math.imul(ue,pt)|0,$=$+Math.imul(ue,gt)|0,$=$+Math.imul(ee,pt)|0,L=L+Math.imul(ee,gt)|0;var Gt=(I+A|0)+(($&8191)<<13)|0;I=(L+($>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,A=Math.imul(ie,ut),$=Math.imul(ie,nt),$=$+Math.imul(pe,ut)|0,L=Math.imul(pe,nt),A=A+Math.imul(qe,ft)|0,$=$+Math.imul(qe,de)|0,$=$+Math.imul(oe,ft)|0,L=L+Math.imul(oe,de)|0,A=A+Math.imul(Te,ae)|0,$=$+Math.imul(Te,ve)|0,$=$+Math.imul(ye,ae)|0,L=L+Math.imul(ye,ve)|0,A=A+Math.imul(He,Me)|0,$=$+Math.imul(He,Ne)|0,$=$+Math.imul(Ae,Me)|0,L=L+Math.imul(Ae,Ne)|0,A=A+Math.imul(Ue,at)|0,$=$+Math.imul(Ue,Xe)|0,$=$+Math.imul(Be,at)|0,L=L+Math.imul(Be,Xe)|0,A=A+Math.imul(Ie,Qe)|0,$=$+Math.imul(Ie,rt)|0,$=$+Math.imul(De,Qe)|0,L=L+Math.imul(De,rt)|0,A=A+Math.imul(ge,pt)|0,$=$+Math.imul(ge,gt)|0,$=$+Math.imul(xe,pt)|0,L=L+Math.imul(xe,gt)|0;var Xt=(I+A|0)+(($&8191)<<13)|0;I=(L+($>>>13)|0)+(Xt>>>26)|0,Xt&=67108863,A=Math.imul(ie,ft),$=Math.imul(ie,de),$=$+Math.imul(pe,ft)|0,L=Math.imul(pe,de),A=A+Math.imul(qe,ae)|0,$=$+Math.imul(qe,ve)|0,$=$+Math.imul(oe,ae)|0,L=L+Math.imul(oe,ve)|0,A=A+Math.imul(Te,Me)|0,$=$+Math.imul(Te,Ne)|0,$=$+Math.imul(ye,Me)|0,L=L+Math.imul(ye,Ne)|0,A=A+Math.imul(He,at)|0,$=$+Math.imul(He,Xe)|0,$=$+Math.imul(Ae,at)|0,L=L+Math.imul(Ae,Xe)|0,A=A+Math.imul(Ue,Qe)|0,$=$+Math.imul(Ue,rt)|0,$=$+Math.imul(Be,Qe)|0,L=L+Math.imul(Be,rt)|0,A=A+Math.imul(Ie,pt)|0,$=$+Math.imul(Ie,gt)|0,$=$+Math.imul(De,pt)|0,L=L+Math.imul(De,gt)|0;var wr=(I+A|0)+(($&8191)<<13)|0;I=(L+($>>>13)|0)+(wr>>>26)|0,wr&=67108863,A=Math.imul(ie,ae),$=Math.imul(ie,ve),$=$+Math.imul(pe,ae)|0,L=Math.imul(pe,ve),A=A+Math.imul(qe,Me)|0,$=$+Math.imul(qe,Ne)|0,$=$+Math.imul(oe,Me)|0,L=L+Math.imul(oe,Ne)|0,A=A+Math.imul(Te,at)|0,$=$+Math.imul(Te,Xe)|0,$=$+Math.imul(ye,at)|0,L=L+Math.imul(ye,Xe)|0,A=A+Math.imul(He,Qe)|0,$=$+Math.imul(He,rt)|0,$=$+Math.imul(Ae,Qe)|0,L=L+Math.imul(Ae,rt)|0,A=A+Math.imul(Ue,pt)|0,$=$+Math.imul(Ue,gt)|0,$=$+Math.imul(Be,pt)|0,L=L+Math.imul(Be,gt)|0;var dr=(I+A|0)+(($&8191)<<13)|0;I=(L+($>>>13)|0)+(dr>>>26)|0,dr&=67108863,A=Math.imul(ie,Me),$=Math.imul(ie,Ne),$=$+Math.imul(pe,Me)|0,L=Math.imul(pe,Ne),A=A+Math.imul(qe,at)|0,$=$+Math.imul(qe,Xe)|0,$=$+Math.imul(oe,at)|0,L=L+Math.imul(oe,Xe)|0,A=A+Math.imul(Te,Qe)|0,$=$+Math.imul(Te,rt)|0,$=$+Math.imul(ye,Qe)|0,L=L+Math.imul(ye,rt)|0,A=A+Math.imul(He,pt)|0,$=$+Math.imul(He,gt)|0,$=$+Math.imul(Ae,pt)|0,L=L+Math.imul(Ae,gt)|0;var fr=(I+A|0)+(($&8191)<<13)|0;I=(L+($>>>13)|0)+(fr>>>26)|0,fr&=67108863,A=Math.imul(ie,at),$=Math.imul(ie,Xe),$=$+Math.imul(pe,at)|0,L=Math.imul(pe,Xe),A=A+Math.imul(qe,Qe)|0,$=$+Math.imul(qe,rt)|0,$=$+Math.imul(oe,Qe)|0,L=L+Math.imul(oe,rt)|0,A=A+Math.imul(Te,pt)|0,$=$+Math.imul(Te,gt)|0,$=$+Math.imul(ye,pt)|0,L=L+Math.imul(ye,gt)|0;var _r=(I+A|0)+(($&8191)<<13)|0;I=(L+($>>>13)|0)+(_r>>>26)|0,_r&=67108863,A=Math.imul(ie,Qe),$=Math.imul(ie,rt),$=$+Math.imul(pe,Qe)|0,L=Math.imul(pe,rt),A=A+Math.imul(qe,pt)|0,$=$+Math.imul(qe,gt)|0,$=$+Math.imul(oe,pt)|0,L=L+Math.imul(oe,gt)|0;var Tr=(I+A|0)+(($&8191)<<13)|0;I=(L+($>>>13)|0)+(Tr>>>26)|0,Tr&=67108863,A=Math.imul(ie,pt),$=Math.imul(ie,gt),$=$+Math.imul(pe,pt)|0,L=Math.imul(pe,gt);var Mr=(I+A|0)+(($&8191)<<13)|0;return I=(L+($>>>13)|0)+(Mr>>>26)|0,Mr&=67108863,j[0]=br,j[1]=lr,j[2]=er,j[3]=or,j[4]=Zt,j[5]=Yt,j[6]=tr,j[7]=Jt,j[8]=kt,j[9]=cr,j[10]=ur,j[11]=Gt,j[12]=Xt,j[13]=wr,j[14]=dr,j[15]=fr,j[16]=_r,j[17]=Tr,j[18]=Mr,I!==0&&(j[19]=I,N.length++),N};Math.imul||(O=B);function P(M,v,S){S.negative=v.negative^M.negative,S.length=M.length+v.length;for(var N=0,R=0,k=0;k<S.length-1;k++){var j=R;R=0;for(var I=N&67108863,A=Math.min(k,v.length-1),$=Math.max(0,k-M.length+1);$<=A;$++){var L=k-$,Y=M.words[L]|0,le=v.words[$]|0,re=Y*le,U=re&67108863;j=j+(re/67108864|0)|0,U=U+I|0,I=U&67108863,j=j+(U>>>26)|0,R+=j>>>26,j&=67108863}S.words[k]=I,N=j,j=R}return N!==0?S.words[k]=N:S.length--,S._strip()}function q(M,v,S){return P(M,v,S)}s.prototype.mulTo=function(v,S){var N,R=this.length+v.length;return this.length===10&&v.length===10?N=O(this,v,S):R<63?N=B(this,v,S):R<1024?N=P(this,v,S):N=q(this,v,S),N},s.prototype.mul=function(v){var S=new s(null);return S.words=new Array(this.length+v.length),this.mulTo(v,S)},s.prototype.mulf=function(v){var S=new s(null);return S.words=new Array(this.length+v.length),q(this,v,S)},s.prototype.imul=function(v){return this.clone().mulTo(v,this)},s.prototype.imuln=function(v){var S=v<0;S&&(v=-v),r(typeof v=="number"),r(v<67108864);for(var N=0,R=0;R<this.length;R++){var k=(this.words[R]|0)*v,j=(k&67108863)+(N&67108863);N>>=26,N+=k/67108864|0,N+=j>>>26,this.words[R]=j&67108863}return N!==0&&(this.words[R]=N,this.length++),this.length=v===0?1:this.length,S?this.ineg():this},s.prototype.muln=function(v){return this.clone().imuln(v)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(v){var S=C(v);if(S.length===0)return new s(1);for(var N=this,R=0;R<S.length&&S[R]===0;R++,N=N.sqr());if(++R<S.length)for(var k=N.sqr();R<S.length;R++,k=k.sqr())S[R]!==0&&(N=N.mul(k));return N},s.prototype.iushln=function(v){r(typeof v=="number"&&v>=0);var S=v%26,N=(v-S)/26,R=67108863>>>26-S<<26-S,k;if(S!==0){var j=0;for(k=0;k<this.length;k++){var I=this.words[k]&R,A=(this.words[k]|0)-I<<S;this.words[k]=A|j,j=I>>>26-S}j&&(this.words[k]=j,this.length++)}if(N!==0){for(k=this.length-1;k>=0;k--)this.words[k+N]=this.words[k];for(k=0;k<N;k++)this.words[k]=0;this.length+=N}return this._strip()},s.prototype.ishln=function(v){return r(this.negative===0),this.iushln(v)},s.prototype.iushrn=function(v,S,N){r(typeof v=="number"&&v>=0);var R;S?R=(S-S%26)/26:R=0;var k=v%26,j=Math.min((v-k)/26,this.length),I=67108863^67108863>>>k<<k,A=N;if(R-=j,R=Math.max(0,R),A){for(var $=0;$<j;$++)A.words[$]=this.words[$];A.length=j}if(j!==0)if(this.length>j)for(this.length-=j,$=0;$<this.length;$++)this.words[$]=this.words[$+j];else this.words[0]=0,this.length=1;var L=0;for($=this.length-1;$>=0&&(L!==0||$>=R);$--){var Y=this.words[$]|0;this.words[$]=L<<26-k|Y>>>k,L=Y&I}return A&&L!==0&&(A.words[A.length++]=L),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(v,S,N){return r(this.negative===0),this.iushrn(v,S,N)},s.prototype.shln=function(v){return this.clone().ishln(v)},s.prototype.ushln=function(v){return this.clone().iushln(v)},s.prototype.shrn=function(v){return this.clone().ishrn(v)},s.prototype.ushrn=function(v){return this.clone().iushrn(v)},s.prototype.testn=function(v){r(typeof v=="number"&&v>=0);var S=v%26,N=(v-S)/26,R=1<<S;if(this.length<=N)return!1;var k=this.words[N];return!!(k&R)},s.prototype.imaskn=function(v){r(typeof v=="number"&&v>=0);var S=v%26,N=(v-S)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=N)return this;if(S!==0&&N++,this.length=Math.min(N,this.length),S!==0){var R=67108863^67108863>>>S<<S;this.words[this.length-1]&=R}return this._strip()},s.prototype.maskn=function(v){return this.clone().imaskn(v)},s.prototype.iaddn=function(v){return r(typeof v=="number"),r(v<67108864),v<0?this.isubn(-v):this.negative!==0?this.length===1&&(this.words[0]|0)<=v?(this.words[0]=v-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(v),this.negative=1,this):this._iaddn(v)},s.prototype._iaddn=function(v){this.words[0]+=v;for(var S=0;S<this.length&&this.words[S]>=67108864;S++)this.words[S]-=67108864,S===this.length-1?this.words[S+1]=1:this.words[S+1]++;return this.length=Math.max(this.length,S+1),this},s.prototype.isubn=function(v){if(r(typeof v=="number"),r(v<67108864),v<0)return this.iaddn(-v);if(this.negative!==0)return this.negative=0,this.iaddn(v),this.negative=1,this;if(this.words[0]-=v,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var S=0;S<this.length&&this.words[S]<0;S++)this.words[S]+=67108864,this.words[S+1]-=1;return this._strip()},s.prototype.addn=function(v){return this.clone().iaddn(v)},s.prototype.subn=function(v){return this.clone().isubn(v)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(v,S,N){var R=v.length+N,k;this._expand(R);var j,I=0;for(k=0;k<v.length;k++){j=(this.words[k+N]|0)+I;var A=(v.words[k]|0)*S;j-=A&67108863,I=(j>>26)-(A/67108864|0),this.words[k+N]=j&67108863}for(;k<this.length-N;k++)j=(this.words[k+N]|0)+I,I=j>>26,this.words[k+N]=j&67108863;if(I===0)return this._strip();for(r(I===-1),I=0,k=0;k<this.length;k++)j=-(this.words[k]|0)+I,I=j>>26,this.words[k]=j&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(v,S){var N=this.length-v.length,R=this.clone(),k=v,j=k.words[k.length-1]|0,I=this._countBits(j);N=26-I,N!==0&&(k=k.ushln(N),R.iushln(N),j=k.words[k.length-1]|0);var A=R.length-k.length,$;if(S!=="mod"){$=new s(null),$.length=A+1,$.words=new Array($.length);for(var L=0;L<$.length;L++)$.words[L]=0}var Y=R.clone()._ishlnsubmul(k,1,A);Y.negative===0&&(R=Y,$&&($.words[A]=1));for(var le=A-1;le>=0;le--){var re=(R.words[k.length+le]|0)*67108864+(R.words[k.length+le-1]|0);for(re=Math.min(re/j|0,67108863),R._ishlnsubmul(k,re,le);R.negative!==0;)re--,R.negative=0,R._ishlnsubmul(k,1,le),R.isZero()||(R.negative^=1);$&&($.words[le]=re)}return $&&$._strip(),R._strip(),S!=="div"&&N!==0&&R.iushrn(N),{div:$||null,mod:R}},s.prototype.divmod=function(v,S,N){if(r(!v.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var R,k,j;return this.negative!==0&&v.negative===0?(j=this.neg().divmod(v,S),S!=="mod"&&(R=j.div.neg()),S!=="div"&&(k=j.mod.neg(),N&&k.negative!==0&&k.iadd(v)),{div:R,mod:k}):this.negative===0&&v.negative!==0?(j=this.divmod(v.neg(),S),S!=="mod"&&(R=j.div.neg()),{div:R,mod:j.mod}):(this.negative&v.negative)!==0?(j=this.neg().divmod(v.neg(),S),S!=="div"&&(k=j.mod.neg(),N&&k.negative!==0&&k.isub(v)),{div:j.div,mod:k}):v.length>this.length||this.cmp(v)<0?{div:new s(0),mod:this}:v.length===1?S==="div"?{div:this.divn(v.words[0]),mod:null}:S==="mod"?{div:null,mod:new s(this.modrn(v.words[0]))}:{div:this.divn(v.words[0]),mod:new s(this.modrn(v.words[0]))}:this._wordDiv(v,S)},s.prototype.div=function(v){return this.divmod(v,"div",!1).div},s.prototype.mod=function(v){return this.divmod(v,"mod",!1).mod},s.prototype.umod=function(v){return this.divmod(v,"mod",!0).mod},s.prototype.divRound=function(v){var S=this.divmod(v);if(S.mod.isZero())return S.div;var N=S.div.negative!==0?S.mod.isub(v):S.mod,R=v.ushrn(1),k=v.andln(1),j=N.cmp(R);return j<0||k===1&&j===0?S.div:S.div.negative!==0?S.div.isubn(1):S.div.iaddn(1)},s.prototype.modrn=function(v){var S=v<0;S&&(v=-v),r(v<=67108863);for(var N=(1<<26)%v,R=0,k=this.length-1;k>=0;k--)R=(N*R+(this.words[k]|0))%v;return S?-R:R},s.prototype.modn=function(v){return this.modrn(v)},s.prototype.idivn=function(v){var S=v<0;S&&(v=-v),r(v<=67108863);for(var N=0,R=this.length-1;R>=0;R--){var k=(this.words[R]|0)+N*67108864;this.words[R]=k/v|0,N=k%v}return this._strip(),S?this.ineg():this},s.prototype.divn=function(v){return this.clone().idivn(v)},s.prototype.egcd=function(v){r(v.negative===0),r(!v.isZero());var S=this,N=v.clone();S.negative!==0?S=S.umod(v):S=S.clone();for(var R=new s(1),k=new s(0),j=new s(0),I=new s(1),A=0;S.isEven()&&N.isEven();)S.iushrn(1),N.iushrn(1),++A;for(var $=N.clone(),L=S.clone();!S.isZero();){for(var Y=0,le=1;(S.words[0]&le)===0&&Y<26;++Y,le<<=1);if(Y>0)for(S.iushrn(Y);Y-- >0;)(R.isOdd()||k.isOdd())&&(R.iadd($),k.isub(L)),R.iushrn(1),k.iushrn(1);for(var re=0,U=1;(N.words[0]&U)===0&&re<26;++re,U<<=1);if(re>0)for(N.iushrn(re);re-- >0;)(j.isOdd()||I.isOdd())&&(j.iadd($),I.isub(L)),j.iushrn(1),I.iushrn(1);S.cmp(N)>=0?(S.isub(N),R.isub(j),k.isub(I)):(N.isub(S),j.isub(R),I.isub(k))}return{a:j,b:I,gcd:N.iushln(A)}},s.prototype._invmp=function(v){r(v.negative===0),r(!v.isZero());var S=this,N=v.clone();S.negative!==0?S=S.umod(v):S=S.clone();for(var R=new s(1),k=new s(0),j=N.clone();S.cmpn(1)>0&&N.cmpn(1)>0;){for(var I=0,A=1;(S.words[0]&A)===0&&I<26;++I,A<<=1);if(I>0)for(S.iushrn(I);I-- >0;)R.isOdd()&&R.iadd(j),R.iushrn(1);for(var $=0,L=1;(N.words[0]&L)===0&&$<26;++$,L<<=1);if($>0)for(N.iushrn($);$-- >0;)k.isOdd()&&k.iadd(j),k.iushrn(1);S.cmp(N)>=0?(S.isub(N),R.isub(k)):(N.isub(S),k.isub(R))}var Y;return S.cmpn(1)===0?Y=R:Y=k,Y.cmpn(0)<0&&Y.iadd(v),Y},s.prototype.gcd=function(v){if(this.isZero())return v.abs();if(v.isZero())return this.abs();var S=this.clone(),N=v.clone();S.negative=0,N.negative=0;for(var R=0;S.isEven()&&N.isEven();R++)S.iushrn(1),N.iushrn(1);do{for(;S.isEven();)S.iushrn(1);for(;N.isEven();)N.iushrn(1);var k=S.cmp(N);if(k<0){var j=S;S=N,N=j}else if(k===0||N.cmpn(1)===0)break;S.isub(N)}while(!0);return N.iushln(R)},s.prototype.invm=function(v){return this.egcd(v).a.umod(v)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(v){return this.words[0]&v},s.prototype.bincn=function(v){r(typeof v=="number");var S=v%26,N=(v-S)/26,R=1<<S;if(this.length<=N)return this._expand(N+1),this.words[N]|=R,this;for(var k=R,j=N;k!==0&&j<this.length;j++){var I=this.words[j]|0;I+=k,k=I>>>26,I&=67108863,this.words[j]=I}return k!==0&&(this.words[j]=k,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(v){var S=v<0;if(this.negative!==0&&!S)return-1;if(this.negative===0&&S)return 1;this._strip();var N;if(this.length>1)N=1;else{S&&(v=-v),r(v<=67108863,"Number is too big");var R=this.words[0]|0;N=R===v?0:R<v?-1:1}return this.negative!==0?-N|0:N},s.prototype.cmp=function(v){if(this.negative!==0&&v.negative===0)return-1;if(this.negative===0&&v.negative!==0)return 1;var S=this.ucmp(v);return this.negative!==0?-S|0:S},s.prototype.ucmp=function(v){if(this.length>v.length)return 1;if(this.length<v.length)return-1;for(var S=0,N=this.length-1;N>=0;N--){var R=this.words[N]|0,k=v.words[N]|0;if(R!==k){R<k?S=-1:R>k&&(S=1);break}}return S},s.prototype.gtn=function(v){return this.cmpn(v)===1},s.prototype.gt=function(v){return this.cmp(v)===1},s.prototype.gten=function(v){return this.cmpn(v)>=0},s.prototype.gte=function(v){return this.cmp(v)>=0},s.prototype.ltn=function(v){return this.cmpn(v)===-1},s.prototype.lt=function(v){return this.cmp(v)===-1},s.prototype.lten=function(v){return this.cmpn(v)<=0},s.prototype.lte=function(v){return this.cmp(v)<=0},s.prototype.eqn=function(v){return this.cmpn(v)===0},s.prototype.eq=function(v){return this.cmp(v)===0},s.red=function(v){return new G(v)},s.prototype.toRed=function(v){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),v.convertTo(this)._forceRed(v)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(v){return this.red=v,this},s.prototype.forceRed=function(v){return r(!this.red,"Already a number in reduction context"),this._forceRed(v)},s.prototype.redAdd=function(v){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,v)},s.prototype.redIAdd=function(v){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,v)},s.prototype.redSub=function(v){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,v)},s.prototype.redISub=function(v){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,v)},s.prototype.redShl=function(v){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,v)},s.prototype.redMul=function(v){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,v),this.red.mul(this,v)},s.prototype.redIMul=function(v){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,v),this.red.imul(this,v)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(v){return r(this.red&&!v.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,v)};var z={k256:null,p224:null,p192:null,p25519:null};function V(M,v){this.name=M,this.p=new s(v,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}V.prototype._tmp=function(){var v=new s(null);return v.words=new Array(Math.ceil(this.n/13)),v},V.prototype.ireduce=function(v){var S=v,N;do this.split(S,this.tmp),S=this.imulK(S),S=S.iadd(this.tmp),N=S.bitLength();while(N>this.n);var R=N<this.n?-1:S.ucmp(this.p);return R===0?(S.words[0]=0,S.length=1):R>0?S.isub(this.p):S.strip!==void 0?S.strip():S._strip(),S},V.prototype.split=function(v,S){v.iushrn(this.n,0,S)},V.prototype.imulK=function(v){return v.imul(this.k)};function Z(){V.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(Z,V),Z.prototype.split=function(v,S){for(var N=4194303,R=Math.min(v.length,9),k=0;k<R;k++)S.words[k]=v.words[k];if(S.length=R,v.length<=9){v.words[0]=0,v.length=1;return}var j=v.words[9];for(S.words[S.length++]=j&N,k=10;k<v.length;k++){var I=v.words[k]|0;v.words[k-10]=(I&N)<<4|j>>>22,j=I}j>>>=22,v.words[k-10]=j,j===0&&v.length>10?v.length-=10:v.length-=9},Z.prototype.imulK=function(v){v.words[v.length]=0,v.words[v.length+1]=0,v.length+=2;for(var S=0,N=0;N<v.length;N++){var R=v.words[N]|0;S+=R*977,v.words[N]=S&67108863,S=R*64+(S/67108864|0)}return v.words[v.length-1]===0&&(v.length--,v.words[v.length-1]===0&&v.length--),v};function J(){V.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(J,V);function W(){V.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(W,V);function te(){V.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(te,V),te.prototype.imulK=function(v){for(var S=0,N=0;N<v.length;N++){var R=(v.words[N]|0)*19+S,k=R&67108863;R>>>=26,v.words[N]=k,S=R}return S!==0&&(v.words[v.length++]=S),v},s._prime=function(v){if(z[v])return z[v];var S;if(v==="k256")S=new Z;else if(v==="p224")S=new J;else if(v==="p192")S=new W;else if(v==="p25519")S=new te;else throw new Error("Unknown prime "+v);return z[v]=S,S};function G(M){if(typeof M=="string"){var v=s._prime(M);this.m=v.p,this.prime=v}else r(M.gtn(1),"modulus must be greater than 1"),this.m=M,this.prime=null}G.prototype._verify1=function(v){r(v.negative===0,"red works only with positives"),r(v.red,"red works only with red numbers")},G.prototype._verify2=function(v,S){r((v.negative|S.negative)===0,"red works only with positives"),r(v.red&&v.red===S.red,"red works only with red numbers")},G.prototype.imod=function(v){return this.prime?this.prime.ireduce(v)._forceRed(this):(f(v,v.umod(this.m)._forceRed(this)),v)},G.prototype.neg=function(v){return v.isZero()?v.clone():this.m.sub(v)._forceRed(this)},G.prototype.add=function(v,S){this._verify2(v,S);var N=v.add(S);return N.cmp(this.m)>=0&&N.isub(this.m),N._forceRed(this)},G.prototype.iadd=function(v,S){this._verify2(v,S);var N=v.iadd(S);return N.cmp(this.m)>=0&&N.isub(this.m),N},G.prototype.sub=function(v,S){this._verify2(v,S);var N=v.sub(S);return N.cmpn(0)<0&&N.iadd(this.m),N._forceRed(this)},G.prototype.isub=function(v,S){this._verify2(v,S);var N=v.isub(S);return N.cmpn(0)<0&&N.iadd(this.m),N},G.prototype.shl=function(v,S){return this._verify1(v),this.imod(v.ushln(S))},G.prototype.imul=function(v,S){return this._verify2(v,S),this.imod(v.imul(S))},G.prototype.mul=function(v,S){return this._verify2(v,S),this.imod(v.mul(S))},G.prototype.isqr=function(v){return this.imul(v,v.clone())},G.prototype.sqr=function(v){return this.mul(v,v)},G.prototype.sqrt=function(v){if(v.isZero())return v.clone();var S=this.m.andln(3);if(r(S%2===1),S===3){var N=this.m.add(new s(1)).iushrn(2);return this.pow(v,N)}for(var R=this.m.subn(1),k=0;!R.isZero()&&R.andln(1)===0;)k++,R.iushrn(1);r(!R.isZero());var j=new s(1).toRed(this),I=j.redNeg(),A=this.m.subn(1).iushrn(1),$=this.m.bitLength();for($=new s(2*$*$).toRed(this);this.pow($,A).cmp(I)!==0;)$.redIAdd(I);for(var L=this.pow($,R),Y=this.pow(v,R.addn(1).iushrn(1)),le=this.pow(v,R),re=k;le.cmp(j)!==0;){for(var U=le,K=0;U.cmp(j)!==0;K++)U=U.redSqr();r(K<re);var se=this.pow(L,new s(1).iushln(re-K-1));Y=Y.redMul(se),L=se.redSqr(),le=le.redMul(L),re=K}return Y},G.prototype.invm=function(v){var S=v._invmp(this.m);return S.negative!==0?(S.negative=0,this.imod(S).redNeg()):this.imod(S)},G.prototype.pow=function(v,S){if(S.isZero())return new s(1).toRed(this);if(S.cmpn(1)===0)return v.clone();var N=4,R=new Array(1<<N);R[0]=new s(1).toRed(this),R[1]=v;for(var k=2;k<R.length;k++)R[k]=this.mul(R[k-1],v);var j=R[0],I=0,A=0,$=S.bitLength()%26;for($===0&&($=26),k=S.length-1;k>=0;k--){for(var L=S.words[k],Y=$-1;Y>=0;Y--){var le=L>>Y&1;if(j!==R[0]&&(j=this.sqr(j)),le===0&&I===0){A=0;continue}I<<=1,I|=le,A++,!(A!==N&&(k!==0||Y!==0))&&(j=this.mul(j,R[I]),A=0,I=0)}$=26}return j},G.prototype.convertTo=function(v){var S=v.umod(this.m);return S===v?S.clone():S},G.prototype.convertFrom=function(v){var S=v.clone();return S.red=null,S},s.mont=function(v){return new D(v)};function D(M){G.call(this,M),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(D,G),D.prototype.convertTo=function(v){return this.imod(v.ushln(this.shift))},D.prototype.convertFrom=function(v){var S=this.imod(v.mul(this.rinv));return S.red=null,S},D.prototype.imul=function(v,S){if(v.isZero()||S.isZero())return v.words[0]=0,v.length=1,v;var N=v.imul(S),R=N.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),k=N.isub(R).iushrn(this.shift),j=k;return k.cmp(this.m)>=0?j=k.isub(this.m):k.cmpn(0)<0&&(j=k.iadd(this.m)),j._forceRed(this)},D.prototype.mul=function(v,S){if(v.isZero()||S.isZero())return new s(0)._forceRed(this);var N=v.mul(S),R=N.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),k=N.isub(R).iushrn(this.shift),j=k;return k.cmp(this.m)>=0?j=k.isub(this.m):k.cmpn(0)<0&&(j=k.iadd(this.m)),j._forceRed(this)},D.prototype.invm=function(v){var S=this.imod(v._invmp(this.m).mul(this.r2));return S._forceRed(this)}})(t,bn)})(bn$1)),bn$1.exports}var asn1$1={},asn1={},api={},vmBrowserify={},hasRequiredVmBrowserify;function requireVmBrowserify(){return hasRequiredVmBrowserify||(hasRequiredVmBrowserify=1,(function(exports$1){var indexOf=function(t,e){if(t.indexOf)return t.indexOf(e);for(var a=0;a<t.length;a++)if(t[a]===e)return a;return-1},Object_keys=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var a in t)e.push(a);return e},forEach=function(t,e){if(t.forEach)return t.forEach(e);for(var a=0;a<t.length;a++)e(t[a],a,t)},defineProp=(function(){try{return Object.defineProperty({},"_",{}),function(t,e,a){Object.defineProperty(t,e,{writable:!0,enumerable:!1,configurable:!0,value:a})}}catch{return function(e,a,r){e[a]=r}}})(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports$1.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(t){if(!(t instanceof Context))throw new TypeError("needs a 'context' argument.");var e=document.createElement("iframe");e.style||(e.style={}),e.style.display="none",document.body.appendChild(e);var a=e.contentWindow,r=a.eval,o=a.execScript;!r&&o&&(o.call(a,"null"),r=a.eval),forEach(Object_keys(t),function(c){a[c]=t[c]}),forEach(globals,function(c){t[c]&&(a[c]=t[c])});var s=Object_keys(a),l=r.call(a,this.code);return forEach(Object_keys(a),function(c){(c in t||indexOf(s,c)===-1)&&(t[c]=a[c])}),forEach(globals,function(c){c in t||defineProp(t,c,a[c])}),document.body.removeChild(e),l},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(t){var e=Script.createContext(t),a=this.runInContext(e);return t&&forEach(Object_keys(e),function(r){t[r]=e[r]}),a},forEach(Object_keys(Script.prototype),function(t){exports$1[t]=Script[t]=function(e){var a=Script(e);return a[t].apply(a,[].slice.call(arguments,1))}}),exports$1.isContext=function(t){return t instanceof Context},exports$1.createScript=function(t){return exports$1.Script(t)},exports$1.createContext=Script.createContext=function(t){var e=new Context;return typeof t=="object"&&forEach(Object_keys(t),function(a){e[a]=t[a]}),e}})(vmBrowserify)),vmBrowserify}var hasRequiredApi;function requireApi(){return hasRequiredApi||(hasRequiredApi=1,(function(t){var e=requireAsn1$1(),a=requireInherits_browser(),r=t;r.define=function(l,c){return new o(l,c)};function o(s,l){this.name=s,this.body=l,this.decoders={},this.encoders={}}o.prototype._createNamed=function(l){var c;try{c=requireVmBrowserify().runInThisContext("(function "+this.name+`(entity) {
  this._initNamed(entity);
})`)}catch{c=function(h){this._initNamed(h)}}return a(c,l),c.prototype._initNamed=function(h){l.call(this,h)},new c(this)},o.prototype._getDecoder=function(l){return l=l||"der",this.decoders.hasOwnProperty(l)||(this.decoders[l]=this._createNamed(e.decoders[l])),this.decoders[l]},o.prototype.decode=function(l,c,u){return this._getDecoder(c).decode(l,u)},o.prototype._getEncoder=function(l){return l=l||"der",this.encoders.hasOwnProperty(l)||(this.encoders[l]=this._createNamed(e.encoders[l])),this.encoders[l]},o.prototype.encode=function(l,c,u){return this._getEncoder(c).encode(l,u)}})(api)),api}var base={},reporter={},hasRequiredReporter;function requireReporter(){if(hasRequiredReporter)return reporter;hasRequiredReporter=1;var t=requireInherits_browser();function e(r){this._reporterState={obj:null,path:[],options:r||{},errors:[]}}reporter.Reporter=e,e.prototype.isError=function(o){return o instanceof a},e.prototype.save=function(){var o=this._reporterState;return{obj:o.obj,pathLen:o.path.length}},e.prototype.restore=function(o){var s=this._reporterState;s.obj=o.obj,s.path=s.path.slice(0,o.pathLen)},e.prototype.enterKey=function(o){return this._reporterState.path.push(o)},e.prototype.exitKey=function(o){var s=this._reporterState;s.path=s.path.slice(0,o-1)},e.prototype.leaveKey=function(o,s,l){var c=this._reporterState;this.exitKey(o),c.obj!==null&&(c.obj[s]=l)},e.prototype.path=function(){return this._reporterState.path.join("/")},e.prototype.enterObject=function(){var o=this._reporterState,s=o.obj;return o.obj={},s},e.prototype.leaveObject=function(o){var s=this._reporterState,l=s.obj;return s.obj=o,l},e.prototype.error=function(o){var s,l=this._reporterState,c=o instanceof a;if(c?s=o:s=new a(l.path.map(function(u){return"["+JSON.stringify(u)+"]"}).join(""),o.message||o,o.stack),!l.options.partial)throw s;return c||l.errors.push(s),s},e.prototype.wrapResult=function(o){var s=this._reporterState;return s.options.partial?{result:this.isError(o)?null:o,errors:s.errors}:o};function a(r,o){this.path=r,this.rethrow(o)}return t(a,Error),a.prototype.rethrow=function(o){if(this.message=o+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,a),!this.stack)try{throw new Error(this.message)}catch(s){this.stack=s.stack}return this},reporter}var buffer={},hasRequiredBuffer;function requireBuffer(){if(hasRequiredBuffer)return buffer;hasRequiredBuffer=1;var t=requireInherits_browser(),e=requireBase().Reporter,a=requireDist().Buffer;function r(s,l){if(e.call(this,l),!a.isBuffer(s)){this.error("Input not Buffer");return}this.base=s,this.offset=0,this.length=s.length}t(r,e),buffer.DecoderBuffer=r,r.prototype.save=function(){return{offset:this.offset,reporter:e.prototype.save.call(this)}},r.prototype.restore=function(l){var c=new r(this.base);return c.offset=l.offset,c.length=this.offset,this.offset=l.offset,e.prototype.restore.call(this,l.reporter),c},r.prototype.isEmpty=function(){return this.offset===this.length},r.prototype.readUInt8=function(l){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(l||"DecoderBuffer overrun")},r.prototype.skip=function(l,c){if(!(this.offset+l<=this.length))return this.error(c||"DecoderBuffer overrun");var u=new r(this.base);return u._reporterState=this._reporterState,u.offset=this.offset,u.length=this.offset+l,this.offset+=l,u},r.prototype.raw=function(l){return this.base.slice(l?l.offset:this.offset,this.length)};function o(s,l){if(Array.isArray(s))this.length=0,this.value=s.map(function(c){return c instanceof o||(c=new o(c,l)),this.length+=c.length,c},this);else if(typeof s=="number"){if(!(0<=s&&s<=255))return l.error("non-byte EncoderBuffer value");this.value=s,this.length=1}else if(typeof s=="string")this.value=s,this.length=a.byteLength(s);else if(a.isBuffer(s))this.value=s,this.length=s.length;else return l.error("Unsupported type: "+typeof s)}return buffer.EncoderBuffer=o,o.prototype.join=function(l,c){return l||(l=new a(this.length)),c||(c=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(u){u.join(l,c),c+=u.length}):(typeof this.value=="number"?l[c]=this.value:typeof this.value=="string"?l.write(this.value,c):a.isBuffer(this.value)&&this.value.copy(l,c),c+=this.length)),l},buffer}var node$2,hasRequiredNode;function requireNode(){if(hasRequiredNode)return node$2;hasRequiredNode=1;var t=requireBase().Reporter,e=requireBase().EncoderBuffer,a=requireBase().DecoderBuffer,r=requireMinimalisticAssert(),o=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],s=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(o),l=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function c(h,f){var m={};this._baseState=m,m.enc=h,m.parent=f||null,m.children=null,m.tag=null,m.args=null,m.reverseArgs=null,m.choice=null,m.optional=!1,m.any=!1,m.obj=!1,m.use=null,m.useDecoder=null,m.key=null,m.default=null,m.explicit=null,m.implicit=null,m.contains=null,m.parent||(m.children=[],this._wrap())}node$2=c;var u=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];return c.prototype.clone=function(){var f=this._baseState,m={};u.forEach(function(b){m[b]=f[b]});var g=new this.constructor(m.parent);return g._baseState=m,g},c.prototype._wrap=function(){var f=this._baseState;s.forEach(function(m){this[m]=function(){var b=new this.constructor(this);return f.children.push(b),b[m].apply(b,arguments)}},this)},c.prototype._init=function(f){var m=this._baseState;r(m.parent===null),f.call(this),m.children=m.children.filter(function(g){return g._baseState.parent===this},this),r.equal(m.children.length,1,"Root node can have only one child")},c.prototype._useArgs=function(f){var m=this._baseState,g=f.filter(function(b){return b instanceof this.constructor},this);f=f.filter(function(b){return!(b instanceof this.constructor)},this),g.length!==0&&(r(m.children===null),m.children=g,g.forEach(function(b){b._baseState.parent=this},this)),f.length!==0&&(r(m.args===null),m.args=f,m.reverseArgs=f.map(function(b){if(typeof b!="object"||b.constructor!==Object)return b;var w={};return Object.keys(b).forEach(function(E){E==(E|0)&&(E|=0);var C=b[E];w[C]=E}),w}))},l.forEach(function(h){c.prototype[h]=function(){var m=this._baseState;throw new Error(h+" not implemented for encoding: "+m.enc)}}),o.forEach(function(h){c.prototype[h]=function(){var m=this._baseState,g=Array.prototype.slice.call(arguments);return r(m.tag===null),m.tag=h,this._useArgs(g),this}}),c.prototype.use=function(f){r(f);var m=this._baseState;return r(m.use===null),m.use=f,this},c.prototype.optional=function(){var f=this._baseState;return f.optional=!0,this},c.prototype.def=function(f){var m=this._baseState;return r(m.default===null),m.default=f,m.optional=!0,this},c.prototype.explicit=function(f){var m=this._baseState;return r(m.explicit===null&&m.implicit===null),m.explicit=f,this},c.prototype.implicit=function(f){var m=this._baseState;return r(m.explicit===null&&m.implicit===null),m.implicit=f,this},c.prototype.obj=function(){var f=this._baseState,m=Array.prototype.slice.call(arguments);return f.obj=!0,m.length!==0&&this._useArgs(m),this},c.prototype.key=function(f){var m=this._baseState;return r(m.key===null),m.key=f,this},c.prototype.any=function(){var f=this._baseState;return f.any=!0,this},c.prototype.choice=function(f){var m=this._baseState;return r(m.choice===null),m.choice=f,this._useArgs(Object.keys(f).map(function(g){return f[g]})),this},c.prototype.contains=function(f){var m=this._baseState;return r(m.use===null),m.contains=f,this},c.prototype._decode=function(f,m){var g=this._baseState;if(g.parent===null)return f.wrapResult(g.children[0]._decode(f,m));var b=g.default,w=!0,E=null;if(g.key!==null&&(E=f.enterKey(g.key)),g.optional){var C=null;if(g.explicit!==null?C=g.explicit:g.implicit!==null?C=g.implicit:g.tag!==null&&(C=g.tag),C===null&&!g.any){var B=f.save();try{g.choice===null?this._decodeGeneric(g.tag,f,m):this._decodeChoice(f,m),w=!0}catch{w=!1}f.restore(B)}else if(w=this._peekTag(f,C,g.any),f.isError(w))return w}var O;if(g.obj&&w&&(O=f.enterObject()),w){if(g.explicit!==null){var P=this._decodeTag(f,g.explicit);if(f.isError(P))return P;f=P}var q=f.offset;if(g.use===null&&g.choice===null){if(g.any)var B=f.save();var z=this._decodeTag(f,g.implicit!==null?g.implicit:g.tag,g.any);if(f.isError(z))return z;g.any?b=f.raw(B):f=z}if(m&&m.track&&g.tag!==null&&m.track(f.path(),q,f.length,"tagged"),m&&m.track&&g.tag!==null&&m.track(f.path(),f.offset,f.length,"content"),g.any?b=b:g.choice===null?b=this._decodeGeneric(g.tag,f,m):b=this._decodeChoice(f,m),f.isError(b))return b;if(!g.any&&g.choice===null&&g.children!==null&&g.children.forEach(function(J){J._decode(f,m)}),g.contains&&(g.tag==="octstr"||g.tag==="bitstr")){var V=new a(b);b=this._getUse(g.contains,f._reporterState.obj)._decode(V,m)}}return g.obj&&w&&(b=f.leaveObject(O)),g.key!==null&&(b!==null||w===!0)?f.leaveKey(E,g.key,b):E!==null&&f.exitKey(E),b},c.prototype._decodeGeneric=function(f,m,g){var b=this._baseState;return f==="seq"||f==="set"?null:f==="seqof"||f==="setof"?this._decodeList(m,f,b.args[0],g):/str$/.test(f)?this._decodeStr(m,f,g):f==="objid"&&b.args?this._decodeObjid(m,b.args[0],b.args[1],g):f==="objid"?this._decodeObjid(m,null,null,g):f==="gentime"||f==="utctime"?this._decodeTime(m,f,g):f==="null_"?this._decodeNull(m,g):f==="bool"?this._decodeBool(m,g):f==="objDesc"?this._decodeStr(m,f,g):f==="int"||f==="enum"?this._decodeInt(m,b.args&&b.args[0],g):b.use!==null?this._getUse(b.use,m._reporterState.obj)._decode(m,g):m.error("unknown tag: "+f)},c.prototype._getUse=function(f,m){var g=this._baseState;return g.useDecoder=this._use(f,m),r(g.useDecoder._baseState.parent===null),g.useDecoder=g.useDecoder._baseState.children[0],g.implicit!==g.useDecoder._baseState.implicit&&(g.useDecoder=g.useDecoder.clone(),g.useDecoder._baseState.implicit=g.implicit),g.useDecoder},c.prototype._decodeChoice=function(f,m){var g=this._baseState,b=null,w=!1;return Object.keys(g.choice).some(function(E){var C=f.save(),B=g.choice[E];try{var O=B._decode(f,m);if(f.isError(O))return!1;b={type:E,value:O},w=!0}catch{return f.restore(C),!1}return!0},this),w?b:f.error("Choice not matched")},c.prototype._createEncoderBuffer=function(f){return new e(f,this.reporter)},c.prototype._encode=function(f,m,g){var b=this._baseState;if(!(b.default!==null&&b.default===f)){var w=this._encodeValue(f,m,g);if(w!==void 0&&!this._skipDefault(w,m,g))return w}},c.prototype._encodeValue=function(f,m,g){var b=this._baseState;if(b.parent===null)return b.children[0]._encode(f,m||new t);var B=null;if(this.reporter=m,b.optional&&f===void 0)if(b.default!==null)f=b.default;else return;var w=null,E=!1;if(b.any)B=this._createEncoderBuffer(f);else if(b.choice)B=this._encodeChoice(f,m);else if(b.contains)w=this._getUse(b.contains,g)._encode(f,m),E=!0;else if(b.children)w=b.children.map(function(q){if(q._baseState.tag==="null_")return q._encode(null,m,f);if(q._baseState.key===null)return m.error("Child should have a key");var z=m.enterKey(q._baseState.key);if(typeof f!="object")return m.error("Child expected, but input is not object");var V=q._encode(f[q._baseState.key],m,f);return m.leaveKey(z),V},this).filter(function(q){return q}),w=this._createEncoderBuffer(w);else if(b.tag==="seqof"||b.tag==="setof"){if(!(b.args&&b.args.length===1))return m.error("Too many args for : "+b.tag);if(!Array.isArray(f))return m.error("seqof/setof, but data is not Array");var C=this.clone();C._baseState.implicit=null,w=this._createEncoderBuffer(f.map(function(q){var z=this._baseState;return this._getUse(z.args[0],f)._encode(q,m)},C))}else b.use!==null?B=this._getUse(b.use,g)._encode(f,m):(w=this._encodePrimitive(b.tag,f),E=!0);var B;if(!b.any&&b.choice===null){var O=b.implicit!==null?b.implicit:b.tag,P=b.implicit===null?"universal":"context";O===null?b.use===null&&m.error("Tag could be omitted only for .use()"):b.use===null&&(B=this._encodeComposite(O,E,P,w))}return b.explicit!==null&&(B=this._encodeComposite(b.explicit,!1,"context",B)),B},c.prototype._encodeChoice=function(f,m){var g=this._baseState,b=g.choice[f.type];return b||r(!1,f.type+" not found in "+JSON.stringify(Object.keys(g.choice))),b._encode(f.value,m)},c.prototype._encodePrimitive=function(f,m){var g=this._baseState;if(/str$/.test(f))return this._encodeStr(m,f);if(f==="objid"&&g.args)return this._encodeObjid(m,g.reverseArgs[0],g.args[1]);if(f==="objid")return this._encodeObjid(m,null,null);if(f==="gentime"||f==="utctime")return this._encodeTime(m,f);if(f==="null_")return this._encodeNull();if(f==="int"||f==="enum")return this._encodeInt(m,g.args&&g.reverseArgs[0]);if(f==="bool")return this._encodeBool(m);if(f==="objDesc")return this._encodeStr(m,f);throw new Error("Unsupported tag: "+f)},c.prototype._isNumstr=function(f){return/^[0-9 ]*$/.test(f)},c.prototype._isPrintstr=function(f){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(f)},node$2}var hasRequiredBase;function requireBase(){return hasRequiredBase||(hasRequiredBase=1,(function(t){var e=t;e.Reporter=requireReporter().Reporter,e.DecoderBuffer=requireBuffer().DecoderBuffer,e.EncoderBuffer=requireBuffer().EncoderBuffer,e.Node=requireNode()})(base)),base}var constants={},der={},hasRequiredDer$2;function requireDer$2(){return hasRequiredDer$2||(hasRequiredDer$2=1,(function(t){var e=requireConstants();t.tagClass={0:"universal",1:"application",2:"context",3:"private"},t.tagClassByName=e._reverse(t.tagClass),t.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},t.tagByName=e._reverse(t.tag)})(der)),der}var hasRequiredConstants;function requireConstants(){return hasRequiredConstants||(hasRequiredConstants=1,(function(t){var e=t;e._reverse=function(r){var o={};return Object.keys(r).forEach(function(s){(s|0)==s&&(s=s|0);var l=r[s];o[l]=s}),o},e.der=requireDer$2()})(constants)),constants}var decoders={},der_1$1,hasRequiredDer$1;function requireDer$1(){if(hasRequiredDer$1)return der_1$1;hasRequiredDer$1=1;var t=requireInherits_browser(),e=requireAsn1$1(),a=e.base,r=e.bignum,o=e.constants.der;function s(h){this.enc="der",this.name=h.name,this.entity=h,this.tree=new l,this.tree._init(h.body)}der_1$1=s,s.prototype.decode=function(f,m){return f instanceof a.DecoderBuffer||(f=new a.DecoderBuffer(f,m)),this.tree._decode(f,m)};function l(h){a.Node.call(this,"der",h)}t(l,a.Node),l.prototype._peekTag=function(f,m,g){if(f.isEmpty())return!1;var b=f.save(),w=c(f,'Failed to peek tag: "'+m+'"');return f.isError(w)?w:(f.restore(b),w.tag===m||w.tagStr===m||w.tagStr+"of"===m||g)},l.prototype._decodeTag=function(f,m,g){var b=c(f,'Failed to decode tag of "'+m+'"');if(f.isError(b))return b;var w=u(f,b.primitive,'Failed to get length of "'+m+'"');if(f.isError(w))return w;if(!g&&b.tag!==m&&b.tagStr!==m&&b.tagStr+"of"!==m)return f.error('Failed to match tag: "'+m+'"');if(b.primitive||w!==null)return f.skip(w,'Failed to match body of: "'+m+'"');var E=f.save(),C=this._skipUntilEnd(f,'Failed to skip indefinite length body: "'+this.tag+'"');return f.isError(C)?C:(w=f.offset-E.offset,f.restore(E),f.skip(w,'Failed to match body of: "'+m+'"'))},l.prototype._skipUntilEnd=function(f,m){for(;;){var g=c(f,m);if(f.isError(g))return g;var b=u(f,g.primitive,m);if(f.isError(b))return b;var w;if(g.primitive||b!==null?w=f.skip(b):w=this._skipUntilEnd(f,m),f.isError(w))return w;if(g.tagStr==="end")break}},l.prototype._decodeList=function(f,m,g,b){for(var w=[];!f.isEmpty();){var E=this._peekTag(f,"end");if(f.isError(E))return E;var C=g.decode(f,"der",b);if(f.isError(C)&&E)break;w.push(C)}return w},l.prototype._decodeStr=function(f,m){if(m==="bitstr"){var g=f.readUInt8();return f.isError(g)?g:{unused:g,data:f.raw()}}else if(m==="bmpstr"){var b=f.raw();if(b.length%2===1)return f.error("Decoding of string type: bmpstr length mismatch");for(var w="",E=0;E<b.length/2;E++)w+=String.fromCharCode(b.readUInt16BE(E*2));return w}else if(m==="numstr"){var C=f.raw().toString("ascii");return this._isNumstr(C)?C:f.error("Decoding of string type: numstr unsupported characters")}else{if(m==="octstr")return f.raw();if(m==="objDesc")return f.raw();if(m==="printstr"){var B=f.raw().toString("ascii");return this._isPrintstr(B)?B:f.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(m)?f.raw().toString():f.error("Decoding of string type: "+m+" unsupported")}},l.prototype._decodeObjid=function(f,m,g){for(var b,w=[],E=0;!f.isEmpty();){var C=f.readUInt8();E<<=7,E|=C&127,(C&128)===0&&(w.push(E),E=0)}C&128&&w.push(E);var B=w[0]/40|0,O=w[0]%40;if(g?b=w:b=[B,O].concat(w.slice(1)),m){var P=m[b.join(" ")];P===void 0&&(P=m[b.join(".")]),P!==void 0&&(b=P)}return b},l.prototype._decodeTime=function(f,m){var g=f.raw().toString();if(m==="gentime")var b=g.slice(0,4)|0,w=g.slice(4,6)|0,E=g.slice(6,8)|0,C=g.slice(8,10)|0,B=g.slice(10,12)|0,O=g.slice(12,14)|0;else if(m==="utctime"){var b=g.slice(0,2)|0,w=g.slice(2,4)|0,E=g.slice(4,6)|0,C=g.slice(6,8)|0,B=g.slice(8,10)|0,O=g.slice(10,12)|0;b<70?b=2e3+b:b=1900+b}else return f.error("Decoding "+m+" time is not supported yet");return Date.UTC(b,w-1,E,C,B,O,0)},l.prototype._decodeNull=function(f){return null},l.prototype._decodeBool=function(f){var m=f.readUInt8();return f.isError(m)?m:m!==0},l.prototype._decodeInt=function(f,m){var g=f.raw(),b=new r(g);return m&&(b=m[b.toString(10)]||b),b},l.prototype._use=function(f,m){return typeof f=="function"&&(f=f(m)),f._getDecoder("der").tree};function c(h,f){var m=h.readUInt8(f);if(h.isError(m))return m;var g=o.tagClass[m>>6],b=(m&32)===0;if((m&31)===31){var w=m;for(m=0;(w&128)===128;){if(w=h.readUInt8(f),h.isError(w))return w;m<<=7,m|=w&127}}else m&=31;var E=o.tag[m];return{cls:g,primitive:b,tag:m,tagStr:E}}function u(h,f,m){var g=h.readUInt8(m);if(h.isError(g))return g;if(!f&&g===128)return null;if((g&128)===0)return g;var b=g&127;if(b>4)return h.error("length octect is too long");g=0;for(var w=0;w<b;w++){g<<=8;var E=h.readUInt8(m);if(h.isError(E))return E;g|=E}return g}return der_1$1}var pem$1,hasRequiredPem$1;function requirePem$1(){if(hasRequiredPem$1)return pem$1;hasRequiredPem$1=1;var t=requireInherits_browser(),e=requireDist().Buffer,a=requireDer$1();function r(o){a.call(this,o),this.enc="pem"}return t(r,a),pem$1=r,r.prototype.decode=function(s,l){for(var c=s.toString().split(/[\r\n]+/g),u=l.label.toUpperCase(),h=/^-----(BEGIN|END) ([^-]+)-----$/,f=-1,m=-1,g=0;g<c.length;g++){var b=c[g].match(h);if(b!==null&&b[2]===u)if(f===-1){if(b[1]!=="BEGIN")break;f=g}else{if(b[1]!=="END")break;m=g;break}}if(f===-1||m===-1)throw new Error("PEM section not found for: "+u);var w=c.slice(f+1,m).join("");w.replace(/[^a-z0-9\+\/=]+/gi,"");var E=new e(w,"base64");return a.prototype.decode.call(this,E,l)},pem$1}var hasRequiredDecoders;function requireDecoders(){return hasRequiredDecoders||(hasRequiredDecoders=1,(function(t){var e=t;e.der=requireDer$1(),e.pem=requirePem$1()})(decoders)),decoders}var encoders={},der_1,hasRequiredDer;function requireDer(){if(hasRequiredDer)return der_1;hasRequiredDer=1;var t=requireInherits_browser(),e=requireDist().Buffer,a=requireAsn1$1(),r=a.base,o=a.constants.der;function s(h){this.enc="der",this.name=h.name,this.entity=h,this.tree=new l,this.tree._init(h.body)}der_1=s,s.prototype.encode=function(f,m){return this.tree._encode(f,m).join()};function l(h){r.Node.call(this,"der",h)}t(l,r.Node),l.prototype._encodeComposite=function(f,m,g,b){var w=u(f,m,g,this.reporter);if(b.length<128){var B=new e(2);return B[0]=w,B[1]=b.length,this._createEncoderBuffer([B,b])}for(var E=1,C=b.length;C>=256;C>>=8)E++;var B=new e(2+E);B[0]=w,B[1]=128|E;for(var C=1+E,O=b.length;O>0;C--,O>>=8)B[C]=O&255;return this._createEncoderBuffer([B,b])},l.prototype._encodeStr=function(f,m){if(m==="bitstr")return this._createEncoderBuffer([f.unused|0,f.data]);if(m==="bmpstr"){for(var g=new e(f.length*2),b=0;b<f.length;b++)g.writeUInt16BE(f.charCodeAt(b),b*2);return this._createEncoderBuffer(g)}else return m==="numstr"?this._isNumstr(f)?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: numstr supports only digits and space"):m==="printstr"?this._isPrintstr(f)?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(m)?this._createEncoderBuffer(f):m==="objDesc"?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: "+m+" unsupported")},l.prototype._encodeObjid=function(f,m,g){if(typeof f=="string"){if(!m)return this.reporter.error("string objid given, but no values map found");if(!m.hasOwnProperty(f))return this.reporter.error("objid not found in values map");f=m[f].split(/[\s\.]+/g);for(var b=0;b<f.length;b++)f[b]|=0}else if(Array.isArray(f)){f=f.slice();for(var b=0;b<f.length;b++)f[b]|=0}if(!Array.isArray(f))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(f));if(!g){if(f[1]>=40)return this.reporter.error("Second objid identifier OOB");f.splice(0,2,f[0]*40+f[1])}for(var w=0,b=0;b<f.length;b++){var E=f[b];for(w++;E>=128;E>>=7)w++}for(var C=new e(w),B=C.length-1,b=f.length-1;b>=0;b--){var E=f[b];for(C[B--]=E&127;(E>>=7)>0;)C[B--]=128|E&127}return this._createEncoderBuffer(C)};function c(h){return h<10?"0"+h:h}l.prototype._encodeTime=function(f,m){var g,b=new Date(f);return m==="gentime"?g=[c(b.getFullYear()),c(b.getUTCMonth()+1),c(b.getUTCDate()),c(b.getUTCHours()),c(b.getUTCMinutes()),c(b.getUTCSeconds()),"Z"].join(""):m==="utctime"?g=[c(b.getFullYear()%100),c(b.getUTCMonth()+1),c(b.getUTCDate()),c(b.getUTCHours()),c(b.getUTCMinutes()),c(b.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+m+" time is not supported yet"),this._encodeStr(g,"octstr")},l.prototype._encodeNull=function(){return this._createEncoderBuffer("")},l.prototype._encodeInt=function(f,m){if(typeof f=="string"){if(!m)return this.reporter.error("String int or enum given, but no values map");if(!m.hasOwnProperty(f))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(f));f=m[f]}if(typeof f!="number"&&!e.isBuffer(f)){var g=f.toArray();!f.sign&&g[0]&128&&g.unshift(0),f=new e(g)}if(e.isBuffer(f)){var b=f.length;f.length===0&&b++;var E=new e(b);return f.copy(E),f.length===0&&(E[0]=0),this._createEncoderBuffer(E)}if(f<128)return this._createEncoderBuffer(f);if(f<256)return this._createEncoderBuffer([0,f]);for(var b=1,w=f;w>=256;w>>=8)b++;for(var E=new Array(b),w=E.length-1;w>=0;w--)E[w]=f&255,f>>=8;return E[0]&128&&E.unshift(0),this._createEncoderBuffer(new e(E))},l.prototype._encodeBool=function(f){return this._createEncoderBuffer(f?255:0)},l.prototype._use=function(f,m){return typeof f=="function"&&(f=f(m)),f._getEncoder("der").tree},l.prototype._skipDefault=function(f,m,g){var b=this._baseState,w;if(b.default===null)return!1;var E=f.join();if(b.defaultBuffer===void 0&&(b.defaultBuffer=this._encodeValue(b.default,m,g).join()),E.length!==b.defaultBuffer.length)return!1;for(w=0;w<E.length;w++)if(E[w]!==b.defaultBuffer[w])return!1;return!0};function u(h,f,m,g){var b;if(h==="seqof"?h="seq":h==="setof"&&(h="set"),o.tagByName.hasOwnProperty(h))b=o.tagByName[h];else if(typeof h=="number"&&(h|0)===h)b=h;else return g.error("Unknown tag: "+h);return b>=31?g.error("Multi-octet tag encoding unsupported"):(f||(b|=32),b|=o.tagClassByName[m||"universal"]<<6,b)}return der_1}var pem,hasRequiredPem;function requirePem(){if(hasRequiredPem)return pem;hasRequiredPem=1;var t=requireInherits_browser(),e=requireDer();function a(r){e.call(this,r),this.enc="pem"}return t(a,e),pem=a,a.prototype.encode=function(o,s){for(var l=e.prototype.encode.call(this,o),c=l.toString("base64"),u=["-----BEGIN "+s.label+"-----"],h=0;h<c.length;h+=64)u.push(c.slice(h,h+64));return u.push("-----END "+s.label+"-----"),u.join(`
`)},pem}var hasRequiredEncoders;function requireEncoders(){return hasRequiredEncoders||(hasRequiredEncoders=1,(function(t){var e=t;e.der=requireDer(),e.pem=requirePem()})(encoders)),encoders}var hasRequiredAsn1$1;function requireAsn1$1(){return hasRequiredAsn1$1||(hasRequiredAsn1$1=1,(function(t){var e=t;e.bignum=requireBn$2(),e.define=requireApi().define,e.base=requireBase(),e.constants=requireConstants(),e.decoders=requireDecoders(),e.encoders=requireEncoders()})(asn1)),asn1}var certificate,hasRequiredCertificate;function requireCertificate(){if(hasRequiredCertificate)return certificate;hasRequiredCertificate=1;var t=requireAsn1$1(),e=t.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),a=t.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),r=t.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),o=t.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(r),this.key("subjectPublicKey").bitstr())}),s=t.define("RelativeDistinguishedName",function(){this.setof(a)}),l=t.define("RDNSequence",function(){this.seqof(s)}),c=t.define("Name",function(){this.choice({rdnSequence:this.use(l)})}),u=t.define("Validity",function(){this.seq().obj(this.key("notBefore").use(e),this.key("notAfter").use(e))}),h=t.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),f=t.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(r),this.key("issuer").use(c),this.key("validity").use(u),this.key("subject").use(c),this.key("subjectPublicKeyInfo").use(o),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(h).optional())}),m=t.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(f),this.key("signatureAlgorithm").use(r),this.key("signatureValue").bitstr())});return certificate=m,certificate}var hasRequiredAsn1;function requireAsn1(){if(hasRequiredAsn1)return asn1$1;hasRequiredAsn1=1;var t=requireAsn1$1();asn1$1.certificate=requireCertificate();var e=t.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});asn1$1.RSAPrivateKey=e;var a=t.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});asn1$1.RSAPublicKey=a;var r=t.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),o=t.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(r),this.key("subjectPublicKey").bitstr())});asn1$1.PublicKey=o;var s=t.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(r),this.key("subjectPrivateKey").octstr())});asn1$1.PrivateKey=s;var l=t.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});asn1$1.EncryptedPrivateKey=l;var c=t.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});asn1$1.DSAPrivateKey=c,asn1$1.DSAparam=t.define("DSAparam",function(){this.int()});var u=t.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),h=t.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(u),this.key("publicKey").optional().explicit(1).bitstr())});return asn1$1.ECPrivateKey=h,asn1$1.signature=t.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())}),asn1$1}const require$$1={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"};var fixProc,hasRequiredFixProc;function requireFixProc(){if(hasRequiredFixProc)return fixProc;hasRequiredFixProc=1;var t=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,e=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,a=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,r=requireEvp_bytestokey(),o=requireBrowser$6(),s=requireSafeBuffer$2().Buffer;return fixProc=function(l,c){var u=l.toString(),h=u.match(t),f;if(h){var g="aes"+h[1],b=s.from(h[2],"hex"),w=s.from(h[3].replace(/[\r\n]/g,""),"base64"),E=r(c,b.slice(0,8),parseInt(h[1],10)).key,C=[],B=o.createDecipheriv(g,E,b);C.push(B.update(w)),C.push(B.final()),f=s.concat(C)}else{var m=u.match(a);f=s.from(m[2].replace(/[\r\n]/g,""),"base64")}var O=u.match(e)[1];return{tag:O,data:f}},fixProc}var parseAsn1,hasRequiredParseAsn1;function requireParseAsn1(){if(hasRequiredParseAsn1)return parseAsn1;hasRequiredParseAsn1=1;var t=requireAsn1(),e=require$$1,a=requireFixProc(),r=requireBrowser$6(),o=requireBrowser$7().pbkdf2Sync,s=requireSafeBuffer$2().Buffer;function l(u,h){var f=u.algorithm.decrypt.kde.kdeparams.salt,m=parseInt(u.algorithm.decrypt.kde.kdeparams.iters.toString(),10),g=e[u.algorithm.decrypt.cipher.algo.join(".")],b=u.algorithm.decrypt.cipher.iv,w=u.subjectPrivateKey,E=parseInt(g.split("-")[1],10)/8,C=o(h,f,m,E,"sha1"),B=r.createDecipheriv(g,C,b),O=[];return O.push(B.update(w)),O.push(B.final()),s.concat(O)}function c(u){var h;typeof u=="object"&&!s.isBuffer(u)&&(h=u.passphrase,u=u.key),typeof u=="string"&&(u=s.from(u));var f=a(u,h),m=f.tag,g=f.data,b,w;switch(m){case"CERTIFICATE":w=t.certificate.decode(g,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(w||(w=t.PublicKey.decode(g,"der")),b=w.algorithm.algorithm.join("."),b){case"1.2.840.113549.1.1.1":return t.RSAPublicKey.decode(w.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return w.subjectPrivateKey=w.subjectPublicKey,{type:"ec",data:w};case"1.2.840.10040.4.1":return w.algorithm.params.pub_key=t.DSAparam.decode(w.subjectPublicKey.data,"der"),{type:"dsa",data:w.algorithm.params};default:throw new Error("unknown key id "+b)}case"ENCRYPTED PRIVATE KEY":g=t.EncryptedPrivateKey.decode(g,"der"),g=l(g,h);case"PRIVATE KEY":switch(w=t.PrivateKey.decode(g,"der"),b=w.algorithm.algorithm.join("."),b){case"1.2.840.113549.1.1.1":return t.RSAPrivateKey.decode(w.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:w.algorithm.curve,privateKey:t.ECPrivateKey.decode(w.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return w.algorithm.params.priv_key=t.DSAparam.decode(w.subjectPrivateKey,"der"),{type:"dsa",params:w.algorithm.params};default:throw new Error("unknown key id "+b)}case"RSA PUBLIC KEY":return t.RSAPublicKey.decode(g,"der");case"RSA PRIVATE KEY":return t.RSAPrivateKey.decode(g,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:t.DSAPrivateKey.decode(g,"der")};case"EC PRIVATE KEY":return g=t.ECPrivateKey.decode(g,"der"),{curve:g.parameters.value,privateKey:g.privateKey};default:throw new Error("unknown key type "+m)}}return c.signature=t.signature,parseAsn1=c,parseAsn1}const require$$4={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"};var hasRequiredSign;function requireSign(){if(hasRequiredSign)return sign$1.exports;hasRequiredSign=1;var t=requireSafeBuffer$2().Buffer,e=requireBrowser$8(),a=requireBrowserifyRsa(),r=requireElliptic().ec,o=requireBn(),s=requireParseAsn1(),l=require$$4,c=1;function u(B,O,P,q,z){var V=s(O);if(V.curve){if(q!=="ecdsa"&&q!=="ecdsa/rsa")throw new Error("wrong private key type");return h(B,V)}else if(V.type==="dsa"){if(q!=="dsa")throw new Error("wrong private key type");return f(B,V,P)}if(q!=="rsa"&&q!=="ecdsa/rsa")throw new Error("wrong private key type");if(O.padding!==void 0&&O.padding!==c)throw new Error("illegal or unsupported padding mode");B=t.concat([z,B]);for(var Z=V.modulus.byteLength(),J=[0,1];B.length+J.length+1<Z;)J.push(255);J.push(0);for(var W=-1;++W<B.length;)J.push(B[W]);var te=a(J,V);return te}function h(B,O){var P=l[O.curve.join(".")];if(!P)throw new Error("unknown curve "+O.curve.join("."));var q=new r(P),z=q.keyFromPrivate(O.privateKey),V=z.sign(B);return t.from(V.toDER())}function f(B,O,P){for(var q=O.params.priv_key,z=O.params.p,V=O.params.q,Z=O.params.g,J=new o(0),W,te=b(B,V).mod(V),G=!1,D=g(q,V,B,P);G===!1;)W=E(V,D,P),J=C(Z,W,z,V),G=W.invm(V).imul(te.add(q.mul(J))).mod(V),G.cmpn(0)===0&&(G=!1,J=new o(0));return m(J,G)}function m(B,O){B=B.toArray(),O=O.toArray(),B[0]&128&&(B=[0].concat(B)),O[0]&128&&(O=[0].concat(O));var P=B.length+O.length+4,q=[48,P,2,B.length];return q=q.concat(B,[2,O.length],O),t.from(q)}function g(B,O,P,q){if(B=t.from(B.toArray()),B.length<O.byteLength()){var z=t.alloc(O.byteLength()-B.length);B=t.concat([z,B])}var V=P.length,Z=w(P,O),J=t.alloc(V);J.fill(1);var W=t.alloc(V);return W=e(q,W).update(J).update(t.from([0])).update(B).update(Z).digest(),J=e(q,W).update(J).digest(),W=e(q,W).update(J).update(t.from([1])).update(B).update(Z).digest(),J=e(q,W).update(J).digest(),{k:W,v:J}}function b(B,O){var P=new o(B),q=(B.length<<3)-O.bitLength();return q>0&&P.ishrn(q),P}function w(B,O){B=b(B,O),B=B.mod(O);var P=t.from(B.toArray());if(P.length<O.byteLength()){var q=t.alloc(O.byteLength()-P.length);P=t.concat([q,P])}return P}function E(B,O,P){var q,z;do{for(q=t.alloc(0);q.length*8<B.bitLength();)O.v=e(P,O.k).update(O.v).digest(),q=t.concat([q,O.v]);z=b(q,B),O.k=e(P,O.k).update(O.v).update(t.from([0])).digest(),O.v=e(P,O.k).update(O.v).digest()}while(z.cmp(B)!==-1);return z}function C(B,O,P,q){return B.toRed(o.mont(P)).redPow(O).fromRed().mod(q)}return sign$1.exports=u,sign$1.exports.getKey=g,sign$1.exports.makeKey=E,sign$1.exports}var verify_1,hasRequiredVerify;function requireVerify(){if(hasRequiredVerify)return verify_1;hasRequiredVerify=1;var t=requireSafeBuffer$2().Buffer,e=requireBn(),a=requireElliptic().ec,r=requireParseAsn1(),o=require$$4;function s(h,f,m,g,b){var w=r(m);if(w.type==="ec"){if(g!=="ecdsa"&&g!=="ecdsa/rsa")throw new Error("wrong public key type");return l(h,f,w)}else if(w.type==="dsa"){if(g!=="dsa")throw new Error("wrong public key type");return c(h,f,w)}if(g!=="rsa"&&g!=="ecdsa/rsa")throw new Error("wrong public key type");f=t.concat([b,f]);for(var E=w.modulus.byteLength(),C=[1],B=0;f.length+C.length+2<E;)C.push(255),B+=1;C.push(0);for(var O=-1;++O<f.length;)C.push(f[O]);C=t.from(C);var P=e.mont(w.modulus);h=new e(h).toRed(P),h=h.redPow(new e(w.publicExponent)),h=t.from(h.fromRed().toArray());var q=B<8?1:0;for(E=Math.min(h.length,C.length),h.length!==C.length&&(q=1),O=-1;++O<E;)q|=h[O]^C[O];return q===0}function l(h,f,m){var g=o[m.data.algorithm.curve.join(".")];if(!g)throw new Error("unknown curve "+m.data.algorithm.curve.join("."));var b=new a(g),w=m.data.subjectPrivateKey.data;return b.verify(f,h,w)}function c(h,f,m){var g=m.data.p,b=m.data.q,w=m.data.g,E=m.data.pub_key,C=r.signature.decode(h,"der"),B=C.s,O=C.r;u(B,b),u(O,b);var P=e.mont(g),q=B.invm(b),z=w.toRed(P).redPow(new e(f).mul(q).mod(b)).fromRed().mul(E.toRed(P).redPow(O.mul(q).mod(b)).fromRed()).mod(g).mod(b);return z.cmp(O)===0}function u(h,f){if(h.cmpn(0)<=0)throw new Error("invalid sig");if(h.cmp(f)>=0)throw new Error("invalid sig")}return verify_1=s,verify_1}var browser$3,hasRequiredBrowser$3;function requireBrowser$3(){if(hasRequiredBrowser$3)return browser$3;hasRequiredBrowser$3=1;var t=requireSafeBuffer$2().Buffer,e=requireBrowser$9(),a=requireReadableBrowser(),r=requireInherits_browser(),o=requireSign(),s=requireVerify(),l=require$$6;Object.keys(l).forEach(function(m){l[m].id=t.from(l[m].id,"hex"),l[m.toLowerCase()]=l[m]});function c(m){a.Writable.call(this);var g=l[m];if(!g)throw new Error("Unknown message digest");this._hashType=g.hash,this._hash=e(g.hash),this._tag=g.id,this._signType=g.sign}r(c,a.Writable),c.prototype._write=function(g,b,w){this._hash.update(g),w()},c.prototype.update=function(g,b){return this._hash.update(typeof g=="string"?t.from(g,b):g),this},c.prototype.sign=function(g,b){this.end();var w=this._hash.digest(),E=o(w,g,this._hashType,this._signType,this._tag);return b?E.toString(b):E};function u(m){a.Writable.call(this);var g=l[m];if(!g)throw new Error("Unknown message digest");this._hash=e(g.hash),this._tag=g.id,this._signType=g.sign}r(u,a.Writable),u.prototype._write=function(g,b,w){this._hash.update(g),w()},u.prototype.update=function(g,b){return this._hash.update(typeof g=="string"?t.from(g,b):g),this},u.prototype.verify=function(g,b,w){var E=typeof b=="string"?t.from(b,w):b;this.end();var C=this._hash.digest();return s(E,C,g,this._signType,this._tag)};function h(m){return new c(m)}function f(m){return new u(m)}return browser$3={Sign:h,Verify:f,createSign:h,createVerify:f},browser$3}var browser$2,hasRequiredBrowser$2;function requireBrowser$2(){if(hasRequiredBrowser$2)return browser$2;hasRequiredBrowser$2=1;var t=requireElliptic(),e=requireBn$2();browser$2=function(l){return new r(l)};var a={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};a.p224=a.secp224r1,a.p256=a.secp256r1=a.prime256v1,a.p192=a.secp192r1=a.prime192v1,a.p384=a.secp384r1,a.p521=a.secp521r1;function r(s){this.curveType=a[s],this.curveType||(this.curveType={name:s}),this.curve=new t.ec(this.curveType.name),this.keys=void 0}r.prototype.generateKeys=function(s,l){return this.keys=this.curve.genKeyPair(),this.getPublicKey(s,l)},r.prototype.computeSecret=function(s,l,c){l=l||"utf8",Buffer.isBuffer(s)||(s=new Buffer(s,l));var u=this.curve.keyFromPublic(s).getPublic(),h=u.mul(this.keys.getPrivate()).getX();return o(h,c,this.curveType.byteLength)},r.prototype.getPublicKey=function(s,l){var c=this.keys.getPublic(l==="compressed",!0);return l==="hybrid"&&(c[c.length-1]%2?c[0]=7:c[0]=6),o(c,s)},r.prototype.getPrivateKey=function(s){return o(this.keys.getPrivate(),s)},r.prototype.setPublicKey=function(s,l){return l=l||"utf8",Buffer.isBuffer(s)||(s=new Buffer(s,l)),this.keys._importPublic(s),this},r.prototype.setPrivateKey=function(s,l){l=l||"utf8",Buffer.isBuffer(s)||(s=new Buffer(s,l));var c=new e(s);return c=c.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(c),this};function o(s,l,c){Array.isArray(s)||(s=s.toArray());var u=new Buffer(s);if(c&&u.length<c){var h=new Buffer(c-u.length);h.fill(0),u=Buffer.concat([h,u])}return l?u.toString(l):u}return browser$2}var browser$1={},mgf,hasRequiredMgf;function requireMgf(){if(hasRequiredMgf)return mgf;hasRequiredMgf=1;var t=requireBrowser$9(),e=requireSafeBuffer$2().Buffer;mgf=function(r,o){for(var s=e.alloc(0),l=0,c;s.length<o;)c=a(l++),s=e.concat([s,t("sha1").update(r).update(c).digest()]);return s.slice(0,o)};function a(r){var o=e.allocUnsafe(4);return o.writeUInt32BE(r,0),o}return mgf}var xor,hasRequiredXor;function requireXor(){return hasRequiredXor||(hasRequiredXor=1,xor=function(e,a){for(var r=e.length,o=-1;++o<r;)e[o]^=a[o];return e}),xor}var withPublic_1,hasRequiredWithPublic;function requireWithPublic(){if(hasRequiredWithPublic)return withPublic_1;hasRequiredWithPublic=1;var t=requireBn$2(),e=requireSafeBuffer$2().Buffer;function a(r,o){return e.from(r.toRed(t.mont(o.modulus)).redPow(new t(o.publicExponent)).fromRed().toArray())}return withPublic_1=a,withPublic_1}var publicEncrypt,hasRequiredPublicEncrypt;function requirePublicEncrypt(){if(hasRequiredPublicEncrypt)return publicEncrypt;hasRequiredPublicEncrypt=1;var t=requireParseAsn1(),e=requireBrowser$b(),a=requireBrowser$9(),r=requireMgf(),o=requireXor(),s=requireBn$2(),l=requireWithPublic(),c=requireBrowserifyRsa(),u=requireSafeBuffer$2().Buffer;publicEncrypt=function(b,w,E){var C;b.padding?C=b.padding:E?C=1:C=4;var B=t(b),O;if(C===4)O=h(B,w);else if(C===1)O=f(B,w,E);else if(C===3){if(O=new s(w),O.cmp(B.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return E?c(O,B):l(O,B)};function h(g,b){var w=g.modulus.byteLength(),E=b.length,C=a("sha1").update(u.alloc(0)).digest(),B=C.length,O=2*B;if(E>w-O-2)throw new Error("message too long");var P=u.alloc(w-E-O-2),q=w-B-1,z=e(B),V=o(u.concat([C,P,u.alloc(1,1),b],q),r(z,q)),Z=o(z,r(V,B));return new s(u.concat([u.alloc(1),Z,V],w))}function f(g,b,w){var E=b.length,C=g.modulus.byteLength();if(E>C-11)throw new Error("message too long");var B;return w?B=u.alloc(C-E-3,255):B=m(C-E-3),new s(u.concat([u.from([0,w?1:2]),B,u.alloc(1),b],C))}function m(g){for(var b=u.allocUnsafe(g),w=0,E=e(g*2),C=0,B;w<g;)C===E.length&&(E=e(g*2),C=0),B=E[C++],B&&(b[w++]=B);return b}return publicEncrypt}var privateDecrypt,hasRequiredPrivateDecrypt;function requirePrivateDecrypt(){if(hasRequiredPrivateDecrypt)return privateDecrypt;hasRequiredPrivateDecrypt=1;var t=requireParseAsn1(),e=requireMgf(),a=requireXor(),r=requireBn$2(),o=requireBrowserifyRsa(),s=requireBrowser$9(),l=requireWithPublic(),c=requireSafeBuffer$2().Buffer;privateDecrypt=function(g,b,w){var E;g.padding?E=g.padding:w?E=1:E=4;var C=t(g),B=C.modulus.byteLength();if(b.length>B||new r(b).cmp(C.modulus)>=0)throw new Error("decryption error");var O;w?O=l(new r(b),C):O=o(b,C);var P=c.alloc(B-O.length);if(O=c.concat([P,O],B),E===4)return u(C,O);if(E===1)return h(C,O,w);if(E===3)return O;throw new Error("unknown padding")};function u(m,g){var b=m.modulus.byteLength(),w=s("sha1").update(c.alloc(0)).digest(),E=w.length;if(g[0]!==0)throw new Error("decryption error");var C=g.slice(1,E+1),B=g.slice(E+1),O=a(C,e(B,E)),P=a(B,e(O,b-E-1));if(f(w,P.slice(0,E)))throw new Error("decryption error");for(var q=E;P[q]===0;)q++;if(P[q++]!==1)throw new Error("decryption error");return P.slice(q)}function h(m,g,b){for(var w=g.slice(0,2),E=2,C=0;g[E++]!==0;)if(E>=g.length){C++;break}var B=g.slice(2,E-1);if((w.toString("hex")!=="0002"&&!b||w.toString("hex")!=="0001"&&b)&&C++,B.length<8&&C++,C)throw new Error("decryption error");return g.slice(E)}function f(m,g){m=c.from(m),g=c.from(g);var b=0,w=m.length;m.length!==g.length&&(b++,w=Math.min(m.length,g.length));for(var E=-1;++E<w;)b+=m[E]^g[E];return b}return privateDecrypt}var hasRequiredBrowser$1;function requireBrowser$1(){return hasRequiredBrowser$1||(hasRequiredBrowser$1=1,(function(t){t.publicEncrypt=requirePublicEncrypt(),t.privateDecrypt=requirePrivateDecrypt(),t.privateEncrypt=function(a,r){return t.publicEncrypt(a,r,!0)},t.publicDecrypt=function(a,r){return t.privateDecrypt(a,r,!0)}})(browser$1)),browser$1}var browser={},hasRequiredBrowser;function requireBrowser(){if(hasRequiredBrowser)return browser;hasRequiredBrowser=1;function t(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var e=requireSafeBuffer$2(),a=requireBrowser$b(),r=e.Buffer,o=e.kMaxLength,s=commonjsGlobal.crypto||commonjsGlobal.msCrypto,l=Math.pow(2,32)-1;function c(g,b){if(typeof g!="number"||g!==g)throw new TypeError("offset must be a number");if(g>l||g<0)throw new TypeError("offset must be a uint32");if(g>o||g>b)throw new RangeError("offset out of range")}function u(g,b,w){if(typeof g!="number"||g!==g)throw new TypeError("size must be a number");if(g>l||g<0)throw new TypeError("size must be a uint32");if(g+b>w||g>o)throw new RangeError("buffer too small")}s&&s.getRandomValues||!process$1.browser?(browser.randomFill=h,browser.randomFillSync=m):(browser.randomFill=t,browser.randomFillSync=t);function h(g,b,w,E){if(!r.isBuffer(g)&&!(g instanceof commonjsGlobal.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof b=="function")E=b,b=0,w=g.length;else if(typeof w=="function")E=w,w=g.length-b;else if(typeof E!="function")throw new TypeError('"cb" argument must be a function');return c(b,g.length),u(w,b,g.length),f(g,b,w,E)}function f(g,b,w,E){if(process$1.browser){var C=g.buffer,B=new Uint8Array(C,b,w);if(s.getRandomValues(B),E){process$1.nextTick(function(){E(null,g)});return}return g}if(E){a(w,function(P,q){if(P)return E(P);q.copy(g,b),E(null,g)});return}var O=a(w);return O.copy(g,b),g}function m(g,b,w){if(typeof b>"u"&&(b=0),!r.isBuffer(g)&&!(g instanceof commonjsGlobal.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return c(b,g.length),w===void 0&&(w=g.length-b),u(w,b,g.length),f(g,b,w)}return browser}var hasRequiredCryptoBrowserify;function requireCryptoBrowserify(){if(hasRequiredCryptoBrowserify)return cryptoBrowserify;hasRequiredCryptoBrowserify=1,cryptoBrowserify.randomBytes=cryptoBrowserify.rng=cryptoBrowserify.pseudoRandomBytes=cryptoBrowserify.prng=requireBrowser$b(),cryptoBrowserify.createHash=cryptoBrowserify.Hash=requireBrowser$9(),cryptoBrowserify.createHmac=cryptoBrowserify.Hmac=requireBrowser$8();var t=requireAlgos(),e=Object.keys(t),a=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(e);cryptoBrowserify.getHashes=function(){return a};var r=requireBrowser$7();cryptoBrowserify.pbkdf2=r.pbkdf2,cryptoBrowserify.pbkdf2Sync=r.pbkdf2Sync;var o=requireBrowser$5();cryptoBrowserify.Cipher=o.Cipher,cryptoBrowserify.createCipher=o.createCipher,cryptoBrowserify.Cipheriv=o.Cipheriv,cryptoBrowserify.createCipheriv=o.createCipheriv,cryptoBrowserify.Decipher=o.Decipher,cryptoBrowserify.createDecipher=o.createDecipher,cryptoBrowserify.Decipheriv=o.Decipheriv,cryptoBrowserify.createDecipheriv=o.createDecipheriv,cryptoBrowserify.getCiphers=o.getCiphers,cryptoBrowserify.listCiphers=o.listCiphers;var s=requireBrowser$4();cryptoBrowserify.DiffieHellmanGroup=s.DiffieHellmanGroup,cryptoBrowserify.createDiffieHellmanGroup=s.createDiffieHellmanGroup,cryptoBrowserify.getDiffieHellman=s.getDiffieHellman,cryptoBrowserify.createDiffieHellman=s.createDiffieHellman,cryptoBrowserify.DiffieHellman=s.DiffieHellman;var l=requireBrowser$3();cryptoBrowserify.createSign=l.createSign,cryptoBrowserify.Sign=l.Sign,cryptoBrowserify.createVerify=l.createVerify,cryptoBrowserify.Verify=l.Verify,cryptoBrowserify.createECDH=requireBrowser$2();var c=requireBrowser$1();cryptoBrowserify.publicEncrypt=c.publicEncrypt,cryptoBrowserify.privateEncrypt=c.privateEncrypt,cryptoBrowserify.publicDecrypt=c.publicDecrypt,cryptoBrowserify.privateDecrypt=c.privateDecrypt;var u=requireBrowser();return cryptoBrowserify.randomFill=u.randomFill,cryptoBrowserify.randomFillSync=u.randomFillSync,cryptoBrowserify.createCredentials=function(){throw new Error(`sorry, createCredentials is not implemented yet
we accept pull requests
https://github.com/browserify/crypto-browserify`)},cryptoBrowserify.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6},cryptoBrowserify}var core=core$1.exports,hasRequiredCore;function requireCore(){return hasRequiredCore||(hasRequiredCore=1,(function(t,e){(function(a,r){t.exports=r()})(core,function(){var a=a||(function(r,o){var s;if(typeof window<"u"&&window.crypto&&(s=window.crypto),typeof self<"u"&&self.crypto&&(s=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(s=globalThis.crypto),!s&&typeof window<"u"&&window.msCrypto&&(s=window.msCrypto),!s&&typeof commonjsGlobal<"u"&&commonjsGlobal.crypto&&(s=commonjsGlobal.crypto),!s&&typeof commonjsRequire=="function")try{s=requireCryptoBrowserify()}catch{}var l=function(){if(s){if(typeof s.getRandomValues=="function")try{return s.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof s.randomBytes=="function")try{return s.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},c=Object.create||(function(){function O(){}return function(P){var q;return O.prototype=P,q=new O,O.prototype=null,q}})(),u={},h=u.lib={},f=h.Base=(function(){return{extend:function(O){var P=c(this);return O&&P.mixIn(O),(!P.hasOwnProperty("init")||this.init===P.init)&&(P.init=function(){P.$super.init.apply(this,arguments)}),P.init.prototype=P,P.$super=this,P},create:function(){var O=this.extend();return O.init.apply(O,arguments),O},init:function(){},mixIn:function(O){for(var P in O)O.hasOwnProperty(P)&&(this[P]=O[P]);O.hasOwnProperty("toString")&&(this.toString=O.toString)},clone:function(){return this.init.prototype.extend(this)}}})(),m=h.WordArray=f.extend({init:function(O,P){O=this.words=O||[],P!=o?this.sigBytes=P:this.sigBytes=O.length*4},toString:function(O){return(O||b).stringify(this)},concat:function(O){var P=this.words,q=O.words,z=this.sigBytes,V=O.sigBytes;if(this.clamp(),z%4)for(var Z=0;Z<V;Z++){var J=q[Z>>>2]>>>24-Z%4*8&255;P[z+Z>>>2]|=J<<24-(z+Z)%4*8}else for(var W=0;W<V;W+=4)P[z+W>>>2]=q[W>>>2];return this.sigBytes+=V,this},clamp:function(){var O=this.words,P=this.sigBytes;O[P>>>2]&=4294967295<<32-P%4*8,O.length=r.ceil(P/4)},clone:function(){var O=f.clone.call(this);return O.words=this.words.slice(0),O},random:function(O){for(var P=[],q=0;q<O;q+=4)P.push(l());return new m.init(P,O)}}),g=u.enc={},b=g.Hex={stringify:function(O){for(var P=O.words,q=O.sigBytes,z=[],V=0;V<q;V++){var Z=P[V>>>2]>>>24-V%4*8&255;z.push((Z>>>4).toString(16)),z.push((Z&15).toString(16))}return z.join("")},parse:function(O){for(var P=O.length,q=[],z=0;z<P;z+=2)q[z>>>3]|=parseInt(O.substr(z,2),16)<<24-z%8*4;return new m.init(q,P/2)}},w=g.Latin1={stringify:function(O){for(var P=O.words,q=O.sigBytes,z=[],V=0;V<q;V++){var Z=P[V>>>2]>>>24-V%4*8&255;z.push(String.fromCharCode(Z))}return z.join("")},parse:function(O){for(var P=O.length,q=[],z=0;z<P;z++)q[z>>>2]|=(O.charCodeAt(z)&255)<<24-z%4*8;return new m.init(q,P)}},E=g.Utf8={stringify:function(O){try{return decodeURIComponent(escape(w.stringify(O)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(O){return w.parse(unescape(encodeURIComponent(O)))}},C=h.BufferedBlockAlgorithm=f.extend({reset:function(){this._data=new m.init,this._nDataBytes=0},_append:function(O){typeof O=="string"&&(O=E.parse(O)),this._data.concat(O),this._nDataBytes+=O.sigBytes},_process:function(O){var P,q=this._data,z=q.words,V=q.sigBytes,Z=this.blockSize,J=Z*4,W=V/J;O?W=r.ceil(W):W=r.max((W|0)-this._minBufferSize,0);var te=W*Z,G=r.min(te*4,V);if(te){for(var D=0;D<te;D+=Z)this._doProcessBlock(z,D);P=z.splice(0,te),q.sigBytes-=G}return new m.init(P,G)},clone:function(){var O=f.clone.call(this);return O._data=this._data.clone(),O},_minBufferSize:0});h.Hasher=C.extend({cfg:f.extend(),init:function(O){this.cfg=this.cfg.extend(O),this.reset()},reset:function(){C.reset.call(this),this._doReset()},update:function(O){return this._append(O),this._process(),this},finalize:function(O){O&&this._append(O);var P=this._doFinalize();return P},blockSize:16,_createHelper:function(O){return function(P,q){return new O.init(q).finalize(P)}},_createHmacHelper:function(O){return function(P,q){return new B.HMAC.init(O,q).finalize(P)}}});var B=u.algo={};return u})(Math);return a})})(core$1)),core$1.exports}var x64Core$1={exports:{}},x64Core=x64Core$1.exports,hasRequiredX64Core;function requireX64Core(){return hasRequiredX64Core||(hasRequiredX64Core=1,(function(t,e){(function(a,r){t.exports=r(requireCore())})(x64Core,function(a){return(function(r){var o=a,s=o.lib,l=s.Base,c=s.WordArray,u=o.x64={};u.Word=l.extend({init:function(h,f){this.high=h,this.low=f}}),u.WordArray=l.extend({init:function(h,f){h=this.words=h||[],f!=r?this.sigBytes=f:this.sigBytes=h.length*8},toX32:function(){for(var h=this.words,f=h.length,m=[],g=0;g<f;g++){var b=h[g];m.push(b.high),m.push(b.low)}return c.create(m,this.sigBytes)},clone:function(){for(var h=l.clone.call(this),f=h.words=this.words.slice(0),m=f.length,g=0;g<m;g++)f[g]=f[g].clone();return h}})})(),a})})(x64Core$1)),x64Core$1.exports}var libTypedarrays$1={exports:{}},libTypedarrays=libTypedarrays$1.exports,hasRequiredLibTypedarrays;function requireLibTypedarrays(){return hasRequiredLibTypedarrays||(hasRequiredLibTypedarrays=1,(function(t,e){(function(a,r){t.exports=r(requireCore())})(libTypedarrays,function(a){return(function(){if(typeof ArrayBuffer=="function"){var r=a,o=r.lib,s=o.WordArray,l=s.init,c=s.init=function(u){if(u instanceof ArrayBuffer&&(u=new Uint8Array(u)),(u instanceof Int8Array||typeof Uint8ClampedArray<"u"&&u instanceof Uint8ClampedArray||u instanceof Int16Array||u instanceof Uint16Array||u instanceof Int32Array||u instanceof Uint32Array||u instanceof Float32Array||u instanceof Float64Array)&&(u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength)),u instanceof Uint8Array){for(var h=u.byteLength,f=[],m=0;m<h;m++)f[m>>>2]|=u[m]<<24-m%4*8;l.call(this,f,h)}else l.apply(this,arguments)};c.prototype=s}})(),a.lib.WordArray})})(libTypedarrays$1)),libTypedarrays$1.exports}var encUtf16$1={exports:{}},encUtf16=encUtf16$1.exports,hasRequiredEncUtf16;function requireEncUtf16(){return hasRequiredEncUtf16||(hasRequiredEncUtf16=1,(function(t,e){(function(a,r){t.exports=r(requireCore())})(encUtf16,function(a){return(function(){var r=a,o=r.lib,s=o.WordArray,l=r.enc;l.Utf16=l.Utf16BE={stringify:function(u){for(var h=u.words,f=u.sigBytes,m=[],g=0;g<f;g+=2){var b=h[g>>>2]>>>16-g%4*8&65535;m.push(String.fromCharCode(b))}return m.join("")},parse:function(u){for(var h=u.length,f=[],m=0;m<h;m++)f[m>>>1]|=u.charCodeAt(m)<<16-m%2*16;return s.create(f,h*2)}},l.Utf16LE={stringify:function(u){for(var h=u.words,f=u.sigBytes,m=[],g=0;g<f;g+=2){var b=c(h[g>>>2]>>>16-g%4*8&65535);m.push(String.fromCharCode(b))}return m.join("")},parse:function(u){for(var h=u.length,f=[],m=0;m<h;m++)f[m>>>1]|=c(u.charCodeAt(m)<<16-m%2*16);return s.create(f,h*2)}};function c(u){return u<<8&4278255360|u>>>8&16711935}})(),a.enc.Utf16})})(encUtf16$1)),encUtf16$1.exports}var encBase64$1={exports:{}},encBase64=encBase64$1.exports,hasRequiredEncBase64;function requireEncBase64(){return hasRequiredEncBase64||(hasRequiredEncBase64=1,(function(t,e){(function(a,r){t.exports=r(requireCore())})(encBase64,function(a){return(function(){var r=a,o=r.lib,s=o.WordArray,l=r.enc;l.Base64={stringify:function(u){var h=u.words,f=u.sigBytes,m=this._map;u.clamp();for(var g=[],b=0;b<f;b+=3)for(var w=h[b>>>2]>>>24-b%4*8&255,E=h[b+1>>>2]>>>24-(b+1)%4*8&255,C=h[b+2>>>2]>>>24-(b+2)%4*8&255,B=w<<16|E<<8|C,O=0;O<4&&b+O*.75<f;O++)g.push(m.charAt(B>>>6*(3-O)&63));var P=m.charAt(64);if(P)for(;g.length%4;)g.push(P);return g.join("")},parse:function(u){var h=u.length,f=this._map,m=this._reverseMap;if(!m){m=this._reverseMap=[];for(var g=0;g<f.length;g++)m[f.charCodeAt(g)]=g}var b=f.charAt(64);if(b){var w=u.indexOf(b);w!==-1&&(h=w)}return c(u,h,m)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function c(u,h,f){for(var m=[],g=0,b=0;b<h;b++)if(b%4){var w=f[u.charCodeAt(b-1)]<<b%4*2,E=f[u.charCodeAt(b)]>>>6-b%4*2,C=w|E;m[g>>>2]|=C<<24-g%4*8,g++}return s.create(m,g)}})(),a.enc.Base64})})(encBase64$1)),encBase64$1.exports}var encBase64url$1={exports:{}},encBase64url=encBase64url$1.exports,hasRequiredEncBase64url;function requireEncBase64url(){return hasRequiredEncBase64url||(hasRequiredEncBase64url=1,(function(t,e){(function(a,r){t.exports=r(requireCore())})(encBase64url,function(a){return(function(){var r=a,o=r.lib,s=o.WordArray,l=r.enc;l.Base64url={stringify:function(u,h){h===void 0&&(h=!0);var f=u.words,m=u.sigBytes,g=h?this._safe_map:this._map;u.clamp();for(var b=[],w=0;w<m;w+=3)for(var E=f[w>>>2]>>>24-w%4*8&255,C=f[w+1>>>2]>>>24-(w+1)%4*8&255,B=f[w+2>>>2]>>>24-(w+2)%4*8&255,O=E<<16|C<<8|B,P=0;P<4&&w+P*.75<m;P++)b.push(g.charAt(O>>>6*(3-P)&63));var q=g.charAt(64);if(q)for(;b.length%4;)b.push(q);return b.join("")},parse:function(u,h){h===void 0&&(h=!0);var f=u.length,m=h?this._safe_map:this._map,g=this._reverseMap;if(!g){g=this._reverseMap=[];for(var b=0;b<m.length;b++)g[m.charCodeAt(b)]=b}var w=m.charAt(64);if(w){var E=u.indexOf(w);E!==-1&&(f=E)}return c(u,f,g)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function c(u,h,f){for(var m=[],g=0,b=0;b<h;b++)if(b%4){var w=f[u.charCodeAt(b-1)]<<b%4*2,E=f[u.charCodeAt(b)]>>>6-b%4*2,C=w|E;m[g>>>2]|=C<<24-g%4*8,g++}return s.create(m,g)}})(),a.enc.Base64url})})(encBase64url$1)),encBase64url$1.exports}var md5$1={exports:{}},md5=md5$1.exports,hasRequiredMd5;function requireMd5(){return hasRequiredMd5||(hasRequiredMd5=1,(function(t,e){(function(a,r){t.exports=r(requireCore())})(md5,function(a){return(function(r){var o=a,s=o.lib,l=s.WordArray,c=s.Hasher,u=o.algo,h=[];(function(){for(var E=0;E<64;E++)h[E]=r.abs(r.sin(E+1))*4294967296|0})();var f=u.MD5=c.extend({_doReset:function(){this._hash=new l.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(E,C){for(var B=0;B<16;B++){var O=C+B,P=E[O];E[O]=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360}var q=this._hash.words,z=E[C+0],V=E[C+1],Z=E[C+2],J=E[C+3],W=E[C+4],te=E[C+5],G=E[C+6],D=E[C+7],M=E[C+8],v=E[C+9],S=E[C+10],N=E[C+11],R=E[C+12],k=E[C+13],j=E[C+14],I=E[C+15],A=q[0],$=q[1],L=q[2],Y=q[3];A=m(A,$,L,Y,z,7,h[0]),Y=m(Y,A,$,L,V,12,h[1]),L=m(L,Y,A,$,Z,17,h[2]),$=m($,L,Y,A,J,22,h[3]),A=m(A,$,L,Y,W,7,h[4]),Y=m(Y,A,$,L,te,12,h[5]),L=m(L,Y,A,$,G,17,h[6]),$=m($,L,Y,A,D,22,h[7]),A=m(A,$,L,Y,M,7,h[8]),Y=m(Y,A,$,L,v,12,h[9]),L=m(L,Y,A,$,S,17,h[10]),$=m($,L,Y,A,N,22,h[11]),A=m(A,$,L,Y,R,7,h[12]),Y=m(Y,A,$,L,k,12,h[13]),L=m(L,Y,A,$,j,17,h[14]),$=m($,L,Y,A,I,22,h[15]),A=g(A,$,L,Y,V,5,h[16]),Y=g(Y,A,$,L,G,9,h[17]),L=g(L,Y,A,$,N,14,h[18]),$=g($,L,Y,A,z,20,h[19]),A=g(A,$,L,Y,te,5,h[20]),Y=g(Y,A,$,L,S,9,h[21]),L=g(L,Y,A,$,I,14,h[22]),$=g($,L,Y,A,W,20,h[23]),A=g(A,$,L,Y,v,5,h[24]),Y=g(Y,A,$,L,j,9,h[25]),L=g(L,Y,A,$,J,14,h[26]),$=g($,L,Y,A,M,20,h[27]),A=g(A,$,L,Y,k,5,h[28]),Y=g(Y,A,$,L,Z,9,h[29]),L=g(L,Y,A,$,D,14,h[30]),$=g($,L,Y,A,R,20,h[31]),A=b(A,$,L,Y,te,4,h[32]),Y=b(Y,A,$,L,M,11,h[33]),L=b(L,Y,A,$,N,16,h[34]),$=b($,L,Y,A,j,23,h[35]),A=b(A,$,L,Y,V,4,h[36]),Y=b(Y,A,$,L,W,11,h[37]),L=b(L,Y,A,$,D,16,h[38]),$=b($,L,Y,A,S,23,h[39]),A=b(A,$,L,Y,k,4,h[40]),Y=b(Y,A,$,L,z,11,h[41]),L=b(L,Y,A,$,J,16,h[42]),$=b($,L,Y,A,G,23,h[43]),A=b(A,$,L,Y,v,4,h[44]),Y=b(Y,A,$,L,R,11,h[45]),L=b(L,Y,A,$,I,16,h[46]),$=b($,L,Y,A,Z,23,h[47]),A=w(A,$,L,Y,z,6,h[48]),Y=w(Y,A,$,L,D,10,h[49]),L=w(L,Y,A,$,j,15,h[50]),$=w($,L,Y,A,te,21,h[51]),A=w(A,$,L,Y,R,6,h[52]),Y=w(Y,A,$,L,J,10,h[53]),L=w(L,Y,A,$,S,15,h[54]),$=w($,L,Y,A,V,21,h[55]),A=w(A,$,L,Y,M,6,h[56]),Y=w(Y,A,$,L,I,10,h[57]),L=w(L,Y,A,$,G,15,h[58]),$=w($,L,Y,A,k,21,h[59]),A=w(A,$,L,Y,W,6,h[60]),Y=w(Y,A,$,L,N,10,h[61]),L=w(L,Y,A,$,Z,15,h[62]),$=w($,L,Y,A,v,21,h[63]),q[0]=q[0]+A|0,q[1]=q[1]+$|0,q[2]=q[2]+L|0,q[3]=q[3]+Y|0},_doFinalize:function(){var E=this._data,C=E.words,B=this._nDataBytes*8,O=E.sigBytes*8;C[O>>>5]|=128<<24-O%32;var P=r.floor(B/4294967296),q=B;C[(O+64>>>9<<4)+15]=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,C[(O+64>>>9<<4)+14]=(q<<8|q>>>24)&16711935|(q<<24|q>>>8)&4278255360,E.sigBytes=(C.length+1)*4,this._process();for(var z=this._hash,V=z.words,Z=0;Z<4;Z++){var J=V[Z];V[Z]=(J<<8|J>>>24)&16711935|(J<<24|J>>>8)&4278255360}return z},clone:function(){var E=c.clone.call(this);return E._hash=this._hash.clone(),E}});function m(E,C,B,O,P,q,z){var V=E+(C&B|~C&O)+P+z;return(V<<q|V>>>32-q)+C}function g(E,C,B,O,P,q,z){var V=E+(C&O|B&~O)+P+z;return(V<<q|V>>>32-q)+C}function b(E,C,B,O,P,q,z){var V=E+(C^B^O)+P+z;return(V<<q|V>>>32-q)+C}function w(E,C,B,O,P,q,z){var V=E+(B^(C|~O))+P+z;return(V<<q|V>>>32-q)+C}o.MD5=c._createHelper(f),o.HmacMD5=c._createHmacHelper(f)})(Math),a.MD5})})(md5$1)),md5$1.exports}var sha1$1={exports:{}},sha1=sha1$1.exports,hasRequiredSha1;function requireSha1(){return hasRequiredSha1||(hasRequiredSha1=1,(function(t,e){(function(a,r){t.exports=r(requireCore())})(sha1,function(a){return(function(){var r=a,o=r.lib,s=o.WordArray,l=o.Hasher,c=r.algo,u=[],h=c.SHA1=l.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(f,m){for(var g=this._hash.words,b=g[0],w=g[1],E=g[2],C=g[3],B=g[4],O=0;O<80;O++){if(O<16)u[O]=f[m+O]|0;else{var P=u[O-3]^u[O-8]^u[O-14]^u[O-16];u[O]=P<<1|P>>>31}var q=(b<<5|b>>>27)+B+u[O];O<20?q+=(w&E|~w&C)+1518500249:O<40?q+=(w^E^C)+1859775393:O<60?q+=(w&E|w&C|E&C)-1894007588:q+=(w^E^C)-899497514,B=C,C=E,E=w<<30|w>>>2,w=b,b=q}g[0]=g[0]+b|0,g[1]=g[1]+w|0,g[2]=g[2]+E|0,g[3]=g[3]+C|0,g[4]=g[4]+B|0},_doFinalize:function(){var f=this._data,m=f.words,g=this._nDataBytes*8,b=f.sigBytes*8;return m[b>>>5]|=128<<24-b%32,m[(b+64>>>9<<4)+14]=Math.floor(g/4294967296),m[(b+64>>>9<<4)+15]=g,f.sigBytes=m.length*4,this._process(),this._hash},clone:function(){var f=l.clone.call(this);return f._hash=this._hash.clone(),f}});r.SHA1=l._createHelper(h),r.HmacSHA1=l._createHmacHelper(h)})(),a.SHA1})})(sha1$1)),sha1$1.exports}var sha256$4={exports:{}},sha256$3=sha256$4.exports,hasRequiredSha256;function requireSha256(){return hasRequiredSha256||(hasRequiredSha256=1,(function(t,e){(function(a,r){t.exports=r(requireCore())})(sha256$3,function(a){return(function(r){var o=a,s=o.lib,l=s.WordArray,c=s.Hasher,u=o.algo,h=[],f=[];(function(){function b(B){for(var O=r.sqrt(B),P=2;P<=O;P++)if(!(B%P))return!1;return!0}function w(B){return(B-(B|0))*4294967296|0}for(var E=2,C=0;C<64;)b(E)&&(C<8&&(h[C]=w(r.pow(E,1/2))),f[C]=w(r.pow(E,1/3)),C++),E++})();var m=[],g=u.SHA256=c.extend({_doReset:function(){this._hash=new l.init(h.slice(0))},_doProcessBlock:function(b,w){for(var E=this._hash.words,C=E[0],B=E[1],O=E[2],P=E[3],q=E[4],z=E[5],V=E[6],Z=E[7],J=0;J<64;J++){if(J<16)m[J]=b[w+J]|0;else{var W=m[J-15],te=(W<<25|W>>>7)^(W<<14|W>>>18)^W>>>3,G=m[J-2],D=(G<<15|G>>>17)^(G<<13|G>>>19)^G>>>10;m[J]=te+m[J-7]+D+m[J-16]}var M=q&z^~q&V,v=C&B^C&O^B&O,S=(C<<30|C>>>2)^(C<<19|C>>>13)^(C<<10|C>>>22),N=(q<<26|q>>>6)^(q<<21|q>>>11)^(q<<7|q>>>25),R=Z+N+M+f[J]+m[J],k=S+v;Z=V,V=z,z=q,q=P+R|0,P=O,O=B,B=C,C=R+k|0}E[0]=E[0]+C|0,E[1]=E[1]+B|0,E[2]=E[2]+O|0,E[3]=E[3]+P|0,E[4]=E[4]+q|0,E[5]=E[5]+z|0,E[6]=E[6]+V|0,E[7]=E[7]+Z|0},_doFinalize:function(){var b=this._data,w=b.words,E=this._nDataBytes*8,C=b.sigBytes*8;return w[C>>>5]|=128<<24-C%32,w[(C+64>>>9<<4)+14]=r.floor(E/4294967296),w[(C+64>>>9<<4)+15]=E,b.sigBytes=w.length*4,this._process(),this._hash},clone:function(){var b=c.clone.call(this);return b._hash=this._hash.clone(),b}});o.SHA256=c._createHelper(g),o.HmacSHA256=c._createHmacHelper(g)})(Math),a.SHA256})})(sha256$4)),sha256$4.exports}var sha224$1={exports:{}},sha224=sha224$1.exports,hasRequiredSha224;function requireSha224(){return hasRequiredSha224||(hasRequiredSha224=1,(function(t,e){(function(a,r,o){t.exports=r(requireCore(),requireSha256())})(sha224,function(a){return(function(){var r=a,o=r.lib,s=o.WordArray,l=r.algo,c=l.SHA256,u=l.SHA224=c.extend({_doReset:function(){this._hash=new s.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var h=c._doFinalize.call(this);return h.sigBytes-=4,h}});r.SHA224=c._createHelper(u),r.HmacSHA224=c._createHmacHelper(u)})(),a.SHA224})})(sha224$1)),sha224$1.exports}var sha512$1={exports:{}},sha512=sha512$1.exports,hasRequiredSha512;function requireSha512(){return hasRequiredSha512||(hasRequiredSha512=1,(function(t,e){(function(a,r,o){t.exports=r(requireCore(),requireX64Core())})(sha512,function(a){return(function(){var r=a,o=r.lib,s=o.Hasher,l=r.x64,c=l.Word,u=l.WordArray,h=r.algo;function f(){return c.create.apply(c,arguments)}var m=[f(1116352408,3609767458),f(1899447441,602891725),f(3049323471,3964484399),f(3921009573,2173295548),f(961987163,4081628472),f(1508970993,3053834265),f(2453635748,2937671579),f(2870763221,3664609560),f(3624381080,2734883394),f(310598401,1164996542),f(607225278,1323610764),f(1426881987,3590304994),f(1925078388,4068182383),f(2162078206,991336113),f(2614888103,633803317),f(3248222580,3479774868),f(3835390401,2666613458),f(4022224774,944711139),f(264347078,2341262773),f(604807628,2007800933),f(770255983,1495990901),f(1249150122,1856431235),f(1555081692,3175218132),f(1996064986,2198950837),f(2554220882,3999719339),f(2821834349,766784016),f(2952996808,2566594879),f(3210313671,3203337956),f(3336571891,1034457026),f(3584528711,2466948901),f(113926993,3758326383),f(338241895,168717936),f(666307205,1188179964),f(773529912,1546045734),f(1294757372,1522805485),f(1396182291,2643833823),f(1695183700,2343527390),f(1986661051,1014477480),f(2177026350,1206759142),f(2456956037,344077627),f(2730485921,1290863460),f(2820302411,3158454273),f(3259730800,3505952657),f(3345764771,106217008),f(3516065817,3606008344),f(3600352804,1432725776),f(4094571909,1467031594),f(275423344,851169720),f(430227734,3100823752),f(506948616,1363258195),f(659060556,3750685593),f(883997877,3785050280),f(958139571,3318307427),f(1322822218,3812723403),f(1537002063,2003034995),f(1747873779,3602036899),f(1955562222,1575990012),f(2024104815,1125592928),f(2227730452,2716904306),f(2361852424,442776044),f(2428436474,593698344),f(2756734187,3733110249),f(3204031479,2999351573),f(3329325298,3815920427),f(3391569614,3928383900),f(3515267271,566280711),f(3940187606,3454069534),f(4118630271,4000239992),f(116418474,1914138554),f(174292421,2731055270),f(289380356,3203993006),f(460393269,320620315),f(685471733,587496836),f(852142971,1086792851),f(1017036298,365543100),f(1126000580,2618297676),f(1288033470,3409855158),f(1501505948,4234509866),f(1607167915,987167468),f(1816402316,1246189591)],g=[];(function(){for(var w=0;w<80;w++)g[w]=f()})();var b=h.SHA512=s.extend({_doReset:function(){this._hash=new u.init([new c.init(1779033703,4089235720),new c.init(3144134277,2227873595),new c.init(1013904242,4271175723),new c.init(2773480762,1595750129),new c.init(1359893119,2917565137),new c.init(2600822924,725511199),new c.init(528734635,4215389547),new c.init(1541459225,327033209)])},_doProcessBlock:function(w,E){for(var C=this._hash.words,B=C[0],O=C[1],P=C[2],q=C[3],z=C[4],V=C[5],Z=C[6],J=C[7],W=B.high,te=B.low,G=O.high,D=O.low,M=P.high,v=P.low,S=q.high,N=q.low,R=z.high,k=z.low,j=V.high,I=V.low,A=Z.high,$=Z.low,L=J.high,Y=J.low,le=W,re=te,U=G,K=D,se=M,he=v,ue=S,ee=N,fe=R,ge=k,xe=j,_e=I,Ie=A,De=$,$e=L,Ue=Y,Be=0;Be<80;Be++){var Ve,He,Ae=g[Be];if(Be<16)He=Ae.high=w[E+Be*2]|0,Ve=Ae.low=w[E+Be*2+1]|0;else{var Ce=g[Be-15],Te=Ce.high,ye=Ce.low,Fe=(Te>>>1|ye<<31)^(Te>>>8|ye<<24)^Te>>>7,qe=(ye>>>1|Te<<31)^(ye>>>8|Te<<24)^(ye>>>7|Te<<25),oe=g[Be-2],Q=oe.high,ie=oe.low,pe=(Q>>>19|ie<<13)^(Q<<3|ie>>>29)^Q>>>6,be=(ie>>>19|Q<<13)^(ie<<3|Q>>>29)^(ie>>>6|Q<<26),we=g[Be-7],Re=we.high,Ge=we.low,Ye=g[Be-16],Je=Ye.high,st=Ye.low;Ve=qe+Ge,He=Fe+Re+(Ve>>>0<qe>>>0?1:0),Ve=Ve+be,He=He+pe+(Ve>>>0<be>>>0?1:0),Ve=Ve+st,He=He+Je+(Ve>>>0<st>>>0?1:0),Ae.high=He,Ae.low=Ve}var et=fe&xe^~fe&Ie,tt=ge&_e^~ge&De,mt=le&U^le&se^U&se,ut=re&K^re&he^K&he,nt=(le>>>28|re<<4)^(le<<30|re>>>2)^(le<<25|re>>>7),yt=(re>>>28|le<<4)^(re<<30|le>>>2)^(re<<25|le>>>7),ft=(fe>>>14|ge<<18)^(fe>>>18|ge<<14)^(fe<<23|ge>>>9),de=(ge>>>14|fe<<18)^(ge>>>18|fe<<14)^(ge<<23|fe>>>9),ne=m[Be],ae=ne.high,ve=ne.low,Ee=Ue+de,Me=$e+ft+(Ee>>>0<Ue>>>0?1:0),Ee=Ee+tt,Me=Me+et+(Ee>>>0<tt>>>0?1:0),Ee=Ee+ve,Me=Me+ae+(Ee>>>0<ve>>>0?1:0),Ee=Ee+Ve,Me=Me+He+(Ee>>>0<Ve>>>0?1:0),Ne=yt+ut,it=nt+mt+(Ne>>>0<yt>>>0?1:0);$e=Ie,Ue=De,Ie=xe,De=_e,xe=fe,_e=ge,ge=ee+Ee|0,fe=ue+Me+(ge>>>0<ee>>>0?1:0)|0,ue=se,ee=he,se=U,he=K,U=le,K=re,re=Ee+Ne|0,le=Me+it+(re>>>0<Ee>>>0?1:0)|0}te=B.low=te+re,B.high=W+le+(te>>>0<re>>>0?1:0),D=O.low=D+K,O.high=G+U+(D>>>0<K>>>0?1:0),v=P.low=v+he,P.high=M+se+(v>>>0<he>>>0?1:0),N=q.low=N+ee,q.high=S+ue+(N>>>0<ee>>>0?1:0),k=z.low=k+ge,z.high=R+fe+(k>>>0<ge>>>0?1:0),I=V.low=I+_e,V.high=j+xe+(I>>>0<_e>>>0?1:0),$=Z.low=$+De,Z.high=A+Ie+($>>>0<De>>>0?1:0),Y=J.low=Y+Ue,J.high=L+$e+(Y>>>0<Ue>>>0?1:0)},_doFinalize:function(){var w=this._data,E=w.words,C=this._nDataBytes*8,B=w.sigBytes*8;E[B>>>5]|=128<<24-B%32,E[(B+128>>>10<<5)+30]=Math.floor(C/4294967296),E[(B+128>>>10<<5)+31]=C,w.sigBytes=E.length*4,this._process();var O=this._hash.toX32();return O},clone:function(){var w=s.clone.call(this);return w._hash=this._hash.clone(),w},blockSize:1024/32});r.SHA512=s._createHelper(b),r.HmacSHA512=s._createHmacHelper(b)})(),a.SHA512})})(sha512$1)),sha512$1.exports}var sha384$1={exports:{}},sha384=sha384$1.exports,hasRequiredSha384;function requireSha384(){return hasRequiredSha384||(hasRequiredSha384=1,(function(t,e){(function(a,r,o){t.exports=r(requireCore(),requireX64Core(),requireSha512())})(sha384,function(a){return(function(){var r=a,o=r.x64,s=o.Word,l=o.WordArray,c=r.algo,u=c.SHA512,h=c.SHA384=u.extend({_doReset:function(){this._hash=new l.init([new s.init(3418070365,3238371032),new s.init(1654270250,914150663),new s.init(2438529370,812702999),new s.init(355462360,4144912697),new s.init(1731405415,4290775857),new s.init(2394180231,1750603025),new s.init(3675008525,1694076839),new s.init(1203062813,3204075428)])},_doFinalize:function(){var f=u._doFinalize.call(this);return f.sigBytes-=16,f}});r.SHA384=u._createHelper(h),r.HmacSHA384=u._createHmacHelper(h)})(),a.SHA384})})(sha384$1)),sha384$1.exports}var sha3$1={exports:{}},sha3=sha3$1.exports,hasRequiredSha3;function requireSha3(){return hasRequiredSha3||(hasRequiredSha3=1,(function(t,e){(function(a,r,o){t.exports=r(requireCore(),requireX64Core())})(sha3,function(a){return(function(r){var o=a,s=o.lib,l=s.WordArray,c=s.Hasher,u=o.x64,h=u.Word,f=o.algo,m=[],g=[],b=[];(function(){for(var C=1,B=0,O=0;O<24;O++){m[C+5*B]=(O+1)*(O+2)/2%64;var P=B%5,q=(2*C+3*B)%5;C=P,B=q}for(var C=0;C<5;C++)for(var B=0;B<5;B++)g[C+5*B]=B+(2*C+3*B)%5*5;for(var z=1,V=0;V<24;V++){for(var Z=0,J=0,W=0;W<7;W++){if(z&1){var te=(1<<W)-1;te<32?J^=1<<te:Z^=1<<te-32}z&128?z=z<<1^113:z<<=1}b[V]=h.create(Z,J)}})();var w=[];(function(){for(var C=0;C<25;C++)w[C]=h.create()})();var E=f.SHA3=c.extend({cfg:c.cfg.extend({outputLength:512}),_doReset:function(){for(var C=this._state=[],B=0;B<25;B++)C[B]=new h.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(C,B){for(var O=this._state,P=this.blockSize/2,q=0;q<P;q++){var z=C[B+2*q],V=C[B+2*q+1];z=(z<<8|z>>>24)&16711935|(z<<24|z>>>8)&4278255360,V=(V<<8|V>>>24)&16711935|(V<<24|V>>>8)&4278255360;var Z=O[q];Z.high^=V,Z.low^=z}for(var J=0;J<24;J++){for(var W=0;W<5;W++){for(var te=0,G=0,D=0;D<5;D++){var Z=O[W+5*D];te^=Z.high,G^=Z.low}var M=w[W];M.high=te,M.low=G}for(var W=0;W<5;W++)for(var v=w[(W+4)%5],S=w[(W+1)%5],N=S.high,R=S.low,te=v.high^(N<<1|R>>>31),G=v.low^(R<<1|N>>>31),D=0;D<5;D++){var Z=O[W+5*D];Z.high^=te,Z.low^=G}for(var k=1;k<25;k++){var te,G,Z=O[k],j=Z.high,I=Z.low,A=m[k];A<32?(te=j<<A|I>>>32-A,G=I<<A|j>>>32-A):(te=I<<A-32|j>>>64-A,G=j<<A-32|I>>>64-A);var $=w[g[k]];$.high=te,$.low=G}var L=w[0],Y=O[0];L.high=Y.high,L.low=Y.low;for(var W=0;W<5;W++)for(var D=0;D<5;D++){var k=W+5*D,Z=O[k],le=w[k],re=w[(W+1)%5+5*D],U=w[(W+2)%5+5*D];Z.high=le.high^~re.high&U.high,Z.low=le.low^~re.low&U.low}var Z=O[0],K=b[J];Z.high^=K.high,Z.low^=K.low}},_doFinalize:function(){var C=this._data,B=C.words;this._nDataBytes*8;var O=C.sigBytes*8,P=this.blockSize*32;B[O>>>5]|=1<<24-O%32,B[(r.ceil((O+1)/P)*P>>>5)-1]|=128,C.sigBytes=B.length*4,this._process();for(var q=this._state,z=this.cfg.outputLength/8,V=z/8,Z=[],J=0;J<V;J++){var W=q[J],te=W.high,G=W.low;te=(te<<8|te>>>24)&16711935|(te<<24|te>>>8)&4278255360,G=(G<<8|G>>>24)&16711935|(G<<24|G>>>8)&4278255360,Z.push(G),Z.push(te)}return new l.init(Z,z)},clone:function(){for(var C=c.clone.call(this),B=C._state=this._state.slice(0),O=0;O<25;O++)B[O]=B[O].clone();return C}});o.SHA3=c._createHelper(E),o.HmacSHA3=c._createHmacHelper(E)})(Math),a.SHA3})})(sha3$1)),sha3$1.exports}var ripemd160$1={exports:{}},ripemd160=ripemd160$1.exports,hasRequiredRipemd160;function requireRipemd160(){return hasRequiredRipemd160||(hasRequiredRipemd160=1,(function(t,e){(function(a,r){t.exports=r(requireCore())})(ripemd160,function(a){return(function(r){var o=a,s=o.lib,l=s.WordArray,c=s.Hasher,u=o.algo,h=l.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),f=l.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),m=l.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),g=l.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),b=l.create([0,1518500249,1859775393,2400959708,2840853838]),w=l.create([1352829926,1548603684,1836072691,2053994217,0]),E=u.RIPEMD160=c.extend({_doReset:function(){this._hash=l.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(V,Z){for(var J=0;J<16;J++){var W=Z+J,te=V[W];V[W]=(te<<8|te>>>24)&16711935|(te<<24|te>>>8)&4278255360}var G=this._hash.words,D=b.words,M=w.words,v=h.words,S=f.words,N=m.words,R=g.words,k,j,I,A,$,L,Y,le,re,U;L=k=G[0],Y=j=G[1],le=I=G[2],re=A=G[3],U=$=G[4];for(var K,J=0;J<80;J+=1)K=k+V[Z+v[J]]|0,J<16?K+=C(j,I,A)+D[0]:J<32?K+=B(j,I,A)+D[1]:J<48?K+=O(j,I,A)+D[2]:J<64?K+=P(j,I,A)+D[3]:K+=q(j,I,A)+D[4],K=K|0,K=z(K,N[J]),K=K+$|0,k=$,$=A,A=z(I,10),I=j,j=K,K=L+V[Z+S[J]]|0,J<16?K+=q(Y,le,re)+M[0]:J<32?K+=P(Y,le,re)+M[1]:J<48?K+=O(Y,le,re)+M[2]:J<64?K+=B(Y,le,re)+M[3]:K+=C(Y,le,re)+M[4],K=K|0,K=z(K,R[J]),K=K+U|0,L=U,U=re,re=z(le,10),le=Y,Y=K;K=G[1]+I+re|0,G[1]=G[2]+A+U|0,G[2]=G[3]+$+L|0,G[3]=G[4]+k+Y|0,G[4]=G[0]+j+le|0,G[0]=K},_doFinalize:function(){var V=this._data,Z=V.words,J=this._nDataBytes*8,W=V.sigBytes*8;Z[W>>>5]|=128<<24-W%32,Z[(W+64>>>9<<4)+14]=(J<<8|J>>>24)&16711935|(J<<24|J>>>8)&4278255360,V.sigBytes=(Z.length+1)*4,this._process();for(var te=this._hash,G=te.words,D=0;D<5;D++){var M=G[D];G[D]=(M<<8|M>>>24)&16711935|(M<<24|M>>>8)&4278255360}return te},clone:function(){var V=c.clone.call(this);return V._hash=this._hash.clone(),V}});function C(V,Z,J){return V^Z^J}function B(V,Z,J){return V&Z|~V&J}function O(V,Z,J){return(V|~Z)^J}function P(V,Z,J){return V&J|Z&~J}function q(V,Z,J){return V^(Z|~J)}function z(V,Z){return V<<Z|V>>>32-Z}o.RIPEMD160=c._createHelper(E),o.HmacRIPEMD160=c._createHmacHelper(E)})(),a.RIPEMD160})})(ripemd160$1)),ripemd160$1.exports}var hmac$2={exports:{}},hmac$1=hmac$2.exports,hasRequiredHmac;function requireHmac(){return hasRequiredHmac||(hasRequiredHmac=1,(function(t,e){(function(a,r){t.exports=r(requireCore())})(hmac$1,function(a){(function(){var r=a,o=r.lib,s=o.Base,l=r.enc,c=l.Utf8,u=r.algo;u.HMAC=s.extend({init:function(h,f){h=this._hasher=new h.init,typeof f=="string"&&(f=c.parse(f));var m=h.blockSize,g=m*4;f.sigBytes>g&&(f=h.finalize(f)),f.clamp();for(var b=this._oKey=f.clone(),w=this._iKey=f.clone(),E=b.words,C=w.words,B=0;B<m;B++)E[B]^=1549556828,C[B]^=909522486;b.sigBytes=w.sigBytes=g,this.reset()},reset:function(){var h=this._hasher;h.reset(),h.update(this._iKey)},update:function(h){return this._hasher.update(h),this},finalize:function(h){var f=this._hasher,m=f.finalize(h);f.reset();var g=f.finalize(this._oKey.clone().concat(m));return g}})})()})})(hmac$2)),hmac$2.exports}var pbkdf2$1={exports:{}},pbkdf2=pbkdf2$1.exports,hasRequiredPbkdf2;function requirePbkdf2(){return hasRequiredPbkdf2||(hasRequiredPbkdf2=1,(function(t,e){(function(a,r,o){t.exports=r(requireCore(),requireSha256(),requireHmac())})(pbkdf2,function(a){return(function(){var r=a,o=r.lib,s=o.Base,l=o.WordArray,c=r.algo,u=c.SHA256,h=c.HMAC,f=c.PBKDF2=s.extend({cfg:s.extend({keySize:128/32,hasher:u,iterations:25e4}),init:function(m){this.cfg=this.cfg.extend(m)},compute:function(m,g){for(var b=this.cfg,w=h.create(b.hasher,m),E=l.create(),C=l.create([1]),B=E.words,O=C.words,P=b.keySize,q=b.iterations;B.length<P;){var z=w.update(g).finalize(C);w.reset();for(var V=z.words,Z=V.length,J=z,W=1;W<q;W++){J=w.finalize(J),w.reset();for(var te=J.words,G=0;G<Z;G++)V[G]^=te[G]}E.concat(z),O[0]++}return E.sigBytes=P*4,E}});r.PBKDF2=function(m,g,b){return f.create(b).compute(m,g)}})(),a.PBKDF2})})(pbkdf2$1)),pbkdf2$1.exports}var evpkdf$1={exports:{}},evpkdf=evpkdf$1.exports,hasRequiredEvpkdf;function requireEvpkdf(){return hasRequiredEvpkdf||(hasRequiredEvpkdf=1,(function(t,e){(function(a,r,o){t.exports=r(requireCore(),requireSha1(),requireHmac())})(evpkdf,function(a){return(function(){var r=a,o=r.lib,s=o.Base,l=o.WordArray,c=r.algo,u=c.MD5,h=c.EvpKDF=s.extend({cfg:s.extend({keySize:128/32,hasher:u,iterations:1}),init:function(f){this.cfg=this.cfg.extend(f)},compute:function(f,m){for(var g,b=this.cfg,w=b.hasher.create(),E=l.create(),C=E.words,B=b.keySize,O=b.iterations;C.length<B;){g&&w.update(g),g=w.update(f).finalize(m),w.reset();for(var P=1;P<O;P++)g=w.finalize(g),w.reset();E.concat(g)}return E.sigBytes=B*4,E}});r.EvpKDF=function(f,m,g){return h.create(g).compute(f,m)}})(),a.EvpKDF})})(evpkdf$1)),evpkdf$1.exports}var cipherCore$1={exports:{}},cipherCore=cipherCore$1.exports,hasRequiredCipherCore;function requireCipherCore(){return hasRequiredCipherCore||(hasRequiredCipherCore=1,(function(t,e){(function(a,r,o){t.exports=r(requireCore(),requireEvpkdf())})(cipherCore,function(a){a.lib.Cipher||(function(r){var o=a,s=o.lib,l=s.Base,c=s.WordArray,u=s.BufferedBlockAlgorithm,h=o.enc;h.Utf8;var f=h.Base64,m=o.algo,g=m.EvpKDF,b=s.Cipher=u.extend({cfg:l.extend(),createEncryptor:function(te,G){return this.create(this._ENC_XFORM_MODE,te,G)},createDecryptor:function(te,G){return this.create(this._DEC_XFORM_MODE,te,G)},init:function(te,G,D){this.cfg=this.cfg.extend(D),this._xformMode=te,this._key=G,this.reset()},reset:function(){u.reset.call(this),this._doReset()},process:function(te){return this._append(te),this._process()},finalize:function(te){te&&this._append(te);var G=this._doFinalize();return G},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:(function(){function te(G){return typeof G=="string"?W:V}return function(G){return{encrypt:function(D,M,v){return te(M).encrypt(G,D,M,v)},decrypt:function(D,M,v){return te(M).decrypt(G,D,M,v)}}}})()});s.StreamCipher=b.extend({_doFinalize:function(){var te=this._process(!0);return te},blockSize:1});var w=o.mode={},E=s.BlockCipherMode=l.extend({createEncryptor:function(te,G){return this.Encryptor.create(te,G)},createDecryptor:function(te,G){return this.Decryptor.create(te,G)},init:function(te,G){this._cipher=te,this._iv=G}}),C=w.CBC=(function(){var te=E.extend();te.Encryptor=te.extend({processBlock:function(D,M){var v=this._cipher,S=v.blockSize;G.call(this,D,M,S),v.encryptBlock(D,M),this._prevBlock=D.slice(M,M+S)}}),te.Decryptor=te.extend({processBlock:function(D,M){var v=this._cipher,S=v.blockSize,N=D.slice(M,M+S);v.decryptBlock(D,M),G.call(this,D,M,S),this._prevBlock=N}});function G(D,M,v){var S,N=this._iv;N?(S=N,this._iv=r):S=this._prevBlock;for(var R=0;R<v;R++)D[M+R]^=S[R]}return te})(),B=o.pad={},O=B.Pkcs7={pad:function(te,G){for(var D=G*4,M=D-te.sigBytes%D,v=M<<24|M<<16|M<<8|M,S=[],N=0;N<M;N+=4)S.push(v);var R=c.create(S,M);te.concat(R)},unpad:function(te){var G=te.words[te.sigBytes-1>>>2]&255;te.sigBytes-=G}};s.BlockCipher=b.extend({cfg:b.cfg.extend({mode:C,padding:O}),reset:function(){var te;b.reset.call(this);var G=this.cfg,D=G.iv,M=G.mode;this._xformMode==this._ENC_XFORM_MODE?te=M.createEncryptor:(te=M.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==te?this._mode.init(this,D&&D.words):(this._mode=te.call(M,this,D&&D.words),this._mode.__creator=te)},_doProcessBlock:function(te,G){this._mode.processBlock(te,G)},_doFinalize:function(){var te,G=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(G.pad(this._data,this.blockSize),te=this._process(!0)):(te=this._process(!0),G.unpad(te)),te},blockSize:128/32});var P=s.CipherParams=l.extend({init:function(te){this.mixIn(te)},toString:function(te){return(te||this.formatter).stringify(this)}}),q=o.format={},z=q.OpenSSL={stringify:function(te){var G,D=te.ciphertext,M=te.salt;return M?G=c.create([1398893684,1701076831]).concat(M).concat(D):G=D,G.toString(f)},parse:function(te){var G,D=f.parse(te),M=D.words;return M[0]==1398893684&&M[1]==1701076831&&(G=c.create(M.slice(2,4)),M.splice(0,4),D.sigBytes-=16),P.create({ciphertext:D,salt:G})}},V=s.SerializableCipher=l.extend({cfg:l.extend({format:z}),encrypt:function(te,G,D,M){M=this.cfg.extend(M);var v=te.createEncryptor(D,M),S=v.finalize(G),N=v.cfg;return P.create({ciphertext:S,key:D,iv:N.iv,algorithm:te,mode:N.mode,padding:N.padding,blockSize:te.blockSize,formatter:M.format})},decrypt:function(te,G,D,M){M=this.cfg.extend(M),G=this._parse(G,M.format);var v=te.createDecryptor(D,M).finalize(G.ciphertext);return v},_parse:function(te,G){return typeof te=="string"?G.parse(te,this):te}}),Z=o.kdf={},J=Z.OpenSSL={execute:function(te,G,D,M,v){if(M||(M=c.random(64/8)),v)var S=g.create({keySize:G+D,hasher:v}).compute(te,M);else var S=g.create({keySize:G+D}).compute(te,M);var N=c.create(S.words.slice(G),D*4);return S.sigBytes=G*4,P.create({key:S,iv:N,salt:M})}},W=s.PasswordBasedCipher=V.extend({cfg:V.cfg.extend({kdf:J}),encrypt:function(te,G,D,M){M=this.cfg.extend(M);var v=M.kdf.execute(D,te.keySize,te.ivSize,M.salt,M.hasher);M.iv=v.iv;var S=V.encrypt.call(this,te,G,v.key,M);return S.mixIn(v),S},decrypt:function(te,G,D,M){M=this.cfg.extend(M),G=this._parse(G,M.format);var v=M.kdf.execute(D,te.keySize,te.ivSize,G.salt,M.hasher);M.iv=v.iv;var S=V.decrypt.call(this,te,G,v.key,M);return S}})})()})})(cipherCore$1)),cipherCore$1.exports}var modeCfb$1={exports:{}},modeCfb=modeCfb$1.exports,hasRequiredModeCfb;function requireModeCfb(){return hasRequiredModeCfb||(hasRequiredModeCfb=1,(function(t,e){(function(a,r,o){t.exports=r(requireCore(),requireCipherCore())})(modeCfb,function(a){return a.mode.CFB=(function(){var r=a.lib.BlockCipherMode.extend();r.Encryptor=r.extend({processBlock:function(s,l){var c=this._cipher,u=c.blockSize;o.call(this,s,l,u,c),this._prevBlock=s.slice(l,l+u)}}),r.Decryptor=r.extend({processBlock:function(s,l){var c=this._cipher,u=c.blockSize,h=s.slice(l,l+u);o.call(this,s,l,u,c),this._prevBlock=h}});function o(s,l,c,u){var h,f=this._iv;f?(h=f.slice(0),this._iv=void 0):h=this._prevBlock,u.encryptBlock(h,0);for(var m=0;m<c;m++)s[l+m]^=h[m]}return r})(),a.mode.CFB})})(modeCfb$1)),modeCfb$1.exports}var modeCtr$1={exports:{}},modeCtr=modeCtr$1.exports,hasRequiredModeCtr;function requireModeCtr(){return hasRequiredModeCtr||(hasRequiredModeCtr=1,(function(t,e){(function(a,r,o){t.exports=r(requireCore(),requireCipherCore())})(modeCtr,function(a){return a.mode.CTR=(function(){var r=a.lib.BlockCipherMode.extend(),o=r.Encryptor=r.extend({processBlock:function(s,l){var c=this._cipher,u=c.blockSize,h=this._iv,f=this._counter;h&&(f=this._counter=h.slice(0),this._iv=void 0);var m=f.slice(0);c.encryptBlock(m,0),f[u-1]=f[u-1]+1|0;for(var g=0;g<u;g++)s[l+g]^=m[g]}});return r.Decryptor=o,r})(),a.mode.CTR})})(modeCtr$1)),modeCtr$1.exports}var modeCtrGladman$1={exports:{}},modeCtrGladman=modeCtrGladman$1.exports,hasRequiredModeCtrGladman;function requireModeCtrGladman(){return hasRequiredModeCtrGladman||(hasRequiredModeCtrGladman=1,(function(t,e){(function(a,r,o){t.exports=r(requireCore(),requireCipherCore())})(modeCtrGladman,function(a){return a.mode.CTRGladman=(function(){var r=a.lib.BlockCipherMode.extend();function o(c){if((c>>24&255)===255){var u=c>>16&255,h=c>>8&255,f=c&255;u===255?(u=0,h===255?(h=0,f===255?f=0:++f):++h):++u,c=0,c+=u<<16,c+=h<<8,c+=f}else c+=1<<24;return c}function s(c){return(c[0]=o(c[0]))===0&&(c[1]=o(c[1])),c}var l=r.Encryptor=r.extend({processBlock:function(c,u){var h=this._cipher,f=h.blockSize,m=this._iv,g=this._counter;m&&(g=this._counter=m.slice(0),this._iv=void 0),s(g);var b=g.slice(0);h.encryptBlock(b,0);for(var w=0;w<f;w++)c[u+w]^=b[w]}});return r.Decryptor=l,r})(),a.mode.CTRGladman})})(modeCtrGladman$1)),modeCtrGladman$1.exports}var modeOfb$1={exports:{}},modeOfb=modeOfb$1.exports,hasRequiredModeOfb;function requireModeOfb(){return hasRequiredModeOfb||(hasRequiredModeOfb=1,(function(t,e){(function(a,r,o){t.exports=r(requireCore(),requireCipherCore())})(modeOfb,function(a){return a.mode.OFB=(function(){var r=a.lib.BlockCipherMode.extend(),o=r.Encryptor=r.extend({processBlock:function(s,l){var c=this._cipher,u=c.blockSize,h=this._iv,f=this._keystream;h&&(f=this._keystream=h.slice(0),this._iv=void 0),c.encryptBlock(f,0);for(var m=0;m<u;m++)s[l+m]^=f[m]}});return r.Decryptor=o,r})(),a.mode.OFB})})(modeOfb$1)),modeOfb$1.exports}var modeEcb$1={exports:{}},modeEcb=modeEcb$1.exports,hasRequiredModeEcb;function requireModeEcb(){return hasRequiredModeEcb||(hasRequiredModeEcb=1,(function(t,e){(function(a,r,o){t.exports=r(requireCore(),requireCipherCore())})(modeEcb,function(a){return a.mode.ECB=(function(){var r=a.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(o,s){this._cipher.encryptBlock(o,s)}}),r.Decryptor=r.extend({processBlock:function(o,s){this._cipher.decryptBlock(o,s)}}),r})(),a.mode.ECB})})(modeEcb$1)),modeEcb$1.exports}var padAnsix923$1={exports:{}},padAnsix923=padAnsix923$1.exports,hasRequiredPadAnsix923;function requirePadAnsix923(){return hasRequiredPadAnsix923||(hasRequiredPadAnsix923=1,(function(t,e){(function(a,r,o){t.exports=r(requireCore(),requireCipherCore())})(padAnsix923,function(a){return a.pad.AnsiX923={pad:function(r,o){var s=r.sigBytes,l=o*4,c=l-s%l,u=s+c-1;r.clamp(),r.words[u>>>2]|=c<<24-u%4*8,r.sigBytes+=c},unpad:function(r){var o=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=o}},a.pad.Ansix923})})(padAnsix923$1)),padAnsix923$1.exports}var padIso10126$1={exports:{}},padIso10126=padIso10126$1.exports,hasRequiredPadIso10126;function requirePadIso10126(){return hasRequiredPadIso10126||(hasRequiredPadIso10126=1,(function(t,e){(function(a,r,o){t.exports=r(requireCore(),requireCipherCore())})(padIso10126,function(a){return a.pad.Iso10126={pad:function(r,o){var s=o*4,l=s-r.sigBytes%s;r.concat(a.lib.WordArray.random(l-1)).concat(a.lib.WordArray.create([l<<24],1))},unpad:function(r){var o=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=o}},a.pad.Iso10126})})(padIso10126$1)),padIso10126$1.exports}var padIso97971$1={exports:{}},padIso97971=padIso97971$1.exports,hasRequiredPadIso97971;function requirePadIso97971(){return hasRequiredPadIso97971||(hasRequiredPadIso97971=1,(function(t,e){(function(a,r,o){t.exports=r(requireCore(),requireCipherCore())})(padIso97971,function(a){return a.pad.Iso97971={pad:function(r,o){r.concat(a.lib.WordArray.create([2147483648],1)),a.pad.ZeroPadding.pad(r,o)},unpad:function(r){a.pad.ZeroPadding.unpad(r),r.sigBytes--}},a.pad.Iso97971})})(padIso97971$1)),padIso97971$1.exports}var padZeropadding$1={exports:{}},padZeropadding=padZeropadding$1.exports,hasRequiredPadZeropadding;function requirePadZeropadding(){return hasRequiredPadZeropadding||(hasRequiredPadZeropadding=1,(function(t,e){(function(a,r,o){t.exports=r(requireCore(),requireCipherCore())})(padZeropadding,function(a){return a.pad.ZeroPadding={pad:function(r,o){var s=o*4;r.clamp(),r.sigBytes+=s-(r.sigBytes%s||s)},unpad:function(r){for(var o=r.words,s=r.sigBytes-1,s=r.sigBytes-1;s>=0;s--)if(o[s>>>2]>>>24-s%4*8&255){r.sigBytes=s+1;break}}},a.pad.ZeroPadding})})(padZeropadding$1)),padZeropadding$1.exports}var padNopadding$1={exports:{}},padNopadding=padNopadding$1.exports,hasRequiredPadNopadding;function requirePadNopadding(){return hasRequiredPadNopadding||(hasRequiredPadNopadding=1,(function(t,e){(function(a,r,o){t.exports=r(requireCore(),requireCipherCore())})(padNopadding,function(a){return a.pad.NoPadding={pad:function(){},unpad:function(){}},a.pad.NoPadding})})(padNopadding$1)),padNopadding$1.exports}var formatHex$1={exports:{}},formatHex=formatHex$1.exports,hasRequiredFormatHex;function requireFormatHex(){return hasRequiredFormatHex||(hasRequiredFormatHex=1,(function(t,e){(function(a,r,o){t.exports=r(requireCore(),requireCipherCore())})(formatHex,function(a){return(function(r){var o=a,s=o.lib,l=s.CipherParams,c=o.enc,u=c.Hex,h=o.format;h.Hex={stringify:function(f){return f.ciphertext.toString(u)},parse:function(f){var m=u.parse(f);return l.create({ciphertext:m})}}})(),a.format.Hex})})(formatHex$1)),formatHex$1.exports}var aes$1={exports:{}},aes=aes$1.exports,hasRequiredAes;function requireAes(){return hasRequiredAes||(hasRequiredAes=1,(function(t,e){(function(a,r,o){t.exports=r(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(aes,function(a){return(function(){var r=a,o=r.lib,s=o.BlockCipher,l=r.algo,c=[],u=[],h=[],f=[],m=[],g=[],b=[],w=[],E=[],C=[];(function(){for(var P=[],q=0;q<256;q++)q<128?P[q]=q<<1:P[q]=q<<1^283;for(var z=0,V=0,q=0;q<256;q++){var Z=V^V<<1^V<<2^V<<3^V<<4;Z=Z>>>8^Z&255^99,c[z]=Z,u[Z]=z;var J=P[z],W=P[J],te=P[W],G=P[Z]*257^Z*16843008;h[z]=G<<24|G>>>8,f[z]=G<<16|G>>>16,m[z]=G<<8|G>>>24,g[z]=G;var G=te*16843009^W*65537^J*257^z*16843008;b[Z]=G<<24|G>>>8,w[Z]=G<<16|G>>>16,E[Z]=G<<8|G>>>24,C[Z]=G,z?(z=J^P[P[P[te^J]]],V^=P[P[V]]):z=V=1}})();var B=[0,1,2,4,8,16,32,64,128,27,54],O=l.AES=s.extend({_doReset:function(){var P;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var q=this._keyPriorReset=this._key,z=q.words,V=q.sigBytes/4,Z=this._nRounds=V+6,J=(Z+1)*4,W=this._keySchedule=[],te=0;te<J;te++)te<V?W[te]=z[te]:(P=W[te-1],te%V?V>6&&te%V==4&&(P=c[P>>>24]<<24|c[P>>>16&255]<<16|c[P>>>8&255]<<8|c[P&255]):(P=P<<8|P>>>24,P=c[P>>>24]<<24|c[P>>>16&255]<<16|c[P>>>8&255]<<8|c[P&255],P^=B[te/V|0]<<24),W[te]=W[te-V]^P);for(var G=this._invKeySchedule=[],D=0;D<J;D++){var te=J-D;if(D%4)var P=W[te];else var P=W[te-4];D<4||te<=4?G[D]=P:G[D]=b[c[P>>>24]]^w[c[P>>>16&255]]^E[c[P>>>8&255]]^C[c[P&255]]}}},encryptBlock:function(P,q){this._doCryptBlock(P,q,this._keySchedule,h,f,m,g,c)},decryptBlock:function(P,q){var z=P[q+1];P[q+1]=P[q+3],P[q+3]=z,this._doCryptBlock(P,q,this._invKeySchedule,b,w,E,C,u);var z=P[q+1];P[q+1]=P[q+3],P[q+3]=z},_doCryptBlock:function(P,q,z,V,Z,J,W,te){for(var G=this._nRounds,D=P[q]^z[0],M=P[q+1]^z[1],v=P[q+2]^z[2],S=P[q+3]^z[3],N=4,R=1;R<G;R++){var k=V[D>>>24]^Z[M>>>16&255]^J[v>>>8&255]^W[S&255]^z[N++],j=V[M>>>24]^Z[v>>>16&255]^J[S>>>8&255]^W[D&255]^z[N++],I=V[v>>>24]^Z[S>>>16&255]^J[D>>>8&255]^W[M&255]^z[N++],A=V[S>>>24]^Z[D>>>16&255]^J[M>>>8&255]^W[v&255]^z[N++];D=k,M=j,v=I,S=A}var k=(te[D>>>24]<<24|te[M>>>16&255]<<16|te[v>>>8&255]<<8|te[S&255])^z[N++],j=(te[M>>>24]<<24|te[v>>>16&255]<<16|te[S>>>8&255]<<8|te[D&255])^z[N++],I=(te[v>>>24]<<24|te[S>>>16&255]<<16|te[D>>>8&255]<<8|te[M&255])^z[N++],A=(te[S>>>24]<<24|te[D>>>16&255]<<16|te[M>>>8&255]<<8|te[v&255])^z[N++];P[q]=k,P[q+1]=j,P[q+2]=I,P[q+3]=A},keySize:256/32});r.AES=s._createHelper(O)})(),a.AES})})(aes$1)),aes$1.exports}var tripledes$1={exports:{}},tripledes=tripledes$1.exports,hasRequiredTripledes;function requireTripledes(){return hasRequiredTripledes||(hasRequiredTripledes=1,(function(t,e){(function(a,r,o){t.exports=r(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(tripledes,function(a){return(function(){var r=a,o=r.lib,s=o.WordArray,l=o.BlockCipher,c=r.algo,u=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],h=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],f=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],m=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],g=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],b=c.DES=l.extend({_doReset:function(){for(var B=this._key,O=B.words,P=[],q=0;q<56;q++){var z=u[q]-1;P[q]=O[z>>>5]>>>31-z%32&1}for(var V=this._subKeys=[],Z=0;Z<16;Z++){for(var J=V[Z]=[],W=f[Z],q=0;q<24;q++)J[q/6|0]|=P[(h[q]-1+W)%28]<<31-q%6,J[4+(q/6|0)]|=P[28+(h[q+24]-1+W)%28]<<31-q%6;J[0]=J[0]<<1|J[0]>>>31;for(var q=1;q<7;q++)J[q]=J[q]>>>(q-1)*4+3;J[7]=J[7]<<5|J[7]>>>27}for(var te=this._invSubKeys=[],q=0;q<16;q++)te[q]=V[15-q]},encryptBlock:function(B,O){this._doCryptBlock(B,O,this._subKeys)},decryptBlock:function(B,O){this._doCryptBlock(B,O,this._invSubKeys)},_doCryptBlock:function(B,O,P){this._lBlock=B[O],this._rBlock=B[O+1],w.call(this,4,252645135),w.call(this,16,65535),E.call(this,2,858993459),E.call(this,8,16711935),w.call(this,1,1431655765);for(var q=0;q<16;q++){for(var z=P[q],V=this._lBlock,Z=this._rBlock,J=0,W=0;W<8;W++)J|=m[W][((Z^z[W])&g[W])>>>0];this._lBlock=Z,this._rBlock=V^J}var te=this._lBlock;this._lBlock=this._rBlock,this._rBlock=te,w.call(this,1,1431655765),E.call(this,8,16711935),E.call(this,2,858993459),w.call(this,16,65535),w.call(this,4,252645135),B[O]=this._lBlock,B[O+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function w(B,O){var P=(this._lBlock>>>B^this._rBlock)&O;this._rBlock^=P,this._lBlock^=P<<B}function E(B,O){var P=(this._rBlock>>>B^this._lBlock)&O;this._lBlock^=P,this._rBlock^=P<<B}r.DES=l._createHelper(b);var C=c.TripleDES=l.extend({_doReset:function(){var B=this._key,O=B.words;if(O.length!==2&&O.length!==4&&O.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var P=O.slice(0,2),q=O.length<4?O.slice(0,2):O.slice(2,4),z=O.length<6?O.slice(0,2):O.slice(4,6);this._des1=b.createEncryptor(s.create(P)),this._des2=b.createEncryptor(s.create(q)),this._des3=b.createEncryptor(s.create(z))},encryptBlock:function(B,O){this._des1.encryptBlock(B,O),this._des2.decryptBlock(B,O),this._des3.encryptBlock(B,O)},decryptBlock:function(B,O){this._des3.decryptBlock(B,O),this._des2.encryptBlock(B,O),this._des1.decryptBlock(B,O)},keySize:192/32,ivSize:64/32,blockSize:64/32});r.TripleDES=l._createHelper(C)})(),a.TripleDES})})(tripledes$1)),tripledes$1.exports}var rc4$1={exports:{}},rc4=rc4$1.exports,hasRequiredRc4;function requireRc4(){return hasRequiredRc4||(hasRequiredRc4=1,(function(t,e){(function(a,r,o){t.exports=r(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(rc4,function(a){return(function(){var r=a,o=r.lib,s=o.StreamCipher,l=r.algo,c=l.RC4=s.extend({_doReset:function(){for(var f=this._key,m=f.words,g=f.sigBytes,b=this._S=[],w=0;w<256;w++)b[w]=w;for(var w=0,E=0;w<256;w++){var C=w%g,B=m[C>>>2]>>>24-C%4*8&255;E=(E+b[w]+B)%256;var O=b[w];b[w]=b[E],b[E]=O}this._i=this._j=0},_doProcessBlock:function(f,m){f[m]^=u.call(this)},keySize:256/32,ivSize:0});function u(){for(var f=this._S,m=this._i,g=this._j,b=0,w=0;w<4;w++){m=(m+1)%256,g=(g+f[m])%256;var E=f[m];f[m]=f[g],f[g]=E,b|=f[(f[m]+f[g])%256]<<24-w*8}return this._i=m,this._j=g,b}r.RC4=s._createHelper(c);var h=l.RC4Drop=c.extend({cfg:c.cfg.extend({drop:192}),_doReset:function(){c._doReset.call(this);for(var f=this.cfg.drop;f>0;f--)u.call(this)}});r.RC4Drop=s._createHelper(h)})(),a.RC4})})(rc4$1)),rc4$1.exports}var rabbit$1={exports:{}},rabbit=rabbit$1.exports,hasRequiredRabbit;function requireRabbit(){return hasRequiredRabbit||(hasRequiredRabbit=1,(function(t,e){(function(a,r,o){t.exports=r(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(rabbit,function(a){return(function(){var r=a,o=r.lib,s=o.StreamCipher,l=r.algo,c=[],u=[],h=[],f=l.Rabbit=s.extend({_doReset:function(){for(var g=this._key.words,b=this.cfg.iv,w=0;w<4;w++)g[w]=(g[w]<<8|g[w]>>>24)&16711935|(g[w]<<24|g[w]>>>8)&4278255360;var E=this._X=[g[0],g[3]<<16|g[2]>>>16,g[1],g[0]<<16|g[3]>>>16,g[2],g[1]<<16|g[0]>>>16,g[3],g[2]<<16|g[1]>>>16],C=this._C=[g[2]<<16|g[2]>>>16,g[0]&4294901760|g[1]&65535,g[3]<<16|g[3]>>>16,g[1]&4294901760|g[2]&65535,g[0]<<16|g[0]>>>16,g[2]&4294901760|g[3]&65535,g[1]<<16|g[1]>>>16,g[3]&4294901760|g[0]&65535];this._b=0;for(var w=0;w<4;w++)m.call(this);for(var w=0;w<8;w++)C[w]^=E[w+4&7];if(b){var B=b.words,O=B[0],P=B[1],q=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360,z=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,V=q>>>16|z&4294901760,Z=z<<16|q&65535;C[0]^=q,C[1]^=V,C[2]^=z,C[3]^=Z,C[4]^=q,C[5]^=V,C[6]^=z,C[7]^=Z;for(var w=0;w<4;w++)m.call(this)}},_doProcessBlock:function(g,b){var w=this._X;m.call(this),c[0]=w[0]^w[5]>>>16^w[3]<<16,c[1]=w[2]^w[7]>>>16^w[5]<<16,c[2]=w[4]^w[1]>>>16^w[7]<<16,c[3]=w[6]^w[3]>>>16^w[1]<<16;for(var E=0;E<4;E++)c[E]=(c[E]<<8|c[E]>>>24)&16711935|(c[E]<<24|c[E]>>>8)&4278255360,g[b+E]^=c[E]},blockSize:128/32,ivSize:64/32});function m(){for(var g=this._X,b=this._C,w=0;w<8;w++)u[w]=b[w];b[0]=b[0]+1295307597+this._b|0,b[1]=b[1]+3545052371+(b[0]>>>0<u[0]>>>0?1:0)|0,b[2]=b[2]+886263092+(b[1]>>>0<u[1]>>>0?1:0)|0,b[3]=b[3]+1295307597+(b[2]>>>0<u[2]>>>0?1:0)|0,b[4]=b[4]+3545052371+(b[3]>>>0<u[3]>>>0?1:0)|0,b[5]=b[5]+886263092+(b[4]>>>0<u[4]>>>0?1:0)|0,b[6]=b[6]+1295307597+(b[5]>>>0<u[5]>>>0?1:0)|0,b[7]=b[7]+3545052371+(b[6]>>>0<u[6]>>>0?1:0)|0,this._b=b[7]>>>0<u[7]>>>0?1:0;for(var w=0;w<8;w++){var E=g[w]+b[w],C=E&65535,B=E>>>16,O=((C*C>>>17)+C*B>>>15)+B*B,P=((E&4294901760)*E|0)+((E&65535)*E|0);h[w]=O^P}g[0]=h[0]+(h[7]<<16|h[7]>>>16)+(h[6]<<16|h[6]>>>16)|0,g[1]=h[1]+(h[0]<<8|h[0]>>>24)+h[7]|0,g[2]=h[2]+(h[1]<<16|h[1]>>>16)+(h[0]<<16|h[0]>>>16)|0,g[3]=h[3]+(h[2]<<8|h[2]>>>24)+h[1]|0,g[4]=h[4]+(h[3]<<16|h[3]>>>16)+(h[2]<<16|h[2]>>>16)|0,g[5]=h[5]+(h[4]<<8|h[4]>>>24)+h[3]|0,g[6]=h[6]+(h[5]<<16|h[5]>>>16)+(h[4]<<16|h[4]>>>16)|0,g[7]=h[7]+(h[6]<<8|h[6]>>>24)+h[5]|0}r.Rabbit=s._createHelper(f)})(),a.Rabbit})})(rabbit$1)),rabbit$1.exports}var rabbitLegacy$1={exports:{}},rabbitLegacy=rabbitLegacy$1.exports,hasRequiredRabbitLegacy;function requireRabbitLegacy(){return hasRequiredRabbitLegacy||(hasRequiredRabbitLegacy=1,(function(t,e){(function(a,r,o){t.exports=r(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(rabbitLegacy,function(a){return(function(){var r=a,o=r.lib,s=o.StreamCipher,l=r.algo,c=[],u=[],h=[],f=l.RabbitLegacy=s.extend({_doReset:function(){var g=this._key.words,b=this.cfg.iv,w=this._X=[g[0],g[3]<<16|g[2]>>>16,g[1],g[0]<<16|g[3]>>>16,g[2],g[1]<<16|g[0]>>>16,g[3],g[2]<<16|g[1]>>>16],E=this._C=[g[2]<<16|g[2]>>>16,g[0]&4294901760|g[1]&65535,g[3]<<16|g[3]>>>16,g[1]&4294901760|g[2]&65535,g[0]<<16|g[0]>>>16,g[2]&4294901760|g[3]&65535,g[1]<<16|g[1]>>>16,g[3]&4294901760|g[0]&65535];this._b=0;for(var C=0;C<4;C++)m.call(this);for(var C=0;C<8;C++)E[C]^=w[C+4&7];if(b){var B=b.words,O=B[0],P=B[1],q=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360,z=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,V=q>>>16|z&4294901760,Z=z<<16|q&65535;E[0]^=q,E[1]^=V,E[2]^=z,E[3]^=Z,E[4]^=q,E[5]^=V,E[6]^=z,E[7]^=Z;for(var C=0;C<4;C++)m.call(this)}},_doProcessBlock:function(g,b){var w=this._X;m.call(this),c[0]=w[0]^w[5]>>>16^w[3]<<16,c[1]=w[2]^w[7]>>>16^w[5]<<16,c[2]=w[4]^w[1]>>>16^w[7]<<16,c[3]=w[6]^w[3]>>>16^w[1]<<16;for(var E=0;E<4;E++)c[E]=(c[E]<<8|c[E]>>>24)&16711935|(c[E]<<24|c[E]>>>8)&4278255360,g[b+E]^=c[E]},blockSize:128/32,ivSize:64/32});function m(){for(var g=this._X,b=this._C,w=0;w<8;w++)u[w]=b[w];b[0]=b[0]+1295307597+this._b|0,b[1]=b[1]+3545052371+(b[0]>>>0<u[0]>>>0?1:0)|0,b[2]=b[2]+886263092+(b[1]>>>0<u[1]>>>0?1:0)|0,b[3]=b[3]+1295307597+(b[2]>>>0<u[2]>>>0?1:0)|0,b[4]=b[4]+3545052371+(b[3]>>>0<u[3]>>>0?1:0)|0,b[5]=b[5]+886263092+(b[4]>>>0<u[4]>>>0?1:0)|0,b[6]=b[6]+1295307597+(b[5]>>>0<u[5]>>>0?1:0)|0,b[7]=b[7]+3545052371+(b[6]>>>0<u[6]>>>0?1:0)|0,this._b=b[7]>>>0<u[7]>>>0?1:0;for(var w=0;w<8;w++){var E=g[w]+b[w],C=E&65535,B=E>>>16,O=((C*C>>>17)+C*B>>>15)+B*B,P=((E&4294901760)*E|0)+((E&65535)*E|0);h[w]=O^P}g[0]=h[0]+(h[7]<<16|h[7]>>>16)+(h[6]<<16|h[6]>>>16)|0,g[1]=h[1]+(h[0]<<8|h[0]>>>24)+h[7]|0,g[2]=h[2]+(h[1]<<16|h[1]>>>16)+(h[0]<<16|h[0]>>>16)|0,g[3]=h[3]+(h[2]<<8|h[2]>>>24)+h[1]|0,g[4]=h[4]+(h[3]<<16|h[3]>>>16)+(h[2]<<16|h[2]>>>16)|0,g[5]=h[5]+(h[4]<<8|h[4]>>>24)+h[3]|0,g[6]=h[6]+(h[5]<<16|h[5]>>>16)+(h[4]<<16|h[4]>>>16)|0,g[7]=h[7]+(h[6]<<8|h[6]>>>24)+h[5]|0}r.RabbitLegacy=s._createHelper(f)})(),a.RabbitLegacy})})(rabbitLegacy$1)),rabbitLegacy$1.exports}var blowfish$1={exports:{}},blowfish=blowfish$1.exports,hasRequiredBlowfish;function requireBlowfish(){return hasRequiredBlowfish||(hasRequiredBlowfish=1,(function(t,e){(function(a,r,o){t.exports=r(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(blowfish,function(a){return(function(){var r=a,o=r.lib,s=o.BlockCipher,l=r.algo;const c=16,u=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],h=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var f={pbox:[],sbox:[]};function m(C,B){let O=B>>24&255,P=B>>16&255,q=B>>8&255,z=B&255,V=C.sbox[0][O]+C.sbox[1][P];return V=V^C.sbox[2][q],V=V+C.sbox[3][z],V}function g(C,B,O){let P=B,q=O,z;for(let V=0;V<c;++V)P=P^C.pbox[V],q=m(C,P)^q,z=P,P=q,q=z;return z=P,P=q,q=z,q=q^C.pbox[c],P=P^C.pbox[c+1],{left:P,right:q}}function b(C,B,O){let P=B,q=O,z;for(let V=c+1;V>1;--V)P=P^C.pbox[V],q=m(C,P)^q,z=P,P=q,q=z;return z=P,P=q,q=z,q=q^C.pbox[1],P=P^C.pbox[0],{left:P,right:q}}function w(C,B,O){for(let Z=0;Z<4;Z++){C.sbox[Z]=[];for(let J=0;J<256;J++)C.sbox[Z][J]=h[Z][J]}let P=0;for(let Z=0;Z<c+2;Z++)C.pbox[Z]=u[Z]^B[P],P++,P>=O&&(P=0);let q=0,z=0,V=0;for(let Z=0;Z<c+2;Z+=2)V=g(C,q,z),q=V.left,z=V.right,C.pbox[Z]=q,C.pbox[Z+1]=z;for(let Z=0;Z<4;Z++)for(let J=0;J<256;J+=2)V=g(C,q,z),q=V.left,z=V.right,C.sbox[Z][J]=q,C.sbox[Z][J+1]=z;return!0}var E=l.Blowfish=s.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var C=this._keyPriorReset=this._key,B=C.words,O=C.sigBytes/4;w(f,B,O)}},encryptBlock:function(C,B){var O=g(f,C[B],C[B+1]);C[B]=O.left,C[B+1]=O.right},decryptBlock:function(C,B){var O=b(f,C[B],C[B+1]);C[B]=O.left,C[B+1]=O.right},blockSize:64/32,keySize:128/32,ivSize:64/32});r.Blowfish=s._createHelper(E)})(),a.Blowfish})})(blowfish$1)),blowfish$1.exports}var cryptoJs=cryptoJs$1.exports,hasRequiredCryptoJs;function requireCryptoJs(){return hasRequiredCryptoJs||(hasRequiredCryptoJs=1,(function(t,e){(function(a,r,o){t.exports=r(requireCore(),requireX64Core(),requireLibTypedarrays(),requireEncUtf16(),requireEncBase64(),requireEncBase64url(),requireMd5(),requireSha1(),requireSha256(),requireSha224(),requireSha512(),requireSha384(),requireSha3(),requireRipemd160(),requireHmac(),requirePbkdf2(),requireEvpkdf(),requireCipherCore(),requireModeCfb(),requireModeCtr(),requireModeCtrGladman(),requireModeOfb(),requireModeEcb(),requirePadAnsix923(),requirePadIso10126(),requirePadIso97971(),requirePadZeropadding(),requirePadNopadding(),requireFormatHex(),requireAes(),requireTripledes(),requireRc4(),requireRabbit(),requireRabbitLegacy(),requireBlowfish())})(cryptoJs,function(a){return a})})(cryptoJs$1)),cryptoJs$1.exports}var cryptoJsExports=requireCryptoJs();const CryptoJS=getDefaultExportFromCjs$3(cryptoJsExports);var ellipticExports=requireElliptic();const elliptic=getDefaultExportFromCjs$3(ellipticExports),CHARSET$1="qpzry9x8gf2tvdw0s3jn54khce6mua7l";function convertBits$1(t,e,a,r){let o=0,s=0;const l=[],c=(1<<a)-1;for(let u=0;u<t.length;u++){const h=t[u];if(h<0||h>>e!==0)return null;for(o=o<<e|h,s+=e;s>=a;)s-=a,l.push(o>>s&c)}if(r)s>0&&l.push(o<<a-s&c);else if(s>=e||o<<a-s&c)return null;return l}function hrpExpand$1(t){const e=[];for(let a=0;a<t.length;a++)e.push(t.charCodeAt(a)>>5);e.push(0);for(let a=0;a<t.length;a++)e.push(t.charCodeAt(a)&31);return e}function bech32Polymod(t){const e=[996825010,642813549,513874426,1027748829,705979059];let a=1;for(let r=0;r<t.length;r++){const o=a>>25;a=(a&33554431)<<5^t[r];for(let s=0;s<5;s++)o>>s&1&&(a^=e[s])}return a}function bech32Checksum(t,e){const a=hrpExpand$1(t).concat(e).concat([0,0,0,0,0,0]),r=bech32Polymod(a)^1,o=[];for(let s=0;s<6;s++)o.push(r>>5*(5-s)&31);return o}function createBech32(t,e,a){const r=[e].concat(convertBits$1(Array.from(a),8,5,!0)),o=bech32Checksum(t,r),s=r.concat(o);let l=t+"1";for(let c=0;c<s.length;c++)l+=CHARSET$1[s[c]];return l}function decodeBech32(t){t=t.toLowerCase();const e=t.lastIndexOf("1");if(e<1)return null;const a=t.substring(0,e),r=t.substring(e+1),o=[];for(let u=0;u<r.length;u++){const h=CHARSET$1.indexOf(r[u]);if(h===-1)return null;o.push(h)}const s=bech32Checksum(a,o.slice(0,-6));for(let u=0;u<6;u++)if(s[u]!==o[o.length-6+u])return console.error("Invalid bech32 checksum"),null;const l=o[0],c=convertBits$1(o.slice(1,-6),5,8,!1);return c?{hrp:a,witnessVersion:l,data:Uint8Array.from(c)}:null}const ec$5=new elliptic.ec("secp256k1"),CURVE_ORDER=BigInt("0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141");function deriveChildKeyBIP32(t,e,a){const r=a>=2147483648;let o;if(r){const g=a.toString(16).padStart(8,"0");o="00"+t+g}else{const b=ec$5.keyFromPrivate(t,"hex").getPublic(!0,"hex"),w=a.toString(16).padStart(8,"0");o=b+w}const s=CryptoJS.HmacSHA512(CryptoJS.enc.Hex.parse(o),CryptoJS.enc.Hex.parse(e)).toString(),l=s.substring(0,64),c=s.substring(64),u=BigInt("0x"+l),h=BigInt("0x"+t);if(u>=CURVE_ORDER)throw new Error("Invalid key: IL >= curve order");const f=(u+h)%CURVE_ORDER;if(f===0n)throw new Error("Invalid key: child key is zero");return{privateKey:f.toString(16).padStart(64,"0"),chainCode:c}}function deriveKeyAtPath(t,e,a){const r=a.replace("m/","").split("/");let o=t,s=e;for(const l of r){const c=l.endsWith("'")||l.endsWith("h"),u=l.replace(/['h]$/,"");let h=parseInt(u,10);c&&(h+=2147483648);const f=deriveChildKeyBIP32(o,s,h);o=f.privateKey,s=f.chainCode}return{privateKey:o,chainCode:s}}function generateMasterKeyFromSeed(t){const e=CryptoJS.HmacSHA512(CryptoJS.enc.Hex.parse(t),CryptoJS.enc.Utf8.parse("Bitcoin seed")).toString(),a=e.substring(0,64),r=e.substring(64),o=BigInt("0x"+a);if(o===0n||o>=CURVE_ORDER)throw new Error("Invalid master key generated");return{masterPrivateKey:a,masterChainCode:r}}function generateHDAddressBIP32(t,e,a,r="m/44'/0'/0'",o=!1){const l=`${r}/${o?1:0}/${a}`,c=deriveKeyAtPath(t,e,l),h=ec$5.keyFromPrivate(c.privateKey).getPublic(!0,"hex"),f=CryptoJS.SHA256(CryptoJS.enc.Hex.parse(h)).toString(),m=CryptoJS.RIPEMD160(CryptoJS.enc.Hex.parse(f)).toString(),g=Uint8Array.from(m.match(/../g).map(w=>parseInt(w,16)));return{address:createBech32("alpha",0,g),privateKey:c.privateKey,publicKey:h,index:a,path:l}}function generateAddressFromMasterKey(t,e){const a=`m/44'/0'/${e}'`,r=CryptoJS.enc.Hex.parse(t),o=CryptoJS.enc.Utf8.parse(a),l=CryptoJS.HmacSHA512(r,o).toString().substring(0,64),u=ec$5.keyFromPrivate(l).getPublic(!0,"hex"),h=CryptoJS.SHA256(CryptoJS.enc.Hex.parse(u)).toString(),f=CryptoJS.RIPEMD160(CryptoJS.enc.Hex.parse(h)).toString(),m=Uint8Array.from(f.match(/../g).map(b=>parseInt(b,16)));return{address:createBech32("alpha",0,m),privateKey:l,publicKey:u,index:e,path:a}}function deriveChildKey(t,e,a){const r=t+a.toString(16).padStart(8,"0"),o=CryptoJS.HmacSHA512(CryptoJS.enc.Hex.parse(r),CryptoJS.enc.Hex.parse(e)).toString();return{privateKey:o.substring(0,64),nextChainCode:o.substring(64)}}function generateHDAddress(t,e,a){const r=deriveChildKey(t,e,a),s=ec$5.keyFromPrivate(r.privateKey).getPublic(!0,"hex"),l=CryptoJS.SHA256(CryptoJS.enc.Hex.parse(s)).toString(),c=CryptoJS.RIPEMD160(CryptoJS.enc.Hex.parse(l)).toString(),u=Uint8Array.from(c.match(/../g).map(f=>parseInt(f,16)));return{address:createBech32("alpha",0,u),privateKey:r.privateKey,publicKey:s,index:a,path:`m/44'/0'/0'/${a}`}}const ec$4=new elliptic.ec("secp256k1"),STORAGE_KEY_ENCRYPTED_MNEMONIC="unified_wallet_mnemonic",STORAGE_KEY_ENCRYPTED_MASTER="unified_wallet_master",STORAGE_KEY_CHAIN_CODE="unified_wallet_chaincode",STORAGE_KEY_WALLET_SOURCE="unified_wallet_source",STORAGE_KEY_DERIVATION_MODE="unified_wallet_derivation_mode";class UnifiedKeyManager{static instance=null;mnemonic=null;masterKey=null;chainCode=null;derivationMode="bip32";source="unknown";sessionKey;isInitializing=!1;hasInitialized=!1;initializePromise=null;constructor(e){this.sessionKey=e}static getInstance(e){return UnifiedKeyManager.instance?UnifiedKeyManager.instance.sessionKey!==e&&(console.error("WARNING: UnifiedKeyManager session key mismatch detected!","This can cause data loss. Updating session key to maintain consistency."),UnifiedKeyManager.instance.sessionKey=e):UnifiedKeyManager.instance=new UnifiedKeyManager(e),UnifiedKeyManager.instance}async initialize(){if(this.hasInitialized)return this.masterKey!==null;if(this.isInitializing&&this.initializePromise)return this.initializePromise;this.isInitializing=!0,this.initializePromise=this.doInitialize();try{const e=await this.initializePromise;return this.hasInitialized=!0,e}finally{this.isInitializing=!1}}async doInitialize(){try{const e=localStorage.getItem(STORAGE_KEY_ENCRYPTED_MNEMONIC),a=localStorage.getItem(STORAGE_KEY_ENCRYPTED_MASTER),r=localStorage.getItem(STORAGE_KEY_CHAIN_CODE),o=localStorage.getItem(STORAGE_KEY_WALLET_SOURCE),s=localStorage.getItem(STORAGE_KEY_DERIVATION_MODE);if(console.log(" UnifiedKeyManager initializing...",{hasMnemonic:!!e,hasMaster:!!a,hasChainCode:!!r,source:o,derivationMode:s}),e){const l=this.decrypt(e);if(l)return await this.createFromMnemonic(l,!1),console.log(" Wallet initialized from mnemonic"),!0;console.error(" Failed to decrypt mnemonic - session key mismatch?")}else if(a){const l=this.decrypt(a);if(l)return this.masterKey=l,this.chainCode=r||null,this.source=o||"file",this.derivationMode=s||(r?"bip32":"wif_hmac"),console.log(" Wallet initialized from file import"),!0;console.error(" Failed to decrypt master key - session key mismatch?")}return console.log(" No wallet data found in storage"),!1}catch(e){return console.error("Failed to initialize UnifiedKeyManager:",e),!1}}async createFromMnemonic(e,a=!0){if(!srcExports.validateMnemonic(e))throw new Error("Invalid mnemonic phrase");const r=await srcExports.mnemonicToSeed(e),o=Buffer.from(r).toString("hex"),{masterPrivateKey:s,masterChainCode:l}=generateMasterKeyFromSeed(o);this.mnemonic=e,this.masterKey=s,this.chainCode=l,this.source="mnemonic",a&&this.saveToStorage(),console.log(" Unified wallet created from mnemonic")}async generateNew(e=12){const a=e===24?256:128,r=srcExports.generateMnemonic(a);return await this.createFromMnemonic(r),r}async importFromFileContent(e){const a=e.split(`
`).map(c=>c.trim());let r=null,o=null,s=!1,l=!1;for(const c of a){if(/MASTER\s*PRIVATE\s*KEY/i.test(c)&&!/[a-fA-F0-9]{64}/.test(c)){s=!0;continue}if(/MASTER\s*CHAIN\s*CODE/i.test(c)&&!/[a-fA-F0-9]{64}/.test(c)){l=!0;continue}if(s&&/^[a-fA-F0-9]{64}$/.test(c)){r=c.toLowerCase(),s=!1;continue}if(l&&/^[a-fA-F0-9]{64}$/.test(c)){o=c.toLowerCase(),l=!1;continue}const u=c.match(/(?:Master\s*(?:Private\s*)?Key|masterPriv)[:\s]+([a-fA-F0-9]{64})/i),h=c.match(/(?:Chain\s*Code|chainCode)[:\s]+([a-fA-F0-9]{64})/i);u&&(r=u[1].toLowerCase()),h&&(o=h[1].toLowerCase()),/^[a-fA-F0-9]{64}$/.test(c)||(s=!1,l=!1)}if(!r)throw new Error("Could not find master private key in file");try{ec$4.keyFromPrivate(r,"hex")}catch{throw new Error("Invalid master private key format")}localStorage.removeItem(STORAGE_KEY_ENCRYPTED_MNEMONIC),this.mnemonic=null,this.masterKey=r,this.chainCode=o,this.source="file",o?(this.derivationMode="bip32",console.log(" Unified wallet imported with BIP32 mode (chain code present)")):(this.derivationMode="wif_hmac",console.log(" Unified wallet imported with WIF HMAC mode (no chain code)")),this.saveToStorage()}async importFromFile(e){const a=await e.text();return this.importFromFileContent(a)}async importWithMode(e,a,r){try{ec$4.keyFromPrivate(e,"hex")}catch{throw new Error("Invalid master private key format")}this.mnemonic=null,this.masterKey=e,this.chainCode=a,this.derivationMode=r,this.source="file",this.saveToStorage(),console.log(` Unified wallet imported with ${r} mode`)}setDerivationMode(e){if((e==="bip32"||e==="legacy_hmac")&&!this.chainCode)throw new Error(`${e} mode requires chain code`);this.derivationMode=e,this.saveToStorage(),console.log(` Derivation mode changed to ${e}`)}deriveAddress(e){if(!this.masterKey)throw new Error("Wallet not initialized");if(this.derivationMode==="bip32"&&this.chainCode){const a=generateHDAddressBIP32(this.masterKey,this.chainCode,e);return{privateKey:a.privateKey,publicKey:a.publicKey,l1Address:a.address,index:a.index,path:a.path}}else if(this.derivationMode==="legacy_hmac"&&this.chainCode){const a=generateHDAddress(this.masterKey,this.chainCode,e);return{privateKey:a.privateKey,publicKey:a.publicKey,l1Address:a.address,index:a.index,path:a.path}}else{const a=generateAddressFromMasterKey(this.masterKey,e);return{privateKey:a.privateKey,publicKey:a.publicKey,l1Address:a.address,index:a.index,path:a.path}}}deriveKeyAtPath(e){if(!this.masterKey||!this.chainCode)throw new Error("Wallet not initialized");return deriveKeyAtPath(this.masterKey,this.chainCode,e)}getMnemonic(){return this.mnemonic}getMasterKeyHex(){return this.masterKey}getChainCodeHex(){return this.chainCode}getWalletInfo(){let e=null;try{this.masterKey&&(e=this.deriveAddress(0).l1Address)}catch{}return{source:this.source,hasMnemonic:this.mnemonic!==null,hasChainCode:this.chainCode!==null,derivationMode:this.derivationMode,address0:e}}isInitialized(){return this.derivationMode==="bip32"||this.derivationMode==="legacy_hmac"?this.masterKey!==null&&this.chainCode!==null:this.masterKey!==null}getDerivationMode(){return this.derivationMode}deriveL3Nonce(e,a){const r=`unicity-nonce-${a}`;return CryptoJS.HmacSHA256(CryptoJS.enc.Utf8.parse(r),CryptoJS.enc.Hex.parse(e)).toString()}exportToTxt(){if(!this.masterKey||!this.chainCode)throw new Error("Wallet not initialized");const e=this.deriveAddress(0);let a=`# Alpha Wallet Export
`;return a+=`# Generated: ${new Date().toISOString()}
`,a+=`#
`,a+=`# WARNING: Keep this file secure! Anyone with this data can access your funds.
`,a+=`#

`,a+=`Master Private Key: ${this.masterKey}
`,a+=`Chain Code: ${this.chainCode}
`,a+=`
`,a+=`# First address (m/44'/0'/0'/0/0):
`,a+=`Address: ${e.l1Address}
`,a+=`Public Key: ${e.publicKey}
`,this.mnemonic&&(a+=`
# Recovery Phrase (12 words):
`,a+=`Mnemonic: ${this.mnemonic}
`),a}clear(){this.mnemonic=null,this.masterKey=null,this.chainCode=null,this.derivationMode="bip32",this.source="unknown",this.hasInitialized=!1,this.isInitializing=!1,this.initializePromise=null,localStorage.removeItem(STORAGE_KEY_ENCRYPTED_MNEMONIC),localStorage.removeItem(STORAGE_KEY_ENCRYPTED_MASTER),localStorage.removeItem(STORAGE_KEY_CHAIN_CODE),localStorage.removeItem(STORAGE_KEY_WALLET_SOURCE),localStorage.removeItem(STORAGE_KEY_DERIVATION_MODE),console.log(" Unified wallet cleared")}static resetInstance(){UnifiedKeyManager.instance=null,console.log(" UnifiedKeyManager instance reset")}saveToStorage(){if(this.mnemonic){const e=this.encrypt(this.mnemonic);localStorage.setItem(STORAGE_KEY_ENCRYPTED_MNEMONIC,e)}else if(this.masterKey){const e=this.encrypt(this.masterKey);localStorage.setItem(STORAGE_KEY_ENCRYPTED_MASTER,e)}this.chainCode?localStorage.setItem(STORAGE_KEY_CHAIN_CODE,this.chainCode):localStorage.removeItem(STORAGE_KEY_CHAIN_CODE),localStorage.setItem(STORAGE_KEY_WALLET_SOURCE,this.source),localStorage.setItem(STORAGE_KEY_DERIVATION_MODE,this.derivationMode)}encrypt(e){return CryptoJS.AES.encrypt(e,this.sessionKey).toString()}decrypt(e){try{const r=CryptoJS.AES.decrypt(e,this.sessionKey).toString(CryptoJS.enc.Utf8);return r||(console.error("Decryption failed: empty result. Possible session key mismatch."),null)}catch(a){return console.error("Decryption error:",a),null}}}const STORAGE_KEY_ENC_SEED="encrypted_seed",STORAGE_KEY_SELECTED_INDEX="l3_selected_address_index",UNICITY_TOKEN_TYPE_HEX$1="f8aa13834268d29355ff12183066f0cb902003629bbc5eb9ef0efbe397867509",DEFAULT_SESSION_KEY="user-pin-1234";class IdentityManager{static instance;sessionKey;unifiedKeyManager=null;constructor(e){this.sessionKey=e}static getInstance(e=DEFAULT_SESSION_KEY){return IdentityManager.instance||(IdentityManager.instance=new IdentityManager(e)),IdentityManager.instance}getUnifiedKeyManager(){return this.unifiedKeyManager||(this.unifiedKeyManager=UnifiedKeyManager.getInstance(this.sessionKey)),this.unifiedKeyManager}getSelectedAddressIndex(){const e=localStorage.getItem(STORAGE_KEY_SELECTED_INDEX);return e?parseInt(e,10):0}setSelectedAddressIndex(e){localStorage.setItem(STORAGE_KEY_SELECTED_INDEX,e.toString())}clearSelectedAddressIndex(){localStorage.removeItem(STORAGE_KEY_SELECTED_INDEX)}async generateNewIdentity(){const a=await this.getUnifiedKeyManager().generateNew(12);return this.deriveIdentityFromUnifiedWallet(0,a)}async deriveIdentityFromUnifiedWallet(e=0,a){const r=this.getUnifiedKeyManager();if(!r.isInitialized())throw new Error("Unified wallet not initialized");const o=r.deriveAddress(e),s=r.deriveL3Nonce(o.privateKey,e),l=Buffer.from(o.privateKey,"hex"),c=Buffer.from(s,"hex"),u=await this.deriveL3Address(l,c),h=await SigningService.createFromSecret(l),f=Buffer.from(h.publicKey).toString("hex"),m={privateKey:o.privateKey,nonce:s,publicKey:f,address:u,mnemonic:a||r.getMnemonic()||void 0,l1Address:o.l1Address,addressIndex:e};return m.mnemonic&&this.saveSeed(m.mnemonic),m}async deriveIdentityFromPrivateKey(e,a=0){const r=CryptoJS.HmacSHA256(CryptoJS.enc.Utf8.parse(`unicity-nonce-${a}`),CryptoJS.enc.Hex.parse(e)).toString(),o=Buffer.from(e,"hex"),s=Buffer.from(r,"hex"),l=await this.deriveL3Address(o,s),c=await SigningService.createFromSecret(o),u=Buffer.from(c.publicKey).toString("hex");return{privateKey:e,nonce:r,publicKey:u,address:l,addressIndex:a}}async deriveIdentityFromMnemonic(e){if(!srcExports.validateMnemonic(e))throw new Error("Invalid recovery phrase. Please check your words and try again.");return await this.getUnifiedKeyManager().createFromMnemonic(e),this.deriveIdentityFromUnifiedWallet(0,e)}async deriveL3Address(e,a){try{const r=await SigningService.createFromSecret(e),o=Buffer.from(UNICITY_TOKEN_TYPE_HEX$1,"hex"),s=new TokenType(o),l=new TokenId(Buffer.alloc(32));return(await(await(await UnmaskedPredicate.create(l,s,r,HashAlgorithm.SHA256,a)).getReference()).toAddress()).toString()}catch(r){throw console.error("Error deriving address",r),r}}saveSeed(e){const a=CryptoJS.AES.encrypt(e,this.sessionKey).toString();localStorage.setItem(STORAGE_KEY_ENC_SEED,a)}async getCurrentIdentity(){if(await this.getUnifiedKeyManager().initialize()){const r=this.getSelectedAddressIndex();return this.deriveIdentityFromUnifiedWallet(r)}return null}async getL1Address(){return(await this.getCurrentIdentity())?.l1Address||null}async getWalletAddress(){const e=await this.getCurrentIdentity();if(!e)return null;try{const a=Buffer.from(e.privateKey,"hex"),r=await SigningService.createFromSecret(a),o=r.publicKey,s=new TokenType(Buffer.from(UNICITY_TOKEN_TYPE_HEX$1,"hex"));return(await UnmaskedPredicateReference.create(s,r.algorithm,o,HashAlgorithm.SHA256)).toAddress()}catch(a){return console.error("Failed to derive wallet address",a),null}}}const scriptRel="modulepreload",assetsURL=function(t){return"/sphere/main/"+t},seen={},__vitePreload=function t(e,a,r){let o=Promise.resolve();if(a&&a.length>0){let u=function(h){return Promise.all(h.map(f=>Promise.resolve(f).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");o=u(a.map(h=>{if(h=assetsURL(h),h in seen)return;seen[h]=!0;const f=h.endsWith(".css"),m=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${m}`))return;const g=document.createElement("link");if(g.rel=f?"stylesheet":scriptRel,f||(g.as="script"),g.crossOrigin="",g.href=h,c&&g.setAttribute("nonce",c),document.head.appendChild(g),f)return new Promise((b,w)=>{g.addEventListener("load",b),g.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return o.then(l=>{for(const c of l||[])c.status==="rejected"&&s(c.reason);return e().catch(s)})},crypto$1=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function isBytes$1(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function anumber$1(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function abytes$1(t,...e){if(!isBytes$1(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function ahash(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");anumber$1(t.outputLen),anumber$1(t.blockLen)}function aexists$1(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function aoutput$1(t,e){abytes$1(t);const a=e.outputLen;if(t.length<a)throw new Error("digestInto() expects output buffer of length at least "+a)}function clean$1(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function createView$1(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function rotr(t,e){return t<<32-e|t>>>e}const hasHexBuiltin=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",hexes=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function bytesToHex$2(t){if(abytes$1(t),hasHexBuiltin)return t.toHex();let e="";for(let a=0;a<t.length;a++)e+=hexes[t[a]];return e}const asciis={_0:48,_9:57,A:65,F:70,a:97,f:102};function asciiToBase16(t){if(t>=asciis._0&&t<=asciis._9)return t-asciis._0;if(t>=asciis.A&&t<=asciis.F)return t-(asciis.A-10);if(t>=asciis.a&&t<=asciis.f)return t-(asciis.a-10)}function hexToBytes$1(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(hasHexBuiltin)return Uint8Array.fromHex(t);const e=t.length,a=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(a);for(let o=0,s=0;o<a;o++,s+=2){const l=asciiToBase16(t.charCodeAt(s)),c=asciiToBase16(t.charCodeAt(s+1));if(l===void 0||c===void 0){const u=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+u+'" at index '+s)}r[o]=l*16+c}return r}function utf8ToBytes$1(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function toBytes$1(t){return typeof t=="string"&&(t=utf8ToBytes$1(t)),abytes$1(t),t}function concatBytes(...t){let e=0;for(let r=0;r<t.length;r++){const o=t[r];abytes$1(o),e+=o.length}const a=new Uint8Array(e);for(let r=0,o=0;r<t.length;r++){const s=t[r];a.set(s,o),o+=s.length}return a}class Hash{}function createHasher(t){const e=r=>t().update(toBytes$1(r)).digest(),a=t();return e.outputLen=a.outputLen,e.blockLen=a.blockLen,e.create=()=>t(),e}function randomBytes(t=32){if(crypto$1&&typeof crypto$1.getRandomValues=="function")return crypto$1.getRandomValues(new Uint8Array(t));if(crypto$1&&typeof crypto$1.randomBytes=="function")return Uint8Array.from(crypto$1.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}var utils=Object.freeze({__proto__:null,Hash,abytes:abytes$1,aexists:aexists$1,ahash,anumber:anumber$1,aoutput:aoutput$1,bytesToHex:bytesToHex$2,clean:clean$1,concatBytes,createHasher,createView:createView$1,hexToBytes:hexToBytes$1,isBytes:isBytes$1,randomBytes,rotr,toBytes:toBytes$1,utf8ToBytes:utf8ToBytes$1});const CHARSET="qpzry9x8gf2tvdw0s3jn54khce6mua7l",GENERATOR=[996825010,642813549,513874426,1027748829,705979059];function polymod(t){let e=1;for(const a of t){const r=e>>25;e=(e&33554431)<<5^a;for(let o=0;o<5;o++)r>>o&1&&(e^=GENERATOR[o])}return e}function hrpExpand(t){const e=[];for(let a=0;a<t.length;a++)e.push(t.charCodeAt(a)>>5);e.push(0);for(let a=0;a<t.length;a++)e.push(t.charCodeAt(a)&31);return e}function verifyChecksum(t,e){return polymod(hrpExpand(t).concat(e))===1}function createChecksum(t,e){const a=hrpExpand(t).concat(e).concat([0,0,0,0,0,0]),r=polymod(a)^1,o=[];for(let s=0;s<6;s++)o.push(r>>5*(5-s)&31);return o}function convertBits(t,e,a,r){let o=0,s=0;const l=[],c=(1<<a)-1;for(const u of t){if(u<0||u>>e!==0)return null;for(o=o<<e|u,s+=e;s>=a;)s-=a,l.push(o>>s&c)}if(r)s>0&&l.push(o<<a-s&c);else if(s>=e||(o<<a-s&c)!==0)return null;return l}function encode$2(t,e){const a=convertBits(Array.from(e),8,5,!0);if(a===null)throw new Error("Failed to convert bits for Bech32 encoding");const r=createChecksum(t,a),o=a.concat(r);let s=t+"1";for(const l of o)s+=CHARSET.charAt(l);return s}function decode$1(t){const e=t.toLowerCase(),a=e.lastIndexOf("1");if(a<1||a+7>e.length||e.length>90)throw new Error("Invalid Bech32 string");const r=e.slice(0,a),o=e.slice(a+1),s=[];for(const u of o){const h=CHARSET.indexOf(u);if(h===-1)throw new Error(`Invalid character '${u}' in Bech32 string`);s.push(h)}if(!verifyChecksum(r,s))throw new Error("Invalid Bech32 checksum");const l=s.slice(0,-6),c=convertBits(l,5,8,!1);if(c===null)throw new Error("Failed to convert bits in Bech32 decoding");return{hrp:r,data:new Uint8Array(c)}}function encodeNpub(t){if(t.length!==32)throw new Error("Public key must be 32 bytes");return encode$2("npub",t)}function encodeNsec(t){if(t.length!==32)throw new Error("Private key must be 32 bytes");return encode$2("nsec",t)}function decodeNsec(t){const e=decode$1(t);if(e.hrp!=="nsec")throw new Error(`Expected 'nsec' prefix, got '${e.hrp}'`);if(e.data.length!==32)throw new Error(`Expected 32 bytes, got ${e.data.length}`);return e.data}function setBigUint64$1(t,e,a,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,a,r);const o=BigInt(32),s=BigInt(4294967295),l=Number(a>>o&s),c=Number(a&s),u=r?4:0,h=r?0:4;t.setUint32(e+u,l,r),t.setUint32(e+h,c,r)}function Chi(t,e,a){return t&e^~t&a}function Maj(t,e,a){return t&e^t&a^e&a}class HashMD extends Hash{constructor(e,a,r,o){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=a,this.padOffset=r,this.isLE=o,this.buffer=new Uint8Array(e),this.view=createView$1(this.buffer)}update(e){aexists$1(this),e=toBytes$1(e),abytes$1(e);const{view:a,buffer:r,blockLen:o}=this,s=e.length;for(let l=0;l<s;){const c=Math.min(o-this.pos,s-l);if(c===o){const u=createView$1(e);for(;o<=s-l;l+=o)this.process(u,l);continue}r.set(e.subarray(l,l+c),this.pos),this.pos+=c,l+=c,this.pos===o&&(this.process(a,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){aexists$1(this),aoutput$1(e,this),this.finished=!0;const{buffer:a,view:r,blockLen:o,isLE:s}=this;let{pos:l}=this;a[l++]=128,clean$1(this.buffer.subarray(l)),this.padOffset>o-l&&(this.process(r,0),l=0);for(let m=l;m<o;m++)a[m]=0;setBigUint64$1(r,o-8,BigInt(this.length*8),s),this.process(r,0);const c=createView$1(e),u=this.outputLen;if(u%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const h=u/4,f=this.get();if(h>f.length)throw new Error("_sha2: outputLen bigger than state");for(let m=0;m<h;m++)c.setUint32(4*m,f[m],s)}digest(){const{buffer:e,outputLen:a}=this;this.digestInto(e);const r=e.slice(0,a);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:a,buffer:r,length:o,finished:s,destroyed:l,pos:c}=this;return e.destroyed=l,e.finished=s,e.length=o,e.pos=c,o%a&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const SHA256_IV=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),SHA256_K=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),SHA256_W=new Uint32Array(64);class SHA256 extends HashMD{constructor(e=32){super(64,e,8,!1),this.A=SHA256_IV[0]|0,this.B=SHA256_IV[1]|0,this.C=SHA256_IV[2]|0,this.D=SHA256_IV[3]|0,this.E=SHA256_IV[4]|0,this.F=SHA256_IV[5]|0,this.G=SHA256_IV[6]|0,this.H=SHA256_IV[7]|0}get(){const{A:e,B:a,C:r,D:o,E:s,F:l,G:c,H:u}=this;return[e,a,r,o,s,l,c,u]}set(e,a,r,o,s,l,c,u){this.A=e|0,this.B=a|0,this.C=r|0,this.D=o|0,this.E=s|0,this.F=l|0,this.G=c|0,this.H=u|0}process(e,a){for(let m=0;m<16;m++,a+=4)SHA256_W[m]=e.getUint32(a,!1);for(let m=16;m<64;m++){const g=SHA256_W[m-15],b=SHA256_W[m-2],w=rotr(g,7)^rotr(g,18)^g>>>3,E=rotr(b,17)^rotr(b,19)^b>>>10;SHA256_W[m]=E+SHA256_W[m-7]+w+SHA256_W[m-16]|0}let{A:r,B:o,C:s,D:l,E:c,F:u,G:h,H:f}=this;for(let m=0;m<64;m++){const g=rotr(c,6)^rotr(c,11)^rotr(c,25),b=f+g+Chi(c,u,h)+SHA256_K[m]+SHA256_W[m]|0,E=(rotr(r,2)^rotr(r,13)^rotr(r,22))+Maj(r,o,s)|0;f=h,h=u,u=c,c=l+b|0,l=s,s=o,o=r,r=b+E|0}r=r+this.A|0,o=o+this.B|0,s=s+this.C|0,l=l+this.D|0,c=c+this.E|0,u=u+this.F|0,h=h+this.G|0,f=f+this.H|0,this.set(r,o,s,l,c,u,h,f)}roundClean(){clean$1(SHA256_W)}destroy(){this.set(0,0,0,0,0,0,0,0),clean$1(this.buffer)}}const sha256$1=createHasher(()=>new SHA256);class HMAC extends Hash{constructor(e,a){super(),this.finished=!1,this.destroyed=!1,ahash(e);const r=toBytes$1(a);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,s=new Uint8Array(o);s.set(r.length>o?e.create().update(r).digest():r);for(let l=0;l<s.length;l++)s[l]^=54;this.iHash.update(s),this.oHash=e.create();for(let l=0;l<s.length;l++)s[l]^=106;this.oHash.update(s),clean$1(s)}update(e){return aexists$1(this),this.iHash.update(e),this}digestInto(e){aexists$1(this),abytes$1(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:a,iHash:r,finished:o,destroyed:s,blockLen:l,outputLen:c}=this;return e=e,e.finished=o,e.destroyed=s,e.blockLen=l,e.outputLen=c,e.oHash=a._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const hmac=(t,e,a)=>new HMAC(t,e).update(a).digest();hmac.create=(t,e)=>new HMAC(t,e);const _0n$4=BigInt(0),_1n$4=BigInt(1);function _abool2(t,e=""){if(typeof t!="boolean"){const a=e&&`"${e}"`;throw new Error(a+"expected boolean, got type="+typeof t)}return t}function _abytes2(t,e,a=""){const r=isBytes$1(t),o=t?.length,s=e!==void 0;if(!r||s&&o!==e){const l=a&&`"${a}" `,c=s?` of length ${e}`:"",u=r?`length=${o}`:`type=${typeof t}`;throw new Error(l+"expected Uint8Array"+c+", got "+u)}return t}function numberToHexUnpadded(t){const e=t.toString(16);return e.length&1?"0"+e:e}function hexToNumber(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?_0n$4:BigInt("0x"+t)}function bytesToNumberBE(t){return hexToNumber(bytesToHex$2(t))}function bytesToNumberLE(t){return abytes$1(t),hexToNumber(bytesToHex$2(Uint8Array.from(t).reverse()))}function numberToBytesBE(t,e){return hexToBytes$1(t.toString(16).padStart(e*2,"0"))}function numberToBytesLE(t,e){return numberToBytesBE(t,e).reverse()}function ensureBytes(t,e,a){let r;if(typeof e=="string")try{r=hexToBytes$1(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(isBytes$1(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const o=r.length;if(typeof a=="number"&&o!==a)throw new Error(t+" of length "+a+" expected, got "+o);return r}const isPosBig=t=>typeof t=="bigint"&&_0n$4<=t;function inRange(t,e,a){return isPosBig(t)&&isPosBig(e)&&isPosBig(a)&&e<=t&&t<a}function aInRange(t,e,a,r){if(!inRange(e,a,r))throw new Error("expected valid "+t+": "+a+" <= n < "+r+", got "+e)}function bitLen(t){let e;for(e=0;t>_0n$4;t>>=_1n$4,e+=1);return e}const bitMask=t=>(_1n$4<<BigInt(t))-_1n$4;function createHmacDrbg(t,e,a){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof a!="function")throw new Error("hmacFn must be a function");const r=b=>new Uint8Array(b),o=b=>Uint8Array.of(b);let s=r(t),l=r(t),c=0;const u=()=>{s.fill(1),l.fill(0),c=0},h=(...b)=>a(l,s,...b),f=(b=r(0))=>{l=h(o(0),b),s=h(),b.length!==0&&(l=h(o(1),b),s=h())},m=()=>{if(c++>=1e3)throw new Error("drbg: tried 1000 values");let b=0;const w=[];for(;b<e;){s=h();const E=s.slice();w.push(E),b+=s.length}return concatBytes(...w)};return(b,w)=>{u(),f(b);let E;for(;!(E=w(m()));)f();return u(),E}}function _validateObject(t,e,a={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(o,s,l){const c=t[o];if(l&&c===void 0)return;const u=typeof c;if(u!==s||c===null)throw new Error(`param "${o}" is invalid: expected ${s}, got ${u}`)}Object.entries(e).forEach(([o,s])=>r(o,s,!1)),Object.entries(a).forEach(([o,s])=>r(o,s,!0))}function memoized(t){const e=new WeakMap;return(a,...r)=>{const o=e.get(a);if(o!==void 0)return o;const s=t(a,...r);return e.set(a,s),s}}const _0n$3=BigInt(0),_1n$3=BigInt(1),_2n$2=BigInt(2),_3n$1=BigInt(3),_4n$1=BigInt(4),_5n=BigInt(5),_7n=BigInt(7),_8n=BigInt(8),_9n=BigInt(9),_16n=BigInt(16);function mod(t,e){const a=t%e;return a>=_0n$3?a:e+a}function pow2(t,e,a){let r=t;for(;e-- >_0n$3;)r*=r,r%=a;return r}function invert(t,e){if(t===_0n$3)throw new Error("invert: expected non-zero number");if(e<=_0n$3)throw new Error("invert: expected positive modulus, got "+e);let a=mod(t,e),r=e,o=_0n$3,s=_1n$3;for(;a!==_0n$3;){const c=r/a,u=r%a,h=o-s*c;r=a,a=u,o=s,s=h}if(r!==_1n$3)throw new Error("invert: does not exist");return mod(o,e)}function assertIsSquare(t,e,a){if(!t.eql(t.sqr(e),a))throw new Error("Cannot find square root")}function sqrt3mod4(t,e){const a=(t.ORDER+_1n$3)/_4n$1,r=t.pow(e,a);return assertIsSquare(t,r,e),r}function sqrt5mod8(t,e){const a=(t.ORDER-_5n)/_8n,r=t.mul(e,_2n$2),o=t.pow(r,a),s=t.mul(e,o),l=t.mul(t.mul(s,_2n$2),o),c=t.mul(s,t.sub(l,t.ONE));return assertIsSquare(t,c,e),c}function sqrt9mod16(t){const e=Field(t),a=tonelliShanks(t),r=a(e,e.neg(e.ONE)),o=a(e,r),s=a(e,e.neg(r)),l=(t+_7n)/_16n;return(c,u)=>{let h=c.pow(u,l),f=c.mul(h,r);const m=c.mul(h,o),g=c.mul(h,s),b=c.eql(c.sqr(f),u),w=c.eql(c.sqr(m),u);h=c.cmov(h,f,b),f=c.cmov(g,m,w);const E=c.eql(c.sqr(f),u),C=c.cmov(h,f,E);return assertIsSquare(c,C,u),C}}function tonelliShanks(t){if(t<_3n$1)throw new Error("sqrt is not defined for small field");let e=t-_1n$3,a=0;for(;e%_2n$2===_0n$3;)e/=_2n$2,a++;let r=_2n$2;const o=Field(t);for(;FpLegendre(o,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(a===1)return sqrt3mod4;let s=o.pow(r,e);const l=(e+_1n$3)/_2n$2;return function(u,h){if(u.is0(h))return h;if(FpLegendre(u,h)!==1)throw new Error("Cannot find square root");let f=a,m=u.mul(u.ONE,s),g=u.pow(h,e),b=u.pow(h,l);for(;!u.eql(g,u.ONE);){if(u.is0(g))return u.ZERO;let w=1,E=u.sqr(g);for(;!u.eql(E,u.ONE);)if(w++,E=u.sqr(E),w===f)throw new Error("Cannot find square root");const C=_1n$3<<BigInt(f-w-1),B=u.pow(m,C);f=w,m=u.sqr(B),g=u.mul(g,m),b=u.mul(b,B)}return b}}function FpSqrt(t){return t%_4n$1===_3n$1?sqrt3mod4:t%_8n===_5n?sqrt5mod8:t%_16n===_9n?sqrt9mod16(t):tonelliShanks(t)}const FIELD_FIELDS=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function validateField(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},a=FIELD_FIELDS.reduce((r,o)=>(r[o]="function",r),e);return _validateObject(t,a),t}function FpPow(t,e,a){if(a<_0n$3)throw new Error("invalid exponent, negatives unsupported");if(a===_0n$3)return t.ONE;if(a===_1n$3)return e;let r=t.ONE,o=e;for(;a>_0n$3;)a&_1n$3&&(r=t.mul(r,o)),o=t.sqr(o),a>>=_1n$3;return r}function FpInvertBatch(t,e,a=!1){const r=new Array(e.length).fill(a?t.ZERO:void 0),o=e.reduce((l,c,u)=>t.is0(c)?l:(r[u]=l,t.mul(l,c)),t.ONE),s=t.inv(o);return e.reduceRight((l,c,u)=>t.is0(c)?l:(r[u]=t.mul(l,r[u]),t.mul(l,c)),s),r}function FpLegendre(t,e){const a=(t.ORDER-_1n$3)/_2n$2,r=t.pow(e,a),o=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),l=t.eql(r,t.neg(t.ONE));if(!o&&!s&&!l)throw new Error("invalid Legendre symbol result");return o?1:s?0:-1}function nLength(t,e){e!==void 0&&anumber$1(e);const a=e!==void 0?e:t.toString(2).length,r=Math.ceil(a/8);return{nBitLength:a,nByteLength:r}}function Field(t,e,a=!1,r={}){if(t<=_0n$3)throw new Error("invalid field: expected ORDER > 0, got "+t);let o,s,l=!1,c;if(typeof e=="object"&&e!=null){if(r.sqrt||a)throw new Error("cannot specify opts in two arguments");const g=e;g.BITS&&(o=g.BITS),g.sqrt&&(s=g.sqrt),typeof g.isLE=="boolean"&&(a=g.isLE),typeof g.modFromBytes=="boolean"&&(l=g.modFromBytes),c=g.allowedLengths}else typeof e=="number"&&(o=e),r.sqrt&&(s=r.sqrt);const{nBitLength:u,nByteLength:h}=nLength(t,o);if(h>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let f;const m=Object.freeze({ORDER:t,isLE:a,BITS:u,BYTES:h,MASK:bitMask(u),ZERO:_0n$3,ONE:_1n$3,allowedLengths:c,create:g=>mod(g,t),isValid:g=>{if(typeof g!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof g);return _0n$3<=g&&g<t},is0:g=>g===_0n$3,isValidNot0:g=>!m.is0(g)&&m.isValid(g),isOdd:g=>(g&_1n$3)===_1n$3,neg:g=>mod(-g,t),eql:(g,b)=>g===b,sqr:g=>mod(g*g,t),add:(g,b)=>mod(g+b,t),sub:(g,b)=>mod(g-b,t),mul:(g,b)=>mod(g*b,t),pow:(g,b)=>FpPow(m,g,b),div:(g,b)=>mod(g*invert(b,t),t),sqrN:g=>g*g,addN:(g,b)=>g+b,subN:(g,b)=>g-b,mulN:(g,b)=>g*b,inv:g=>invert(g,t),sqrt:s||(g=>(f||(f=FpSqrt(t)),f(m,g))),toBytes:g=>a?numberToBytesLE(g,h):numberToBytesBE(g,h),fromBytes:(g,b=!0)=>{if(c){if(!c.includes(g.length)||g.length>h)throw new Error("Field.fromBytes: expected "+c+" bytes, got "+g.length);const E=new Uint8Array(h);E.set(g,a?0:E.length-g.length),g=E}if(g.length!==h)throw new Error("Field.fromBytes: expected "+h+" bytes, got "+g.length);let w=a?bytesToNumberLE(g):bytesToNumberBE(g);if(l&&(w=mod(w,t)),!b&&!m.isValid(w))throw new Error("invalid field element: outside of range 0..ORDER");return w},invertBatch:g=>FpInvertBatch(m,g),cmov:(g,b,w)=>w?b:g});return Object.freeze(m)}function getFieldBytesLength(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function getMinHashLength(t){const e=getFieldBytesLength(t);return e+Math.ceil(e/2)}function mapHashToField(t,e,a=!1){const r=t.length,o=getFieldBytesLength(e),s=getMinHashLength(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const l=a?bytesToNumberLE(t):bytesToNumberBE(t),c=mod(l,e-_1n$3)+_1n$3;return a?numberToBytesLE(c,o):numberToBytesBE(c,o)}const _0n$2=BigInt(0),_1n$2=BigInt(1);function negateCt(t,e){const a=e.negate();return t?a:e}function normalizeZ(t,e){const a=FpInvertBatch(t.Fp,e.map(r=>r.Z));return e.map((r,o)=>t.fromAffine(r.toAffine(a[o])))}function validateW(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function calcWOpts(t,e){validateW(t,e);const a=Math.ceil(e/t)+1,r=2**(t-1),o=2**t,s=bitMask(t),l=BigInt(t);return{windows:a,windowSize:r,mask:s,maxNumber:o,shiftBy:l}}function calcOffsets(t,e,a){const{windowSize:r,mask:o,maxNumber:s,shiftBy:l}=a;let c=Number(t&o),u=t>>l;c>r&&(c-=s,u+=_1n$2);const h=e*r,f=h+Math.abs(c)-1,m=c===0,g=c<0,b=e%2!==0;return{nextN:u,offset:f,isZero:m,isNeg:g,isNegF:b,offsetF:h}}function validateMSMPoints(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((a,r)=>{if(!(a instanceof e))throw new Error("invalid point at index "+r)})}function validateMSMScalars(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((a,r)=>{if(!e.isValid(a))throw new Error("invalid scalar at index "+r)})}const pointPrecomputes=new WeakMap,pointWindowSizes=new WeakMap;function getW(t){return pointWindowSizes.get(t)||1}function assert0(t){if(t!==_0n$2)throw new Error("invalid wNAF")}class wNAF{constructor(e,a){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=a}_unsafeLadder(e,a,r=this.ZERO){let o=e;for(;a>_0n$2;)a&_1n$2&&(r=r.add(o)),o=o.double(),a>>=_1n$2;return r}precomputeWindow(e,a){const{windows:r,windowSize:o}=calcWOpts(a,this.bits),s=[];let l=e,c=l;for(let u=0;u<r;u++){c=l,s.push(c);for(let h=1;h<o;h++)c=c.add(l),s.push(c);l=c.double()}return s}wNAF(e,a,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let o=this.ZERO,s=this.BASE;const l=calcWOpts(e,this.bits);for(let c=0;c<l.windows;c++){const{nextN:u,offset:h,isZero:f,isNeg:m,isNegF:g,offsetF:b}=calcOffsets(r,c,l);r=u,f?s=s.add(negateCt(g,a[b])):o=o.add(negateCt(m,a[h]))}return assert0(r),{p:o,f:s}}wNAFUnsafe(e,a,r,o=this.ZERO){const s=calcWOpts(e,this.bits);for(let l=0;l<s.windows&&r!==_0n$2;l++){const{nextN:c,offset:u,isZero:h,isNeg:f}=calcOffsets(r,l,s);if(r=c,!h){const m=a[u];o=o.add(f?m.negate():m)}}return assert0(r),o}getPrecomputes(e,a,r){let o=pointPrecomputes.get(a);return o||(o=this.precomputeWindow(a,e),e!==1&&(typeof r=="function"&&(o=r(o)),pointPrecomputes.set(a,o))),o}cached(e,a,r){const o=getW(e);return this.wNAF(o,this.getPrecomputes(o,e,r),a)}unsafe(e,a,r,o){const s=getW(e);return s===1?this._unsafeLadder(e,a,o):this.wNAFUnsafe(s,this.getPrecomputes(s,e,r),a,o)}createCache(e,a){validateW(a,this.bits),pointWindowSizes.set(e,a),pointPrecomputes.delete(e)}hasCache(e){return getW(e)!==1}}function mulEndoUnsafe(t,e,a,r){let o=e,s=t.ZERO,l=t.ZERO;for(;a>_0n$2||r>_0n$2;)a&_1n$2&&(s=s.add(o)),r&_1n$2&&(l=l.add(o)),o=o.double(),a>>=_1n$2,r>>=_1n$2;return{p1:s,p2:l}}function pippenger(t,e,a,r){validateMSMPoints(a,t),validateMSMScalars(r,e);const o=a.length,s=r.length;if(o!==s)throw new Error("arrays of points and scalars must have equal length");const l=t.ZERO,c=bitLen(BigInt(o));let u=1;c>12?u=c-3:c>4?u=c-2:c>0&&(u=2);const h=bitMask(u),f=new Array(Number(h)+1).fill(l),m=Math.floor((e.BITS-1)/u)*u;let g=l;for(let b=m;b>=0;b-=u){f.fill(l);for(let E=0;E<s;E++){const C=r[E],B=Number(C>>BigInt(b)&h);f[B]=f[B].add(a[E])}let w=l;for(let E=f.length-1,C=l;E>0;E--)C=C.add(f[E]),w=w.add(C);if(g=g.add(w),b!==0)for(let E=0;E<u;E++)g=g.double()}return g}function createField(t,e,a){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return validateField(e),e}else return Field(t,{isLE:a})}function _createCurveFields(t,e,a={},r){if(r===void 0&&(r=t==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const u of["p","n","h"]){const h=e[u];if(!(typeof h=="bigint"&&h>_0n$2))throw new Error(`CURVE.${u} must be positive bigint`)}const o=createField(e.p,a.Fp,r),s=createField(e.n,a.Fn,r),c=["Gx","Gy","a","b"];for(const u of c)if(!o.isValid(e[u]))throw new Error(`CURVE.${u} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:o,Fn:s}}const divNearest=(t,e)=>(t+(t>=0?e:-e)/_2n$1)/e;function _splitEndoScalar(t,e,a){const[[r,o],[s,l]]=e,c=divNearest(l*t,a),u=divNearest(-o*t,a);let h=t-c*r-u*s,f=-c*o-u*l;const m=h<_0n$1,g=f<_0n$1;m&&(h=-h),g&&(f=-f);const b=bitMask(Math.ceil(bitLen(a)/2))+_1n$1;if(h<_0n$1||h>=b||f<_0n$1||f>=b)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:m,k1:h,k2neg:g,k2:f}}function validateSigFormat(t){if(!["compact","recovered","der"].includes(t))throw new Error('Signature format must be "compact", "recovered", or "der"');return t}function validateSigOpts(t,e){const a={};for(let r of Object.keys(e))a[r]=t[r]===void 0?e[r]:t[r];return _abool2(a.lowS,"lowS"),_abool2(a.prehash,"prehash"),a.format!==void 0&&validateSigFormat(a.format),a}class DERErr extends Error{constructor(e=""){super(e)}}const DER={Err:DERErr,_tlv:{encode:(t,e)=>{const{Err:a}=DER;if(t<0||t>256)throw new a("tlv.encode: wrong tag");if(e.length&1)throw new a("tlv.encode: unpadded data");const r=e.length/2,o=numberToHexUnpadded(r);if(o.length/2&128)throw new a("tlv.encode: long form length too big");const s=r>127?numberToHexUnpadded(o.length/2|128):"";return numberToHexUnpadded(t)+s+o+e},decode(t,e){const{Err:a}=DER;let r=0;if(t<0||t>256)throw new a("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new a("tlv.decode: wrong tlv");const o=e[r++],s=!!(o&128);let l=0;if(!s)l=o;else{const u=o&127;if(!u)throw new a("tlv.decode(long): indefinite length not supported");if(u>4)throw new a("tlv.decode(long): byte length is too big");const h=e.subarray(r,r+u);if(h.length!==u)throw new a("tlv.decode: length bytes not complete");if(h[0]===0)throw new a("tlv.decode(long): zero leftmost byte");for(const f of h)l=l<<8|f;if(r+=u,l<128)throw new a("tlv.decode(long): not minimal encoding")}const c=e.subarray(r,r+l);if(c.length!==l)throw new a("tlv.decode: wrong value length");return{v:c,l:e.subarray(r+l)}}},_int:{encode(t){const{Err:e}=DER;if(t<_0n$1)throw new e("integer: negative integers are not allowed");let a=numberToHexUnpadded(t);if(Number.parseInt(a[0],16)&8&&(a="00"+a),a.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return a},decode(t){const{Err:e}=DER;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return bytesToNumberBE(t)}},toSig(t){const{Err:e,_int:a,_tlv:r}=DER,o=ensureBytes("signature",t),{v:s,l}=r.decode(48,o);if(l.length)throw new e("invalid signature: left bytes after parsing");const{v:c,l:u}=r.decode(2,s),{v:h,l:f}=r.decode(2,u);if(f.length)throw new e("invalid signature: left bytes after parsing");return{r:a.decode(c),s:a.decode(h)}},hexFromSig(t){const{_tlv:e,_int:a}=DER,r=e.encode(2,a.encode(t.r)),o=e.encode(2,a.encode(t.s)),s=r+o;return e.encode(48,s)}},_0n$1=BigInt(0),_1n$1=BigInt(1),_2n$1=BigInt(2),_3n=BigInt(3),_4n=BigInt(4);function _normFnElement(t,e){const{BYTES:a}=t;let r;if(typeof e=="bigint")r=e;else{let o=ensureBytes("private key",e);try{r=t.fromBytes(o)}catch{throw new Error(`invalid private key: expected ui8a of size ${a}, got ${typeof e}`)}}if(!t.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function weierstrassN(t,e={}){const a=_createCurveFields("weierstrass",t,e),{Fp:r,Fn:o}=a;let s=a.CURVE;const{h:l,n:c}=s;_validateObject(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:u}=e;if(u&&(!r.is0(s.a)||typeof u.beta!="bigint"||!Array.isArray(u.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const h=getWLengths(r,o);function f(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function m(D,M,v){const{x:S,y:N}=M.toAffine(),R=r.toBytes(S);if(_abool2(v,"isCompressed"),v){f();const k=!r.isOdd(N);return concatBytes(pprefix(k),R)}else return concatBytes(Uint8Array.of(4),R,r.toBytes(N))}function g(D){_abytes2(D,void 0,"Point");const{publicKey:M,publicKeyUncompressed:v}=h,S=D.length,N=D[0],R=D.subarray(1);if(S===M&&(N===2||N===3)){const k=r.fromBytes(R);if(!r.isValid(k))throw new Error("bad point: is not on curve, wrong x");const j=E(k);let I;try{I=r.sqrt(j)}catch(L){const Y=L instanceof Error?": "+L.message:"";throw new Error("bad point: is not on curve, sqrt error"+Y)}f();const A=r.isOdd(I);return(N&1)===1!==A&&(I=r.neg(I)),{x:k,y:I}}else if(S===v&&N===4){const k=r.BYTES,j=r.fromBytes(R.subarray(0,k)),I=r.fromBytes(R.subarray(k,k*2));if(!C(j,I))throw new Error("bad point: is not on curve");return{x:j,y:I}}else throw new Error(`bad point: got length ${S}, expected compressed=${M} or uncompressed=${v}`)}const b=e.toBytes||m,w=e.fromBytes||g;function E(D){const M=r.sqr(D),v=r.mul(M,D);return r.add(r.add(v,r.mul(D,s.a)),s.b)}function C(D,M){const v=r.sqr(M),S=E(D);return r.eql(v,S)}if(!C(s.Gx,s.Gy))throw new Error("bad curve params: generator point");const B=r.mul(r.pow(s.a,_3n),_4n),O=r.mul(r.sqr(s.b),BigInt(27));if(r.is0(r.add(B,O)))throw new Error("bad curve params: a or b");function P(D,M,v=!1){if(!r.isValid(M)||v&&r.is0(M))throw new Error(`bad point coordinate ${D}`);return M}function q(D){if(!(D instanceof W))throw new Error("ProjectivePoint expected")}function z(D){if(!u||!u.basises)throw new Error("no endo");return _splitEndoScalar(D,u.basises,o.ORDER)}const V=memoized((D,M)=>{const{X:v,Y:S,Z:N}=D;if(r.eql(N,r.ONE))return{x:v,y:S};const R=D.is0();M==null&&(M=R?r.ONE:r.inv(N));const k=r.mul(v,M),j=r.mul(S,M),I=r.mul(N,M);if(R)return{x:r.ZERO,y:r.ZERO};if(!r.eql(I,r.ONE))throw new Error("invZ was invalid");return{x:k,y:j}}),Z=memoized(D=>{if(D.is0()){if(e.allowInfinityPoint&&!r.is0(D.Y))return;throw new Error("bad point: ZERO")}const{x:M,y:v}=D.toAffine();if(!r.isValid(M)||!r.isValid(v))throw new Error("bad point: x or y not field elements");if(!C(M,v))throw new Error("bad point: equation left != right");if(!D.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function J(D,M,v,S,N){return v=new W(r.mul(v.X,D),v.Y,v.Z),M=negateCt(S,M),v=negateCt(N,v),M.add(v)}class W{constructor(M,v,S){this.X=P("x",M),this.Y=P("y",v,!0),this.Z=P("z",S),Object.freeze(this)}static CURVE(){return s}static fromAffine(M){const{x:v,y:S}=M||{};if(!M||!r.isValid(v)||!r.isValid(S))throw new Error("invalid affine point");if(M instanceof W)throw new Error("projective point not allowed");return r.is0(v)&&r.is0(S)?W.ZERO:new W(v,S,r.ONE)}static fromBytes(M){const v=W.fromAffine(w(_abytes2(M,void 0,"point")));return v.assertValidity(),v}static fromHex(M){return W.fromBytes(ensureBytes("pointHex",M))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(M=8,v=!0){return G.createCache(this,M),v||this.multiply(_3n),this}assertValidity(){Z(this)}hasEvenY(){const{y:M}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(M)}equals(M){q(M);const{X:v,Y:S,Z:N}=this,{X:R,Y:k,Z:j}=M,I=r.eql(r.mul(v,j),r.mul(R,N)),A=r.eql(r.mul(S,j),r.mul(k,N));return I&&A}negate(){return new W(this.X,r.neg(this.Y),this.Z)}double(){const{a:M,b:v}=s,S=r.mul(v,_3n),{X:N,Y:R,Z:k}=this;let j=r.ZERO,I=r.ZERO,A=r.ZERO,$=r.mul(N,N),L=r.mul(R,R),Y=r.mul(k,k),le=r.mul(N,R);return le=r.add(le,le),A=r.mul(N,k),A=r.add(A,A),j=r.mul(M,A),I=r.mul(S,Y),I=r.add(j,I),j=r.sub(L,I),I=r.add(L,I),I=r.mul(j,I),j=r.mul(le,j),A=r.mul(S,A),Y=r.mul(M,Y),le=r.sub($,Y),le=r.mul(M,le),le=r.add(le,A),A=r.add($,$),$=r.add(A,$),$=r.add($,Y),$=r.mul($,le),I=r.add(I,$),Y=r.mul(R,k),Y=r.add(Y,Y),$=r.mul(Y,le),j=r.sub(j,$),A=r.mul(Y,L),A=r.add(A,A),A=r.add(A,A),new W(j,I,A)}add(M){q(M);const{X:v,Y:S,Z:N}=this,{X:R,Y:k,Z:j}=M;let I=r.ZERO,A=r.ZERO,$=r.ZERO;const L=s.a,Y=r.mul(s.b,_3n);let le=r.mul(v,R),re=r.mul(S,k),U=r.mul(N,j),K=r.add(v,S),se=r.add(R,k);K=r.mul(K,se),se=r.add(le,re),K=r.sub(K,se),se=r.add(v,N);let he=r.add(R,j);return se=r.mul(se,he),he=r.add(le,U),se=r.sub(se,he),he=r.add(S,N),I=r.add(k,j),he=r.mul(he,I),I=r.add(re,U),he=r.sub(he,I),$=r.mul(L,se),I=r.mul(Y,U),$=r.add(I,$),I=r.sub(re,$),$=r.add(re,$),A=r.mul(I,$),re=r.add(le,le),re=r.add(re,le),U=r.mul(L,U),se=r.mul(Y,se),re=r.add(re,U),U=r.sub(le,U),U=r.mul(L,U),se=r.add(se,U),le=r.mul(re,se),A=r.add(A,le),le=r.mul(he,se),I=r.mul(K,I),I=r.sub(I,le),le=r.mul(K,re),$=r.mul(he,$),$=r.add($,le),new W(I,A,$)}subtract(M){return this.add(M.negate())}is0(){return this.equals(W.ZERO)}multiply(M){const{endo:v}=e;if(!o.isValidNot0(M))throw new Error("invalid scalar: out of range");let S,N;const R=k=>G.cached(this,k,j=>normalizeZ(W,j));if(v){const{k1neg:k,k1:j,k2neg:I,k2:A}=z(M),{p:$,f:L}=R(j),{p:Y,f:le}=R(A);N=L.add(le),S=J(v.beta,$,Y,k,I)}else{const{p:k,f:j}=R(M);S=k,N=j}return normalizeZ(W,[S,N])[0]}multiplyUnsafe(M){const{endo:v}=e,S=this;if(!o.isValid(M))throw new Error("invalid scalar: out of range");if(M===_0n$1||S.is0())return W.ZERO;if(M===_1n$1)return S;if(G.hasCache(this))return this.multiply(M);if(v){const{k1neg:N,k1:R,k2neg:k,k2:j}=z(M),{p1:I,p2:A}=mulEndoUnsafe(W,S,R,j);return J(v.beta,I,A,N,k)}else return G.unsafe(S,M)}multiplyAndAddUnsafe(M,v,S){const N=this.multiplyUnsafe(v).add(M.multiplyUnsafe(S));return N.is0()?void 0:N}toAffine(M){return V(this,M)}isTorsionFree(){const{isTorsionFree:M}=e;return l===_1n$1?!0:M?M(W,this):G.unsafe(this,c).is0()}clearCofactor(){const{clearCofactor:M}=e;return l===_1n$1?this:M?M(W,this):this.multiplyUnsafe(l)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}toBytes(M=!0){return _abool2(M,"isCompressed"),this.assertValidity(),b(W,this,M)}toHex(M=!0){return bytesToHex$2(this.toBytes(M))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(M=!0){return this.toBytes(M)}_setWindowSize(M){this.precompute(M)}static normalizeZ(M){return normalizeZ(W,M)}static msm(M,v){return pippenger(W,o,M,v)}static fromPrivateKey(M){return W.BASE.multiply(_normFnElement(o,M))}}W.BASE=new W(s.Gx,s.Gy,r.ONE),W.ZERO=new W(r.ZERO,r.ONE,r.ZERO),W.Fp=r,W.Fn=o;const te=o.BITS,G=new wNAF(W,e.endo?Math.ceil(te/2):te);return W.BASE.precompute(8),W}function pprefix(t){return Uint8Array.of(t?2:3)}function getWLengths(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function ecdh(t,e={}){const{Fn:a}=t,r=e.randomBytes||randomBytes,o=Object.assign(getWLengths(t.Fp,a),{seed:getMinHashLength(a.ORDER)});function s(b){try{return!!_normFnElement(a,b)}catch{return!1}}function l(b,w){const{publicKey:E,publicKeyUncompressed:C}=o;try{const B=b.length;return w===!0&&B!==E||w===!1&&B!==C?!1:!!t.fromBytes(b)}catch{return!1}}function c(b=r(o.seed)){return mapHashToField(_abytes2(b,o.seed,"seed"),a.ORDER)}function u(b,w=!0){return t.BASE.multiply(_normFnElement(a,b)).toBytes(w)}function h(b){const w=c(b);return{secretKey:w,publicKey:u(w)}}function f(b){if(typeof b=="bigint")return!1;if(b instanceof t)return!0;const{secretKey:w,publicKey:E,publicKeyUncompressed:C}=o;if(a.allowedLengths||w===E)return;const B=ensureBytes("key",b).length;return B===E||B===C}function m(b,w,E=!0){if(f(b)===!0)throw new Error("first arg must be private key");if(f(w)===!1)throw new Error("second arg must be public key");const C=_normFnElement(a,b);return t.fromHex(w).multiply(C).toBytes(E)}return Object.freeze({getPublicKey:u,getSharedSecret:m,keygen:h,Point:t,utils:{isValidSecretKey:s,isValidPublicKey:l,randomSecretKey:c,isValidPrivateKey:s,randomPrivateKey:c,normPrivateKeyToScalar:b=>_normFnElement(a,b),precompute(b=8,w=t.BASE){return w.precompute(b,!1)}},lengths:o})}function ecdsa(t,e,a={}){ahash(e),_validateObject(a,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=a.randomBytes||randomBytes,o=a.hmac||((v,...S)=>hmac(e,v,concatBytes(...S))),{Fp:s,Fn:l}=t,{ORDER:c,BITS:u}=l,{keygen:h,getPublicKey:f,getSharedSecret:m,utils:g,lengths:b}=ecdh(t,a),w={prehash:!1,lowS:typeof a.lowS=="boolean"?a.lowS:!1,format:void 0,extraEntropy:!1},E="compact";function C(v){const S=c>>_1n$1;return v>S}function B(v,S){if(!l.isValidNot0(S))throw new Error(`invalid signature ${v}: out of range 1..Point.Fn.ORDER`);return S}function O(v,S){validateSigFormat(S);const N=b.signature,R=S==="compact"?N:S==="recovered"?N+1:void 0;return _abytes2(v,R,`${S} signature`)}class P{constructor(S,N,R){this.r=B("r",S),this.s=B("s",N),R!=null&&(this.recovery=R),Object.freeze(this)}static fromBytes(S,N=E){O(S,N);let R;if(N==="der"){const{r:A,s:$}=DER.toSig(_abytes2(S));return new P(A,$)}N==="recovered"&&(R=S[0],N="compact",S=S.subarray(1));const k=l.BYTES,j=S.subarray(0,k),I=S.subarray(k,k*2);return new P(l.fromBytes(j),l.fromBytes(I),R)}static fromHex(S,N){return this.fromBytes(hexToBytes$1(S),N)}addRecoveryBit(S){return new P(this.r,this.s,S)}recoverPublicKey(S){const N=s.ORDER,{r:R,s:k,recovery:j}=this;if(j==null||![0,1,2,3].includes(j))throw new Error("recovery id invalid");if(c*_2n$1<N&&j>1)throw new Error("recovery id is ambiguous for h>1 curve");const A=j===2||j===3?R+c:R;if(!s.isValid(A))throw new Error("recovery id 2 or 3 invalid");const $=s.toBytes(A),L=t.fromBytes(concatBytes(pprefix((j&1)===0),$)),Y=l.inv(A),le=z(ensureBytes("msgHash",S)),re=l.create(-le*Y),U=l.create(k*Y),K=t.BASE.multiplyUnsafe(re).add(L.multiplyUnsafe(U));if(K.is0())throw new Error("point at infinify");return K.assertValidity(),K}hasHighS(){return C(this.s)}toBytes(S=E){if(validateSigFormat(S),S==="der")return hexToBytes$1(DER.hexFromSig(this));const N=l.toBytes(this.r),R=l.toBytes(this.s);if(S==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return concatBytes(Uint8Array.of(this.recovery),N,R)}return concatBytes(N,R)}toHex(S){return bytesToHex$2(this.toBytes(S))}assertValidity(){}static fromCompact(S){return P.fromBytes(ensureBytes("sig",S),"compact")}static fromDER(S){return P.fromBytes(ensureBytes("sig",S),"der")}normalizeS(){return this.hasHighS()?new P(this.r,l.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return bytesToHex$2(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return bytesToHex$2(this.toBytes("compact"))}}const q=a.bits2int||function(S){if(S.length>8192)throw new Error("input is too large");const N=bytesToNumberBE(S),R=S.length*8-u;return R>0?N>>BigInt(R):N},z=a.bits2int_modN||function(S){return l.create(q(S))},V=bitMask(u);function Z(v){return aInRange("num < 2^"+u,v,_0n$1,V),l.toBytes(v)}function J(v,S){return _abytes2(v,void 0,"message"),S?_abytes2(e(v),void 0,"prehashed message"):v}function W(v,S,N){if(["recovered","canonical"].some(re=>re in N))throw new Error("sign() legacy options not supported");const{lowS:R,prehash:k,extraEntropy:j}=validateSigOpts(N,w);v=J(v,k);const I=z(v),A=_normFnElement(l,S),$=[Z(A),Z(I)];if(j!=null&&j!==!1){const re=j===!0?r(b.secretKey):j;$.push(ensureBytes("extraEntropy",re))}const L=concatBytes(...$),Y=I;function le(re){const U=q(re);if(!l.isValidNot0(U))return;const K=l.inv(U),se=t.BASE.multiply(U).toAffine(),he=l.create(se.x);if(he===_0n$1)return;const ue=l.create(K*l.create(Y+he*A));if(ue===_0n$1)return;let ee=(se.x===he?0:2)|Number(se.y&_1n$1),fe=ue;return R&&C(ue)&&(fe=l.neg(ue),ee^=1),new P(he,fe,ee)}return{seed:L,k2sig:le}}function te(v,S,N={}){v=ensureBytes("message",v);const{seed:R,k2sig:k}=W(v,S,N);return createHmacDrbg(e.outputLen,l.BYTES,o)(R,k)}function G(v){let S;const N=typeof v=="string"||isBytes$1(v),R=!N&&v!==null&&typeof v=="object"&&typeof v.r=="bigint"&&typeof v.s=="bigint";if(!N&&!R)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(R)S=new P(v.r,v.s);else if(N){try{S=P.fromBytes(ensureBytes("sig",v),"der")}catch(k){if(!(k instanceof DER.Err))throw k}if(!S)try{S=P.fromBytes(ensureBytes("sig",v),"compact")}catch{return!1}}return S||!1}function D(v,S,N,R={}){const{lowS:k,prehash:j,format:I}=validateSigOpts(R,w);if(N=ensureBytes("publicKey",N),S=J(ensureBytes("message",S),j),"strict"in R)throw new Error("options.strict was renamed to lowS");const A=I===void 0?G(v):P.fromBytes(ensureBytes("sig",v),I);if(A===!1)return!1;try{const $=t.fromBytes(N);if(k&&A.hasHighS())return!1;const{r:L,s:Y}=A,le=z(S),re=l.inv(Y),U=l.create(le*re),K=l.create(L*re),se=t.BASE.multiplyUnsafe(U).add($.multiplyUnsafe(K));return se.is0()?!1:l.create(se.x)===L}catch{return!1}}function M(v,S,N={}){const{prehash:R}=validateSigOpts(N,w);return S=J(S,R),P.fromBytes(v,"recovered").recoverPublicKey(S).toBytes()}return Object.freeze({keygen:h,getPublicKey:f,getSharedSecret:m,utils:g,lengths:b,Point:t,sign:te,verify:D,recoverPublicKey:M,Signature:P,hash:e})}function _weierstrass_legacy_opts_to_new(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},a=t.Fp;let r=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(l=>Math.ceil(l/2)))):void 0;const o=Field(e.n,{BITS:t.nBitLength,allowedLengths:r,modFromBytes:t.wrapPrivateKey}),s={Fp:a,Fn:o,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:s}}function _ecdsa_legacy_opts_to_new(t){const{CURVE:e,curveOpts:a}=_weierstrass_legacy_opts_to_new(t),r={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:a,hash:t.hash,ecdsaOpts:r}}function _ecdsa_new_output_to_legacy(t,e){const a=e.Point;return Object.assign({},e,{ProjectivePoint:a,CURVE:Object.assign({},t,nLength(a.Fn.ORDER,a.Fn.BITS))})}function weierstrass(t){const{CURVE:e,curveOpts:a,hash:r,ecdsaOpts:o}=_ecdsa_legacy_opts_to_new(t),s=weierstrassN(e,a),l=ecdsa(s,r,o);return _ecdsa_new_output_to_legacy(t,l)}function createCurve(t,e){const a=r=>weierstrass({...t,hash:r});return{...a(e),create:a}}const secp256k1_CURVE={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},secp256k1_ENDO={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},_0n=BigInt(0),_1n=BigInt(1),_2n=BigInt(2);function sqrtMod(t){const e=secp256k1_CURVE.p,a=BigInt(3),r=BigInt(6),o=BigInt(11),s=BigInt(22),l=BigInt(23),c=BigInt(44),u=BigInt(88),h=t*t*t%e,f=h*h*t%e,m=pow2(f,a,e)*f%e,g=pow2(m,a,e)*f%e,b=pow2(g,_2n,e)*h%e,w=pow2(b,o,e)*b%e,E=pow2(w,s,e)*w%e,C=pow2(E,c,e)*E%e,B=pow2(C,u,e)*C%e,O=pow2(B,c,e)*E%e,P=pow2(O,a,e)*f%e,q=pow2(P,l,e)*w%e,z=pow2(q,r,e)*h%e,V=pow2(z,_2n,e);if(!Fpk1.eql(Fpk1.sqr(V),t))throw new Error("Cannot find square root");return V}const Fpk1=Field(secp256k1_CURVE.p,{sqrt:sqrtMod}),secp256k1=createCurve({...secp256k1_CURVE,Fp:Fpk1,lowS:!0,endo:secp256k1_ENDO},sha256$1),TAGGED_HASH_PREFIXES={};function taggedHash(t,...e){let a=TAGGED_HASH_PREFIXES[t];if(a===void 0){const r=sha256$1(utf8ToBytes$1(t));a=concatBytes(r,r),TAGGED_HASH_PREFIXES[t]=a}return sha256$1(concatBytes(a,...e))}const pointToBytes=t=>t.toBytes(!0).slice(1),Pointk1=secp256k1.Point,hasEven=t=>t%_2n===_0n;function schnorrGetExtPubKey(t){const{Fn:e,BASE:a}=Pointk1,r=_normFnElement(e,t),o=a.multiply(r);return{scalar:hasEven(o.y)?r:e.neg(r),bytes:pointToBytes(o)}}function lift_x(t){const e=Fpk1;if(!e.isValidNot0(t))throw new Error("invalid x: Fail if x  p");const a=e.create(t*t),r=e.create(a*t+BigInt(7));let o=e.sqrt(r);hasEven(o)||(o=e.neg(o));const s=Pointk1.fromAffine({x:t,y:o});return s.assertValidity(),s}const num=bytesToNumberBE;function challenge(...t){return Pointk1.Fn.create(num(taggedHash("BIP0340/challenge",...t)))}function schnorrGetPublicKey(t){return schnorrGetExtPubKey(t).bytes}function schnorrSign(t,e,a=randomBytes(32)){const{Fn:r}=Pointk1,o=ensureBytes("message",t),{bytes:s,scalar:l}=schnorrGetExtPubKey(e),c=ensureBytes("auxRand",a,32),u=r.toBytes(l^num(taggedHash("BIP0340/aux",c))),h=taggedHash("BIP0340/nonce",u,s,o),{bytes:f,scalar:m}=schnorrGetExtPubKey(h),g=challenge(f,s,o),b=new Uint8Array(64);if(b.set(f,0),b.set(r.toBytes(r.create(m+g*l)),32),!schnorrVerify(b,o,s))throw new Error("sign: Invalid signature produced");return b}function schnorrVerify(t,e,a){const{Fn:r,BASE:o}=Pointk1,s=ensureBytes("signature",t,64),l=ensureBytes("message",e),c=ensureBytes("publicKey",a,32);try{const u=lift_x(num(c)),h=num(s.subarray(0,32));if(!inRange(h,_1n,secp256k1_CURVE.p))return!1;const f=num(s.subarray(32,64));if(!inRange(f,_1n,secp256k1_CURVE.n))return!1;const m=challenge(r.toBytes(h),pointToBytes(u),l),g=o.multiplyUnsafe(f).add(u.multiplyUnsafe(r.neg(m))),{x:b,y:w}=g.toAffine();return!(g.is0()||!hasEven(w)||b!==h)}catch{return!1}}const schnorr$1=(()=>{const a=(o=randomBytes(48))=>mapHashToField(o,secp256k1_CURVE.n);secp256k1.utils.randomSecretKey;function r(o){const s=a(o);return{secretKey:s,publicKey:schnorrGetPublicKey(s)}}return{keygen:r,getPublicKey:schnorrGetPublicKey,sign:schnorrSign,verify:schnorrVerify,Point:Pointk1,utils:{randomSecretKey:a,randomPrivateKey:a,taggedHash,lift_x,pointToBytes,numberToBytesBE,bytesToNumberBE,mod},lengths:{secretKey:32,publicKey:32,publicKeyHasPrefix:!1,signature:64,seed:48}}})();function getPublicKey(t){if(t.length!==32)throw new Error("Private key must be 32 bytes");return schnorr$1.getPublicKey(t)}function sign(t,e){if(t.length!==32)throw new Error("Message must be 32 bytes");if(e.length!==32)throw new Error("Private key must be 32 bytes");return schnorr$1.sign(t,e)}function signHex(t,e){return bytesToHex$2(sign(t,e))}function verify(t,e,a){if(t.length!==64||e.length!==32||a.length!==32)return!1;try{return schnorr$1.verify(t,e,a)}catch{return!1}}function verifyHex(t,e,a){try{const r=hexToBytes$1(t),o=hexToBytes$1(a);return verify(r,e,o)}catch{return!1}}const sha256$2=sha256$1;async function getWebCrypto(){return typeof globalThis.crypto?.subtle<"u"?globalThis.crypto:(await __vitePreload(()=>import("./index-XULxYsMV.js").then(e=>e.i),[])).webcrypto}const COMPRESSION_THRESHOLD=1024,COMPRESSION_PREFIX="gz:";function toBase64$1(t){if(typeof Buffer<"u")return Buffer.from(t).toString("base64");let e="";for(let a=0;a<t.length;a++)e+=String.fromCharCode(t[a]);return btoa(e)}function fromBase64$1$1(t){if(typeof Buffer<"u")return new Uint8Array(Buffer.from(t,"base64"));const e=atob(t),a=new Uint8Array(e.length);for(let r=0;r<e.length;r++)a[r]=e.charCodeAt(r);return a}function toBufferSource(t){const e=new ArrayBuffer(t.length);return new Uint8Array(e).set(t),e}async function compress(t){if(typeof process$1<"u"&&process$1.versions?.node){const{gzipSync:e}=await __vitePreload(async()=>{const{gzipSync:a}=await import("./index-rfH1sLLc.js").then(r=>r.i);return{gzipSync:a}},[]);return new Uint8Array(e(Buffer.from(t)))}else if(typeof CompressionStream<"u"){const e=new CompressionStream("gzip"),a=e.writable.getWriter();a.write(toBufferSource(t)),a.close();const r=[],o=e.readable.getReader();for(;;){const{done:u,value:h}=await o.read();if(u)break;r.push(h)}const s=r.reduce((u,h)=>u+h.length,0),l=new Uint8Array(s);let c=0;for(const u of r)l.set(u,c),c+=u.length;return l}throw new Error("GZIP compression not supported in this environment")}async function decompress(t){if(typeof process$1<"u"&&process$1.versions?.node){const{gunzipSync:e}=await __vitePreload(async()=>{const{gunzipSync:a}=await import("./index-rfH1sLLc.js").then(r=>r.i);return{gunzipSync:a}},[]);return new Uint8Array(e(Buffer.from(t)))}else if(typeof DecompressionStream<"u"){const e=new DecompressionStream("gzip"),a=e.writable.getWriter();a.write(toBufferSource(t)),a.close();const r=[],o=e.readable.getReader();for(;;){const{done:u,value:h}=await o.read();if(u)break;r.push(h)}const s=r.reduce((u,h)=>u+h.length,0),l=new Uint8Array(s);let c=0;for(const u of r)l.set(u,c),c+=u.length;return l}throw new Error("GZIP decompression not supported in this environment")}async function importKey(t){return(await getWebCrypto()).subtle.importKey("raw",toBufferSource(t),{name:"AES-CBC"},!1,["encrypt","decrypt"])}async function aesEncrypt(t,e,a){const r=await getWebCrypto(),o=await importKey(e),s=await r.subtle.encrypt({name:"AES-CBC",iv:toBufferSource(a)},o,toBufferSource(t));return new Uint8Array(s)}async function aesDecrypt(t,e,a){const r=await getWebCrypto(),o=await importKey(e),s=await r.subtle.decrypt({name:"AES-CBC",iv:toBufferSource(a)},o,toBufferSource(t));return new Uint8Array(s)}function deriveSharedSecret(t,e){if(t.length!==32)throw new Error("Private key must be 32 bytes");if(e.length!==32)throw new Error("Public key must be 32 bytes");const a=new Uint8Array(33);a[0]=2,a.set(e,1);const o=secp256k1.getSharedSecret(t,a).slice(1,33);return sha256$2(o)}async function encrypt$1(t,e,a){let o=new TextEncoder().encode(t),s=!1,l=o;if(o.length>COMPRESSION_THRESHOLD){const g=await compress(o);g.length<o.length&&(l=new Uint8Array(g),s=!0)}const c=deriveSharedSecret(e,a),u=randomBytes(16),h=await aesEncrypt(l,c,u),f=toBase64$1(h),m=toBase64$1(u);return s?`${COMPRESSION_PREFIX}${f}?iv=${m}`:`${f}?iv=${m}`}async function decrypt$1(t,e,a){let r=t,o=!1;r.startsWith(COMPRESSION_PREFIX)&&(r=r.slice(COMPRESSION_PREFIX.length),o=!0);const s=r.split("?iv=");if(s.length!==2)throw new Error("Invalid encrypted content format");const l=s[0],c=s[1],u=fromBase64$1$1(l),h=fromBase64$1$1(c);if(h.length!==16)throw new Error("Invalid IV length");const f=deriveSharedSecret(e,a);let m=await aesDecrypt(u,f,h);return o&&(m=await decompress(m)),new TextDecoder().decode(m)}function isBytes(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function abool(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function anumber(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function abytes(t,...e){if(!isBytes(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function aexists(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function aoutput(t,e){abytes(t);const a=e.outputLen;if(t.length<a)throw new Error("digestInto() expects output buffer of length at least "+a)}function u32(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function clean(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function createView(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function utf8ToBytes(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function toBytes(t){if(typeof t=="string")t=utf8ToBytes(t);else if(isBytes(t))t=copyBytes(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function checkOpts(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function equalBytes(t,e){if(t.length!==e.length)return!1;let a=0;for(let r=0;r<t.length;r++)a|=t[r]^e[r];return a===0}const wrapCipher=(t,e)=>{function a(r,...o){if(abytes(r),!isLE)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){const f=o[0];if(!f)throw new Error("nonce / iv required");t.varSizeNonce?abytes(f):abytes(f,t.nonceLength)}const s=t.tagLength;s&&o[1]!==void 0&&abytes(o[1]);const l=e(r,...o),c=(f,m)=>{if(m!==void 0){if(f!==2)throw new Error("cipher output not supported");abytes(m)}};let u=!1;return{encrypt(f,m){if(u)throw new Error("cannot encrypt() twice with same key + nonce");return u=!0,abytes(f),c(l.encrypt.length,m),l.encrypt(f,m)},decrypt(f,m){if(abytes(f),s&&f.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return c(l.decrypt.length,m),l.decrypt(f,m)}}}return Object.assign(a,t),a};function getOutput(t,e,a=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(a&&!isAligned32$1(e))throw new Error("invalid output, must be aligned");return e}function setBigUint64(t,e,a,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,a,r);const o=BigInt(32),s=BigInt(4294967295),l=Number(a>>o&s),c=Number(a&s),u=4,h=0;t.setUint32(e+u,l,r),t.setUint32(e+h,c,r)}function u64Lengths(t,e,a){abool(a);const r=new Uint8Array(16),o=createView(r);return setBigUint64(o,0,BigInt(e),a),setBigUint64(o,8,BigInt(t),a),r}function isAligned32$1(t){return t.byteOffset%4===0}function copyBytes(t){return Uint8Array.from(t)}const _utf8ToBytes=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),sigma16=_utf8ToBytes("expand 16-byte k"),sigma32=_utf8ToBytes("expand 32-byte k"),sigma16_32=u32(sigma16),sigma32_32=u32(sigma32);function rotl(t,e){return t<<e|t>>>32-e}function isAligned32(t){return t.byteOffset%4===0}const BLOCK_LEN=64,BLOCK_LEN32=16,MAX_COUNTER=2**32-1,U32_EMPTY=new Uint32Array;function runCipher(t,e,a,r,o,s,l,c){const u=o.length,h=new Uint8Array(BLOCK_LEN),f=u32(h),m=isAligned32(o)&&isAligned32(s),g=m?u32(o):U32_EMPTY,b=m?u32(s):U32_EMPTY;for(let w=0;w<u;l++){if(t(e,a,r,f,l,c),l>=MAX_COUNTER)throw new Error("arx: counter overflow");const E=Math.min(BLOCK_LEN,u-w);if(m&&E===BLOCK_LEN){const C=w/4;if(w%4!==0)throw new Error("arx: invalid block position");for(let B=0,O;B<BLOCK_LEN32;B++)O=C+B,b[O]=g[O]^f[B];w+=BLOCK_LEN;continue}for(let C=0,B;C<E;C++)B=w+C,s[B]=o[B]^h[C];w+=E}}function createCipher(t,e){const{allowShortKeys:a,extendNonceFn:r,counterLength:o,counterRight:s,rounds:l}=checkOpts({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return anumber(o),anumber(l),abool(s),abool(a),(c,u,h,f,m=0)=>{abytes(c),abytes(u),abytes(h);const g=h.length;if(f===void 0&&(f=new Uint8Array(g)),abytes(f),anumber(m),m<0||m>=MAX_COUNTER)throw new Error("arx: counter overflow");if(f.length<g)throw new Error(`arx: output (${f.length}) is shorter than data (${g})`);const b=[];let w=c.length,E,C;if(w===32)b.push(E=copyBytes(c)),C=sigma32_32;else if(w===16&&a)E=new Uint8Array(32),E.set(c),E.set(c,16),C=sigma16_32,b.push(E);else throw new Error(`arx: invalid 32-byte key, got length=${w}`);isAligned32(u)||b.push(u=copyBytes(u));const B=u32(E);if(r){if(u.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(C,B,u32(u.subarray(0,16)),B),u=u.subarray(16)}const O=16-o;if(O!==u.length)throw new Error(`arx: nonce must be ${O} or 16 bytes`);if(O!==12){const q=new Uint8Array(12);q.set(u,s?0:12-u.length),u=q,b.push(u)}const P=u32(u);return runCipher(t,C,B,P,h,f,m,l),clean(...b),f}}const u8to16=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class Poly1305{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=toBytes(e),abytes(e,32);const a=u8to16(e,0),r=u8to16(e,2),o=u8to16(e,4),s=u8to16(e,6),l=u8to16(e,8),c=u8to16(e,10),u=u8to16(e,12),h=u8to16(e,14);this.r[0]=a&8191,this.r[1]=(a>>>13|r<<3)&8191,this.r[2]=(r>>>10|o<<6)&7939,this.r[3]=(o>>>7|s<<9)&8191,this.r[4]=(s>>>4|l<<12)&255,this.r[5]=l>>>1&8190,this.r[6]=(l>>>14|c<<2)&8191,this.r[7]=(c>>>11|u<<5)&8065,this.r[8]=(u>>>8|h<<8)&8191,this.r[9]=h>>>5&127;for(let f=0;f<8;f++)this.pad[f]=u8to16(e,16+2*f)}process(e,a,r=!1){const o=r?0:2048,{h:s,r:l}=this,c=l[0],u=l[1],h=l[2],f=l[3],m=l[4],g=l[5],b=l[6],w=l[7],E=l[8],C=l[9],B=u8to16(e,a+0),O=u8to16(e,a+2),P=u8to16(e,a+4),q=u8to16(e,a+6),z=u8to16(e,a+8),V=u8to16(e,a+10),Z=u8to16(e,a+12),J=u8to16(e,a+14);let W=s[0]+(B&8191),te=s[1]+((B>>>13|O<<3)&8191),G=s[2]+((O>>>10|P<<6)&8191),D=s[3]+((P>>>7|q<<9)&8191),M=s[4]+((q>>>4|z<<12)&8191),v=s[5]+(z>>>1&8191),S=s[6]+((z>>>14|V<<2)&8191),N=s[7]+((V>>>11|Z<<5)&8191),R=s[8]+((Z>>>8|J<<8)&8191),k=s[9]+(J>>>5|o),j=0,I=j+W*c+te*(5*C)+G*(5*E)+D*(5*w)+M*(5*b);j=I>>>13,I&=8191,I+=v*(5*g)+S*(5*m)+N*(5*f)+R*(5*h)+k*(5*u),j+=I>>>13,I&=8191;let A=j+W*u+te*c+G*(5*C)+D*(5*E)+M*(5*w);j=A>>>13,A&=8191,A+=v*(5*b)+S*(5*g)+N*(5*m)+R*(5*f)+k*(5*h),j+=A>>>13,A&=8191;let $=j+W*h+te*u+G*c+D*(5*C)+M*(5*E);j=$>>>13,$&=8191,$+=v*(5*w)+S*(5*b)+N*(5*g)+R*(5*m)+k*(5*f),j+=$>>>13,$&=8191;let L=j+W*f+te*h+G*u+D*c+M*(5*C);j=L>>>13,L&=8191,L+=v*(5*E)+S*(5*w)+N*(5*b)+R*(5*g)+k*(5*m),j+=L>>>13,L&=8191;let Y=j+W*m+te*f+G*h+D*u+M*c;j=Y>>>13,Y&=8191,Y+=v*(5*C)+S*(5*E)+N*(5*w)+R*(5*b)+k*(5*g),j+=Y>>>13,Y&=8191;let le=j+W*g+te*m+G*f+D*h+M*u;j=le>>>13,le&=8191,le+=v*c+S*(5*C)+N*(5*E)+R*(5*w)+k*(5*b),j+=le>>>13,le&=8191;let re=j+W*b+te*g+G*m+D*f+M*h;j=re>>>13,re&=8191,re+=v*u+S*c+N*(5*C)+R*(5*E)+k*(5*w),j+=re>>>13,re&=8191;let U=j+W*w+te*b+G*g+D*m+M*f;j=U>>>13,U&=8191,U+=v*h+S*u+N*c+R*(5*C)+k*(5*E),j+=U>>>13,U&=8191;let K=j+W*E+te*w+G*b+D*g+M*m;j=K>>>13,K&=8191,K+=v*f+S*h+N*u+R*c+k*(5*C),j+=K>>>13,K&=8191;let se=j+W*C+te*E+G*w+D*b+M*g;j=se>>>13,se&=8191,se+=v*m+S*f+N*h+R*u+k*c,j+=se>>>13,se&=8191,j=(j<<2)+j|0,j=j+I|0,I=j&8191,j=j>>>13,A+=j,s[0]=I,s[1]=A,s[2]=$,s[3]=L,s[4]=Y,s[5]=le,s[6]=re,s[7]=U,s[8]=K,s[9]=se}finalize(){const{h:e,pad:a}=this,r=new Uint16Array(10);let o=e[1]>>>13;e[1]&=8191;for(let c=2;c<10;c++)e[c]+=o,o=e[c]>>>13,e[c]&=8191;e[0]+=o*5,o=e[0]>>>13,e[0]&=8191,e[1]+=o,o=e[1]>>>13,e[1]&=8191,e[2]+=o,r[0]=e[0]+5,o=r[0]>>>13,r[0]&=8191;for(let c=1;c<10;c++)r[c]=e[c]+o,o=r[c]>>>13,r[c]&=8191;r[9]-=8192;let s=(o^1)-1;for(let c=0;c<10;c++)r[c]&=s;s=~s;for(let c=0;c<10;c++)e[c]=e[c]&s|r[c];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let l=e[0]+a[0];e[0]=l&65535;for(let c=1;c<8;c++)l=(e[c]+a[c]|0)+(l>>>16)|0,e[c]=l&65535;clean(r)}update(e){aexists(this),e=toBytes(e),abytes(e);const{buffer:a,blockLen:r}=this,o=e.length;for(let s=0;s<o;){const l=Math.min(r-this.pos,o-s);if(l===r){for(;r<=o-s;s+=r)this.process(e,s);continue}a.set(e.subarray(s,s+l),this.pos),this.pos+=l,s+=l,this.pos===r&&(this.process(a,0,!1),this.pos=0)}return this}destroy(){clean(this.h,this.r,this.buffer,this.pad)}digestInto(e){aexists(this),aoutput(e,this),this.finished=!0;const{buffer:a,h:r}=this;let{pos:o}=this;if(o){for(a[o++]=1;o<16;o++)a[o]=0;this.process(a,0,!0)}this.finalize();let s=0;for(let l=0;l<8;l++)e[s++]=r[l]>>>0,e[s++]=r[l]>>>8;return e}digest(){const{buffer:e,outputLen:a}=this;this.digestInto(e);const r=e.slice(0,a);return this.destroy(),r}}function wrapConstructorWithKey(t){const e=(r,o)=>t(o).update(toBytes(r)).digest(),a=t(new Uint8Array(32));return e.outputLen=a.outputLen,e.blockLen=a.blockLen,e.create=r=>t(r),e}const poly1305=wrapConstructorWithKey(t=>new Poly1305(t));function chachaCore(t,e,a,r,o,s=20){let l=t[0],c=t[1],u=t[2],h=t[3],f=e[0],m=e[1],g=e[2],b=e[3],w=e[4],E=e[5],C=e[6],B=e[7],O=o,P=a[0],q=a[1],z=a[2],V=l,Z=c,J=u,W=h,te=f,G=m,D=g,M=b,v=w,S=E,N=C,R=B,k=O,j=P,I=q,A=z;for(let L=0;L<s;L+=2)V=V+te|0,k=rotl(k^V,16),v=v+k|0,te=rotl(te^v,12),V=V+te|0,k=rotl(k^V,8),v=v+k|0,te=rotl(te^v,7),Z=Z+G|0,j=rotl(j^Z,16),S=S+j|0,G=rotl(G^S,12),Z=Z+G|0,j=rotl(j^Z,8),S=S+j|0,G=rotl(G^S,7),J=J+D|0,I=rotl(I^J,16),N=N+I|0,D=rotl(D^N,12),J=J+D|0,I=rotl(I^J,8),N=N+I|0,D=rotl(D^N,7),W=W+M|0,A=rotl(A^W,16),R=R+A|0,M=rotl(M^R,12),W=W+M|0,A=rotl(A^W,8),R=R+A|0,M=rotl(M^R,7),V=V+G|0,A=rotl(A^V,16),N=N+A|0,G=rotl(G^N,12),V=V+G|0,A=rotl(A^V,8),N=N+A|0,G=rotl(G^N,7),Z=Z+D|0,k=rotl(k^Z,16),R=R+k|0,D=rotl(D^R,12),Z=Z+D|0,k=rotl(k^Z,8),R=R+k|0,D=rotl(D^R,7),J=J+M|0,j=rotl(j^J,16),v=v+j|0,M=rotl(M^v,12),J=J+M|0,j=rotl(j^J,8),v=v+j|0,M=rotl(M^v,7),W=W+te|0,I=rotl(I^W,16),S=S+I|0,te=rotl(te^S,12),W=W+te|0,I=rotl(I^W,8),S=S+I|0,te=rotl(te^S,7);let $=0;r[$++]=l+V|0,r[$++]=c+Z|0,r[$++]=u+J|0,r[$++]=h+W|0,r[$++]=f+te|0,r[$++]=m+G|0,r[$++]=g+D|0,r[$++]=b+M|0,r[$++]=w+v|0,r[$++]=E+S|0,r[$++]=C+N|0,r[$++]=B+R|0,r[$++]=O+k|0,r[$++]=P+j|0,r[$++]=q+I|0,r[$++]=z+A|0}const chacha20=createCipher(chachaCore,{counterRight:!1,counterLength:4,allowShortKeys:!1}),ZEROS16=new Uint8Array(16),updatePadded=(t,e)=>{t.update(e);const a=e.length%16;a&&t.update(ZEROS16.subarray(a))},ZEROS32=new Uint8Array(32);function computeTag(t,e,a,r,o){const s=t(e,a,ZEROS32),l=poly1305.create(s);o&&updatePadded(l,o),updatePadded(l,r);const c=u64Lengths(r.length,o?o.length:0,!0);l.update(c);const u=l.digest();return clean(s,c),u}const _poly1305_aead=t=>(e,a,r)=>({encrypt(s,l){const c=s.length;l=getOutput(c+16,l,!1),l.set(s);const u=l.subarray(0,-16);t(e,a,u,u,1);const h=computeTag(t,e,a,u,r);return l.set(h,c),clean(h),l},decrypt(s,l){l=getOutput(s.length-16,l,!1);const c=s.subarray(0,-16),u=s.subarray(-16),h=computeTag(t,e,a,c,r);if(!equalBytes(u,h))throw new Error("invalid tag");return l.set(s.subarray(0,-16)),t(e,a,l,l,1),clean(h),l}}),chacha20poly1305=wrapCipher({blockSize:64,nonceLength:12,tagLength:16},_poly1305_aead(chacha20));function extract(t,e,a){return ahash(t),a===void 0&&(a=new Uint8Array(t.outputLen)),hmac(t,toBytes$1(a),toBytes$1(e))}const HKDF_COUNTER=Uint8Array.from([0]),EMPTY_BUFFER=Uint8Array.of();function expand(t,e,a,r=32){ahash(t),anumber$1(r);const o=t.outputLen;if(r>255*o)throw new Error("Length should be <= 255*HashLen");const s=Math.ceil(r/o);a===void 0&&(a=EMPTY_BUFFER);const l=new Uint8Array(s*o),c=hmac.create(t,e),u=c._cloneInto(),h=new Uint8Array(c.outputLen);for(let f=0;f<s;f++)HKDF_COUNTER[0]=f+1,u.update(f===0?EMPTY_BUFFER:h).update(a).update(HKDF_COUNTER).digestInto(h),l.set(h,o*f),c._cloneInto(u);return c.destroy(),u.destroy(),clean$1(h,HKDF_COUNTER),l.slice(0,r)}const hkdf=(t,e,a,r,o)=>expand(t,extract(t,e,a),r,o),VERSION=2,NONCE_SIZE=24,MAC_SIZE=16,MIN_PADDED_LEN=32,MAX_MESSAGE_LEN=65535,HKDF_SALT=new TextEncoder().encode("nip44-v2");function deriveConversationKey(t,e){if(t.length!==32)throw new Error("Private key must be 32 bytes");if(e.length!==32)throw new Error("Public key must be 32 bytes");const a=computeSharedX(t,e),r=secp256k1.getPublicKey(t,!0).slice(1),o=createSortedKeysSalt(r,e);return hkdf(sha256$2,a,o,HKDF_SALT,32)}function computeSharedX(t,e){const a=new Uint8Array(33);return a[0]=2,a.set(e,1),secp256k1.getSharedSecret(t,a).slice(1,33)}function createSortedKeysSalt(t,e){return compareBytes(t,e)<=0?concatBytes(t,e):concatBytes(e,t)}function compareBytes(t,e){const a=Math.min(t.length,e.length);for(let r=0;r<a;r++){const o=t[r]-e[r];if(o!==0)return o}return t.length-e.length}function calcPaddedLen(t){if(t<=0)throw new Error("Message too short");if(t>MAX_MESSAGE_LEN)throw new Error("Message too long");if(t<=32)return 32;const e=1<<Math.ceil(Math.log2(t)),a=Math.max(32,e>>3);return Math.ceil(t/a)*a}function pad(t){const e=t.length;if(e<1)throw new Error("Message too short");if(e>MAX_MESSAGE_LEN)throw new Error("Message too long");const a=calcPaddedLen(e),r=new Uint8Array(2+a);return r[0]=e>>8&255,r[1]=e&255,r.set(t,2),r}function unpad(t){if(t.length<2+MIN_PADDED_LEN)throw new Error("Padded message too short");const e=t[0]<<8|t[1];if(e<1||e>MAX_MESSAGE_LEN)throw new Error(`Invalid message length: ${e}`);const a=calcPaddedLen(e);if(t.length!==2+a)throw new Error("Invalid padding");return t.slice(2,2+e)}function encrypt(t,e,a){const r=deriveConversationKey(e,a);return encryptWithKey(t,r)}function encryptWithKey(t,e){const r=new TextEncoder().encode(t);if(r.length>MAX_MESSAGE_LEN)throw new Error(`Message too long (max ${MAX_MESSAGE_LEN} bytes)`);const o=pad(r),s=randomBytes(NONCE_SIZE),l=hkdf(sha256$2,e,s,new Uint8Array(0),76),c=l.slice(0,32),u=l.slice(32,44),f=chacha20poly1305(c,u).encrypt(o),m=new Uint8Array(1+NONCE_SIZE+f.length);return m[0]=VERSION,m.set(s,1),m.set(f,1+NONCE_SIZE),toBase64(m)}function decrypt(t,e,a){const r=deriveConversationKey(e,a);return decryptWithKey(t,r)}function decryptWithKey(t,e){const a=fromBase64$2(t);if(a.length<1+NONCE_SIZE+MIN_PADDED_LEN+MAC_SIZE)throw new Error("Payload too short");if(a[0]!==VERSION)throw new Error(`Unsupported NIP-44 version: ${a[0]}`);const r=a.slice(1,1+NONCE_SIZE),o=a.slice(1+NONCE_SIZE),s=hkdf(sha256$2,e,r,new Uint8Array(0),76),l=s.slice(0,32),c=s.slice(32,44),h=chacha20poly1305(l,c).decrypt(o),f=unpad(h);return new TextDecoder().decode(f)}function toBase64(t){if(typeof Buffer<"u")return Buffer.from(t).toString("base64");let e="";for(let a=0;a<t.length;a++)e+=String.fromCharCode(t[a]);return btoa(e)}function fromBase64$2(t){if(typeof Buffer<"u")return new Uint8Array(Buffer.from(t,"base64"));const e=atob(t),a=new Uint8Array(e.length);for(let r=0;r<e.length;r++)a[r]=e.charCodeAt(r);return a}class NostrKeyManager{privateKey;publicKey;cleared=!1;constructor(e){if(e.length!==32)throw new Error("Private key must be 32 bytes");this.privateKey=new Uint8Array(e),this.publicKey=getPublicKey(this.privateKey)}static fromPrivateKey(e){return new NostrKeyManager(e)}static fromPrivateKeyHex(e){const a=hexToBytes$1(e);return new NostrKeyManager(a)}static fromNsec(e){const a=decodeNsec(e);return new NostrKeyManager(a)}static generate(){const e=randomBytes(32);return new NostrKeyManager(e)}ensureNotCleared(){if(this.cleared)throw new Error("KeyManager has been cleared")}getPrivateKey(){return this.ensureNotCleared(),new Uint8Array(this.privateKey)}getPrivateKeyHex(){return this.ensureNotCleared(),bytesToHex$2(this.privateKey)}getNsec(){return this.ensureNotCleared(),encodeNsec(this.privateKey)}getPublicKey(){return this.ensureNotCleared(),new Uint8Array(this.publicKey)}getPublicKeyHex(){return this.ensureNotCleared(),bytesToHex$2(this.publicKey)}getNpub(){return this.ensureNotCleared(),encodeNpub(this.publicKey)}sign(e){return this.ensureNotCleared(),sign(e,this.privateKey)}signHex(e){return this.ensureNotCleared(),signHex(e,this.privateKey)}static verify(e,a,r){return verify(e,a,r)}static verifyHex(e,a,r){return verifyHex(e,a,r)}async encrypt(e,a){return this.ensureNotCleared(),encrypt$1(e,this.privateKey,a)}async encryptHex(e,a){this.ensureNotCleared();const r=hexToBytes$1(a);return encrypt$1(e,this.privateKey,r)}async decrypt(e,a){return this.ensureNotCleared(),decrypt$1(e,this.privateKey,a)}async decryptHex(e,a){this.ensureNotCleared();const r=hexToBytes$1(a);return decrypt$1(e,this.privateKey,r)}deriveSharedSecret(e){return this.ensureNotCleared(),deriveSharedSecret(this.privateKey,e)}encryptNip44(e,a){return this.ensureNotCleared(),encrypt(e,this.privateKey,a)}encryptNip44Hex(e,a){this.ensureNotCleared();const r=hexToBytes$1(a);return encrypt(e,this.privateKey,r)}decryptNip44(e,a){return this.ensureNotCleared(),decrypt(e,this.privateKey,a)}decryptNip44Hex(e,a){this.ensureNotCleared();const r=hexToBytes$1(a);return decrypt(e,this.privateKey,r)}deriveConversationKey(e){return this.ensureNotCleared(),deriveConversationKey(this.privateKey,e)}isMyPublicKey(e){return this.ensureNotCleared(),this.getPublicKeyHex()===e.toLowerCase()}clear(){this.privateKey.fill(0),this.cleared=!0}}let Event$1=class Ii{id;pubkey;created_at;kind;tags;content;sig;constructor(e){this.id=e.id,this.pubkey=e.pubkey,this.created_at=e.created_at,this.kind=e.kind,this.tags=e.tags,this.content=e.content,this.sig=e.sig}static create(e,a){const r=e.getPublicKeyHex(),o=a.created_at??Math.floor(Date.now()/1e3),s=Ii.calculateId(r,o,a.kind,a.tags,a.content),l=hexToBytes$1(s),c=e.signHex(l);return new Ii({id:s,pubkey:r,created_at:o,kind:a.kind,tags:a.tags,content:a.content,sig:c})}static calculateId(e,a,r,o,s){const l=JSON.stringify([0,e,a,r,o,s]),c=sha256$2(new TextEncoder().encode(l));return bytesToHex$2(c)}verify(){try{if(Ii.calculateId(this.pubkey,this.created_at,this.kind,this.tags,this.content)!==this.id)return!1;const a=hexToBytes$1(this.id),r=hexToBytes$1(this.sig),o=hexToBytes$1(this.pubkey);return verify(r,a,o)}catch{return!1}}static fromJSON(e){const a=typeof e=="string"?JSON.parse(e):e;if(!Ii.isValidEventData(a))throw new Error("Invalid event data");return new Ii(a)}static isValidEventData(e){if(typeof e!="object"||e===null)return!1;const a=e;return typeof a.id=="string"&&typeof a.pubkey=="string"&&typeof a.created_at=="number"&&typeof a.kind=="number"&&Array.isArray(a.tags)&&typeof a.content=="string"&&typeof a.sig=="string"}toJSON(){return{id:this.id,pubkey:this.pubkey,created_at:this.created_at,kind:this.kind,tags:this.tags,content:this.content,sig:this.sig}}getTagValue(e){return this.tags.find(r=>r[0]===e)?.[1]}getTagValues(e){return this.tags.filter(a=>a[0]===e).map(a=>a[1]??"")}hasTag(e){return this.tags.some(a=>a[0]===e)}getTagEntryValues(e){const a=this.tags.find(r=>r[0]===e);return a?a.slice(1):[]}};class Filter{ids;authors;kinds;"#e";"#p";"#t";"#d";since;until;limit;constructor(e){e&&(e.ids&&(this.ids=[...e.ids]),e.authors&&(this.authors=[...e.authors]),e.kinds&&(this.kinds=[...e.kinds]),e["#e"]&&(this["#e"]=[...e["#e"]]),e["#p"]&&(this["#p"]=[...e["#p"]]),e["#t"]&&(this["#t"]=[...e["#t"]]),e["#d"]&&(this["#d"]=[...e["#d"]]),e.since!==void 0&&(this.since=e.since),e.until!==void 0&&(this.until=e.until),e.limit!==void 0&&(this.limit=e.limit))}static builder(){return new FilterBuilder}toJSON(){const e={};return this.ids&&this.ids.length>0&&(e.ids=this.ids),this.authors&&this.authors.length>0&&(e.authors=this.authors),this.kinds&&this.kinds.length>0&&(e.kinds=this.kinds),this["#e"]&&this["#e"].length>0&&(e["#e"]=this["#e"]),this["#p"]&&this["#p"].length>0&&(e["#p"]=this["#p"]),this["#t"]&&this["#t"].length>0&&(e["#t"]=this["#t"]),this["#d"]&&this["#d"].length>0&&(e["#d"]=this["#d"]),this.since!==void 0&&(e.since=this.since),this.until!==void 0&&(e.until=this.until),this.limit!==void 0&&(e.limit=this.limit),e}static fromJSON(e){const a=typeof e=="string"?JSON.parse(e):e;return new Filter(a)}}class FilterBuilder{data={};ids(e,...a){return Array.isArray(e)?this.data.ids=[...e]:this.data.ids=[e,...a],this}authors(e,...a){return Array.isArray(e)?this.data.authors=[...e]:this.data.authors=[e,...a],this}kinds(e,...a){return Array.isArray(e)?this.data.kinds=[...e]:this.data.kinds=[e,...a],this}eTags(e,...a){return Array.isArray(e)?this.data["#e"]=[...e]:this.data["#e"]=[e,...a],this}pTags(e,...a){return Array.isArray(e)?this.data["#p"]=[...e]:this.data["#p"]=[e,...a],this}tTags(e,...a){return Array.isArray(e)?this.data["#t"]=[...e]:this.data["#t"]=[e,...a],this}dTags(e,...a){return Array.isArray(e)?this.data["#d"]=[...e]:this.data["#d"]=[e,...a],this}since(e){return this.data.since=e,this}until(e){return this.data.until=e,this}limit(e){return this.data.limit=e,this}build(){return new Filter(this.data)}}const PROFILE=0,TEXT_NOTE=1,RECOMMEND_RELAY=2,CONTACTS=3,ENCRYPTED_DM=4,DELETION=5,SEAL=13,CHAT_MESSAGE=14,READ_RECEIPT=15,REACTION=7,GIFT_WRAP=1059,RELAY_LIST=10002,APP_DATA=30078,AGENT_PROFILE=31111,AGENT_LOCATION=31112,TOKEN_TRANSFER=31113,FILE_METADATA=31114,PAYMENT_REQUEST=31115;function isReplaceable(t){return t===0||t===3||t>=1e4&&t<2e4}function isEphemeral(t){return t>=2e4&&t<3e4}function isParameterizedReplaceable(t){return t>=3e4&&t<4e4}function getName(t){switch(t){case PROFILE:return"Profile";case TEXT_NOTE:return"Text Note";case RECOMMEND_RELAY:return"Recommend Relay";case CONTACTS:return"Contacts";case ENCRYPTED_DM:return"Encrypted DM";case DELETION:return"Deletion";case SEAL:return"Seal";case CHAT_MESSAGE:return"Chat Message";case READ_RECEIPT:return"Read Receipt";case REACTION:return"Reaction";case GIFT_WRAP:return"Gift Wrap";case RELAY_LIST:return"Relay List";case APP_DATA:return"App Data";case AGENT_PROFILE:return"Agent Profile";case AGENT_LOCATION:return"Agent Location";case TOKEN_TRANSFER:return"Token Transfer";case FILE_METADATA:return"File Metadata";case PAYMENT_REQUEST:return"Payment Request";default:return isReplaceable(t)?`Replaceable (${t})`:isEphemeral(t)?`Ephemeral (${t})`:isParameterizedReplaceable(t)?`Parameterized Replaceable (${t})`:`Unknown (${t})`}}var EventKinds=Object.freeze({__proto__:null,AGENT_LOCATION,AGENT_PROFILE,APP_DATA,CHAT_MESSAGE,CONTACTS,DELETION,ENCRYPTED_DM,FILE_METADATA,GIFT_WRAP,PAYMENT_REQUEST,PROFILE,REACTION,READ_RECEIPT,RECOMMEND_RELAY,RELAY_LIST,SEAL,TEXT_NOTE,TOKEN_TRANSFER,getName,isEphemeral,isParameterizedReplaceable,isReplaceable});const OPEN=1,CLOSED=3;async function createWebSocket(t){if(typeof WebSocket>"u")throw new Error("WebSocket not available in this environment");return new WebSocket(t)}function extractMessageData(t){if(typeof t.data=="string")return t.data;if(t.data instanceof ArrayBuffer)return new TextDecoder().decode(t.data);if(typeof Blob<"u"&&t.data instanceof Blob)throw new Error("Blob messages are not supported");return String(t.data)}const TIMESTAMP_RANDOMIZATION=2880*60;function createGiftWrap(t,e,a,r){const o=createRumor(t.getPublicKeyHex(),e,a,CHAT_MESSAGE,r?.replyToEventId),s=createSeal(t,e,o);return wrapSeal(s,e)}function createReadReceipt(t,e,a){const r=[["p",e],["e",a]],o=Math.floor(Date.now()/1e3),s={id:"",pubkey:t.getPublicKeyHex(),created_at:o,kind:READ_RECEIPT,tags:r,content:""};s.id=computeRumorId(s);const l=createSeal(t,e,s);return wrapSeal(l,e)}function unwrap(t,e){if(t.kind!==GIFT_WRAP)throw new Error(`Event is not a gift wrap (kind ${t.kind})`);const a=t.pubkey,r=hexToBytes$1(a),o=decrypt(t.content,e.getPrivateKey(),r),s=JSON.parse(o);if(s.kind!==SEAL)throw new Error(`Inner event is not a seal (kind ${s.kind})`);const l=s.pubkey,c=hexToBytes$1(s.id),u=hexToBytes$1(s.sig),h=hexToBytes$1(l);if(!verify(u,c,h))throw new Error("Seal signature verification failed");const f=decrypt(s.content,e.getPrivateKey(),h),m=JSON.parse(f),g=getTagValue(m.tags,"e");return{eventId:t.id,senderPubkey:l,recipientPubkey:e.getPublicKeyHex(),content:m.content,timestamp:m.created_at,kind:m.kind,replyToEventId:g}}function createRumor(t,e,a,r,o){const s=[["p",e]];o&&s.push(["e",o,"","reply"]);const l=Math.floor(Date.now()/1e3),c={id:"",pubkey:t,created_at:l,kind:r,tags:s,content:a};return c.id=computeRumorId(c),c}function computeRumorId(t){const e=JSON.stringify([0,t.pubkey,t.created_at,t.kind,t.tags,t.content]),a=sha256$2(new TextEncoder().encode(e));return bytesToHex$2(a)}function createSeal(t,e,a){const r=JSON.stringify(a),o=hexToBytes$1(e),s=encrypt(r,t.getPrivateKey(),o),l=t.getPublicKeyHex(),c=randomizeTimestamp(),u=SEAL,h=[],f=s,m=Event$1.calculateId(l,c,u,h,f),g=hexToBytes$1(m),b=t.signHex(g);return new Event$1({id:m,pubkey:l,created_at:c,kind:u,tags:h,content:f,sig:b})}function wrapSeal(t,e){const a=NostrKeyManager.generate(),r=JSON.stringify(t.toJSON()),o=hexToBytes$1(e),s=encrypt(r,a.getPrivateKey(),o),l=a.getPublicKeyHex(),c=randomizeTimestamp(),u=GIFT_WRAP,h=[["p",e]],f=s,m=Event$1.calculateId(l,c,u,h,f),g=hexToBytes$1(m),b=a.signHex(g);return a.clear(),new Event$1({id:m,pubkey:l,created_at:c,kind:u,tags:h,content:f,sig:b})}function randomizeTimestamp(){const t=Math.floor(Date.now()/1e3),e=Math.floor(Math.random()*2*TIMESTAMP_RANDOMIZATION)-TIMESTAMP_RANDOMIZATION;return t+e}function getTagValue(t,e){return t.find(r=>r[0]===e)?.[1]}const CONNECTION_TIMEOUT_MS=3e4,DEFAULT_QUERY_TIMEOUT_MS=5e3,DEFAULT_RECONNECT_INTERVAL_MS=1e3,DEFAULT_MAX_RECONNECT_INTERVAL_MS=3e4,DEFAULT_PING_INTERVAL_MS=3e4;class NostrClient{keyManager;relays=new Map;subscriptions=new Map;eventQueue=[];pendingOks=new Map;subscriptionCounter=0;closed=!1;queryTimeoutMs;autoReconnect;reconnectIntervalMs;maxReconnectIntervalMs;pingIntervalMs;connectionListeners=[];constructor(e,a){this.keyManager=e,this.queryTimeoutMs=a?.queryTimeoutMs??DEFAULT_QUERY_TIMEOUT_MS,this.autoReconnect=a?.autoReconnect??!0,this.reconnectIntervalMs=a?.reconnectIntervalMs??DEFAULT_RECONNECT_INTERVAL_MS,this.maxReconnectIntervalMs=a?.maxReconnectIntervalMs??DEFAULT_MAX_RECONNECT_INTERVAL_MS,this.pingIntervalMs=a?.pingIntervalMs??DEFAULT_PING_INTERVAL_MS}addConnectionListener(e){this.connectionListeners.push(e)}removeConnectionListener(e){const a=this.connectionListeners.indexOf(e);a!==-1&&this.connectionListeners.splice(a,1)}emitConnectionEvent(e,a,r){for(const o of this.connectionListeners)try{switch(e){case"connect":o.onConnect?.(a);break;case"disconnect":o.onDisconnect?.(a,r);break;case"reconnecting":o.onReconnecting?.(a,r);break;case"reconnected":o.onReconnected?.(a);break}}catch{}}getKeyManager(){return this.keyManager}getQueryTimeout(){return this.queryTimeoutMs}setQueryTimeout(e){this.queryTimeoutMs=e}async connect(...e){if(this.closed)throw new Error("Client has been disconnected");const a=e.map(r=>this.connectToRelay(r));await Promise.all(a)}async connectToRelay(e,a=!1){const r=this.relays.get(e);if(!r?.connected)return new Promise((o,s)=>{const l=setTimeout(()=>{s(new Error(`Connection to ${e} timed out`))},CONNECTION_TIMEOUT_MS);createWebSocket(e).then(c=>{const u={url:e,socket:c,connected:!1,reconnecting:!1,reconnectAttempts:0,reconnectTimer:null,pingTimer:null,lastPongTime:Date.now(),wasConnected:r?.wasConnected??!1};c.onopen=()=>{clearTimeout(l),u.connected=!0,u.reconnectAttempts=0,u.lastPongTime=Date.now(),this.relays.set(e,u),a&&u.wasConnected?this.emitConnectionEvent("reconnected",e):this.emitConnectionEvent("connect",e),u.wasConnected=!0,this.startPingTimer(e),this.resubscribeAll(e),this.flushEventQueue(),o()},c.onmessage=h=>{try{const f=extractMessageData(h),m=this.relays.get(e);m&&(m.lastPongTime=Date.now()),this.handleRelayMessage(e,f)}catch(f){console.error(`Error handling message from ${e}:`,f)}},c.onclose=h=>{const f=u.connected;if(u.connected=!1,this.stopPingTimer(e),f){const m=h?.reason||"Connection closed";this.emitConnectionEvent("disconnect",e,m)}!this.closed&&this.autoReconnect&&!u.reconnecting&&this.scheduleReconnect(e)},c.onerror=h=>{u.connected||(clearTimeout(l),s(new Error(`Failed to connect to ${e}: ${h.message||"Unknown error"}`)))},this.relays.set(e,u)}).catch(c=>{clearTimeout(l),s(c)})})}scheduleReconnect(e){const a=this.relays.get(e);if(!a||this.closed||!this.autoReconnect)return;a.reconnectTimer&&clearTimeout(a.reconnectTimer),a.reconnecting=!0,a.reconnectAttempts++;const o=this.reconnectIntervalMs*Math.pow(2,a.reconnectAttempts-1),s=Math.min(o,this.maxReconnectIntervalMs);this.emitConnectionEvent("reconnecting",e,a.reconnectAttempts),a.reconnectTimer=setTimeout(async()=>{if(!this.closed){a.reconnectTimer=null;try{a.reconnecting=!1,await this.connectToRelay(e,!0)}catch{!this.closed&&this.autoReconnect&&this.scheduleReconnect(e)}}},s)}startPingTimer(e){if(this.pingIntervalMs<=0)return;const a=this.relays.get(e);a&&(this.stopPingTimer(e),a.pingTimer=setInterval(()=>{if(!a.connected||!a.socket){this.stopPingTimer(e);return}const r=Date.now()-a.lastPongTime;if(r>this.pingIntervalMs*2){console.warn(`Relay ${e} appears stale (no response for ${r}ms), reconnecting...`),this.stopPingTimer(e);try{a.socket.close()}catch{}return}try{const o="ping",s=JSON.stringify(["CLOSE",o]);a.socket.send(s);const l=JSON.stringify(["REQ",o,{limit:1}]);a.socket.send(l)}catch{console.warn(`Ping to ${e} failed, reconnecting...`),this.stopPingTimer(e);try{a.socket.close()}catch{}}},this.pingIntervalMs))}stopPingTimer(e){const a=this.relays.get(e);a?.pingTimer&&(clearInterval(a.pingTimer),a.pingTimer=null)}resubscribeAll(e){const a=this.relays.get(e);if(!(!a?.socket||!a.connected))for(const[r,o]of this.subscriptions){const s=JSON.stringify(["REQ",r,o.filter.toJSON()]);a.socket.send(s)}}flushEventQueue(){const e=[...this.eventQueue];this.eventQueue=[];for(const a of e)this.broadcastEvent(a.event).then(()=>a.resolve(a.event.id)).catch(a.reject)}handleRelayMessage(e,a){try{const r=JSON.parse(a);if(!Array.isArray(r)||r.length<2)return;switch(r[0]){case"EVENT":this.handleEventMessage(r);break;case"OK":this.handleOkMessage(r);break;case"EOSE":this.handleEOSEMessage(r);break;case"NOTICE":this.handleNoticeMessage(r);break;case"CLOSED":this.handleClosedMessage(r);break}}catch{}}handleEventMessage(e){if(e.length<3)return;const a=e[1],r=e[2],o=this.subscriptions.get(a);if(o)try{const s=Event$1.fromJSON(r);o.listener.onEvent(s)}catch{}}handleOkMessage(e){if(e.length<4)return;const a=e[1],r=e[2],o=e[3],s=this.pendingOks.get(a);s&&(clearTimeout(s.timer),this.pendingOks.delete(a),r?s.resolve(a):s.reject(new Error(`Event rejected: ${o}`)))}handleEOSEMessage(e){if(e.length<2)return;const a=e[1],r=this.subscriptions.get(a);r?.listener.onEndOfStoredEvents&&r.listener.onEndOfStoredEvents(a)}handleNoticeMessage(e){if(e.length<2)return;const a=e[1];console.warn("Relay notice:",a)}handleClosedMessage(e){if(e.length<3)return;const a=e[1],r=e[2],o=this.subscriptions.get(a);o?.listener.onError&&o.listener.onError(a,`Subscription closed: ${r}`)}disconnect(){this.closed=!0;for(const[,e]of this.pendingOks)clearTimeout(e.timer),e.reject(new Error("Client disconnected"));this.pendingOks.clear();for(const e of this.eventQueue)e.reject(new Error("Client disconnected"));this.eventQueue=[];for(const[e,a]of this.relays)a.pingTimer&&(clearInterval(a.pingTimer),a.pingTimer=null),a.reconnectTimer&&(clearTimeout(a.reconnectTimer),a.reconnectTimer=null),a.socket&&a.socket.readyState!==CLOSED&&a.socket.close(1e3,"Client disconnected"),this.emitConnectionEvent("disconnect",e,"Client disconnected");this.relays.clear(),this.subscriptions.clear()}isConnected(){for(const[,e]of this.relays)if(e.connected)return!0;return!1}getConnectedRelays(){const e=new Set;for(const[a,r]of this.relays)r.connected&&e.add(a);return e}async publishEvent(e){if(this.closed)throw new Error("Client has been disconnected");return this.isConnected()?this.broadcastEvent(e):new Promise((a,r)=>{this.eventQueue.push({event:e,timestamp:Date.now(),resolve:a,reject:r})})}async broadcastEvent(e){const a=JSON.stringify(["EVENT",e.toJSON()]);let r=!1;for(const[,o]of this.relays)o.connected&&o.socket?.readyState===OPEN&&(o.socket.send(a),r=!0);if(!r)throw new Error("No connected relays");return new Promise((o,s)=>{const l=setTimeout(()=>{this.pendingOks.delete(e.id),o(e.id)},5e3);this.pendingOks.set(e.id,{resolve:o,reject:s,timer:l})})}async publishEncryptedMessage(e,a){const r=await this.keyManager.encryptHex(a,e),o=Event$1.create(this.keyManager,{kind:ENCRYPTED_DM,tags:[["p",e]],content:r});return this.publishEvent(o)}async sendTokenTransfer(e,a,r){const s=await(await Promise.resolve().then(function(){return TokenTransferProtocol})).createTokenTransferEvent(this.keyManager,e,a,r);return this.publishEvent(s)}async sendPaymentRequest(e,a){const o=await(await Promise.resolve().then(function(){return PaymentRequestProtocol})).createPaymentRequestEvent(this.keyManager,e,a);return this.publishEvent(o)}async publishNametagBinding(e,a){const o=await(await Promise.resolve().then(function(){return NametagBinding})).createBindingEvent(this.keyManager,e,a);try{return await this.publishEvent(o),!0}catch{return!1}}subscribe(e,a,r){let o,s,l;typeof e=="string"?(o=e,s=a,l=r):(o=`sub_${++this.subscriptionCounter}`,s=e,l=a),this.subscriptions.set(o,{filter:s,listener:l});const c=JSON.stringify(["REQ",o,s.toJSON()]);for(const[,u]of this.relays)u.connected&&u.socket?.readyState===OPEN&&u.socket.send(c);return o}unsubscribe(e){if(!this.subscriptions.has(e))return;this.subscriptions.delete(e);const a=JSON.stringify(["CLOSE",e]);for(const[,r]of this.relays)r.connected&&r.socket?.readyState===OPEN&&r.socket.send(a)}async queryPubkeyByNametag(e){const r=(await Promise.resolve().then(function(){return NametagBinding})).createNametagToPubkeyFilter(e);return new Promise(o=>{const s=setTimeout(()=>{this.unsubscribe(u),o(null)},this.queryTimeoutMs);let l=null,c=0;const u=this.subscribe(r,{onEvent:h=>{h.created_at>c&&(c=h.created_at,l=h.pubkey)},onEndOfStoredEvents:()=>{clearTimeout(s),this.unsubscribe(u),o(l)}})})}async createAndPublishEvent(e){const a=Event$1.create(this.keyManager,e);return this.publishEvent(a)}async sendPrivateMessage(e,a,r){const o=createGiftWrap(this.keyManager,e,a,r);return this.publishEvent(o)}async sendPrivateMessageToNametag(e,a,r){const o=await this.queryPubkeyByNametag(e);if(!o)throw new Error(`Nametag not found: ${e}`);return this.sendPrivateMessage(o,a,r)}async sendReadReceipt(e,a){const r=createReadReceipt(this.keyManager,e,a);return this.publishEvent(r)}unwrapPrivateMessage(e){return unwrap(e,this.keyManager)}}var metadata={version:4,country_calling_codes:{1:["US","AG","AI","AS","BB","BM","BS","CA","DM","DO","GD","GU","JM","KN","KY","LC","MP","MS","PR","SX","TC","TT","VC","VG","VI"],7:["RU","KZ"],20:["EG"],27:["ZA"],30:["GR"],31:["NL"],32:["BE"],33:["FR"],34:["ES"],36:["HU"],39:["IT","VA"],40:["RO"],41:["CH"],43:["AT"],44:["GB","GG","IM","JE"],45:["DK"],46:["SE"],47:["NO","SJ"],48:["PL"],49:["DE"],51:["PE"],52:["MX"],53:["CU"],54:["AR"],55:["BR"],56:["CL"],57:["CO"],58:["VE"],60:["MY"],61:["AU","CC","CX"],62:["ID"],63:["PH"],64:["NZ"],65:["SG"],66:["TH"],81:["JP"],82:["KR"],84:["VN"],86:["CN"],90:["TR"],91:["IN"],92:["PK"],93:["AF"],94:["LK"],95:["MM"],98:["IR"],211:["SS"],212:["MA","EH"],213:["DZ"],216:["TN"],218:["LY"],220:["GM"],221:["SN"],222:["MR"],223:["ML"],224:["GN"],225:["CI"],226:["BF"],227:["NE"],228:["TG"],229:["BJ"],230:["MU"],231:["LR"],232:["SL"],233:["GH"],234:["NG"],235:["TD"],236:["CF"],237:["CM"],238:["CV"],239:["ST"],240:["GQ"],241:["GA"],242:["CG"],243:["CD"],244:["AO"],245:["GW"],246:["IO"],247:["AC"],248:["SC"],249:["SD"],250:["RW"],251:["ET"],252:["SO"],253:["DJ"],254:["KE"],255:["TZ"],256:["UG"],257:["BI"],258:["MZ"],260:["ZM"],261:["MG"],262:["RE","YT"],263:["ZW"],264:["NA"],265:["MW"],266:["LS"],267:["BW"],268:["SZ"],269:["KM"],290:["SH","TA"],291:["ER"],297:["AW"],298:["FO"],299:["GL"],350:["GI"],351:["PT"],352:["LU"],353:["IE"],354:["IS"],355:["AL"],356:["MT"],357:["CY"],358:["FI","AX"],359:["BG"],370:["LT"],371:["LV"],372:["EE"],373:["MD"],374:["AM"],375:["BY"],376:["AD"],377:["MC"],378:["SM"],380:["UA"],381:["RS"],382:["ME"],383:["XK"],385:["HR"],386:["SI"],387:["BA"],389:["MK"],420:["CZ"],421:["SK"],423:["LI"],500:["FK"],501:["BZ"],502:["GT"],503:["SV"],504:["HN"],505:["NI"],506:["CR"],507:["PA"],508:["PM"],509:["HT"],590:["GP","BL","MF"],591:["BO"],592:["GY"],593:["EC"],594:["GF"],595:["PY"],596:["MQ"],597:["SR"],598:["UY"],599:["CW","BQ"],670:["TL"],672:["NF"],673:["BN"],674:["NR"],675:["PG"],676:["TO"],677:["SB"],678:["VU"],679:["FJ"],680:["PW"],681:["WF"],682:["CK"],683:["NU"],685:["WS"],686:["KI"],687:["NC"],688:["TV"],689:["PF"],690:["TK"],691:["FM"],692:["MH"],850:["KP"],852:["HK"],853:["MO"],855:["KH"],856:["LA"],880:["BD"],886:["TW"],960:["MV"],961:["LB"],962:["JO"],963:["SY"],964:["IQ"],965:["KW"],966:["SA"],967:["YE"],968:["OM"],970:["PS"],971:["AE"],972:["IL"],973:["BH"],974:["QA"],975:["BT"],976:["MN"],977:["NP"],992:["TJ"],993:["TM"],994:["AZ"],995:["GE"],996:["KG"],998:["UZ"]},countries:{AC:["247","00","(?:[01589]\\d|[46])\\d{4}",[5,6]],AD:["376","00","(?:1|6\\d)\\d{7}|[135-9]\\d{5}",[6,8,9],[["(\\d{3})(\\d{3})","$1 $2",["[135-9]"]],["(\\d{4})(\\d{4})","$1 $2",["1"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]]],AE:["971","00","(?:[4-7]\\d|9[0-689])\\d{7}|800\\d{2,9}|[2-4679]\\d{7}",[5,6,7,8,9,10,11,12],[["(\\d{3})(\\d{2,9})","$1 $2",["60|8"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[236]|[479][2-8]"],"0$1"],["(\\d{3})(\\d)(\\d{5})","$1 $2 $3",["[479]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"]],"0"],AF:["93","00","[2-7]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"]],"0"],AG:["1","011","(?:268|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([457]\\d{6})$|1","268$1",0,"268"],AI:["1","011","(?:264|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2457]\\d{6})$|1","264$1",0,"264"],AL:["355","00","(?:700\\d\\d|900)\\d{3}|8\\d{5,7}|(?:[2-5]|6\\d)\\d{7}",[6,7,8,9],[["(\\d{3})(\\d{3,4})","$1 $2",["80|9"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["4[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2358][2-5]|4"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["[23578]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["6"],"0$1"]],"0"],AM:["374","00","(?:[1-489]\\d|55|60|77)\\d{6}",[8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[89]0"],"0 $1"],["(\\d{3})(\\d{5})","$1 $2",["2|3[12]"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["1|47"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[3-9]"],"0$1"]],"0"],AO:["244","00","[29]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[29]"]]]],AR:["54","00","(?:11|[89]\\d\\d)\\d{8}|[2368]\\d{9}",[10,11],[["(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9])","2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8]))|2(?:2[24-9]|3[1-59]|47)","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5[56][46]|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|58|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|54(?:4|5[13-7]|6[89])|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:454|85[56])[46]|3(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["1"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["[23]"],"0$1",1],["(\\d)(\\d{4})(\\d{2})(\\d{4})","$2 15-$3-$4",["9(?:2[2-469]|3[3-578])","9(?:2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9]))","9(?:2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8])))|92(?:2[24-9]|3[1-59]|47)","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5(?:[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|5(?:4(?:4|5[13-7]|6[89])|[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",0,"$1 $2 $3-$4"],["(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 15-$3-$4",["91"],"0$1",0,"$1 $2 $3-$4"],["(\\d{3})(\\d{3})(\\d{5})","$1-$2-$3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 15-$3-$4",["9"],"0$1",0,"$1 $2 $3-$4"]],"0",0,"0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[0-24-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:[069]|1[1568]|2[15]|3[145]|4[13]|5[14-8]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))15)?","9$1"],AS:["1","011","(?:[58]\\d\\d|684|900)\\d{7}",[10],0,"1",0,"([267]\\d{6})$|1","684$1",0,"684"],AT:["43","00","1\\d{3,12}|2\\d{6,12}|43(?:(?:0\\d|5[02-9])\\d{3,9}|2\\d{4,5}|[3467]\\d{4}|8\\d{4,6}|9\\d{4,7})|5\\d{4,12}|8\\d{7,12}|9\\d{8,12}|(?:[367]\\d|4[0-24-9])\\d{4,11}",[4,5,6,7,8,9,10,11,12,13],[["(\\d)(\\d{3,12})","$1 $2",["1(?:11|[2-9])"],"0$1"],["(\\d{3})(\\d{2})","$1 $2",["517"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["5[079]"],"0$1"],["(\\d{3})(\\d{3,10})","$1 $2",["(?:31|4)6|51|6(?:48|5[0-3579]|[6-9])|7(?:20|32|8)|[89]","(?:31|4)6|51|6(?:485|5[0-3579]|[6-9])|7(?:20|32|8)|[89]"],"0$1"],["(\\d{4})(\\d{3,9})","$1 $2",["[2-467]|5[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["5"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,7})","$1 $2 $3",["5"],"0$1"]],"0"],AU:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{7}(?:\\d(?:\\d{2})?)?|8[0-24-9]\\d{7})|[2-478]\\d{8}|1\\d{4,7}",[5,6,7,8,9,10,12],[["(\\d{2})(\\d{3,4})","$1 $2",["16"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["14|4"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:30|[89])"]]],"0",0,"(183[12])|0",0,0,0,[["(?:(?:241|349)0\\d\\d|8(?:51(?:0(?:0[03-9]|[12479]\\d|3[2-9]|5[0-8]|6[1-9]|8[0-7])|1(?:[0235689]\\d|1[0-69]|4[0-589]|7[0-47-9])|2(?:0[0-79]|[18][13579]|2[14-9]|3[0-46-9]|[4-6]\\d|7[89]|9[0-4])|[34]\\d\\d)|91(?:(?:[0-58]\\d|6[0135-9])\\d|7(?:0[0-24-9]|[1-9]\\d)|9(?:[0-46-9]\\d|5[0-79]))))\\d{3}|(?:2(?:[0-26-9]\\d|3[0-8]|4[02-9]|5[0135-9])|3(?:[0-3589]\\d|4[0-578]|6[1-9]|7[0-35-9])|7(?:[013-57-9]\\d|2[0-8])|8(?:55|6[0-8]|[78]\\d|9[02-9]))\\d{6}",[9]],["4(?:79[01]|83[0-36-9]|95[0-3])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-47-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,["163\\d{2,6}",[5,6,7,8,9]],["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],AW:["297","00","(?:[25-79]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[25-9]"]]]],AX:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","2\\d{4,9}|35\\d{4,5}|(?:60\\d\\d|800)\\d{4,6}|7\\d{5,11}|(?:[14]\\d|3[0-46-9]|50)\\d{4,8}",[5,6,7,8,9,10,11,12],0,"0",0,0,0,0,"18",0,"00"],AZ:["994","00","365\\d{6}|(?:[124579]\\d|60|88)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[28]|2|365|46","1[28]|2|365[45]|46","1[28]|2|365(?:4|5[02])|46"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[13-9]"],"0$1"]],"0"],BA:["387","00","6\\d{8}|(?:[35689]\\d|49|70)\\d{6}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["6[1-3]|[7-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2-$3",["[3-5]|6[56]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["6"],"0$1"]],"0"],BB:["1","011","(?:246|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","246$1",0,"246"],BD:["880","00","[1-469]\\d{9}|8[0-79]\\d{7,8}|[2-79]\\d{8}|[2-9]\\d{7}|[3-9]\\d{6}|[57-9]\\d{5}",[6,7,8,9,10],[["(\\d{2})(\\d{4,6})","$1-$2",["31[5-8]|[459]1"],"0$1"],["(\\d{3})(\\d{3,7})","$1-$2",["3(?:[67]|8[013-9])|4(?:6[168]|7|[89][18])|5(?:6[128]|9)|6(?:[15]|28|4[14])|7[2-589]|8(?:0[014-9]|[12])|9[358]|(?:3[2-5]|4[235]|5[2-578]|6[0389]|76|8[3-7]|9[24])1|(?:44|66)[01346-9]"],"0$1"],["(\\d{4})(\\d{3,6})","$1-$2",["[13-9]|2[23]"],"0$1"],["(\\d)(\\d{7,8})","$1-$2",["2"],"0$1"]],"0"],BE:["32","00","4\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:80|9)0"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[239]|4[23]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[15-8]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4"],"0$1"]],"0"],BF:["226","00","(?:[025-7]\\d|44)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[024-7]"]]]],BG:["359","00","00800\\d{7}|[2-7]\\d{6,7}|[89]\\d{6,8}|2\\d{5}",[6,7,8,9,12],[["(\\d)(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["43[1-6]|70[1-9]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:70|8)0"],"0$1"],["(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["43[1-7]|7"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[48]|9[08]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"]],"0"],BH:["973","00","[136-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[13679]|8[02-4679]"]]]],BI:["257","00","(?:[267]\\d|31)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2367]"]]]],BJ:["229","00","(?:01\\d|8)\\d{7}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["0"]]]],BL:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:2[7-9]|3[3-7]|5[12]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],BM:["1","011","(?:441|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","441$1",0,"441"],BN:["673","00","[2-578]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-578]"]]]],BO:["591","00(?:1\\d)?","8001\\d{5}|(?:[2-467]\\d|50)\\d{6}",[8,9],[["(\\d)(\\d{7})","$1 $2",["[235]|4[46]"]],["(\\d{8})","$1",["[67]"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["8"]]],"0",0,"0(1\\d)?"],BQ:["599","00","(?:[34]1|7\\d)\\d{5}",[7],0,0,0,0,0,0,"[347]"],BR:["55","00(?:1[245]|2[1-35]|31|4[13]|[56]5|99)","[1-467]\\d{9,10}|55[0-46-9]\\d{8}|[34]\\d{7}|55\\d{7,8}|(?:5[0-46-9]|[89]\\d)\\d{7,9}",[8,9,10,11],[["(\\d{4})(\\d{4})","$1-$2",["300|4(?:0[02]|37|86)","300|4(?:0(?:0|20)|370|864)"]],["(\\d{3})(\\d{2,3})(\\d{4})","$1 $2 $3",["(?:[358]|90)0"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-57]"],"($1)"],["(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["[16][1-9]|[2-57-9]"],"($1)"]],"0",0,"(?:0|90)(?:(1[245]|2[1-35]|31|4[13]|[56]5|99)(\\d{10,11}))?","$2"],BS:["1","011","(?:242|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([3-8]\\d{6})$|1","242$1",0,"242"],BT:["975","00","[178]\\d{7}|[2-8]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[2-6]|7[246]|8[2-4]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[67]|[78]"]]]],BW:["267","00","(?:0800|(?:[37]|800)\\d)\\d{6}|(?:[2-6]\\d|90)\\d{5}",[7,8,10],[["(\\d{2})(\\d{5})","$1 $2",["90"]],["(\\d{3})(\\d{4})","$1 $2",["[24-6]|3[15-9]"]],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37]"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["8"]]]],BY:["375","810","(?:[12]\\d|33|44|902)\\d{7}|8(?:0[0-79]\\d{5,7}|[1-7]\\d{9})|8(?:1[0-489]|[5-79]\\d)\\d{7}|8[1-79]\\d{6,7}|8[0-79]\\d{5}|8\\d{5}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3})","$1 $2",["800"],"8 $1"],["(\\d{3})(\\d{2})(\\d{2,4})","$1 $2 $3",["800"],"8 $1"],["(\\d{4})(\\d{2})(\\d{3})","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"],"8 0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["1(?:[56]|7[467])|2[1-3]"],"8 0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-4]"],"8 0$1"],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["[89]"],"8 $1"]],"8",0,"0|80?",0,0,0,0,"8~10"],BZ:["501","00","(?:0800\\d|[2-8])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1-$2",["[2-8]"]],["(\\d)(\\d{3})(\\d{4})(\\d{3})","$1-$2-$3-$4",["0"]]]],CA:["1","011","[2-9]\\d{9}|3\\d{6}",[7,10],0,"1",0,0,0,0,0,[["(?:2(?:04|[23]6|[48]9|5[07]|63)|3(?:06|43|54|6[578]|82)|4(?:03|1[68]|[26]8|3[178]|50|74)|5(?:06|1[49]|48|79|8[147])|6(?:04|[18]3|39|47|72)|7(?:0[59]|42|53|78|8[02])|8(?:[06]7|19|25|7[39])|9(?:0[25]|42))[2-9]\\d{6}",[10]],["",[10]],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",[10]],["900[2-9]\\d{6}",[10]],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|(?:5(?:2[125-9]|33|44|66|77|88)|6(?:22|33))[2-9]\\d{6}",[10]],0,["310\\d{4}",[7]],0,["600[2-9]\\d{6}",[10]]]],CC:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:02|31|60|89)|1(?:18|76)|223)|91(?:0(?:1[0-2]|29)|1(?:[28]2|50|79)|2(?:10|64)|3(?:[06]8|22)|4[29]8|62\\d|70[23]|959))\\d{3}",[9]],["4(?:79[01]|83[0-36-9]|95[0-3])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-47-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CD:["243","00","(?:(?:[189]|5\\d)\\d|2)\\d{7}|[1-68]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[1-6]"],"0$1"],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["5"],"0$1"]],"0"],CF:["236","00","(?:[27]\\d{3}|8776)\\d{4}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[278]"]]]],CG:["242","00","222\\d{6}|(?:0\\d|80)\\d{7}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[02]"]]]],CH:["41","00","8\\d{11}|[2-9]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8[047]|90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]|81"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["8"],"0$1"]],"0"],CI:["225","00","[02]\\d{9}",[10],[["(\\d{2})(\\d{2})(\\d)(\\d{5})","$1 $2 $3 $4",["2"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3 $4",["0"]]]],CK:["682","00","[2-578]\\d{4}",[5],[["(\\d{2})(\\d{3})","$1 $2",["[2-578]"]]]],CL:["56","(?:0|1(?:1[0-69]|2[02-5]|5[13-58]|69|7[0167]|8[018]))0","12300\\d{6}|6\\d{9,10}|[2-9]\\d{8}",[9,10,11],[["(\\d{5})(\\d{4})","$1 $2",["219","2196"],"($1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["60|809"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["44"]],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[1-36]"],"($1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["9(?:10|[2-9])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["3[2-5]|[47]|5[1-3578]|6[13-57]|8(?:0[1-8]|[1-9])"],"($1)"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["60|8"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{3})(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["60"]]]],CM:["237","00","[26]\\d{8}|88\\d{6,7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["88"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[26]|88"]]]],CN:["86","00|1(?:[12]\\d|79)\\d\\d00","(?:(?:1[03-689]|2\\d)\\d\\d|6)\\d{8}|1\\d{10}|[126]\\d{6}(?:\\d(?:\\d{2})?)?|86\\d{5,6}|(?:[3-579]\\d|8[0-57-9])\\d{5,9}",[7,8,9,10,11,12],[["(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2[0-57-9])[19]|3(?:[157]|35|49|9[1-68])|4(?:1[124-9]|2[179]|6[47-9]|7|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:07|1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3|4[13]|5[1-5]|7[0-79]|9[0-35-9])|(?:4[35]|59|85)[1-9]","(?:10|2[0-57-9])(?:1[02]|9[56])|8078|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))1","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|80781|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))12","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|807812|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:078|1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123"],"0$1"],["(\\d{3})(\\d{5,6})","$1 $2",["3(?:[157]|35|49|9[1-68])|4(?:[17]|2[179]|6[47-9]|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])|(?:4[35]|59|85)[1-9]","(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))[19]","85[23](?:10|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:10|9[56])","85[23](?:100|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100|9[56])"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["(?:4|80)0"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|2(?:[02-57-9]|1[1-9])","10|2(?:[02-57-9]|1[1-9])","10[0-79]|2(?:[02-57-9]|1[1-79])|(?:10|21)8(?:0[1-9]|[1-9])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:[3-59]|7[02-68])|4(?:[26-8]|3[3-9]|5[2-9])|5(?:3[03-9]|[468]|7[028]|9[2-46-9])|6|7(?:[0-247]|3[04-9]|5[0-4689]|6[2368])|8(?:[1-358]|9[1-7])|9(?:[013479]|5[1-5])|(?:[34]1|55|79|87)[02-9]"],"0$1",1],["(\\d{3})(\\d{7,8})","$1 $2",["9"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["80"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[3-578]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1[3-9]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["[12]"],"0$1",1]],"0",0,"(1(?:[12]\\d|79)\\d\\d)|0",0,0,0,0,"00"],CO:["57","00(?:4(?:[14]4|56)|[579])","(?:46|60\\d\\d)\\d{6}|(?:1\\d|[39])\\d{9}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["46"]],["(\\d{3})(\\d{7})","$1 $2",["6|90"],"($1)"],["(\\d{3})(\\d{7})","$1 $2",["3[0-357]|9[14]"]],["(\\d)(\\d{3})(\\d{7})","$1-$2-$3",["1"],"0$1",0,"$1 $2 $3"]],"0",0,"0([3579]|4(?:[14]4|56))?"],CR:["506","00","(?:8\\d|90)\\d{8}|(?:[24-8]\\d{3}|3005)\\d{4}",[8,10],[["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[3-9]"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[89]"]]],0,0,"(19(?:0[0-2468]|1[09]|20|66|77|99))"],CU:["53","119","(?:[2-7]|8\\d\\d)\\d{7}|[2-47]\\d{6}|[34]\\d{5}",[6,7,8,10],[["(\\d{2})(\\d{4,6})","$1 $2",["2[1-4]|[34]"],"(0$1)"],["(\\d)(\\d{6,7})","$1 $2",["7"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["[56]"],"0$1"],["(\\d{3})(\\d{7})","$1 $2",["8"],"0$1"]],"0"],CV:["238","0","(?:[2-59]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2-589]"]]]],CW:["599","00","(?:[34]1|60|(?:7|9\\d)\\d)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[3467]"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["9[4-8]"]]],0,0,0,0,0,"[69]"],CX:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:01|30|59|88)|1(?:17|46|75)|2(?:22|35))|91(?:00[6-9]|1(?:[28]1|49|78)|2(?:09|63)|3(?:12|26|75)|4(?:56|97)|64\\d|7(?:0[01]|1[0-2])|958))\\d{3}",[9]],["4(?:79[01]|83[0-36-9]|95[0-3])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-47-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CY:["357","00","(?:[279]\\d|[58]0)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[257-9]"]]]],CZ:["420","00","(?:[2-578]\\d|60)\\d{7}|9\\d{8,11}",[9,10,11,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]|9[015-7]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3 $4",["96"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]]],DE:["49","00","[2579]\\d{5,14}|49(?:[34]0|69|8\\d)\\d\\d?|49(?:37|49|60|7[089]|9\\d)\\d{1,3}|49(?:2[024-9]|3[2-689]|7[1-7])\\d{1,8}|(?:1|[368]\\d|4[0-8])\\d{3,13}|49(?:[015]\\d|2[13]|31|[46][1-8])\\d{1,9}",[4,5,6,7,8,9,10,11,12,13,14,15],[["(\\d{2})(\\d{3,13})","$1 $2",["3[02]|40|[68]9"],"0$1"],["(\\d{3})(\\d{3,12})","$1 $2",["2(?:0[1-389]|1[124]|2[18]|3[14])|3(?:[35-9][15]|4[015])|906|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1","2(?:0[1-389]|12[0-8])|3(?:[35-9][15]|4[015])|906|2(?:[13][14]|2[18])|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1"],"0$1"],["(\\d{4})(\\d{2,11})","$1 $2",["[24-6]|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]","[24-6]|3(?:3(?:0[1-467]|2[127-9]|3[124578]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|4[13578]|9[1346])|5(?:0[14]|2[1-3589]|6[1-4]|7[13468]|8[13568])|6(?:2[1-489]|3[124-6]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|6|7[1467]|8[136])|9(?:0[12479]|2[1358]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]|3[68]4[1347]|3(?:47|60)[1356]|3(?:3[46]|46|5[49])[1246]|3[4579]3[1357]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["138"],"0$1"],["(\\d{5})(\\d{2,10})","$1 $2",["3"],"0$1"],["(\\d{3})(\\d{5,11})","$1 $2",["181"],"0$1"],["(\\d{3})(\\d)(\\d{4,10})","$1 $2 $3",["1(?:3|80)|9"],"0$1"],["(\\d{3})(\\d{7,8})","$1 $2",["1[67]"],"0$1"],["(\\d{3})(\\d{7,12})","$1 $2",["8"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["185","1850","18500"],"0$1"],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["18[68]"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["15[1279]"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["15[03568]","15(?:[0568]|3[13])"],"0$1"],["(\\d{3})(\\d{8})","$1 $2",["18"],"0$1"],["(\\d{3})(\\d{2})(\\d{7,8})","$1 $2 $3",["1(?:6[023]|7)"],"0$1"],["(\\d{4})(\\d{2})(\\d{7})","$1 $2 $3",["15[279]"],"0$1"],["(\\d{3})(\\d{2})(\\d{8})","$1 $2 $3",["15"],"0$1"]],"0"],DJ:["253","00","(?:2\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[27]"]]]],DK:["45","00","[2-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-9]"]]]],DM:["1","011","(?:[58]\\d\\d|767|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","767$1",0,"767"],DO:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,0,0,0,"8001|8[024]9"],DZ:["213","00","(?:[1-4]|[5-79]\\d|80)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-8]"],"0$1"]],"0"],EC:["593","00","1\\d{9,10}|(?:[2-7]|9\\d)\\d{7}",[8,9,10,11],[["(\\d)(\\d{3})(\\d{4})","$1 $2-$3",["[2-7]"],"(0$1)",0,"$1-$2-$3"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{3})(\\d{3,4})","$1 $2 $3",["1"]]],"0"],EE:["372","00","8\\d{9}|[4578]\\d{7}|(?:[3-8]\\d|90)\\d{5}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]|88","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]|88"]],["(\\d{4})(\\d{3,4})","$1 $2",["[45]|8(?:00|[1-49])","[45]|8(?:00[1-9]|[1-49])"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],EG:["20","00","[189]\\d{8,9}|[24-6]\\d{8}|[135]\\d{7}",[8,9,10],[["(\\d)(\\d{7,8})","$1 $2",["[23]"],"0$1"],["(\\d{2})(\\d{6,7})","$1 $2",["1[35]|[4-6]|8[2468]|9[235-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{8})","$1 $2",["1"],"0$1"]],"0"],EH:["212","00","[5-8]\\d{8}",[9],0,"0",0,0,0,0,"528[89]"],ER:["291","00","[178]\\d{6}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[178]"],"0$1"]],"0"],ES:["34","00","[5-9]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]00"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-9]"]]]],ET:["251","00","(?:11|[2-579]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-579]"],"0$1"]],"0"],FI:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","[1-35689]\\d{4}|7\\d{10,11}|(?:[124-7]\\d|3[0-46-9])\\d{8}|[1-9]\\d{5,8}",[5,6,7,8,9,10,11,12],[["(\\d{5})","$1",["20[2-59]"],"0$1"],["(\\d{3})(\\d{3,7})","$1 $2",["(?:[1-3]0|[68])0|70[07-9]"],"0$1"],["(\\d{2})(\\d{4,8})","$1 $2",["[14]|2[09]|50|7[135]"],"0$1"],["(\\d{2})(\\d{6,10})","$1 $2",["7"],"0$1"],["(\\d)(\\d{4,9})","$1 $2",["(?:19|[2568])[1-8]|3(?:0[1-9]|[1-9])|9"],"0$1"]],"0",0,0,0,0,"1[03-79]|[2-9]",0,"00"],FJ:["679","0(?:0|52)","45\\d{5}|(?:0800\\d|[235-9])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1 $2",["[235-9]|45"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]]],0,0,0,0,0,0,0,"00"],FK:["500","00","[2-7]\\d{4}",[5]],FM:["691","00","(?:[39]\\d\\d|820)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[389]"]]]],FO:["298","00","[2-9]\\d{5}",[6],[["(\\d{6})","$1",["[2-9]"]]],0,0,"(10(?:01|[12]0|88))"],FR:["33","00","[1-9]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1"],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1"]],"0"],GA:["241","00","(?:[067]\\d|11)\\d{6}|[2-7]\\d{6}",[7,8],[["(\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["11|[67]"],"0$1"]],0,0,"0(11\\d{6}|60\\d{6}|61\\d{6}|6[256]\\d{6}|7[467]\\d{6})","$1"],GB:["44","00","[1-357-9]\\d{9}|[18]\\d{8}|8\\d{6}",[7,9,10],[["(\\d{3})(\\d{4})","$1 $2",["800","8001","80011","800111","8001111"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["845","8454","84546","845464"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["800"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["1(?:[2-69][02-9]|[78])"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[25]|7(?:0|6[02-9])","[25]|7(?:0|6(?:[03-9]|2[356]))"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[1389]"],"0$1"]],"0",0,"0|180020",0,0,0,[["(?:1(?:1(?:3(?:[0-58]\\d\\d|73[0-5])|4(?:(?:[0-5]\\d|70)\\d|69[7-9])|(?:(?:5[0-26-9]|[78][0-49])\\d|6(?:[0-4]\\d|5[01]))\\d)|(?:2(?:(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-47-9]|7[013-9]|9\\d)\\d|1(?:[0-7]\\d|8[0-3]))|(?:3(?:0\\d|1[0-8]|[25][02-9]|3[02-579]|[468][0-46-9]|7[1-35-79]|9[2-578])|4(?:0[03-9]|[137]\\d|[28][02-57-9]|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1-35-9]|[16]\\d|2[024-9]|3[015689]|4[02-9]|5[03-9]|7[0-35-9]|8[0-468]|9[0-57-9])|6(?:0[034689]|1\\d|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0-24578])|7(?:0[0246-9]|2\\d|3[0236-8]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-57-9]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7\\d|8[02-9]|9[02569])|9(?:0[02-589]|[18]\\d|2[02-689]|3[1-57-9]|4[2-9]|5[0-579]|6[2-47-9]|7[0-24578]|9[2-57]))\\d)\\d)|2(?:0[013478]|3[0189]|4[017]|8[0-46-9]|9[0-2])\\d{3})\\d{4}|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2\\d|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-47-9]|8[3-5])))|3(?:6(?:38[2-5]|47[23])|8(?:47[04-9]|64[0157-9]))|4(?:044[1-7]|20(?:2[23]|8\\d)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[1-3]))|5(?:2(?:4(?:3[2-79]|6\\d)|76\\d)|6(?:26[06-9]|686))|6(?:06(?:4\\d|7[4-79])|295[5-7]|35[34]\\d|47(?:24|61)|59(?:5[08]|6[67]|74)|9(?:55[0-4]|77[23]))|7(?:26(?:6[13-9]|7[0-7])|(?:442|688)\\d|50(?:2[0-3]|[3-68]2|76))|8(?:27[56]\\d|37(?:5[2-5]|8[239])|843[2-58])|9(?:0(?:0(?:6[1-8]|85)|52\\d)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))\\d{3}",[9,10]],["7(?:457[0-57-9]|700[01]|911[028])\\d{5}|7(?:[1-3]\\d\\d|4(?:[0-46-9]\\d|5[0-689])|5(?:0[0-8]|[13-9]\\d|2[0-35-9])|7(?:0[1-9]|[1-7]\\d|8[02-9]|9[0-689])|8(?:[014-9]\\d|[23][0-8])|9(?:[024-9]\\d|1[02-9]|3[0-689]))\\d{6}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[2-49]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]],0," x"],GD:["1","011","(?:473|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","473$1",0,"473"],GE:["995","00","(?:[3-57]\\d\\d|800)\\d{6}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["32"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[57]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[348]"],"0$1"]],"0"],GF:["594","00","(?:[56]94\\d|7093)\\d{5}|(?:80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]|9[47]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[89]"],"0$1"]],"0"],GG:["44","00","(?:1481|[357-9]\\d{3})\\d{6}|8\\d{6}(?:\\d{2})?",[7,9,10],0,"0",0,"([25-9]\\d{5})$|0|180020","1481$1",0,0,[["1481[25-9]\\d{5}",[10]],["7(?:(?:781|839)\\d|911[17])\\d{5}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[0-3]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]]],GH:["233","00","(?:[235]\\d{3}|800)\\d{5}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[235]"],"0$1"]],"0"],GI:["350","00","(?:[25]\\d|60)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["2"]]]],GL:["299","00","(?:19|[2-689]\\d|70)\\d{4}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["19|[2-9]"]]]],GM:["220","00","[2-9]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],GN:["224","00","722\\d{6}|(?:3|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["3"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[67]"]]]],GP:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[["590(?:0[1-68]|[14][0-24-9]|2[0-68]|3[1-9]|5[3-579]|[68][0-689]|7[08]|9\\d)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],GQ:["240","00","222\\d{6}|(?:3\\d|55|[89]0)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235]"]],["(\\d{3})(\\d{6})","$1 $2",["[89]"]]]],GR:["30","00","5005000\\d{3}|8\\d{9,11}|(?:[269]\\d|70)\\d{8}",[10,11,12],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["21|7"]],["(\\d{4})(\\d{6})","$1 $2",["2(?:2|3[2-57-9]|4[2-469]|5[2-59]|6[2-9]|7[2-69]|8[2-49])|5"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2689]"]],["(\\d{3})(\\d{3,4})(\\d{5})","$1 $2 $3",["8"]]]],GT:["502","00","80\\d{6}|(?:1\\d{3}|[2-7])\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1 $2",["[2-8]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],GU:["1","011","(?:[58]\\d\\d|671|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","671$1",0,"671"],GW:["245","00","[49]\\d{8}|4\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["40"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"]]]],GY:["592","001","(?:[2-8]\\d{3}|9008)\\d{3}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],HK:["852","00(?:30|5[09]|[126-9]?)","8[0-46-9]\\d{6,7}|9\\d{4,7}|(?:[2-7]|9\\d{3})\\d{7}",[5,6,7,8,9,11],[["(\\d{3})(\\d{2,5})","$1 $2",["900","9003"]],["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[1-4]|9(?:0[1-9]|[1-8])"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{3})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]],0,0,0,0,0,0,0,"00"],HN:["504","00","8\\d{10}|[237-9]\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1-$2",["[237-9]"]]]],HR:["385","00","[2-69]\\d{8}|80\\d{5,7}|[1-79]\\d{7}|6\\d{6}",[7,8,9],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["6[01]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{4})(\\d{3})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6|7[245]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-57]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"]],"0"],HT:["509","00","[2-589]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[2-589]"]]]],HU:["36","00","[235-7]\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27][2-9]|3[2-7]|4[24-9]|5[2-79]|6|8[2-57-9]|9[2-69]"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"06 $1"]],"06"],ID:["62","00[89]","00[1-9]\\d{9,14}|(?:[1-36]|8\\d{5})\\d{6}|00\\d{9}|[1-9]\\d{8,10}|[2-9]\\d{7}",[7,8,9,10,11,12,13,14,15,16,17],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["15"]],["(\\d{2})(\\d{5,9})","$1 $2",["2[124]|[36]1"],"(0$1)"],["(\\d{3})(\\d{5,7})","$1 $2",["800"],"0$1"],["(\\d{3})(\\d{5,8})","$1 $2",["[2-79]"],"(0$1)"],["(\\d{3})(\\d{3,4})(\\d{3})","$1-$2-$3",["8[1-35-9]"],"0$1"],["(\\d{3})(\\d{6,8})","$1 $2",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["804"],"0$1"],["(\\d{3})(\\d)(\\d{3})(\\d{3})","$1 $2 $3 $4",["80"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1-$2-$3",["8"],"0$1"]],"0"],IE:["353","00","(?:1\\d|[2569])\\d{6,8}|4\\d{6,9}|7\\d{8}|8\\d{8,9}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"],"(0$1)"],["(\\d{3})(\\d{5})","$1 $2",["[45]0"],"(0$1)"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["1"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2569]|4[1-69]|7[14]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["81"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[78]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["4"],"(0$1)"],["(\\d{2})(\\d)(\\d{3})(\\d{4})","$1 $2 $3 $4",["8"],"0$1"]],"0"],IL:["972","0(?:0|1[2-9])","1\\d{6}(?:\\d{3,5})?|[57]\\d{8}|[1-489]\\d{7}",[7,8,9,10,11,12],[["(\\d{4})(\\d{3})","$1-$2",["125"]],["(\\d{4})(\\d{2})(\\d{2})","$1-$2-$3",["121"]],["(\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[2-489]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1-$2-$3",["12"]],["(\\d{4})(\\d{6})","$1-$2",["159"]],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3-$4",["1[7-9]"]],["(\\d{3})(\\d{1,2})(\\d{3})(\\d{4})","$1-$2 $3-$4",["15"]]],"0"],IM:["44","00","1624\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([25-8]\\d{5})$|0|180020","1624$1",0,"74576|(?:16|7[56])24"],IN:["91","00","(?:000800|[2-9]\\d\\d)\\d{7}|1\\d{7,12}",[8,9,10,11,12,13],[["(\\d{8})","$1",["5(?:0|2[23]|3[03]|[67]1|88)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|888)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|8888)"],0,1],["(\\d{4})(\\d{4,5})","$1 $2",["180","1800"],0,1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["140"],0,1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["11|2[02]|33|4[04]|79[1-7]|80[2-46]","11|2[02]|33|4[04]|79(?:[1-6]|7[19])|80(?:[2-4]|6[0-589])","11|2[02]|33|4[04]|79(?:[124-6]|3(?:[02-9]|1[0-24-9])|7(?:1|9[1-6]))|80(?:[2-4]|6[0-589])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[68]|7[1257])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|5[12]|[78]1)|6(?:12|[2-4]1|5[17]|6[13]|80)|7(?:12|3[134]|4[47]|61|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)|(?:43|59|75)[15]|(?:1[59]|29|67|72)[14]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|674|7(?:(?:2[14]|3[34]|5[15])[2-6]|61[346]|88[0-8])|8(?:70[2-6]|84[235-7]|91[3-7])|(?:1(?:29|60|8[06])|261|552|6(?:12|[2-47]1|5[17]|6[13]|80)|7(?:12|31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))[2-7]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:12(?:[2-6]|7[0-8])|74[2-7])|7(?:(?:2[14]|5[15])[2-6]|3171|61[346]|88(?:[2-7]|82))|8(?:70[2-6]|84(?:[2356]|7[19])|91(?:[3-6]|7[19]))|73[134][2-6]|(?:74[47]|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[2-6]|7[19])|(?:1(?:29|60|8[06])|261|552|6(?:[2-4]1|5[17]|6[13]|7(?:1|4[0189])|80)|7(?:12|88[01]))[2-7]"],"0$1",1],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2[2457-9]|3[2-5]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1[013-9]|28|3[129]|4[1-35689]|5[29]|6[02-5]|70)|807","1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2(?:[2457]|84|95)|3(?:[2-4]|55)|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1(?:[013-8]|9[6-9])|28[6-8]|3(?:17|2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4|5[0-367])|70[13-7])|807[19]","1(?:[2-479]|5(?:[0236-9]|5[013-9]))|[2-5]|6(?:2(?:84|95)|355|8(?:28[235-7]|3))|73179|807(?:1|9[1-3])|(?:1552|6(?:(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|7[235689])\\d|8(?:[14-6]\\d|2[0-79]))|7(?:1(?:[013-8]\\d|9[6-9])|28[6-8]|3(?:2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7]))[2-7]"],"0$1",1],["(\\d{5})(\\d{5})","$1 $2",["[6-9]"],"0$1",1],["(\\d{4})(\\d{2,4})(\\d{4})","$1 $2 $3",["1(?:6|8[06])","1(?:6|8[06]0)"],0,1],["(\\d{4})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["18"],0,1]],"0"],IO:["246","00","3\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["3"]]]],IQ:["964","00","(?:1|7\\d\\d)\\d{7}|[2-6]\\d{7,8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-6]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],IR:["98","00","[1-9]\\d{9}|(?:[1-8]\\d\\d|9)\\d{3,4}",[4,5,6,7,10],[["(\\d{4,5})","$1",["96"],"0$1"],["(\\d{2})(\\d{4,5})","$1 $2",["(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])[12689]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[1-8]"],"0$1"]],"0"],IS:["354","00|1(?:0(?:01|[12]0)|100)","(?:38\\d|[4-9])\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["[4-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["3"]]],0,0,0,0,0,0,0,"00"],IT:["39","00","0\\d{5,11}|1\\d{8,10}|3(?:[0-8]\\d{7,10}|9\\d{7,8})|(?:43|55|70)\\d{8}|8\\d{5}(?:\\d{2,4})?",[6,7,8,9,10,11,12],[["(\\d{2})(\\d{4,6})","$1 $2",["0[26]"]],["(\\d{3})(\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[2-5])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|3[04]|[45][0-4]))"]],["(\\d{4})(\\d{2,6})","$1 $2",["0(?:[13-579][2-46-8]|8[236-8])"]],["(\\d{4})(\\d{4})","$1 $2",["894"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[26]|5"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["1(?:44|[679])|[378]|43"]],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[13-57-9][0159]|14"]],["(\\d{2})(\\d{4})(\\d{5})","$1 $2 $3",["0[26]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[03]"]]],0,0,0,0,0,0,[["0(?:669[0-79]\\d{1,6}|831\\d{2,8})|0(?:1(?:[0159]\\d|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|2\\d\\d|3(?:[0159]\\d|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159]\\d|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159]\\d|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|6(?:[0-57-9]\\d|6[0-8])|7(?:[0159]\\d|2[12]|3[1-7]|4[2-46]|6[13569]|7[13-6]|8[1-59])|8(?:[0159]\\d|2[3-578]|3[2356]|[6-8][1-5])|9(?:[0159]\\d|[238][1-5]|4[12]|6[1-8]|7[1-6]))\\d{2,7}"],["3[2-9]\\d{7,8}|(?:31|43)\\d{8}",[9,10]],["80(?:0\\d{3}|3)\\d{3}",[6,9]],["(?:0878\\d{3}|89(?:2\\d|3[04]|4(?:[0-4]|[5-9]\\d\\d)|5[0-4]))\\d\\d|(?:1(?:44|6[346])|89(?:38|5[5-9]|9))\\d{6}",[6,8,9,10]],["1(?:78\\d|99)\\d{6}",[9,10]],["3[2-8]\\d{9,10}",[11,12]],0,0,["55\\d{8}",[10]],["84(?:[08]\\d{3}|[17])\\d{3}",[6,9]]]],JE:["44","00","1534\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([0-24-8]\\d{5})$|0|180020","1534$1",0,0,[["1534[0-24-8]\\d{5}"],["7(?:(?:(?:50|82)9|937)\\d|7(?:00[378]|97\\d))\\d{5}"],["80(?:07(?:35|81)|8901)\\d{4}"],["(?:8(?:4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|90(?:066[59]|1810|71(?:07|55)))\\d{4}"],["701511\\d{4}"],0,["(?:3(?:0(?:07(?:35|81)|8901)|3\\d{4}|4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|55\\d{4})\\d{4}"],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}"],["56\\d{8}"]]],JM:["1","011","(?:[58]\\d\\d|658|900)\\d{7}",[10],0,"1",0,0,0,0,"658|876"],JO:["962","00","(?:(?:[2689]|7\\d)\\d|32|427|53)\\d{6}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2356]|87"],"(0$1)"],["(\\d{3})(\\d{5,6})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["70"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[47]"],"0$1"]],"0"],JP:["81","010","00[1-9]\\d{6,14}|[25-9]\\d{9}|(?:00|[1-9]\\d\\d)\\d{6}",[8,9,10,11,12,13,14,15,16,17],[["(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1"],["(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51)|9(?:80|9[16])","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[7-9]|96)|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[7-9]|96[2457-9])|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["3|4(?:2[09]|7[01])|6[1-9]","3|4(?:2(?:0|9[02-69])|7(?:0[019]|1))|6[1-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1(?:1|5[45]|77|88|9[69])|2(?:2[1-37]|3[0-269]|4[59]|5|6[24]|7[1-358]|8[1369]|9[0-38])|4(?:[28][1-9]|3[0-57]|[45]|6[248]|7[2-579]|9[29])|5(?:2|3[0459]|4[0-369]|5[29]|8[02389]|9[0-389])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9[2-6])|8(?:2[124589]|3[26-9]|49|51|6|7[0-468]|8[68]|9[019])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9[1-489])","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2(?:[127]|3[014-9])|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9[19])|62|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|8[1-9]|9[29])|5(?:2|3(?:[045]|9[0-8])|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0-2469])|3(?:[29]|60)|49|51|6(?:[0-24]|36|5[0-3589]|7[23]|9[01459])|7[0-468]|8[68])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3[34]|4[0178]))|(?:264|837)[016-9]|2(?:57|93)[015-9]|(?:25[0468]|422|838)[01]|(?:47[59]|59[89]|8(?:6[68]|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3(?:[045]|9(?:[0-58]|6[4-9]|7[0-35689]))|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0169])|3(?:[29]|60|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[2-57-9]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|7(?:2[2-468]|3[78])|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:8294|96)[1-3]|2(?:57|93)[015-9]|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|8292|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]"],"0$1"],["(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["[14]|[289][2-9]|5[3-9]|7[2-4679]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[25-9]"],"0$1"]],"0",0,"(000[2569]\\d{4,6})$|(?:(?:003768)0?)|0","$1"],KE:["254","000","(?:[17]\\d\\d|900)\\d{6}|(?:2|80)0\\d{6,7}|[4-6]\\d{6,8}",[7,8,9,10],[["(\\d{2})(\\d{5,7})","$1 $2",["[24-6]"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[17]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0"],KG:["996","00","8\\d{9}|[235-9]\\d{8}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["3(?:1[346]|[24-79])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-79]|88"],"0$1"],["(\\d{3})(\\d{3})(\\d)(\\d{2,3})","$1 $2 $3 $4",["8"],"0$1"]],"0"],KH:["855","00[14-9]","1\\d{9}|[1-9]\\d{7,8}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],KI:["686","00","(?:[37]\\d|6[0-79])\\d{6}|(?:[2-48]\\d|50)\\d{3}",[5,8],0,"0"],KM:["269","00","[3478]\\d{6}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[3478]"]]]],KN:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","869$1",0,"869"],KP:["850","00|99","85\\d{6}|(?:19\\d|[2-7])\\d{7}",[8,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"]],"0"],KR:["82","00(?:[125689]|3(?:[46]5|91)|7(?:00|27|3|55|6[126]))","00[1-9]\\d{8,11}|(?:[12]|5\\d{3})\\d{7}|[13-6]\\d{9}|(?:[1-6]\\d|80)\\d{7}|[3-6]\\d{4,5}|(?:00|7)0\\d{8}",[5,6,8,9,10,11,12,13,14],[["(\\d{2})(\\d{3,4})","$1-$2",["(?:3[1-3]|[46][1-4]|5[1-5])1"],"0$1"],["(\\d{4})(\\d{4})","$1-$2",["1"]],["(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[36]0|8"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["[1346]|5[1-5]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{2})(\\d{5})(\\d{4})","$1-$2-$3",["5"],"0$1"]],"0",0,"0(8(?:[1-46-8]|5\\d\\d))?"],KW:["965","00","18\\d{5}|(?:[2569]\\d|41)\\d{6}",[7,8],[["(\\d{4})(\\d{3,4})","$1 $2",["[169]|2(?:[235]|4[1-35-9])|52"]],["(\\d{3})(\\d{5})","$1 $2",["[245]"]]]],KY:["1","011","(?:345|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","345$1",0,"345"],KZ:["7","810","(?:33622|8\\d{8})\\d{5}|[78]\\d{9}",[10,14],0,"8",0,0,0,0,"33622|7",0,"8~10"],LA:["856","00","[23]\\d{9}|3\\d{8}|(?:[235-8]\\d|41)\\d{6}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2[13]|3[14]|[4-8]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["3"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[23]"],"0$1"]],"0"],LB:["961","00","[27-9]\\d{7}|[13-9]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[13-69]|7(?:[2-57]|62|8[0-6]|9[04-9])|8[02-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27-9]"]]],"0"],LC:["1","011","(?:[58]\\d\\d|758|900)\\d{7}",[10],0,"1",0,"([2-8]\\d{6})$|1","758$1",0,"758"],LI:["423","00","[68]\\d{8}|(?:[2378]\\d|90)\\d{5}",[7,9],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2379]|8(?:0[09]|7)","[2379]|8(?:0(?:02|9)|7)"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["69"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]],"0",0,"(1001)|0"],LK:["94","00","[1-9]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[1-689]"],"0$1"]],"0"],LR:["231","00","(?:[2457]\\d|33|88)\\d{7}|(?:2\\d|[4-6])\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["4[67]|[56]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-578]"],"0$1"]],"0"],LS:["266","00","(?:[256]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2568]"]]]],LT:["370","00","(?:[3469]\\d|52|[78]0)\\d{6}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["52[0-7]"],"(0-$1)",1],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[7-9]"],"0 $1",1],["(\\d{2})(\\d{6})","$1 $2",["37|4(?:[15]|6[1-8])"],"(0-$1)",1],["(\\d{3})(\\d{5})","$1 $2",["[3-6]"],"(0-$1)",1]],"0",0,"[08]"],LU:["352","00","35[013-9]\\d{4,8}|6\\d{8}|35\\d{2,4}|(?:[2457-9]\\d|3[0-46-9])\\d{2,9}",[4,5,6,7,8,9,10,11],[["(\\d{2})(\\d{3})","$1 $2",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["20[2-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"]],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["80[01]|90[015]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["20"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,5})","$1 $2 $3 $4",["[3-57]|8[13-9]|9(?:0[89]|[2-579])|(?:2|80)[2-9]"]]],0,0,"(15(?:0[06]|1[12]|[35]5|4[04]|6[26]|77|88|99)\\d)"],LV:["371","00","(?:[268]\\d|78|90)\\d{6}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2679]|8[01]"]]]],LY:["218","00","[2-9]\\d{8}",[9],[["(\\d{2})(\\d{7})","$1-$2",["[2-9]"],"0$1"]],"0"],MA:["212","00","[5-8]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5[45]"],"0$1"],["(\\d{4})(\\d{5})","$1-$2",["5(?:[19]|2[2-46-9]|3[3-9])|8(?:0[89]|92)"],"0$1"],["(\\d{2})(\\d{7})","$1-$2",["8"],"0$1"],["(\\d{3})(\\d{6})","$1-$2",["[5-7]"],"0$1"]],"0",0,0,0,0,0,[["5(?:(?:18|4[0679]|5[03])\\d|2(?:[0-25-79]\\d|3[1-578]|4[02-46-8]|8[0235-7])|3(?:[0-47]\\d|5[02-9]|6[02-8]|8[014-9]|9[3-9]))\\d{5}"],["(?:6(?:[0-79]\\d|8[0-247-9])|7(?:[016-8]\\d|2[0-8]|5[0-5]))\\d{6}"],["80[0-7]\\d{6}"],["89\\d{7}"],0,0,0,0,["(?:592(?:4[0-2]|93)|80[89]\\d\\d)\\d{4}"]]],MC:["377","00","(?:[3489]|[67]\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["4"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[389]"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[67]"],"0$1"]],"0"],MD:["373","00","(?:[235-7]\\d|[89]0)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["22|3"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[25-7]"],"0$1"]],"0"],ME:["382","00","(?:20|[3-79]\\d)\\d{6}|80\\d{6,7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"0$1"]],"0"],MF:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:0[079]|[14]3|[27][79]|3[03-7]|5[0-268]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],MG:["261","00","[23]\\d{8}",[9],[["(\\d{2})(\\d{2})(\\d{3})(\\d{2})","$1 $2 $3 $4",["[23]"],"0$1"]],"0",0,"([24-9]\\d{6})$|0","20$1"],MH:["692","011","329\\d{4}|(?:[256]\\d|45)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1-$2",["[2-6]"]]],"1"],MK:["389","00","[2-578]\\d{7}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2|34[47]|4(?:[37]7|5[47]|64)"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[347]"],"0$1"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["[58]"],"0$1"]],"0"],ML:["223","00","[24-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-9]"]]]],MM:["95","00","1\\d{5,7}|95\\d{6}|(?:[4-7]|9[0-46-9])\\d{6,8}|(?:2|8\\d)\\d{5,8}",[6,7,8,9,10],[["(\\d)(\\d{2})(\\d{3})","$1 $2 $3",["16|2"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["4(?:[2-46]|5[3-5])|5|6(?:[1-689]|7[235-7])|7(?:[0-4]|5[2-7])|8[1-5]|(?:60|86)[23]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]|452|678|86","[12]|452|6788|86"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[4-7]|8[1-35]"],"0$1"],["(\\d)(\\d{3})(\\d{4,6})","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[137-9])"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["92"],"0$1"],["(\\d)(\\d{5})(\\d{4})","$1 $2 $3",["9"],"0$1"]],"0"],MN:["976","001","[12]\\d{7,9}|[5-9]\\d{7}",[8,9,10],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[12]1"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[5-9]"]],["(\\d{3})(\\d{5,6})","$1 $2",["[12]2[1-3]"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["[12](?:27|3[2-8]|4[2-68]|5[1-4689])","[12](?:27|3[2-8]|4[2-68]|5[1-4689])[0-3]"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["[12]"],"0$1"]],"0"],MO:["853","00","0800\\d{3}|(?:28|[68]\\d)\\d{6}",[7,8],[["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{4})(\\d{4})","$1 $2",["[268]"]]]],MP:["1","011","[58]\\d{9}|(?:67|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","670$1",0,"670"],MQ:["596","00","(?:596\\d|7091)\\d{5}|(?:69|[89]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]|8(?:0[6-9]|[36])"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],MR:["222","00","(?:[2-4]\\d\\d|800)\\d{5}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-48]"]]]],MS:["1","011","(?:[58]\\d\\d|664|900)\\d{7}",[10],0,"1",0,"([34]\\d{6})$|1","664$1",0,"664"],MT:["356","00","3550\\d{4}|(?:[2579]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2357-9]"]]]],MU:["230","0(?:0|[24-7]0|3[03])","(?:[57]|8\\d\\d)\\d{7}|[2-468]\\d{6}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[2-46]|8[013]"]],["(\\d{4})(\\d{4})","$1 $2",["[57]"]],["(\\d{5})(\\d{5})","$1 $2",["8"]]],0,0,0,0,0,0,0,"020"],MV:["960","0(?:0|19)","(?:800|9[0-57-9]\\d)\\d{7}|[34679]\\d{6}",[7,10],[["(\\d{3})(\\d{4})","$1-$2",["[34679]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"]]],0,0,0,0,0,0,0,"00"],MW:["265","00","(?:[1289]\\d|31|77)\\d{7}|1\\d{6}",[7,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["1[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[137-9]"],"0$1"]],"0"],MX:["52","0[09]","[2-9]\\d{9}",[10],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["33|5[56]|81"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2-9]"]]],0,0,0,0,0,0,0,"00"],MY:["60","00","1\\d{8,9}|(?:3\\d|[4-9])\\d{7}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1-$2 $3",["[4-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1-$2 $3",["1(?:[02469]|[378][1-9]|53)|8","1(?:[02469]|[37][1-9]|53|8(?:[1-46-9]|5[7-9]))|8"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2 $3",["3"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3-$4",["1(?:[367]|80)"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2 $3",["15"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2 $3",["1"],"0$1"]],"0"],MZ:["258","00","(?:2|8\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2|8[2-79]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],NA:["264","00","[68]\\d{7,8}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["87"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],NC:["687","00","(?:050|[2-57-9]\\d\\d)\\d{3}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1.$2.$3",["[02-57-9]"]]]],NE:["227","00","[027-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["08"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[089]|2[013]|7[0467]"]]]],NF:["672","00","[13]\\d{5}",[6],[["(\\d{2})(\\d{4})","$1 $2",["1[0-3]"]],["(\\d)(\\d{5})","$1 $2",["[13]"]]],0,0,"([0-258]\\d{4})$","3$1"],NG:["234","009","(?:20|9\\d)\\d{8}|[78]\\d{9,13}",[10,11,12,13,14],[["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[7-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["20[129]"],"0$1"],["(\\d{4})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[78]"],"0$1"],["(\\d{3})(\\d{5})(\\d{5,6})","$1 $2 $3",["[78]"],"0$1"]],"0"],NI:["505","00","(?:1800|[25-8]\\d{3})\\d{4}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[125-8]"]]]],NL:["31","00","(?:[124-7]\\d\\d|3(?:[02-9]\\d|1[0-8]))\\d{6}|8\\d{6,9}|9\\d{6,10}|1\\d{4,5}",[5,6,7,8,9,10,11],[["(\\d{3})(\\d{4,7})","$1 $2",["[89]0"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["66"],"0$1"],["(\\d)(\\d{8})","$1 $2",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-578]|91"],"0$1"],["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3",["9"],"0$1"]],"0"],NO:["47","00","(?:0|[2-9]\\d{3})\\d{4}",[5,8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]"]]],0,0,0,0,0,"[02-689]|7[0-8]"],NP:["977","00","(?:1\\d|9)\\d{9}|[1-9]\\d{7}",[8,10,11],[["(\\d)(\\d{7})","$1-$2",["1[2-6]"],"0$1"],["(\\d{2})(\\d{6})","$1-$2",["1[01]|[2-8]|9(?:[1-59]|[67][2-6])"],"0$1"],["(\\d{3})(\\d{7})","$1-$2",["9"]]],"0"],NR:["674","00","(?:222|444|(?:55|8\\d)\\d|666|777|999)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[24-9]"]]]],NU:["683","00","(?:[4-7]|888\\d)\\d{3}",[4,7],[["(\\d{3})(\\d{4})","$1 $2",["8"]]]],NZ:["64","0(?:0|161)","[1289]\\d{9}|50\\d{5}(?:\\d{2,3})?|[27-9]\\d{7,8}|(?:[34]\\d|6[0-35-9])\\d{6}|8\\d{4,6}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,8})","$1 $2",["8[1-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["50[036-8]|8|90","50(?:[0367]|88)|8|90"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["24|[346]|7[2-57-9]|9[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:10|74)|[589]"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["1|2[028]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,5})","$1 $2 $3",["2(?:[169]|7[0-35-9])|7"],"0$1"]],"0",0,0,0,0,0,0,"00"],OM:["968","00","(?:1505|[279]\\d{3}|500)\\d{4}|800\\d{5,6}",[7,8,9],[["(\\d{3})(\\d{4,6})","$1 $2",["[58]"]],["(\\d{2})(\\d{6})","$1 $2",["2"]],["(\\d{4})(\\d{4})","$1 $2",["[179]"]]]],PA:["507","00","(?:00800|8\\d{3})\\d{6}|[68]\\d{7}|[1-57-9]\\d{6}",[7,8,10,11],[["(\\d{3})(\\d{4})","$1-$2",["[1-57-9]"]],["(\\d{4})(\\d{4})","$1-$2",["[68]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]]],PE:["51","00|19(?:1[124]|77|90)00","(?:[14-8]|9\\d)\\d{7}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["80"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["1"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[4-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"]]],"0",0,0,0,0,0,0,"00"," Anexo "],PF:["689","00","4\\d{5}(?:\\d{2})?|8\\d{7,8}",[6,8,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["44"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4|8[7-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],PG:["675","00|140[1-3]","(?:180|[78]\\d{3})\\d{4}|(?:[2-589]\\d|64)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["18|[2-69]|85"]],["(\\d{4})(\\d{4})","$1 $2",["[78]"]]],0,0,0,0,0,0,0,"00"],PH:["63","00","(?:[2-7]|9\\d)\\d{8}|2\\d{5}|(?:1800|8)\\d{7,9}",[6,8,9,10,11,12,13],[["(\\d)(\\d{5})","$1 $2",["2"],"(0$1)"],["(\\d{4})(\\d{4,6})","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|544|88[245]|(?:52|64|86)2","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"],"(0$1)"],["(\\d{5})(\\d{4})","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"],"(0$1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|8[2-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{4})(\\d{1,2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["1"]]],"0"],PK:["92","00","122\\d{6}|[24-8]\\d{10,11}|9(?:[013-9]\\d{8,10}|2(?:[01]\\d\\d|2(?:[06-8]\\d|1[01]))\\d{7})|(?:[2-8]\\d{3}|92(?:[0-7]\\d|8[1-9]))\\d{6}|[24-9]\\d{8}|[89]\\d{7}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,7})","$1 $2 $3",["[89]0"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["1"]],["(\\d{3})(\\d{6,7})","$1 $2",["2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8])","9(?:2[3-8]|98)|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:22|3[27-9]|4[2-6]|6[3569]|9[25-7]))[2-9]"],"(0$1)"],["(\\d{2})(\\d{7,8})","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],"(0$1)"],["(\\d{5})(\\d{5})","$1 $2",["58"],"(0$1)"],["(\\d{3})(\\d{7})","$1 $2",["3"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[24-9]"],"(0$1)"]],"0"],PL:["48","00","(?:6|8\\d\\d)\\d{7}|[1-9]\\d{6}(?:\\d{2})?|[26]\\d{5}",[6,7,8,9,10],[["(\\d{5})","$1",["19"]],["(\\d{3})(\\d{3})","$1 $2",["11|20|64"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])1","(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])19"]],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["64"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["21|39|45|5[0137]|6[0469]|7[02389]|8(?:0[14]|8)"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[2-8]|[2-7]|8[1-79]|9[145]"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["8"]]]],PM:["508","00","[45]\\d{5}|(?:708|8\\d\\d)\\d{6}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[45]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],PR:["1","011","(?:[589]\\d\\d|787)\\d{7}",[10],0,"1",0,0,0,0,"787|939"],PS:["970","00","[2489]2\\d{6}|(?:1\\d|5)\\d{8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2489]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["5"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],PT:["351","00","1693\\d{5}|(?:[26-9]\\d|30)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["2[12]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["16|[236-9]"]]]],PW:["680","01[12]","(?:[24-8]\\d\\d|345|900)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],PY:["595","00","59\\d{4,6}|9\\d{5,10}|(?:[2-46-8]\\d|5[0-8])\\d{4,7}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3,6})","$1 $2",["[2-9]0"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],"(0$1)"],["(\\d{3})(\\d{4,5})","$1 $2",["2[279]|3[13-5]|4[359]|5|6(?:[34]|7[1-46-8])|7[46-8]|85"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2[14-68]|3[26-9]|4[1246-8]|6(?:1|75)|7[1-35]|8[1-36]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["87"]],["(\\d{3})(\\d{6})","$1 $2",["9(?:[5-79]|8[1-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["9"]]],"0"],QA:["974","00","800\\d{4}|(?:2|800)\\d{6}|(?:0080|[3-7])\\d{7}",[7,8,9,11],[["(\\d{3})(\\d{4})","$1 $2",["2[136]|8"]],["(\\d{4})(\\d{4})","$1 $2",["[3-7]"]]]],RE:["262","00","709\\d{6}|(?:26|[689]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[26-9]"],"0$1"]],"0",0,0,0,0,0,[["26(?:2\\d\\d|3(?:0\\d|1[0-6]))\\d{4}"],["(?:69(?:2\\d\\d|3(?:[06][0-6]|1[0-3]|2[0-2]|3[0-39]|4\\d|5[0-5]|7[0-37]|8[0-8]|9[0-479]))|7092[0-3])\\d{4}"],["80\\d{7}"],["89[1-37-9]\\d{6}"],0,0,0,0,["9(?:399[0-3]|479[0-6]|76(?:2[278]|3[0-37]))\\d{4}"],["8(?:1[019]|2[0156]|84|90)\\d{6}"]]],RO:["40","00","(?:[236-8]\\d|90)\\d{7}|[23]\\d{5}",[6,9],[["(\\d{3})(\\d{3})","$1 $2",["2[3-6]","2[3-6]\\d9"],"0$1"],["(\\d{2})(\\d{4})","$1 $2",["219|31"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23]1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[236-9]"],"0$1"]],"0",0,0,0,0,0,0,0," int "],RS:["381","00","38[02-9]\\d{6,9}|6\\d{7,9}|90\\d{4,8}|38\\d{5,6}|(?:7\\d\\d|800)\\d{3,9}|(?:[12]\\d|3[0-79])\\d{5,10}",[6,7,8,9,10,11,12],[["(\\d{3})(\\d{3,9})","$1 $2",["(?:2[389]|39)0|[7-9]"],"0$1"],["(\\d{2})(\\d{5,10})","$1 $2",["[1-36]"],"0$1"]],"0"],RU:["7","810","8\\d{13}|[347-9]\\d{9}",[10,14],[["(\\d{4})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-8]|2[1-9])","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:1[23]|[2-9]2))","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:13[03-69]|62[013-9]))|72[1-57-9]2"],"8 ($1)",1],["(\\d{5})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-68]|2[1-9])","7(?:1(?:[06][3-6]|[18]|2[35]|[3-5][3-5])|2(?:[13][3-5]|[24-689]|7[457]))","7(?:1(?:0(?:[356]|4[023])|[18]|2(?:3[013-9]|5)|3[45]|43[013-79]|5(?:3[1-8]|4[1-7]|5)|6(?:3[0-35-9]|[4-6]))|2(?:1(?:3[178]|[45])|[24-689]|3[35]|7[457]))|7(?:14|23)4[0-8]|71(?:33|45)[1-79]"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[349]|8(?:[02-7]|1[1-8])"],"8 ($1)",1],["(\\d{4})(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3 $4",["8"],"8 ($1)"]],"8",0,0,0,0,0,[["336(?:[013-9]\\d|2[013-9])\\d{5}|(?:3(?:0[12]|4[1-35-79]|5[1-3]|65|8[1-58]|9[0145])|4(?:01|1[1356]|2[13467]|7[1-5]|8[1-7]|9[1-689])|8(?:1[1-8]|2[01]|3[13-6]|4[0-8]|5[15-7]|6[0-35-79]|7[1-37-9]))\\d{7}",[10]],["9\\d{9}",[10]],["8(?:0[04]|108\\d{3})\\d{7}"],["80[39]\\d{7}",[10]],["808\\d{7}",[10]]],"8~10"],RW:["250","00","(?:06|[27]\\d\\d|[89]00)\\d{6}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[7-9]"],"0$1"]],"0"],SA:["966","00","(?:[15]\\d|800|92)\\d{7}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["9"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]],"0"],SB:["677","0[01]","[6-9]\\d{6}|[1-6]\\d{4}",[5,7],[["(\\d{2})(\\d{5})","$1 $2",["6[89]|7|8[4-9]|9(?:[1-8]|9[0-8])"]]]],SC:["248","010|0[0-2]","(?:[2489]\\d|64)\\d{5}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[246]|9[57]"]]],0,0,0,0,0,0,0,"00"],SD:["249","00","[19]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[19]"],"0$1"]],"0"],SE:["46","00","(?:[26]\\d\\d|9)\\d{9}|[1-9]\\d{8}|[1-689]\\d{7}|[1-4689]\\d{6}|2\\d{5}",[6,7,8,9,10,12],[["(\\d{2})(\\d{2,3})(\\d{2})","$1-$2 $3",["20"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{4})","$1-$2",["9(?:00|39|44|9)"],"0$1",0,"$1 $2"],["(\\d{2})(\\d{3})(\\d{2})","$1-$2 $3",["[12][136]|3[356]|4[0246]|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3"],["(\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2,3})(\\d{2})","$1-$2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[125689]|4[02-57]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{2,3})(\\d{3})","$1-$2 $3",["9(?:00|39|44)"],"0$1",0,"$1 $2 $3"],["(\\d{2})(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[13689]|2[0136]|3[1356]|4[0246]|54|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3 $4"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["10|7"],"0$1",0,"$1 $2 $3 $4"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1-$2 $3 $4",["[13-5]|2(?:[247-9]|5[0138])|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{3})","$1-$2 $3 $4",["9"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4 $5",["[26]"],"0$1",0,"$1 $2 $3 $4 $5"]],"0"],SG:["65","0[0-3]\\d","(?:(?:1\\d|8)\\d\\d|7000)\\d{7}|[3689]\\d{7}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["[369]|8(?:0[1-9]|[1-9])"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]],["(\\d{4})(\\d{4})(\\d{3})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],SH:["290","00","(?:[256]\\d|8)\\d{3}",[4,5],0,0,0,0,0,0,"[256]"],SI:["386","00|10(?:22|66|88|99)","[1-7]\\d{7}|8\\d{4,7}|90\\d{4,6}",[5,6,7,8],[["(\\d{2})(\\d{3,6})","$1 $2",["8[09]|9"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["59|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37][01]|4[0139]|51|6"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-57]"],"(0$1)"]],"0",0,0,0,0,0,0,"00"],SJ:["47","00","0\\d{4}|(?:[489]\\d|79)\\d{6}",[5,8],0,0,0,0,0,0,"79"],SK:["421","00","[2-689]\\d{8}|[2-59]\\d{6}|[2-5]\\d{5}",[6,7,9],[["(\\d)(\\d{2})(\\d{3,4})","$1 $2 $3",["21"],"0$1"],["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["[3-5][1-8]1","[3-5][1-8]1[67]"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1/$2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[689]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1/$2 $3 $4",["[3-5]"],"0$1"]],"0"],SL:["232","00","(?:[237-9]\\d|66)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[236-9]"],"(0$1)"]],"0"],SM:["378","00","(?:0549|[5-7]\\d)\\d{6}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"]],["(\\d{4})(\\d{6})","$1 $2",["0"]]],0,0,"([89]\\d{5})$","0549$1"],SN:["221","00","(?:[378]\\d|93)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[379]"]]]],SO:["252","00","[346-9]\\d{8}|[12679]\\d{7}|[1-5]\\d{6}|[1348]\\d{5}",[6,7,8,9],[["(\\d{2})(\\d{4})","$1 $2",["8[125]"]],["(\\d{6})","$1",["[134]"]],["(\\d)(\\d{6})","$1 $2",["[15]|2[0-79]|3[0-46-8]|4[0-7]"]],["(\\d)(\\d{7})","$1 $2",["(?:2|90)4|[67]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[348]|64|79|90"]],["(\\d{2})(\\d{5,7})","$1 $2",["1|28|6[0-35-9]|7[67]|9[2-9]"]]],"0"],SR:["597","00","(?:[2-5]|[6-8]\\d|90)\\d{5}",[6,7],[["(\\d{2})(\\d{2})(\\d{2})","$1-$2-$3",["56"]],["(\\d{3})(\\d{3})","$1-$2",["[2-5]"]],["(\\d{3})(\\d{4})","$1-$2",["[6-9]"]]]],SS:["211","00","[19]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[19]"],"0$1"]],"0"],ST:["239","00","(?:22|9\\d)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[29]"]]]],SV:["503","00","[25-7]\\d{7}|(?:80\\d|900)\\d{4}(?:\\d{4})?",[7,8,11],[["(\\d{3})(\\d{4})","$1 $2",["[89]"]],["(\\d{4})(\\d{4})","$1 $2",["[25-7]"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[89]"]]]],SX:["1","011","7215\\d{6}|(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"(5\\d{6})$|1","721$1",0,"721"],SY:["963","00","[1-359]\\d{8}|[1-5]\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-4]|5[1-3]"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[59]"],"0$1",1]],"0"],SZ:["268","00","0800\\d{4}|(?:[237]\\d|900)\\d{6}",[8,9],[["(\\d{4})(\\d{4})","$1 $2",["[0237]"]],["(\\d{5})(\\d{4})","$1 $2",["9"]]]],TA:["290","00","8\\d{3}",[4],0,0,0,0,0,0,"8"],TC:["1","011","(?:[58]\\d\\d|649|900)\\d{7}",[10],0,"1",0,"([2-479]\\d{6})$|1","649$1",0,"649"],TD:["235","00|16","(?:22|30|[689]\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[236-9]"]]],0,0,0,0,0,0,0,"00"],TG:["228","00","[279]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[279]"]]]],TH:["66","00[1-9]","(?:001800|[2-57]|[689]\\d)\\d{7}|1\\d{7,9}",[8,9,10,13],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[13-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],TJ:["992","810","(?:[0-57-9]\\d|66)\\d{7}",[9],[["(\\d{6})(\\d)(\\d{2})","$1 $2 $3",["331","3317"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["44[02-479]|[34]7"]],["(\\d{4})(\\d)(\\d{4})","$1 $2 $3",["3(?:[1245]|3[12])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["\\d"]]],0,0,0,0,0,0,0,"8~10"],TK:["690","00","[2-47]\\d{3,6}",[4,5,6,7]],TL:["670","00","7\\d{7}|(?:[2-47]\\d|[89]0)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[2-489]|70"]],["(\\d{4})(\\d{4})","$1 $2",["7"]]]],TM:["993","810","(?:[1-6]\\d|71)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["12"],"(8 $1)"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-5]"],"(8 $1)"],["(\\d{2})(\\d{6})","$1 $2",["[67]"],"8 $1"]],"8",0,0,0,0,0,0,"8~10"],TN:["216","00","[2-57-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-57-9]"]]]],TO:["676","00","(?:0800|(?:[5-8]\\d\\d|999)\\d)\\d{3}|[2-8]\\d{4}",[5,7],[["(\\d{2})(\\d{3})","$1-$2",["[2-4]|50|6[09]|7[0-24-69]|8[05]"]],["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[5-9]"]]]],TR:["90","00","4\\d{6}|8\\d{11,12}|(?:[2-58]\\d\\d|900)\\d{7}",[7,10,12,13],[["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["512|8[01589]|90"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5(?:[0-59]|61)","5(?:[0-59]|61[06])","5(?:[0-59]|61[06]1)"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24][1-8]|3[1-9]"],"(0$1)",1],["(\\d{3})(\\d{3})(\\d{6,7})","$1 $2 $3",["80"],"0$1",1]],"0"],TT:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-46-8]\\d{6})$|1","868$1",0,"868"],TV:["688","00","(?:2|7\\d\\d|90)\\d{4}",[5,6,7],[["(\\d{2})(\\d{3})","$1 $2",["2"]],["(\\d{2})(\\d{4})","$1 $2",["90"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],TW:["886","0(?:0[25-79]|19)","[2-689]\\d{8}|7\\d{9,10}|[2-8]\\d{7}|2\\d{6}",[7,8,9,10,11],[["(\\d{2})(\\d)(\\d{4})","$1 $2 $3",["202"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[258]0"],"0$1"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["[23568]|4(?:0[02-48]|[1-47-9])|7[1-9]","[23568]|4(?:0[2-48]|[1-47-9])|(?:400|7)[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,5})","$1 $2 $3",["7"],"0$1"]],"0",0,0,0,0,0,0,0,"#"],TZ:["255","00[056]","(?:[25-8]\\d|41|90)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[24]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["5"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[67]"],"0$1"]],"0"],UA:["380","00","[89]\\d{9}|[3-9]\\d{8}",[9,10],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6[12][29]|(?:3[1-8]|4[136-8]|5[12457]|6[49])2|(?:56|65)[24]","6[12][29]|(?:35|4[1378]|5[12457]|6[49])2|(?:56|65)[24]|(?:3[1-46-8]|46)2[013-9]"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6[0135689]|7[4-6])|6(?:[12][3-7]|[459])","3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6(?:[015689]|3[02389])|7[4-6])|6(?:[12][3-7]|[459])"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|89|9[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0",0,0,0,0,0,0,"0~0"],UG:["256","00[057]","800\\d{6}|(?:[29]0|[347]\\d)\\d{7}",[9],[["(\\d{4})(\\d{5})","$1 $2",["202","2024"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[27-9]|4(?:6[45]|[7-9])"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[34]"],"0$1"]],"0"],US:["1","011","[2-9]\\d{9}|3\\d{6}",[10],[["(\\d{3})(\\d{4})","$1-$2",["310"],0,1],["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",["[2-9]"],0,1,"$1-$2-$3"]],"1",0,0,0,0,0,[["3052(?:0[0-8]|[1-9]\\d)\\d{4}|(?:2742|305[3-9])\\d{6}|(?:472|983)[2-47-9]\\d{6}|(?:2(?:0[1-35-9]|1[02-9]|2[03-57-9]|3[1459]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-47-9]|1[02-9]|2[013-79]|3[0-24679]|4[167]|5[0-2]|6[01349]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[023578]|58|6[349]|7[0589]|8[04])|5(?:0[1-57-9]|1[0235-8]|20|3[0149]|4[01]|5[179]|6[1-47]|7[0-5]|8[0256])|6(?:0[1-35-9]|1[024-9]|2[03689]|3[016]|4[0156]|5[01679]|6[0-279]|78|8[0-269])|7(?:0[1-46-8]|1[2-9]|2[04-8]|3[0-247]|4[0378]|5[47]|6[02359]|7[0-59]|8[156])|8(?:0[1-68]|1[02-8]|2[0168]|3[0-2589]|4[03578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[0146-8]|4[01357-9]|5[12469]|7[0-3589]|8[04-69]))[2-9]\\d{6}"],[""],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-9]|33|44|66|77|88)[2-9]\\d{6}"],0,0,0,["305209\\d{4}"]]],UY:["598","0(?:0|1[3-9]\\d)","0004\\d{2,9}|[1249]\\d{7}|2\\d{3,4}|(?:[49]\\d|80)\\d{5}",[4,5,6,7,8,9,10,11,12,13],[["(\\d{4,5})","$1",["21"]],["(\\d{3})(\\d{3,4})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[49]0|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[124]"]],["(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3 $4",["0"]]],"0",0,0,0,0,0,0,"00"," int. "],UZ:["998","00","(?:20|33|[5-9]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[235-9]"]]]],VA:["39","00","0\\d{5,10}|3[0-8]\\d{7,10}|55\\d{8}|8\\d{5}(?:\\d{2,4})?|(?:1\\d|39)\\d{7,8}",[6,7,8,9,10,11,12],0,0,0,0,0,0,"06698"],VC:["1","011","(?:[58]\\d\\d|784|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","784$1",0,"784"],VE:["58","00","[68]00\\d{7}|(?:[24]\\d|[59]0)\\d{8}",[10],[["(\\d{3})(\\d{7})","$1-$2",["[24-689]"],"0$1"]],"0"],VG:["1","011","(?:284|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-578]\\d{6})$|1","284$1",0,"284"],VI:["1","011","[58]\\d{9}|(?:34|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","340$1",0,"340"],VN:["84","00","[12]\\d{9}|[135-9]\\d{8}|[16]\\d{7}|[16-8]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["80"],"0$1",1],["(\\d{4})(\\d{4,6})","$1 $2",["1"],0,1],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["6"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[357-9]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2[48]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["2"],"0$1",1]],"0"],VU:["678","00","[57-9]\\d{6}|(?:[238]\\d|48)\\d{3}",[5,7],[["(\\d{3})(\\d{4})","$1 $2",["[57-9]"]]]],WF:["681","00","(?:40|72|8\\d{4})\\d{4}|[89]\\d{5}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[47-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],WS:["685","0","(?:[2-6]|8\\d{5})\\d{4}|[78]\\d{6}|[68]\\d{5}",[5,6,7,10],[["(\\d{5})","$1",["[2-5]|6[1-9]"]],["(\\d{3})(\\d{3,7})","$1 $2",["[68]"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],XK:["383","00","2\\d{7,8}|3\\d{7,11}|(?:4\\d\\d|[89]00)\\d{5}",[8,9,10,11,12],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2|39"],"0$1"],["(\\d{2})(\\d{7,10})","$1 $2",["3"],"0$1"]],"0"],YE:["967","00","(?:1|7\\d)\\d{7}|[1-7]\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-6]|7(?:[24-6]|8[0-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"],"0$1"]],"0"],YT:["262","00","7093\\d{5}|(?:80|9\\d)\\d{7}|(?:26|63)9\\d{6}",[9],0,"0",0,0,0,0,0,[["269(?:0[0-467]|15|5[0-4]|6\\d|[78]0)\\d{4}"],["(?:639(?:0[0-79]|1[019]|[267]\\d|3[09]|40|5[05-9]|9[04-79])|7093[5-7])\\d{4}"],["80\\d{7}"],0,0,0,0,0,["9(?:(?:39|47)8[01]|769\\d)\\d{4}"]]],ZA:["27","00","[1-79]\\d{8}|8\\d{4,9}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,4})","$1 $2",["8[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["8[1-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["860"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],ZM:["260","00","800\\d{6}|(?:21|[579]\\d|63)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[28]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[579]"],"0$1"]],"0"],ZW:["263","00","2(?:[0-57-9]\\d{6,8}|6[0-24-9]\\d{6,7})|[38]\\d{9}|[35-8]\\d{8}|[3-6]\\d{7}|[1-689]\\d{6}|[1-3569]\\d{5}|[1356]\\d{4}",[5,6,7,8,9,10],[["(\\d{3})(\\d{3,5})","$1 $2",["2(?:0[45]|2[278]|[49]8)|3(?:[09]8|17)|6(?:[29]8|37|75)|[23][78]|(?:33|5[15]|6[68])[78]"],"0$1"],["(\\d)(\\d{3})(\\d{2,4})","$1 $2 $3",["[49]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["80"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["24|8[13-59]|(?:2[05-79]|39|5[45]|6[15-8])2","2(?:02[014]|4|[56]20|[79]2)|392|5(?:42|525)|6(?:[16-8]21|52[013])|8[13-59]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:1[39]|2[0157]|[378]|[56][14])|3(?:12|29)","2(?:1[39]|2[0157]|[378]|[56][14])|3(?:123|29)"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["1|2(?:0[0-36-9]|12|29|[56])|3(?:1[0-689]|[24-6])|5(?:[0236-9]|1[2-4])|6(?:[013-59]|7[0-46-9])|(?:33|55|6[68])[0-69]|(?:29|3[09]|62)[0-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["29[013-9]|39|54"],"0$1"],["(\\d{4})(\\d{3,5})","$1 $2",["(?:25|54)8","258|5483"],"0$1"]],"0"]},nonGeographic:{800:["800",0,"(?:00|[1-9]\\d)\\d{6}",[8],[["(\\d{4})(\\d{4})","$1 $2",["\\d"]]],0,0,0,0,0,0,[0,0,["(?:00|[1-9]\\d)\\d{6}"]]],808:["808",0,"[1-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[1-9]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,0,["[1-9]\\d{7}"]]],870:["870",0,"7\\d{11}|[235-7]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-7]"]]],0,0,0,0,0,0,[0,["(?:[356]|774[45])\\d{8}|7[6-8]\\d{7}"],0,0,0,0,0,0,["2\\d{8}",[9]]]],878:["878",0,"10\\d{10}",[12],[["(\\d{2})(\\d{5})(\\d{5})","$1 $2 $3",["1"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["10\\d{10}"]]],881:["881",0,"6\\d{9}|[0-36-9]\\d{8}",[9,10],[["(\\d)(\\d{3})(\\d{5})","$1 $2 $3",["[0-37-9]"]],["(\\d)(\\d{3})(\\d{5,6})","$1 $2 $3",["6"]]],0,0,0,0,0,0,[0,["6\\d{9}|[0-36-9]\\d{8}"]]],882:["882",0,"[13]\\d{6}(?:\\d{2,5})?|[19]\\d{7}|(?:[25]\\d\\d|4)\\d{7}(?:\\d{2})?",[7,8,9,10,11,12],[["(\\d{2})(\\d{5})","$1 $2",["16|342"]],["(\\d{2})(\\d{6})","$1 $2",["49"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["1[36]|9"]],["(\\d{2})(\\d{4})(\\d{3})","$1 $2 $3",["3[23]"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["16"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|23|3(?:[15]|4[57])|4|51"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["34"]],["(\\d{2})(\\d{4,5})(\\d{5})","$1 $2 $3",["[1-35]"]]],0,0,0,0,0,0,[0,["342\\d{4}|(?:337|49)\\d{6}|(?:3(?:2|47|7\\d{3})|50\\d{3})\\d{7}",[7,8,9,10,12]],0,0,0,["348[57]\\d{7}",[11]],0,0,["1(?:3(?:0[0347]|[13][0139]|2[035]|4[013568]|6[0459]|7[06]|8[15-8]|9[0689])\\d{4}|6\\d{5,10})|(?:345\\d|9[89])\\d{6}|(?:10|2(?:3|85\\d)|3(?:[15]|[69]\\d\\d)|4[15-8]|51)\\d{8}"]]],883:["883",0,"(?:[1-4]\\d|51)\\d{6,10}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,8})","$1 $2 $3",["[14]|2[24-689]|3[02-689]|51[24-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["510"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["21"]],["(\\d{4})(\\d{4})(\\d{4})","$1 $2 $3",["51[13]"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[235]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["(?:2(?:00\\d\\d|10)|(?:370[1-9]|51\\d0)\\d)\\d{7}|51(?:00\\d{5}|[24-9]0\\d{4,7})|(?:1[0-79]|2[24-689]|3[02-689]|4[0-4])0\\d{5,9}"]]],888:["888",0,"\\d{11}",[11],[["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3"]],0,0,0,0,0,0,[0,0,0,0,0,0,["\\d{11}"]]],979:["979",0,"[1359]\\d{8}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[1359]"]]],0,0,0,0,0,0,[0,0,0,["[1359]\\d{8}"]]]}};function withMetadataArgument(t,e){var a=Array.prototype.slice.call(e);return a.push(metadata),t.apply(this,a)}function compare(t,e){t=t.split("-"),e=e.split("-");for(var a=t[0].split("."),r=e[0].split("."),o=0;o<3;o++){var s=Number(a[o]),l=Number(r[o]);if(s>l)return 1;if(l>s)return-1;if(!isNaN(s)&&isNaN(l))return 1;if(isNaN(s)&&!isNaN(l))return-1}return t[1]&&e[1]?t[1]>e[1]?1:t[1]<e[1]?-1:0:!t[1]&&e[1]?1:t[1]&&!e[1]?-1:0}var objectConstructor={}.constructor;function isObject$2(t){return t!=null&&t.constructor===objectConstructor}function _typeof$6(t){"@babel/helpers - typeof";return _typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$6(t)}function _classCallCheck$2(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$1(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_toPropertyKey$5(r.key),r)}}function _createClass$2(t,e,a){return e&&_defineProperties$1(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _toPropertyKey$5(t){var e=_toPrimitive$5(t,"string");return _typeof$6(e)=="symbol"?e:e+""}function _toPrimitive$5(t,e){if(_typeof$6(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,e);if(_typeof$6(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var V3="1.2.0",V4="1.7.35",DEFAULT_EXT_PREFIX=" ext. ",CALLING_CODE_REG_EXP=/^\d+$/,Metadata=(function(){function t(e){_classCallCheck$2(this,t),validateMetadata(e),this.metadata=e,setVersion.call(this,e)}return _createClass$2(t,[{key:"getCountries",value:function(){return Object.keys(this.metadata.countries).filter(function(a){return a!=="001"})}},{key:"getCountryMetadata",value:function(a){return this.metadata.countries[a]}},{key:"nonGeographic",value:function(){if(!(this.v1||this.v2||this.v3))return this.metadata.nonGeographic||this.metadata.nonGeographical}},{key:"hasCountry",value:function(a){return this.getCountryMetadata(a)!==void 0}},{key:"hasCallingCode",value:function(a){if(this.getCountryCodesForCallingCode(a))return!0;if(this.nonGeographic()){if(this.nonGeographic()[a])return!0}else{var r=this.countryCallingCodes()[a];if(r&&r.length===1&&r[0]==="001")return!0}}},{key:"isNonGeographicCallingCode",value:function(a){return this.nonGeographic()?!!this.nonGeographic()[a]:!this.getCountryCodesForCallingCode(a)}},{key:"country",value:function(a){return this.selectNumberingPlan(a)}},{key:"selectNumberingPlan",value:function(a,r){if(a&&CALLING_CODE_REG_EXP.test(a)&&(r=a,a=null),a&&a!=="001"){if(!this.hasCountry(a))throw new Error("Unknown country: ".concat(a));this.numberingPlan=new NumberingPlan(this.getCountryMetadata(a),this)}else if(r){if(!this.hasCallingCode(r))throw new Error("Unknown calling code: ".concat(r));this.numberingPlan=new NumberingPlan(this.getNumberingPlanMetadata(r),this)}else this.numberingPlan=void 0;return this}},{key:"getCountryCodesForCallingCode",value:function(a){var r=this.countryCallingCodes()[a];if(r)return r.length===1&&r[0].length===3?void 0:r}},{key:"getCountryCodeForCallingCode",value:function(a){var r=this.getCountryCodesForCallingCode(a);if(r)return r[0]}},{key:"getNumberingPlanMetadata",value:function(a){var r=this.getCountryCodeForCallingCode(a);if(r)return this.getCountryMetadata(r);if(this.nonGeographic()){var o=this.nonGeographic()[a];if(o)return o}else{var s=this.countryCallingCodes()[a];if(s&&s.length===1&&s[0]==="001")return this.metadata.countries["001"]}}},{key:"countryCallingCode",value:function(){return this.numberingPlan.callingCode()}},{key:"IDDPrefix",value:function(){return this.numberingPlan.IDDPrefix()}},{key:"defaultIDDPrefix",value:function(){return this.numberingPlan.defaultIDDPrefix()}},{key:"nationalNumberPattern",value:function(){return this.numberingPlan.nationalNumberPattern()}},{key:"possibleLengths",value:function(){return this.numberingPlan.possibleLengths()}},{key:"formats",value:function(){return this.numberingPlan.formats()}},{key:"nationalPrefixForParsing",value:function(){return this.numberingPlan.nationalPrefixForParsing()}},{key:"nationalPrefixTransformRule",value:function(){return this.numberingPlan.nationalPrefixTransformRule()}},{key:"leadingDigits",value:function(){return this.numberingPlan.leadingDigits()}},{key:"hasTypes",value:function(){return this.numberingPlan.hasTypes()}},{key:"type",value:function(a){return this.numberingPlan.type(a)}},{key:"ext",value:function(){return this.numberingPlan.ext()}},{key:"countryCallingCodes",value:function(){return this.v1?this.metadata.country_phone_code_to_countries:this.metadata.country_calling_codes}},{key:"chooseCountryByCountryCallingCode",value:function(a){return this.selectNumberingPlan(a)}},{key:"hasSelectedNumberingPlan",value:function(){return this.numberingPlan!==void 0}}])})(),NumberingPlan=(function(){function t(e,a){_classCallCheck$2(this,t),this.globalMetadataObject=a,this.metadata=e,setVersion.call(this,a.metadata)}return _createClass$2(t,[{key:"callingCode",value:function(){return this.metadata[0]}},{key:"getDefaultCountryMetadataForRegion",value:function(){return this.globalMetadataObject.getNumberingPlanMetadata(this.callingCode())}},{key:"IDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[1]}},{key:"defaultIDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[12]}},{key:"nationalNumberPattern",value:function(){return this.v1||this.v2?this.metadata[1]:this.metadata[2]}},{key:"possibleLengths",value:function(){if(!this.v1)return this.metadata[this.v2?2:3]}},{key:"_getFormats",value:function(a){return a[this.v1?2:this.v2?3:4]}},{key:"formats",value:function(){var a=this,r=this._getFormats(this.metadata)||this._getFormats(this.getDefaultCountryMetadataForRegion())||[];return r.map(function(o){return new Format(o,a)})}},{key:"nationalPrefix",value:function(){return this.metadata[this.v1?3:this.v2?4:5]}},{key:"_getNationalPrefixFormattingRule",value:function(a){return a[this.v1?4:this.v2?5:6]}},{key:"nationalPrefixFormattingRule",value:function(){return this._getNationalPrefixFormattingRule(this.metadata)||this._getNationalPrefixFormattingRule(this.getDefaultCountryMetadataForRegion())}},{key:"_nationalPrefixForParsing",value:function(){return this.metadata[this.v1?5:this.v2?6:7]}},{key:"nationalPrefixForParsing",value:function(){return this._nationalPrefixForParsing()||this.nationalPrefix()}},{key:"nationalPrefixTransformRule",value:function(){return this.metadata[this.v1?6:this.v2?7:8]}},{key:"_getNationalPrefixIsOptionalWhenFormatting",value:function(){return!!this.metadata[this.v1?7:this.v2?8:9]}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return this._getNationalPrefixIsOptionalWhenFormatting(this.metadata)||this._getNationalPrefixIsOptionalWhenFormatting(this.getDefaultCountryMetadataForRegion())}},{key:"leadingDigits",value:function(){return this.metadata[this.v1?8:this.v2?9:10]}},{key:"types",value:function(){return this.metadata[this.v1?9:this.v2?10:11]}},{key:"hasTypes",value:function(){return this.types()&&this.types().length===0?!1:!!this.types()}},{key:"type",value:function(a){if(this.hasTypes()&&getType(this.types(),a))return new Type(getType(this.types(),a),this)}},{key:"ext",value:function(){return this.v1||this.v2?DEFAULT_EXT_PREFIX:this.metadata[13]||DEFAULT_EXT_PREFIX}}])})(),Format=(function(){function t(e,a){_classCallCheck$2(this,t),this._format=e,this.metadata=a}return _createClass$2(t,[{key:"pattern",value:function(){return this._format[0]}},{key:"format",value:function(){return this._format[1]}},{key:"leadingDigitsPatterns",value:function(){return this._format[2]||[]}},{key:"nationalPrefixFormattingRule",value:function(){return this._format[3]||this.metadata.nationalPrefixFormattingRule()}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return!!this._format[4]||this.metadata.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"nationalPrefixIsMandatoryWhenFormattingInNationalFormat",value:function(){return this.usesNationalPrefix()&&!this.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"usesNationalPrefix",value:function(){return!!(this.nationalPrefixFormattingRule()&&!FIRST_GROUP_ONLY_PREFIX_PATTERN.test(this.nationalPrefixFormattingRule()))}},{key:"internationalFormat",value:function(){return this._format[5]||this.format()}}])})(),FIRST_GROUP_ONLY_PREFIX_PATTERN=/^\(?\$1\)?$/,Type=(function(){function t(e,a){_classCallCheck$2(this,t),this.type=e,this.metadata=a}return _createClass$2(t,[{key:"pattern",value:function(){return this.metadata.v1?this.type:this.type[0]}},{key:"possibleLengths",value:function(){if(!this.metadata.v1)return this.type[1]||this.metadata.possibleLengths()}}])})();function getType(t,e){switch(e){case"FIXED_LINE":return t[0];case"MOBILE":return t[1];case"TOLL_FREE":return t[2];case"PREMIUM_RATE":return t[3];case"PERSONAL_NUMBER":return t[4];case"VOICEMAIL":return t[5];case"UAN":return t[6];case"PAGER":return t[7];case"VOIP":return t[8];case"SHARED_COST":return t[9]}}function validateMetadata(t){if(!t)throw new Error("[libphonenumber-js] `metadata` argument not passed. Check your arguments.");if(!isObject$2(t)||!isObject$2(t.countries))throw new Error("[libphonenumber-js] `metadata` argument was passed but it's not a valid metadata. Must be an object having `.countries` child object property. Got ".concat(isObject$2(t)?"an object of shape: { "+Object.keys(t).join(", ")+" }":"a "+typeOf(t)+": "+t,"."))}var typeOf=function t(e){return _typeof$6(e)};function getCountryCallingCode(t,e){if(e=new Metadata(e),e.hasCountry(t))return e.selectNumberingPlan(t).countryCallingCode();throw new Error("Unknown country: ".concat(t))}function isSupportedCountry(t,e){return e.countries.hasOwnProperty(t)}function setVersion(t){var e=t.version;typeof e=="number"?(this.v1=e===1,this.v2=e===2,this.v3=e===3,this.v4=e===4):e?compare(e,V3)===-1?this.v2=!0:compare(e,V4)===-1?this.v3=!0:this.v4=!0:this.v1=!0}function checkNumberLength(t,e,a){return checkNumberLengthForType(t,e,void 0,a)}function checkNumberLengthForType(t,e,a,r){e&&(r=new Metadata(r.metadata),r.selectNumberingPlan(e));var o=r.type(a),s=o&&o.possibleLengths()||r.possibleLengths();if(!s)return"IS_POSSIBLE";var l=t.length,c=s[0];return c===l?"IS_POSSIBLE":c>l?"TOO_SHORT":s[s.length-1]<l?"TOO_LONG":s.indexOf(l,1)>=0?"IS_POSSIBLE":"INVALID_LENGTH"}function isPossiblePhoneNumber(t,e,a){if(e===void 0&&(e={}),a=new Metadata(a),e.v2){if(!t.countryCallingCode)throw new Error("Invalid phone number object passed");a.selectNumberingPlan(t.countryCallingCode)}else{if(!t.phone)return!1;if(t.country){if(!a.hasCountry(t.country))throw new Error("Unknown country: ".concat(t.country));a.selectNumberingPlan(t.country)}else{if(!t.countryCallingCode)throw new Error("Invalid phone number object passed");a.selectNumberingPlan(t.countryCallingCode)}}if(a.possibleLengths())return isPossibleNumber(t.phone||t.nationalNumber,t.country,a);if(t.countryCallingCode&&a.isNonGeographicCallingCode(t.countryCallingCode))return!0;throw new Error('Missing "possibleLengths" in metadata. Perhaps the metadata has been generated before v1.0.18.')}function isPossibleNumber(t,e,a){switch(checkNumberLength(t,e,a)){case"IS_POSSIBLE":return!0;default:return!1}}function matchesEntirely(t,e){return t=t||"",new RegExp("^(?:"+e+")$").test(t)}function _createForOfIteratorHelperLoose$2(t,e){var a=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(a)return(a=a.call(t)).next.bind(a);if(Array.isArray(t)||(a=_unsupportedIterableToArray$3(t))||e){a&&(t=a);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$3(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$3(t,e);var a={}.toString.call(t).slice(8,-1);return a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set"?Array.from(t):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray$3(t,e):void 0}}function _arrayLikeToArray$3(t,e){(e==null||e>t.length)&&(e=t.length);for(var a=0,r=Array(e);a<e;a++)r[a]=t[a];return r}var NON_FIXED_LINE_PHONE_TYPES=["MOBILE","PREMIUM_RATE","TOLL_FREE","SHARED_COST","VOIP","PERSONAL_NUMBER","PAGER","UAN","VOICEMAIL"];function getNumberType(t,e,a){if(e=e||{},!(!t.country&&!t.countryCallingCode)){a=new Metadata(a),a.selectNumberingPlan(t.country,t.countryCallingCode);var r=e.v2?t.nationalNumber:t.phone;if(matchesEntirely(r,a.nationalNumberPattern())){if(isNumberTypeEqualTo(r,"FIXED_LINE",a))return a.type("MOBILE")&&a.type("MOBILE").pattern()===""||!a.type("MOBILE")||isNumberTypeEqualTo(r,"MOBILE",a)?"FIXED_LINE_OR_MOBILE":"FIXED_LINE";for(var o=_createForOfIteratorHelperLoose$2(NON_FIXED_LINE_PHONE_TYPES),s;!(s=o()).done;){var l=s.value;if(isNumberTypeEqualTo(r,l,a))return l}}}}function isNumberTypeEqualTo(t,e,a){return e=a.type(e),!e||!e.pattern()||e.possibleLengths()&&e.possibleLengths().indexOf(t.length)<0?!1:matchesEntirely(t,e.pattern())}function isValidNumber(t,e,a){if(e=e||{},a=new Metadata(a),a.selectNumberingPlan(t.country,t.countryCallingCode),a.hasTypes())return getNumberType(t,e,a.metadata)!==void 0;var r=e.v2?t.nationalNumber:t.phone;return matchesEntirely(r,a.nationalNumberPattern())}function getPossibleCountriesForNumber(t,e,a){var r=new Metadata(a),o=r.getCountryCodesForCallingCode(t);return o?o.filter(function(s){return couldNationalNumberBelongToCountry(e,s,a)}):[]}function couldNationalNumberBelongToCountry(t,e,a){var r=new Metadata(a);return r.selectNumberingPlan(e),r.numberingPlan.possibleLengths().indexOf(t.length)>=0}var MIN_LENGTH_FOR_NSN=2,MAX_LENGTH_FOR_NSN=17,MAX_LENGTH_COUNTRY_CODE=3,VALID_DIGITS="0-9---",DASHES="--",SLASHES="/",DOTS=".",WHITESPACE=" ",BRACKETS="()\\[\\]",TILDES="~",VALID_PUNCTUATION="".concat(DASHES).concat(SLASHES).concat(DOTS).concat(WHITESPACE).concat(BRACKETS).concat(TILDES),PLUS_CHARS="+",CAPTURING_DIGIT_PATTERN=new RegExp("(["+VALID_DIGITS+"])");function stripIddPrefix(t,e,a,r){if(e){var o=new Metadata(r);o.selectNumberingPlan(e,a);var s=new RegExp(o.IDDPrefix());if(t.search(s)===0){t=t.slice(t.match(s)[0].length);var l=t.match(CAPTURING_DIGIT_PATTERN);if(!(l&&l[1]!=null&&l[1].length>0&&l[1]==="0"))return t}}}function extractNationalNumberFromPossiblyIncompleteNumber(t,e){if(t&&e.numberingPlan.nationalPrefixForParsing()){var a=new RegExp("^(?:"+e.numberingPlan.nationalPrefixForParsing()+")"),r=a.exec(t);if(r){var o,s,l=r.length-1,c=l>0&&r[l];if(e.nationalPrefixTransformRule()&&c)o=t.replace(a,e.nationalPrefixTransformRule()),l>1&&(s=r[1]);else{var u=r[0];o=t.slice(u.length),c&&(s=r[1])}var h;if(c){var f=t.indexOf(r[1]),m=t.slice(0,f);m===e.numberingPlan.nationalPrefix()&&(h=e.numberingPlan.nationalPrefix())}else h=r[0];return{nationalNumber:o,nationalPrefix:h,carrierCode:s}}}return{nationalNumber:t}}function _createForOfIteratorHelperLoose$1(t,e){var a=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(a)return(a=a.call(t)).next.bind(a);if(Array.isArray(t)||(a=_unsupportedIterableToArray$2(t))||e){a&&(t=a);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$2(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$2(t,e);var a={}.toString.call(t).slice(8,-1);return a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set"?Array.from(t):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray$2(t,e):void 0}}function _arrayLikeToArray$2(t,e){(e==null||e>t.length)&&(e=t.length);for(var a=0,r=Array(e);a<e;a++)r[a]=t[a];return r}function getCountryByNationalNumber(t,e){var a=e.countries,r=e.metadata;r=new Metadata(r);for(var o=_createForOfIteratorHelperLoose$1(a),s;!(s=o()).done;){var l=s.value;if(r.selectNumberingPlan(l),r.leadingDigits()){if(t&&t.search(r.leadingDigits())===0)return l}else if(getNumberType({phone:t,country:l},void 0,r.metadata))return l}}function getCountryByCallingCode(t,e){var a=e.nationalNumber,r=e.metadata,o=r.getCountryCodesForCallingCode(t);if(o)return o.length===1?o[0]:getCountryByNationalNumber(a,{countries:o,metadata:r.metadata})}function extractNationalNumber(t,e,a){var r=extractNationalNumberFromPossiblyIncompleteNumber(t,a),o=r.carrierCode,s=r.nationalNumber;if(s!==t){if(!shouldHaveExtractedNationalPrefix(t,s,a))return{nationalNumber:t};if(a.numberingPlan.possibleLengths()&&(e||(e=getCountryByCallingCode(a.numberingPlan.callingCode(),{nationalNumber:s,metadata:a})),!isPossibleIncompleteNationalNumber(s,e,a)))return{nationalNumber:t}}return{nationalNumber:s,carrierCode:o}}function shouldHaveExtractedNationalPrefix(t,e,a){return!(matchesEntirely(t,a.nationalNumberPattern())&&!matchesEntirely(e,a.nationalNumberPattern()))}function isPossibleIncompleteNationalNumber(t,e,a){switch(checkNumberLength(t,e,a)){case"TOO_SHORT":case"INVALID_LENGTH":return!1;default:return!0}}function extractCountryCallingCodeFromInternationalNumberWithoutPlusSign(t,e,a,r,o){var s=a?getCountryCallingCode(a,o):r;if(t.indexOf(s)===0){o=new Metadata(o),o.selectNumberingPlan(a,s);var l=t.slice(s.length),c=extractNationalNumber(l,e,o),u=c.nationalNumber,h=extractNationalNumber(t,e,o),f=h.nationalNumber;if(!matchesEntirely(f,o.nationalNumberPattern())&&matchesEntirely(u,o.nationalNumberPattern())||checkNumberLength(f,e,o)==="TOO_LONG")return{countryCallingCode:s,number:l}}return{number:t}}function extractCountryCallingCode(t,e,a,r,o){if(!t)return{};var s;if(t[0]!=="+"){var l=stripIddPrefix(t,a,r,o);if(l&&l!==t)s=!0,t="+"+l;else{if(a||r){var c=extractCountryCallingCodeFromInternationalNumberWithoutPlusSign(t,e,a,r,o),u=c.countryCallingCode,h=c.number;if(u)return{countryCallingCodeSource:"FROM_NUMBER_WITHOUT_PLUS_SIGN",countryCallingCode:u,number:h}}return{number:t}}}if(t[1]==="0")return{};o=new Metadata(o);for(var f=2;f-1<=MAX_LENGTH_COUNTRY_CODE&&f<=t.length;){var m=t.slice(1,f);if(o.hasCallingCode(m))return o.selectNumberingPlan(m),{countryCallingCodeSource:s?"FROM_NUMBER_WITH_IDD":"FROM_NUMBER_WITH_PLUS_SIGN",countryCallingCode:m,number:t.slice(f)};f++}return{}}function applyInternationalSeparatorStyle(t){return t.replace(new RegExp("[".concat(VALID_PUNCTUATION,"]+"),"g")," ").trim()}var FIRST_GROUP_PATTERN=/(\$\d)/;function formatNationalNumberUsingFormat(t,e,a){var r=a.useInternationalFormat,o=a.withNationalPrefix,s=t.replace(new RegExp(e.pattern()),r?e.internationalFormat():o&&e.nationalPrefixFormattingRule()?e.format().replace(FIRST_GROUP_PATTERN,e.nationalPrefixFormattingRule()):e.format());return r?applyInternationalSeparatorStyle(s):s}var SINGLE_IDD_PREFIX_REG_EXP=/^[\d]+(?:[~\u2053\u223C\uFF5E][\d]+)?$/;function getIddPrefix(t,e,a){var r=new Metadata(a);if(r.selectNumberingPlan(t,e),r.defaultIDDPrefix())return r.defaultIDDPrefix();if(SINGLE_IDD_PREFIX_REG_EXP.test(r.IDDPrefix()))return r.IDDPrefix()}var RFC3966_EXTN_PREFIX=";ext=",getExtensionDigitsPattern=function t(e){return"([".concat(VALID_DIGITS,"]{1,").concat(e,"})")};function createExtensionPattern(t){var e="20",a="15",r="9",o="6",s="[ \\t,]*",l="[:\\.]?[ \\t,-]*",c="#?",u="(?:e?xt(?:ensi(?:o?|))?n?|??||anexo)",h="(?:[x#~]|int|)",f="[- ]+",m="[ \\t]*",g="(?:,{2}|;)",b=RFC3966_EXTN_PREFIX+getExtensionDigitsPattern(e),w=s+u+l+getExtensionDigitsPattern(e)+c,E=s+h+l+getExtensionDigitsPattern(r)+c,C=f+getExtensionDigitsPattern(o)+"#",B=m+g+l+getExtensionDigitsPattern(a)+c,O=m+"(?:,)+"+l+getExtensionDigitsPattern(r)+c;return b+"|"+w+"|"+E+"|"+C+"|"+B+"|"+O}var MIN_LENGTH_PHONE_NUMBER_PATTERN="["+VALID_DIGITS+"]{"+MIN_LENGTH_FOR_NSN+"}",VALID_PHONE_NUMBER="["+PLUS_CHARS+"]{0,1}(?:["+VALID_PUNCTUATION+"]*["+VALID_DIGITS+"]){3,}["+VALID_PUNCTUATION+VALID_DIGITS+"]*",VALID_PHONE_NUMBER_START_REG_EXP=new RegExp("^["+PLUS_CHARS+"]{0,1}(?:["+VALID_PUNCTUATION+"]*["+VALID_DIGITS+"]){1,2}$","i"),VALID_PHONE_NUMBER_WITH_EXTENSION=VALID_PHONE_NUMBER+"(?:"+createExtensionPattern()+")?",VALID_PHONE_NUMBER_PATTERN=new RegExp("^"+MIN_LENGTH_PHONE_NUMBER_PATTERN+"$|^"+VALID_PHONE_NUMBER_WITH_EXTENSION+"$","i");function isViablePhoneNumber(t){return t.length>=MIN_LENGTH_FOR_NSN&&VALID_PHONE_NUMBER_PATTERN.test(t)}function isViablePhoneNumberStart(t){return VALID_PHONE_NUMBER_START_REG_EXP.test(t)}function formatRFC3966(t){var e=t.number,a=t.ext;if(!e)return"";if(e[0]!=="+")throw new Error('"formatRFC3966()" expects "number" to be in E.164 format.');return"tel:".concat(e).concat(a?";ext="+a:"")}var DEFAULT_OPTIONS={formatExtension:function t(e,a,r){return"".concat(e).concat(r.ext()).concat(a)}};function formatNumber(t,e,a,r){if(a?a=merge$1({},DEFAULT_OPTIONS,a):a=DEFAULT_OPTIONS,r=new Metadata(r),t.country&&t.country!=="001"){if(!r.hasCountry(t.country))throw new Error("Unknown country: ".concat(t.country));r.selectNumberingPlan(t.country)}else if(t.countryCallingCode)r.selectNumberingPlan(t.countryCallingCode);else return t.phone||"";var o=r.countryCallingCode(),s=a.v2?t.nationalNumber:t.phone,l;switch(e){case"NATIONAL":return s?(l=formatNationalNumber(s,t.carrierCode,"NATIONAL",r,a),addExtension(l,t.ext,r,a.formatExtension)):"";case"INTERNATIONAL":return s?(l=formatNationalNumber(s,null,"INTERNATIONAL",r,a),l="+".concat(o," ").concat(l),addExtension(l,t.ext,r,a.formatExtension)):"+".concat(o);case"E.164":return"+".concat(o).concat(s);case"RFC3966":return formatRFC3966({number:"+".concat(o).concat(s),ext:t.ext});case"IDD":if(!a.fromCountry)return;var c=formatIDD(s,t.carrierCode,o,a.fromCountry,r);return addExtension(c,t.ext,r,a.formatExtension);default:throw new Error('Unknown "format" argument passed to "formatNumber()": "'.concat(e,'"'))}}function formatNationalNumber(t,e,a,r,o){var s=chooseFormatForNumber(r.formats(),t);return s?formatNationalNumberUsingFormat(t,s,{useInternationalFormat:a==="INTERNATIONAL",withNationalPrefix:!(s.nationalPrefixIsOptionalWhenFormattingInNationalFormat()&&o&&o.nationalPrefix===!1)}):t}function chooseFormatForNumber(t,e){return pickFirstMatchingElement(t,function(a){if(a.leadingDigitsPatterns().length>0){var r=a.leadingDigitsPatterns()[a.leadingDigitsPatterns().length-1];if(e.search(r)!==0)return!1}return matchesEntirely(e,a.pattern())})}function addExtension(t,e,a,r){return e?r(t,e,a):t}function formatIDD(t,e,a,r,o){var s=getCountryCallingCode(r,o.metadata);if(s===a){var l=formatNationalNumber(t,e,"NATIONAL",o);return a==="1"?a+" "+l:l}var c=getIddPrefix(r,void 0,o.metadata);if(c)return"".concat(c," ").concat(a," ").concat(formatNationalNumber(t,null,"INTERNATIONAL",o))}function merge$1(){for(var t=1,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];for(;t<a.length;){if(a[t])for(var o in a[t])a[0][o]=a[t][o];t++}return a[0]}function pickFirstMatchingElement(t,e){for(var a=0;a<t.length;){if(e(t[a]))return t[a];a++}}function _typeof$5(t){"@babel/helpers - typeof";return _typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$5(t)}function ownKeys$4(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),a.push.apply(a,r)}return a}function _objectSpread$4(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$4(Object(a),!0).forEach(function(r){_defineProperty$4(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ownKeys$4(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function _defineProperty$4(t,e,a){return(e=_toPropertyKey$4(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function _classCallCheck$1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties$2(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_toPropertyKey$4(r.key),r)}}function _createClass$1(t,e,a){return e&&_defineProperties$2(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _toPropertyKey$4(t){var e=_toPrimitive$4(t,"string");return _typeof$5(e)=="symbol"?e:e+""}function _toPrimitive$4(t,e){if(_typeof$5(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,e);if(_typeof$5(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var PhoneNumber=(function(){function t(e,a,r){if(_classCallCheck$1(this,t),!e)throw new TypeError("First argument is required");if(typeof e!="string")throw new TypeError("First argument must be a string");if(e[0]==="+"&&!a)throw new TypeError("`metadata` argument not passed");if(isObject$2(a)&&isObject$2(a.countries)){r=a;var o=e;if(!E164_NUMBER_REGEXP.test(o))throw new Error('Invalid `number` argument passed: must consist of a "+" followed by digits');var s=extractCountryCallingCode(o,void 0,void 0,void 0,r),l=s.countryCallingCode,c=s.number;if(a=c,e=l,!a)throw new Error("Invalid `number` argument passed: too short")}if(!a)throw new TypeError("`nationalNumber` argument is required");if(typeof a!="string")throw new TypeError("`nationalNumber` argument must be a string");validateMetadata(r);var u=getCountryAndCountryCallingCode(e,r),h=u.country,f=u.countryCallingCode;this.country=h,this.countryCallingCode=f,this.nationalNumber=a,this.number="+"+this.countryCallingCode+this.nationalNumber,this.getMetadata=function(){return r}}return _createClass$1(t,[{key:"setExt",value:function(a){this.ext=a}},{key:"getPossibleCountries",value:function(){return this.country?[this.country]:getPossibleCountriesForNumber(this.countryCallingCode,this.nationalNumber,this.getMetadata())}},{key:"isPossible",value:function(){return isPossiblePhoneNumber(this,{v2:!0},this.getMetadata())}},{key:"isValid",value:function(){return isValidNumber(this,{v2:!0},this.getMetadata())}},{key:"isNonGeographic",value:function(){var a=new Metadata(this.getMetadata());return a.isNonGeographicCallingCode(this.countryCallingCode)}},{key:"isEqual",value:function(a){return this.number===a.number&&this.ext===a.ext}},{key:"getType",value:function(){return getNumberType(this,{v2:!0},this.getMetadata())}},{key:"format",value:function(a,r){return formatNumber(this,a,r?_objectSpread$4(_objectSpread$4({},r),{},{v2:!0}):{v2:!0},this.getMetadata())}},{key:"formatNational",value:function(a){return this.format("NATIONAL",a)}},{key:"formatInternational",value:function(a){return this.format("INTERNATIONAL",a)}},{key:"getURI",value:function(a){return this.format("RFC3966",a)}}])})(),isCountryCode=function t(e){return/^[A-Z]{2}$/.test(e)};function getCountryAndCountryCallingCode(t,e){var a,r,o=new Metadata(e);return isCountryCode(t)?(a=t,o.selectNumberingPlan(a),r=o.countryCallingCode()):r=t,{country:a,countryCallingCode:r}}var E164_NUMBER_REGEXP=/^\+\d+$/;function _typeof$4(t){"@babel/helpers - typeof";return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$4(t)}function _createClass(t,e,a){return Object.defineProperty(t,"prototype",{writable:!1}),t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _callSuper(t,e,a){return e=_getPrototypeOf(e),_possibleConstructorReturn(t,_isNativeReflectConstruct()?Reflect.construct(e,a||[],_getPrototypeOf(t).constructor):e.apply(t,a))}function _possibleConstructorReturn(t,e){if(e&&(_typeof$4(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _inherits$1(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_setPrototypeOf(t,e)}function _wrapNativeSuper(t){var e=typeof Map=="function"?new Map:void 0;return _wrapNativeSuper=function(r){if(r===null||!_isNativeFunction(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(r))return e.get(r);e.set(r,o)}function o(){return _construct$1(r,arguments,_getPrototypeOf(this).constructor)}return o.prototype=Object.create(r.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(o,r)},_wrapNativeSuper(t)}function _construct$1(t,e,a){if(_isNativeReflectConstruct())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var o=new(t.bind.apply(t,r));return a&&_setPrototypeOf(o,a.prototype),o}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct=function(){return!!t})()}function _isNativeFunction(t){try{return Function.toString.call(t).indexOf("[native code]")!==-1}catch{return typeof t=="function"}}function _setPrototypeOf(t,e){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,r){return a.__proto__=r,a},_setPrototypeOf(t,e)}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_getPrototypeOf(t)}var ParseError=(function(t){function e(a){var r;return _classCallCheck(this,e),r=_callSuper(this,e,[a]),Object.setPrototypeOf(r,e.prototype),r.name=r.constructor.name,r}return _inherits$1(e,t),_createClass(e)})(_wrapNativeSuper(Error)),EXTN_PATTERN=new RegExp("(?:"+createExtensionPattern()+")$","i");function extractExtension(t){var e=t.search(EXTN_PATTERN);if(e<0)return{};for(var a=t.slice(0,e),r=t.match(EXTN_PATTERN),o=1;o<r.length;){if(r[o])return{number:a,ext:r[o]};o++}}var DIGITS={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9"};function parseDigit(t){return DIGITS[t]}function _createForOfIteratorHelperLoose(t,e){var a=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(a)return(a=a.call(t)).next.bind(a);if(Array.isArray(t)||(a=_unsupportedIterableToArray$1(t))||e){a&&(t=a);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray$1(t,e);var a={}.toString.call(t).slice(8,-1);return a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set"?Array.from(t):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray$1(t,e):void 0}}function _arrayLikeToArray$1(t,e){(e==null||e>t.length)&&(e=t.length);for(var a=0,r=Array(e);a<e;a++)r[a]=t[a];return r}function parseIncompletePhoneNumber(t){for(var e="",a=_createForOfIteratorHelperLoose(t.split("")),r;!(r=a()).done;){var o=r.value;e+=parsePhoneNumberCharacter(o,e)||""}return e}function parsePhoneNumberCharacter(t,e,a){return t==="+"?e?void 0:"+":parseDigit(t)}var PLUS_SIGN="+",RFC3966_VISUAL_SEPARATOR_="[\\-\\.\\(\\)]?",RFC3966_PHONE_DIGIT_="(["+VALID_DIGITS+"]|"+RFC3966_VISUAL_SEPARATOR_+")",RFC3966_GLOBAL_NUMBER_DIGITS_="^\\"+PLUS_SIGN+RFC3966_PHONE_DIGIT_+"*["+VALID_DIGITS+"]"+RFC3966_PHONE_DIGIT_+"*$",RFC3966_GLOBAL_NUMBER_DIGITS_PATTERN_=new RegExp(RFC3966_GLOBAL_NUMBER_DIGITS_,"g"),ALPHANUM_=VALID_DIGITS,RFC3966_DOMAINLABEL_="["+ALPHANUM_+"]+((\\-)*["+ALPHANUM_+"])*",VALID_ALPHA_="a-zA-Z",RFC3966_TOPLABEL_="["+VALID_ALPHA_+"]+((\\-)*["+ALPHANUM_+"])*",RFC3966_DOMAINNAME_="^("+RFC3966_DOMAINLABEL_+"\\.)*"+RFC3966_TOPLABEL_+"\\.?$",RFC3966_DOMAINNAME_PATTERN_=new RegExp(RFC3966_DOMAINNAME_,"g"),RFC3966_PREFIX_="tel:",RFC3966_PHONE_CONTEXT_=";phone-context=",RFC3966_ISDN_SUBADDRESS_=";isub=";function extractPhoneContext(t){var e=t.indexOf(RFC3966_PHONE_CONTEXT_);if(e<0)return null;var a=e+RFC3966_PHONE_CONTEXT_.length;if(a>=t.length)return"";var r=t.indexOf(";",a);return r>=0?t.substring(a,r):t.substring(a)}function isPhoneContextValid(t){return t===null?!0:t.length===0?!1:RFC3966_GLOBAL_NUMBER_DIGITS_PATTERN_.test(t)||RFC3966_DOMAINNAME_PATTERN_.test(t)}function extractFormattedPhoneNumberFromPossibleRfc3966NumberUri(t,e){var a=e.extractFormattedPhoneNumber,r=extractPhoneContext(t);if(!isPhoneContextValid(r))throw new ParseError("NOT_A_NUMBER");var o;if(r===null)o=a(t)||"";else{o="",r.charAt(0)===PLUS_SIGN&&(o+=r);var s=t.indexOf(RFC3966_PREFIX_),l;s>=0?l=s+RFC3966_PREFIX_.length:l=0;var c=t.indexOf(RFC3966_PHONE_CONTEXT_);o+=t.substring(l,c)}var u=o.indexOf(RFC3966_ISDN_SUBADDRESS_);if(u>0&&(o=o.substring(0,u)),o!=="")return o}var MAX_INPUT_STRING_LENGTH=250,PHONE_NUMBER_START_PATTERN=new RegExp("["+PLUS_CHARS+VALID_DIGITS+"]"),AFTER_PHONE_NUMBER_END_PATTERN=new RegExp("[^"+VALID_DIGITS+"#]+$");function parse$7(t,e,a){if(e=e||{},a=new Metadata(a),e.defaultCountry&&!a.hasCountry(e.defaultCountry))throw e.v2?new ParseError("INVALID_COUNTRY"):new Error("Unknown country: ".concat(e.defaultCountry));var r=parseInput(t,e.v2,e.extract),o=r.number,s=r.ext,l=r.error;if(!o){if(e.v2)throw l==="TOO_SHORT"?new ParseError("TOO_SHORT"):new ParseError("NOT_A_NUMBER");return{}}var c=parsePhoneNumber$1(o,e.defaultCountry,e.defaultCallingCode,a),u=c.country,h=c.nationalNumber,f=c.countryCallingCode,m=c.countryCallingCodeSource,g=c.carrierCode;if(!a.hasSelectedNumberingPlan()){if(e.v2)throw new ParseError("INVALID_COUNTRY");return{}}if(!h||h.length<MIN_LENGTH_FOR_NSN){if(e.v2)throw new ParseError("TOO_SHORT");return{}}if(h.length>MAX_LENGTH_FOR_NSN){if(e.v2)throw new ParseError("TOO_LONG");return{}}if(e.v2){var b=new PhoneNumber(f,h,a.metadata);return u&&(b.country=u),g&&(b.carrierCode=g),s&&(b.ext=s),b.__countryCallingCodeSource=m,b}var w=(e.extended?a.hasSelectedNumberingPlan():u)?matchesEntirely(h,a.nationalNumberPattern()):!1;return e.extended?{country:u,countryCallingCode:f,carrierCode:g,valid:w,possible:w?!0:!!(e.extended===!0&&a.possibleLengths()&&isPossibleNumber(h,u,a)),phone:h,ext:s}:w?result$2(u,h,s):{}}function _extractFormattedPhoneNumber(t,e,a){if(t){if(t.length>MAX_INPUT_STRING_LENGTH){if(a)throw new ParseError("TOO_LONG");return}if(e===!1)return t;var r=t.search(PHONE_NUMBER_START_PATTERN);if(!(r<0))return t.slice(r).replace(AFTER_PHONE_NUMBER_END_PATTERN,"")}}function parseInput(t,e,a){var r=extractFormattedPhoneNumberFromPossibleRfc3966NumberUri(t,{extractFormattedPhoneNumber:function(l){return _extractFormattedPhoneNumber(l,a,e)}});if(!r)return{};if(!isViablePhoneNumber(r))return isViablePhoneNumberStart(r)?{error:"TOO_SHORT"}:{};var o=extractExtension(r);return o.ext?o:{number:r}}function result$2(t,e,a){var r={country:t,phone:e};return a&&(r.ext=a),r}function parsePhoneNumber$1(t,e,a,r){var o=extractCountryCallingCode(parseIncompletePhoneNumber(t),void 0,e,a,r.metadata),s=o.countryCallingCodeSource,l=o.countryCallingCode,c=o.number,u;if(l)r.selectNumberingPlan(l);else if(c&&(e||a))r.selectNumberingPlan(e,a),e&&(u=e),l=a||getCountryCallingCode(e,r.metadata);else return{};if(!c)return{countryCallingCodeSource:s,countryCallingCode:l};var h=extractNationalNumber(parseIncompletePhoneNumber(c),u,r),f=h.nationalNumber,m=h.carrierCode,g=getCountryByCallingCode(l,{nationalNumber:f,metadata:r});return g&&(u=g,g==="001"||r.selectNumberingPlan(u)),{country:u,countryCallingCode:l,countryCallingCodeSource:s,nationalNumber:f,carrierCode:m}}function _typeof$3(t){"@babel/helpers - typeof";return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$3(t)}function ownKeys$3(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),a.push.apply(a,r)}return a}function _objectSpread$3(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$3(Object(a),!0).forEach(function(r){_defineProperty$3(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ownKeys$3(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function _defineProperty$3(t,e,a){return(e=_toPropertyKey$3(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function _toPropertyKey$3(t){var e=_toPrimitive$3(t,"string");return _typeof$3(e)=="symbol"?e:e+""}function _toPrimitive$3(t,e){if(_typeof$3(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,e);if(_typeof$3(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function parsePhoneNumberWithError$2(t,e,a){return parse$7(t,_objectSpread$3(_objectSpread$3({},e),{},{v2:!0}),a)}function _typeof$2(t){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$2(t)}function ownKeys$2(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),a.push.apply(a,r)}return a}function _objectSpread$2(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$2(Object(a),!0).forEach(function(r){_defineProperty$2(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ownKeys$2(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function _defineProperty$2(t,e,a){return(e=_toPropertyKey$2(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function _toPropertyKey$2(t){var e=_toPrimitive$2(t,"string");return _typeof$2(e)=="symbol"?e:e+""}function _toPrimitive$2(t,e){if(_typeof$2(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,e);if(_typeof$2(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(t,e){if(t){if(typeof t=="string")return _arrayLikeToArray(t,e);var a={}.toString.call(t).slice(8,-1);return a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set"?Array.from(t):a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(e==null||e>t.length)&&(e=t.length);for(var a=0,r=Array(e);a<e;a++)r[a]=t[a];return r}function _iterableToArrayLimit(t,e){var a=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(a!=null){var r,o,s,l,c=[],u=!0,h=!1;try{if(s=(a=a.call(t)).next,e!==0)for(;!(u=(r=s.call(a)).done)&&(c.push(r.value),c.length!==e);u=!0);}catch(f){h=!0,o=f}finally{try{if(!u&&a.return!=null&&(l=a.return(),Object(l)!==l))return}finally{if(h)throw o}}return c}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function normalizeArguments(t){var e=Array.prototype.slice.call(t),a=_slicedToArray(e,4),r=a[0],o=a[1],s=a[2],l=a[3],c,u,h;if(typeof r=="string")c=r;else throw new TypeError("A text for parsing must be a string.");if(!o||typeof o=="string")l?(u=s,h=l):(u=void 0,h=s),o&&(u=_objectSpread$2({defaultCountry:o},u));else if(isObject$2(o))s?(u=o,h=s):h=o;else throw new Error("Invalid second argument: ".concat(o));return{text:c,options:u,metadata:h}}function parsePhoneNumberWithError$1(){var t=normalizeArguments(arguments),e=t.text,a=t.options,r=t.metadata;return parsePhoneNumberWithError$2(e,a,r)}function _typeof$1(t){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$1(t)}function ownKeys$1(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),a.push.apply(a,r)}return a}function _objectSpread$1(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$1(Object(a),!0).forEach(function(r){_defineProperty$1(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ownKeys$1(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function _defineProperty$1(t,e,a){return(e=_toPropertyKey$1(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function _toPropertyKey$1(t){var e=_toPrimitive$1(t,"string");return _typeof$1(e)=="symbol"?e:e+""}function _toPrimitive$1(t,e){if(_typeof$1(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,e);if(_typeof$1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function parsePhoneNumber(t,e,a){e&&e.defaultCountry&&!isSupportedCountry(e.defaultCountry,a)&&(e=_objectSpread$1(_objectSpread$1({},e),{},{defaultCountry:void 0}));try{return parsePhoneNumberWithError$2(t,e,a)}catch(r){if(!(r instanceof ParseError))throw r}}function _typeof(t){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(t)}function ownKeys(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),a.push.apply(a,r)}return a}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var a=arguments[e]!=null?arguments[e]:{};e%2?ownKeys(Object(a),!0).forEach(function(r){_defineProperty(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function _defineProperty(t,e,a){return(e=_toPropertyKey(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return _typeof(e)=="symbol"?e:e+""}function _toPrimitive(t,e){if(_typeof(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,e);if(_typeof(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function isValidPhoneNumber$1(){var t=normalizeArguments(arguments),e=t.text,a=t.options,r=t.metadata;a=_objectSpread(_objectSpread({},a),{},{extract:!1});var o=parsePhoneNumber(e,a,r);return o&&o.isValid()||!1}function parsePhoneNumberWithError(){return withMetadataArgument(parsePhoneNumberWithError$1,arguments)}function isValidPhoneNumber(){return withMetadataArgument(isValidPhoneNumber$1,arguments)}const NAMETAG_SALT="unicity:nametag:",DEFAULT_COUNTRY$1="US";function sha256Hex(t){const e=new TextEncoder().encode(t);return bytesToHex$2(sha256$2(e))}function isLikelyPhoneNumber(t){if(t.startsWith("+"))return!0;const a=t.replace(/\D/g,"").length;if(a<7)return!1;const r=t.replace(/[\s\-().]/g,"").length;return a/r>.5}function normalizePhoneNumber(t,e){try{return isValidPhoneNumber(t,e)?parsePhoneNumberWithError(t,e).format("E.164"):isValidPhoneNumber(t)?parsePhoneNumberWithError(t).format("E.164"):null}catch{return null}}function normalizeNametag(t,e=DEFAULT_COUNTRY$1){const a=t.trim();if(isLikelyPhoneNumber(a)){const o=normalizePhoneNumber(a,e);if(o)return o}let r=a.toLowerCase();return r.endsWith("@unicity")&&(r=r.slice(0,-8)),r}function hashNametag(t,e=DEFAULT_COUNTRY$1){const a=normalizeNametag(t,e);return sha256Hex(NAMETAG_SALT+a)}const DEFAULT_COUNTRY="US";async function createBindingEvent(t,e,a,r=DEFAULT_COUNTRY){const o=hashNametag(e,r),s={nametag_hash:o,address:a,verified:Date.now()};return Event$1.create(t,{kind:APP_DATA,tags:[["d",o],["nametag",o],["t",o],["address",a]],content:JSON.stringify(s)})}function createNametagToPubkeyFilter(t,e=DEFAULT_COUNTRY){const a=hashNametag(t,e);return Filter.builder().kinds(APP_DATA).tTags(a).build()}function createPubkeyToNametagFilter(t){return Filter.builder().kinds(APP_DATA).authors(t).limit(10).build()}function parseNametagHashFromEvent(t){const e=t.getTagValue("nametag");if(e)return e;const a=t.getTagValue("d");if(a)return a;try{return JSON.parse(t.content).nametag_hash}catch{return}}function parseAddressFromEvent(t){const e=t.getTagValue("address");if(e)return e;try{return JSON.parse(t.content).address}catch{return}}function isValidBindingEvent(t){if(t.kind!==APP_DATA||!t.hasTag("d"))return!1;try{const e=JSON.parse(t.content);if(!e.nametag_hash||!e.address)return!1}catch{return!1}return t.verify()}var NametagBinding=Object.freeze({__proto__:null,createBindingEvent,createNametagToPubkeyFilter,createPubkeyToNametagFilter,isValidBindingEvent,parseAddressFromEvent,parseNametagHashFromEvent});const MESSAGE_PREFIX$1="token_transfer:";async function createTokenTransferEvent(t,e,a,r,o){let s,l,c;r!==void 0&&typeof r=="object"?(s=r.amount,l=r.symbol,c=r.replyToEventId):(s=r,l=o);const u=MESSAGE_PREFIX$1+a,h=await t.encryptHex(u,e),f=[["p",e],["type","token_transfer"]];return s!==void 0&&f.push(["amount",String(s)]),l!==void 0&&f.push(["symbol",l]),c!==void 0&&c.length>0&&f.push(["e",c,"","reply"]),Event$1.create(t,{kind:TOKEN_TRANSFER,tags:f,content:h})}async function parseTokenTransfer(t,e){if(t.kind!==TOKEN_TRANSFER)throw new Error("Event is not a token transfer");if(t.getTagValue("type")!=="token_transfer")throw new Error("Event type is not token_transfer");let r;if(e.isMyPublicKey(t.pubkey)){const s=t.getTagValue("p");if(!s)throw new Error("No recipient found in event");r=s}else r=t.pubkey;let o;try{o=await e.decryptHex(t.content,r)}catch(s){try{const{hexToBytes:l}=await Promise.resolve().then(function(){return utils});o=new TextDecoder().decode(l(t.content))}catch{throw s}}if(!o.startsWith(MESSAGE_PREFIX$1))throw new Error("Invalid token transfer format");return o.slice(MESSAGE_PREFIX$1.length)}function getAmount$1(t){const e=t.getTagValue("amount");if(e!==void 0)try{return BigInt(e)}catch{return}}function getSymbol(t){return t.getTagValue("symbol")}function getReplyToEventId(t){return t.getTagValue("e")}function isTokenTransfer(t){return t.kind===TOKEN_TRANSFER&&t.getTagValue("type")==="token_transfer"}function getRecipient(t){return t.getTagValue("p")}function getSender$1(t){return t.pubkey}var TokenTransferProtocol=Object.freeze({__proto__:null,createTokenTransferEvent,getAmount:getAmount$1,getRecipient,getReplyToEventId,getSender:getSender$1,getSymbol,isTokenTransfer,parseTokenTransfer});const MESSAGE_PREFIX$2="payment_request:";function generateRequestId(){const t=new Uint8Array(4);if(typeof crypto<"u"&&crypto.getRandomValues)crypto.getRandomValues(t);else for(let e=0;e<t.length;e++)t[e]=Math.floor(Math.random()*256);return Array.from(t).map(e=>e.toString(16).padStart(2,"0")).join("")}async function createPaymentRequestEvent(t,e,a){const r=a.requestId||generateRequestId(),o=JSON.stringify({amount:String(a.amount),coinId:a.coinId,message:a.message,recipientNametag:a.recipientNametag,requestId:r}),s=MESSAGE_PREFIX$2+o,l=await t.encryptHex(s,e),c=[["p",e],["type","payment_request"],["amount",String(a.amount)]];return a.recipientNametag&&c.push(["recipient",a.recipientNametag]),Event$1.create(t,{kind:PAYMENT_REQUEST,tags:c,content:l})}async function parsePaymentRequest(t,e){if(t.kind!==PAYMENT_REQUEST)throw new Error("Event is not a payment request");if(t.getTagValue("type")!=="payment_request")throw new Error("Event type is not payment_request");let r;if(e.isMyPublicKey(t.pubkey)){const c=t.getTagValue("p");if(!c)throw new Error("No target found in event");r=c}else r=t.pubkey;const o=await e.decryptHex(t.content,r);if(!o.startsWith(MESSAGE_PREFIX$2))throw new Error("Invalid payment request format: missing prefix");const s=o.slice(MESSAGE_PREFIX$2.length),l=JSON.parse(s);return{amount:BigInt(l.amount),coinId:l.coinId,message:l.message,recipientNametag:l.recipientNametag,requestId:l.requestId,senderPubkey:t.pubkey,timestamp:t.created_at*1e3,eventId:t.id}}function isPaymentRequest(t){return t.kind===PAYMENT_REQUEST&&t.getTagValue("type")==="payment_request"}function getAmount(t){const e=t.getTagValue("amount");if(e!==void 0)try{return BigInt(e)}catch{return}}function getRecipientNametag(t){return t.getTagValue("recipient")}function getTarget(t){return t.getTagValue("p")}function getSender(t){return t.pubkey}function formatAmount(t,e=8){const a=typeof t=="bigint"?t:BigInt(t),r=BigInt(10)**BigInt(e),o=a/r,s=a%r;if(s===BigInt(0))return o.toString();const c=s.toString().padStart(e,"0").replace(/0+$/,"");return`${o}.${c}`}function parseAmount(t,e=8){const a=BigInt(10)**BigInt(e),r=t.split("."),o=BigInt(r[0]||"0");if(r.length===1)return o*a;let s=r[1]||"0";s.length<e?s=s.padEnd(e,"0"):s.length>e&&(s=s.slice(0,e));const l=BigInt(s);return o*a+l}var PaymentRequestProtocol=Object.freeze({__proto__:null,createPaymentRequestEvent,formatAmount,getAmount,getRecipientNametag,getSender,getTarget,isPaymentRequest,parseAmount,parsePaymentRequest});const MessageStatus={PENDING:"PENDING",SENT:"SENT",DELIVERED:"DELIVERED",READ:"READ",FAILED:"FAILED"},MessageType={TEXT:"TEXT",PAYMENT_REQUEST:"PAYMENT_REQUEST",TOKEN_TRANSFER:"TOKEN_TRANSFER"};class ChatMessage{id;conversationId;content;timestamp;isFromMe;status;type;senderPubkey;senderNametag;signature;metadata;constructor(e){this.id=e.id||v4(),this.conversationId=e.conversationId,this.content=e.content,this.timestamp=e.timestamp||Date.now(),this.isFromMe=e.isFromMe,this.status=e.status||MessageStatus.PENDING,this.type=e.type||MessageType.TEXT,this.senderPubkey=e.senderPubkey,this.senderNametag=e.senderNametag,this.signature=e.signature,this.metadata=e.metadata}getFormattedTime(){return new Date(this.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}getFormattedDate(){const e=new Date(this.timestamp),a=new Date,r=new Date(a);return r.setDate(r.getDate()-1),e.toDateString()===a.toDateString()?"Today":e.toDateString()===r.toDateString()?"Yesterday":e.toLocaleDateString()}toJSON(){return{id:this.id,conversationId:this.conversationId,content:this.content,timestamp:this.timestamp,isFromMe:this.isFromMe,status:this.status,type:this.type,senderPubkey:this.senderPubkey,senderNametag:this.senderNametag,signature:this.signature,metadata:this.metadata}}static fromJSON(e){return new ChatMessage(e)}}class ChatConversation{id;participantPubkey;participantNametag;participantName;lastMessageTime;lastMessageText;unreadCount;isApproved;createdAt;constructor(e){this.id=e.id||e.participantPubkey,this.participantPubkey=e.participantPubkey,this.participantNametag=e.participantNametag,this.participantName=e.participantName,this.lastMessageTime=e.lastMessageTime||Date.now(),this.lastMessageText=e.lastMessageText||"",this.unreadCount=e.unreadCount||0,this.isApproved=e.isApproved??!0,this.createdAt=e.createdAt||Date.now()}getDisplayName(){return this.participantNametag?`@${this.participantNametag.replace("@","")}`:this.participantName?this.participantName:this.participantPubkey.slice(0,8)+"..."}getAvatar(){return(this.participantNametag||this.participantName||this.participantPubkey).slice(0,2).toUpperCase()}getFormattedLastMessageTime(){const e=new Date(this.lastMessageTime),r=new Date().getTime()-e.getTime();return r<6e4?"now":r<36e5?`${Math.floor(r/6e4)}m`:r<864e5?`${Math.floor(r/36e5)}h`:r<6048e5?`${Math.floor(r/864e5)}d`:e.toLocaleDateString()}toJSON(){return{id:this.id,participantPubkey:this.participantPubkey,participantNametag:this.participantNametag,participantName:this.participantName,lastMessageTime:this.lastMessageTime,lastMessageText:this.lastMessageText,unreadCount:this.unreadCount,isApproved:this.isApproved,createdAt:this.createdAt}}static fromJSON(e){return new ChatConversation(e)}}const STORAGE_KEY_CONVERSATIONS="unicity_chat_conversations",STORAGE_KEY_MESSAGES="unicity_chat_messages";class ChatRepository{static instance;constructor(){}static getInstance(){return ChatRepository.instance||(ChatRepository.instance=new ChatRepository),ChatRepository.instance}getConversations(){try{const e=localStorage.getItem(STORAGE_KEY_CONVERSATIONS);return e?JSON.parse(e).map(r=>ChatConversation.fromJSON(r)).sort((r,o)=>o.lastMessageTime-r.lastMessageTime):[]}catch(e){return console.error("Failed to parse conversations",e),[]}}getConversation(e){return this.getConversations().find(r=>r.id===e)||null}getConversationByPubkey(e){return this.getConversations().find(r=>r.participantPubkey===e)||null}saveConversation(e){const a=this.getConversations(),r=a.findIndex(o=>o.id===e.id);r>=0?a[r]=e:a.push(e),this.saveConversations(a),this.notifyUpdate()}saveConversations(e){localStorage.setItem(STORAGE_KEY_CONVERSATIONS,JSON.stringify(e.map(a=>a.toJSON())))}deleteConversation(e){const a=this.getConversations().filter(o=>o.id!==e);this.saveConversations(a);const r=this.getAllMessages().filter(o=>o.conversationId!==e);this.saveMessages(r),this.notifyUpdate()}updateConversationLastMessage(e,a,r){const o=this.getConversation(e);o&&(o.lastMessageText=a,o.lastMessageTime=r,this.saveConversation(o))}incrementUnreadCount(e){const a=this.getConversation(e);a&&(a.unreadCount+=1,this.saveConversation(a))}markConversationAsRead(e){const a=this.getConversation(e);a&&a.unreadCount>0&&(a.unreadCount=0,this.saveConversation(a))}updateConversationNametag(e,a){const r=this.getConversation(e);r&&(r.participantNametag=a,this.saveConversation(r))}getTotalUnreadCount(){return this.getConversations().reduce((e,a)=>e+a.unreadCount,0)}getAllMessages(){try{const e=localStorage.getItem(STORAGE_KEY_MESSAGES);return e?JSON.parse(e).map(r=>ChatMessage.fromJSON(r)):[]}catch(e){return console.error("Failed to parse messages",e),[]}}saveMessages(e){localStorage.setItem(STORAGE_KEY_MESSAGES,JSON.stringify(e.map(a=>a.toJSON())))}getMessagesForConversation(e){return this.getAllMessages().filter(a=>a.conversationId===e).sort((a,r)=>a.timestamp-r.timestamp)}getMessage(e){return this.getAllMessages().find(a=>a.id===e)||null}saveMessage(e){const a=this.getAllMessages(),r=a.findIndex(o=>o.id===e.id);r>=0?a[r]=e:a.push(e),this.saveMessages(a),this.updateConversationLastMessage(e.conversationId,e.content.slice(0,100),e.timestamp),this.notifyUpdate()}updateMessageStatus(e,a){const r=this.getMessage(e);if(r){r.status=a;const o=this.getAllMessages(),s=o.findIndex(l=>l.id===e);s>=0&&(o[s]=r,this.saveMessages(o),this.notifyUpdate())}}deleteMessage(e){const a=this.getAllMessages().filter(r=>r.id!==e);this.saveMessages(a),this.notifyUpdate()}notifyUpdate(){window.dispatchEvent(new CustomEvent("chat-updated"))}getOrCreateConversation(e,a,r){let o=this.getConversationByPubkey(e);return o?a&&!o.participantNametag&&(o.participantNametag=a,this.saveConversation(o)):(o=new ChatConversation({participantPubkey:e,participantNametag:a,participantName:r}),this.saveConversation(o)),o}clearAllData(){localStorage.removeItem(STORAGE_KEY_CONVERSATIONS),localStorage.removeItem(STORAGE_KEY_MESSAGES),this.notifyUpdate()}}const bundledRegistry=[{network:"unicity:testnet",assetKind:"non-fungible",name:"unicity",description:"Unicity testnet token type",id:"f8aa13834268d29355ff12183066f0cb902003629bbc5eb9ef0efbe397867509"},{network:"unicity:testnet",assetKind:"fungible",name:"solana",symbol:"SOL",decimals:9,description:"Solana testnet coin on Unicity",icons:[{url:"https://raw.githubusercontent.com/spothq/cryptocurrency-icons/master/svg/icon/sol.svg"},{url:"https://raw.githubusercontent.com/spothq/cryptocurrency-icons/master/32/icon/sol.png"}],id:"dee5f8ce778562eec90e9c38a91296a023210ccc76ff4c29d527ac3eb64ade93"},{network:"unicity:testnet",assetKind:"fungible",name:"bitcoin",symbol:"BTC",decimals:8,description:"Bitcoin testnet coin on Unicity",icons:[{url:"https://raw.githubusercontent.com/spothq/cryptocurrency-icons/master/svg/icon/btc.svg"},{url:"https://raw.githubusercontent.com/spothq/cryptocurrency-icons/master/32/icon/btc.png"}],id:"86bc190fcf7b2d07c6078de93db803578760148b16d4431aa2f42a3241ff0daa"},{network:"unicity:testnet",assetKind:"fungible",name:"ethereum",symbol:"ETH",decimals:18,description:"Ethereum testnet coin on Unicity",icons:[{url:"https://raw.githubusercontent.com/spothq/cryptocurrency-icons/master/svg/icon/eth.svg"},{url:"https://raw.githubusercontent.com/spothq/cryptocurrency-icons/master/32/icon/eth.png"}],id:"3c2450f2fd867e7bb60c6a69d7ad0e53ce967078c201a3ecaa6074ed4c0deafb"},{network:"unicity:testnet",assetKind:"fungible",name:"tether",symbol:"USDT",decimals:6,description:"Tether (Ethereum) testnet coin on Unicity",icons:[{url:"https://raw.githubusercontent.com/spothq/cryptocurrency-icons/master/svg/icon/usdt.svg"},{url:"https://raw.githubusercontent.com/spothq/cryptocurrency-icons/master/32/icon/usdt.png"}],id:"40d25444648418fe7efd433e147187a3a6adf049ac62bc46038bda5b960bf690"},{network:"unicity:testnet",assetKind:"fungible",name:"usd-coin",symbol:"USDC",decimals:6,description:"USDC (Ethereum) testnet coin on Unicity",icons:[{url:"https://raw.githubusercontent.com/spothq/cryptocurrency-icons/master/svg/icon/usdc.svg"},{url:"https://raw.githubusercontent.com/spothq/cryptocurrency-icons/master/32/icon/usdc.png"}],id:"2265121770fa6f41131dd9a6cc571e28679263d09a53eb2642e145b5b9a5b0a2"}],REGISTRY_URL="https://raw.githubusercontent.com/unicitynetwork/unicity-ids/refs/heads/main/unicity-ids.testnet.json",STORAGE_KEY_CACHE="unicity_ids_cache",STORAGE_KEY_TIMESTAMP="unicity_ids_timestamp",CACHE_VALIDITY_MS=1440*60*1e3;class RegistryService{static instance;definitionsById=new Map;isInitialized=!1;initPromise=null;constructor(){this.loadFromBundled(),this.initPromise=this.init()}static getInstance(){return RegistryService.instance||(RegistryService.instance=new RegistryService),RegistryService.instance}async init(){if(this.isInitialized)return;const e=localStorage.getItem(STORAGE_KEY_CACHE),a=localStorage.getItem(STORAGE_KEY_TIMESTAMP),r=a?parseInt(a):0,o=Date.now()-r>CACHE_VALIDITY_MS;if(e&&!o){console.log("Registry: Loading from local cache");try{const s=JSON.parse(e);this.updateMap(s),this.isInitialized=!0;return}catch(s){console.warn("Registry: Cache corrupted, falling back",s)}}(!e||o)&&(console.log("Registry: Cache stale or missing, fetching from GitHub..."),await this.fetchAndCacheRegistry()),this.isInitialized=!0}async ensureInitialized(){this.initPromise&&await this.initPromise}loadFromBundled(){const e=bundledRegistry;this.updateMap(e)}updateMap(e){this.definitionsById.clear(),e.forEach(a=>{this.definitionsById.set(a.id.toLowerCase(),a)})}async fetchAndCacheRegistry(){try{const e=await axios.get(REGISTRY_URL,{timeout:1e4});Array.isArray(e.data)&&(console.log(`Registry: Updated from GitHub (${e.data.length} items)`),this.updateMap(e.data),localStorage.setItem(STORAGE_KEY_CACHE,JSON.stringify(e.data)),localStorage.setItem(STORAGE_KEY_TIMESTAMP,Date.now().toString()))}catch(e){console.error("Registry: Failed to fetch from GitHub",e)}}getCoinDefinition(e){if(!e)return;const a=e.toLowerCase(),r=this.definitionsById.get(a);return r||(console.log(`Registry: Coin ${a} not found, trying force refresh...`),this.fetchAndCacheRegistry()),r}getIconUrl(e){if(e.icons&&e.icons.length>0){const a=e.icons.find(r=>r.url.toLowerCase().includes(".png"));return a?a.url:e.icons[0].url}return e.icon||null}getAllDefinitions(){return Array.from(this.definitionsById.values())}}const UNICITY_RELAYS=["wss://nostr-relay.testnet.unicity.network"],STORAGE_KEY_LAST_SYNC="unicity_nostr_last_sync",STORAGE_KEY_PROCESSED_EVENTS="unicity_processed_events",MAX_PROCESSED_EVENTS=100;class NostrService{static instance;client=null;identityManager;isConnected=!1;isConnecting=!1;connectPromise=null;paymentRequests=[];chatRepository;dmListeners=[];processedEventIds=new Set;constructor(e){this.identityManager=e,this.chatRepository=ChatRepository.getInstance(),this.loadProcessedEvents()}static getInstance(e){if(!NostrService.instance){const a=e||IdentityManager.getInstance();NostrService.instance=new NostrService(a)}return NostrService.instance}async start(){if(!this.isConnected){if(this.isConnecting&&this.connectPromise)return this.connectPromise;this.isConnecting=!0,this.connectPromise=this.doConnect();try{await this.connectPromise}finally{this.isConnecting=!1,this.connectPromise=null}}}async doConnect(){const e=await this.identityManager.getCurrentIdentity();if(!e)throw new Error("No identity found for Nostr");const a=Buffer$1.from(e.privateKey,"hex"),r=NostrKeyManager.fromPrivateKey(a);this.client=new NostrClient(r),console.log(" Connecting to Nostr relays...");try{await this.client.connect(...UNICITY_RELAYS),this.isConnected=!0,console.log(" Connected to Nostr relays"),this.subscribeToPrivateEvents(r.getPublicKeyHex())}catch(o){console.error(" Failed to connect to Nostr",o)}}subscribeToPrivateEvents(e){if(!this.client)return;const a=this.getOrInitLastSync(),r=new Filter;r.kinds=[EventKinds.TOKEN_TRANSFER,EventKinds.PAYMENT_REQUEST],r["#p"]=[e],r.since=a,this.client.subscribe(r,{onEvent:s=>this.handleSubscriptionEvent(s,!0),onEndOfStoredEvents:()=>{console.log("End of stored wallet events")}});const o=new Filter;o.kinds=[EventKinds.GIFT_WRAP],o["#p"]=[e],this.client.subscribe(o,{onEvent:s=>this.handleSubscriptionEvent(s,!1),onEndOfStoredEvents:()=>{console.log("End of stored chat events")}})}handleSubscriptionEvent(e,a){if(this.isEventProcessed(e.id)){console.log(` Event ${e.id.slice(0,8)} already processed (persistent check), skipping`);return}if(a){const r=this.getOrInitLastSync();if(e.created_at<r){console.log(` Skipping old event (Time: ${e.created_at} <= Sync: ${r})`);return}}console.log(` Processing ${a?"wallet":"chat"} event kind=${e.kind}`),this.markEventAsProcessed(e.id),this.handleIncomingEvent(e),a&&this.updateLastSync(e.created_at)}getOrInitLastSync(){const e=localStorage.getItem(STORAGE_KEY_LAST_SYNC);if(e)return parseInt(e);{const a=Math.floor(Date.now()/1e3);return localStorage.setItem(STORAGE_KEY_LAST_SYNC,a.toString()),a}}updateLastSync(e){const a=this.getOrInitLastSync();e>a&&localStorage.setItem(STORAGE_KEY_LAST_SYNC,e.toString())}loadProcessedEvents(){try{const e=localStorage.getItem(STORAGE_KEY_PROCESSED_EVENTS);if(e){const a=JSON.parse(e);this.processedEventIds=new Set(a),console.log(` Loaded ${a.length} processed event IDs from persistent storage`)}}catch(e){console.error("Failed to load processed events",e),this.processedEventIds=new Set}}saveProcessedEvents(){try{let e=Array.from(this.processedEventIds);e.length>MAX_PROCESSED_EVENTS&&(e=e.slice(-MAX_PROCESSED_EVENTS),this.processedEventIds=new Set(e)),localStorage.setItem(STORAGE_KEY_PROCESSED_EVENTS,JSON.stringify(e))}catch(e){console.error("Failed to save processed events",e)}}markEventAsProcessed(e){if(this.processedEventIds.add(e),this.processedEventIds.size>MAX_PROCESSED_EVENTS){const a=this.processedEventIds.values().next().value;a&&this.processedEventIds.delete(a)}this.saveProcessedEvents()}isEventProcessed(e){return this.processedEventIds.has(e)}async handleIncomingEvent(e){console.log(`Received event kind=${e.kind} from=${e.pubkey.slice(0,16)}`),e.kind===EventKinds.TOKEN_TRANSFER?this.handleTokenTransfer(e):e.kind===EventKinds.GIFT_WRAP?(console.log("Received NIP-17 gift-wrapped message"),this.handleGiftWrappedMessage(e)):e.kind===EventKinds.PAYMENT_REQUEST?this.handlePaymentRequest(e):console.log(`Unhandled event kind - ${e.kind}`)}async handlePaymentRequest(e){try{const a=await this.getKeyManager();if(!a)return;const r=await PaymentRequestProtocol.parsePaymentRequest(e,a),l=RegistryService.getInstance().getCoinDefinition(r.coinId)?.symbol||"UNKNOWN",c={id:e.id,senderPubkey:e.pubkey,amount:r.amount,coinId:r.coinId,symbol:l,message:r.message,recipientNametag:r.recipientNametag,requestId:r.requestId,timestamp:e.created_at*1e3,status:PaymentRequestStatus.PENDING};this.paymentRequests.find(u=>u.id===c.id)||(this.paymentRequests.unshift(c),this.notifyRequestsUpdated(),console.log(" Payment Request received:",r))}catch(a){console.error("Failed to handle payment request",a)}}notifyRequestsUpdated(){window.dispatchEvent(new CustomEvent("payment-requests-updated"))}acceptPaymentRequest(e){this.updateRequestStatus(e.id,PaymentRequestStatus.ACCEPTED)}rejectPaymentRequest(e){this.updateRequestStatus(e.id,PaymentRequestStatus.REJECTED)}paidPaymentRequest(e){this.updateRequestStatus(e.id,PaymentRequestStatus.PAID)}clearPaymentRequest(e){const a=this.paymentRequests.filter(r=>r.id!==e);this.paymentRequests=a}clearProcessedPaymentRequests(){const e=this.paymentRequests.filter(a=>a.status===PaymentRequestStatus.PENDING);this.paymentRequests=e}updateRequestStatus(e,a){const r=this.paymentRequests.find(o=>o.id===e);r&&(r.status=a,this.notifyRequestsUpdated())}getPaymentRequests(){return this.paymentRequests}async handleTokenTransfer(e){try{const a=await this.getKeyManager();if(!a){console.error("KeyManager is undefined");return}const r=await TokenTransferProtocol.parseTokenTransfer(e,a);if(console.log("Token transfer decrypted successfully!"),r.startsWith("{")&&r.includes("sourceToken")&&r.includes("transferTx")){console.log("Processing proper token transfer with finalization ...");let o;try{o=JSON.parse(r)}catch(s){console.warn("Failed to parse JSON:",s);return}this.handleProperTokenTransfer(o,e.pubkey)}}catch(a){console.error("Failed to handle token transfer",a)}}async handleProperTokenTransfer(e,a){try{let r=e.sourceToken,o=e.transferTx;if(typeof r=="string")try{r=JSON.parse(r)}catch(c){console.error("Failed to parse sourceToken string",c)}if(typeof o=="string")try{o=JSON.parse(o)}catch(c){console.error("Failed to parse transferTx string",c)}if(!r||!o){console.error("Missing sourceToken or transferTx in payload");return}const s=await Token.fromJSON(r),l=await TransferTransaction.fromJSON(o);this.finalizeTransfer(s,l,a)}catch(r){console.error("Error handling proper token transfer",r)}}async finalizeTransfer(e,a,r){try{const o=a.data.recipient;console.log(`Recipient address: ${o}`);const s=o.scheme;if(console.log(`Address scheme: ${s}`),s===AddressScheme.PROXY){console.log("Transfer is to PROXY address - finalization required");const c=await NametagService.getInstance(this.identityManager).getAllNametagTokens();if(c.length===0){console.error("No nametags configured for this wallet");return}let u=null;for(const O of c)(await ProxyAddress.fromTokenId(O.id)).address===o.address&&(u=O);if(u===null){console.error("Transfer is not for any of my nametags!"),console.error(`Got: ${o.address}`),console.error(`My nametags: ${c.toString()}`);return}console.log("Transfer is for my nametag!");const h=await this.identityManager.getCurrentIdentity();if(h===null){console.error("No wallet identity found, can't finalize the transfer!");return}const f=Buffer$1.from(h.privateKey,"hex"),m=await SigningService.createFromSecret(f),g=a.data.salt,b=await UnmaskedPredicate.create(e.id,e.type,m,HashAlgorithm.SHA256,g),w=new TokenState(b,null),E=ServiceProvider.stateTransitionClient,C=ServiceProvider.getRootTrustBase(),B=await E.finalizeTransaction(C,e,w,a,[u]);console.log("Token finalized successfully!"),this.saveReceivedToken(B,r)}else console.log("Transfer is to DIRECT address - saving without finalization"),this.saveReceivedToken(e,r)}catch(o){console.error("Error occured while finalizing transfer:",o)}}saveReceivedToken(e,a){let r,o,s,l;const u=e.coins;if(u){const m=u.coins;console.log(" Raw Coins:",m);let g=null,b=null;if(Array.isArray(m)){const w=m[0];Array.isArray(w)&&w.length===2?(g=w[0],b=w[1]):console.warn("Unknown array format",w)}else if(typeof m=="object"){const w=Object.keys(m);w.length>0&&(g=w[0],b=m[g])}if(b&&(r=b.toString()),g){console.log(" Processing Key:",g);const w=g.data||g;o=Buffer$1.from(w).toString("hex")}}if(console.log(` FINAL PARSE: CoinID=${o}, Amount=${r}`),!o||r==="0"||o==="0"||o==="undefined"){console.error(" Invalid token data. Skipping.");return}if(o){const m=RegistryService.getInstance(),g=m.getCoinDefinition(o);g&&(s=g.symbol||"UNK",l=m.getIconUrl(g)||void 0)}const h=WalletRepository.getInstance(),f=new Token$1({id:v4(),name:s||"Unicity Token",type:e.type.toString(),symbol:s,jsonData:JSON.stringify(e.toJSON()),status:TokenStatus.CONFIRMED,amount:r,coinId:o,iconUrl:l,timestamp:Date.now(),senderPubkey:a});h.addToken(f)}async queryPubkeyByNametag(e){this.client||await this.start();try{const a=e.replace("@unicity","").replace("@","");return console.log(`Querying pubkey for: ${a}`),await this.client?.queryPubkeyByNametag(a)||null}catch(a){return console.error("Failed to query nametag",a),null}}async sendTokenTransfer(e,a,r,o,s){this.client||await this.start();try{return console.log(`Sending token transfer to ${e}...`),await this.client?.sendTokenTransfer(e,a,{amount:r,symbol:o,replyToEventId:s}),!0}catch(l){return console.error("Failed to send token transfer",l),!1}}async publishNametagBinding(e,a){this.client||await this.start();try{return await this.client?.publishNametagBinding(e,a),!0}catch(r){return console.error("Failed to publish nametag",r),!1}}async getKeyManager(){const e=await this.identityManager.getCurrentIdentity();if(!e||!this.client)return;const a=Buffer$1.from(e.privateKey,"hex");return NostrKeyManager.fromPrivateKey(a)}wrapMessageContent(e,a){return a?JSON.stringify({senderNametag:a,text:e}):e}unwrapMessageContent(e){try{const a=JSON.parse(e);if(typeof a=="object"&&a.text!==void 0)return{text:a.text,senderNametag:a.senderNametag||null}}catch{}return{text:e,senderNametag:null}}async handleGiftWrappedMessage(e){try{if(!this.client){console.error("No client for unwrapping message");return}const a=this.client.unwrapPrivateMessage(e);a.kind===14?this.handleIncomingChatMessage(a):a.kind===15?this.handleIncomingReadReceipt(a):console.log(`Unknown NIP-17 message kind: ${a.kind}`)}catch(a){console.error("Failed to handle gift-wrapped message",a)}}handleIncomingChatMessage(e){const a=e.senderPubkey,r=e.content,{text:o,senderNametag:s}=this.unwrapMessageContent(r);if(this.chatRepository.getMessage(e.eventId)){console.log(` Skipping already saved message ${e.eventId.slice(0,8)}`);return}console.log(` NIP-17 DM from ${s||a.slice(0,8)}: ${o.slice(0,50)}...`);const c=this.chatRepository.getOrCreateConversation(a,s||void 0);s&&!c.participantNametag&&(c.participantNametag=s,this.chatRepository.updateConversationNametag(c.id,s));const u=new ChatMessage({id:e.eventId,conversationId:c.id,content:o,timestamp:e.timestamp*1e3,isFromMe:!1,status:MessageStatus.DELIVERED,type:MessageType.TEXT,senderPubkey:a,senderNametag:s||void 0});this.chatRepository.saveMessage(u),this.chatRepository.incrementUnreadCount(c.id),this.notifyDMListeners(u),this.sendReadReceipt(a,e.eventId).catch(console.error)}handleIncomingReadReceipt(e){const a=e.replyToEventId;a&&(console.log(` Read receipt for message: ${a.slice(0,8)}`),this.chatRepository.updateMessageStatus(a,MessageStatus.READ))}async sendReadReceipt(e,a){this.client||await this.start();try{await this.client?.sendReadReceipt(e,a),console.log(` Read receipt sent for ${a.slice(0,8)}`)}catch(r){console.error("Failed to send read receipt",r)}}async sendDirectMessage(e,a,r){this.client||await this.start();try{const o=await this.identityManager.getCurrentIdentity();if(!o)throw new Error("No identity for sending DM");const s=await this.getMyNametag(),l=this.chatRepository.getOrCreateConversation(e,r),c=new ChatMessage({conversationId:l.id,content:a,timestamp:Date.now(),isFromMe:!0,status:MessageStatus.PENDING,type:MessageType.TEXT,senderPubkey:o.publicKey});this.chatRepository.saveMessage(c);const u=this.wrapMessageContent(a,s),h=await this.client?.sendPrivateMessage(e,u);if(h){const f=c.id;return c.id=h,c.status=MessageStatus.SENT,this.chatRepository.deleteMessage(f),this.chatRepository.saveMessage(c),console.log(` NIP-17 DM sent to ${e.slice(0,8)} from @${s||"unknown"}`),c}else return this.chatRepository.updateMessageStatus(c.id,MessageStatus.FAILED),null}catch(o){return console.error("Failed to send DM",o),null}}async sendDirectMessageByNametag(e,a){this.client||await this.start();try{const r=await this.identityManager.getCurrentIdentity();if(!r)throw new Error("No identity for sending DM");const o=await this.getMyNametag(),s=await this.queryPubkeyByNametag(e);if(!s)return console.error(`Could not resolve nametag: ${e}`),null;const l=this.chatRepository.getOrCreateConversation(s,e),c=new ChatMessage({conversationId:l.id,content:a,timestamp:Date.now(),isFromMe:!0,status:MessageStatus.PENDING,type:MessageType.TEXT,senderPubkey:r.publicKey});this.chatRepository.saveMessage(c);const u=this.wrapMessageContent(a,o),h=await this.client?.sendPrivateMessageToNametag(e.replace("@",""),u);if(h){const f=c.id;return c.id=h,c.status=MessageStatus.SENT,this.chatRepository.deleteMessage(f),this.chatRepository.saveMessage(c),console.log(` NIP-17 DM sent to @${e} from @${o||"unknown"}`),c}else return this.chatRepository.updateMessageStatus(c.id,MessageStatus.FAILED),null}catch(r){return console.error("Failed to send DM by nametag",r),null}}addDMListener(e){this.dmListeners.push(e)}removeDMListener(e){this.dmListeners=this.dmListeners.filter(a=>a!==e)}notifyDMListeners(e){this.dmListeners.forEach(a=>a(e)),window.dispatchEvent(new CustomEvent("dm-received",{detail:e}))}getMyPublicKey(){return this.client?.getKeyManager()?.getPublicKeyHex()||null}async getMyNametag(){return NametagService.getInstance(this.identityManager).getActiveNametag()}async publishAppDataEvent(e,a,r){this.client||await this.start();try{if(!await this.getKeyManager()||!this.client)return console.error("Cannot publish app data event: no key manager or client"),null;const s=await this.client.createAndPublishEvent({kind:e,tags:a,content:r});return s&&console.log(` Published app data event (kind ${e}): ${s.slice(0,8)}...`),s||null}catch(o){return console.error("Failed to publish app data event:",o),null}}}class MintCommitment extends Commitment{constructor(e,a,r){super(e,a,r)}static async create(e){const a=await MintSigningService.create(e.tokenId),r=await e.calculateHash(),o=await RequestId.create(a.publicKey,e.sourceState),s=await Authenticator.create(a,r,e.sourceState);return new MintCommitment(o,e,s)}toTransaction(e){return new MintTransaction(this.transactionData,e)}}const UNICITY_TOKEN_TYPE_HEX="f8aa13834268d29355ff12183066f0cb902003629bbc5eb9ef0efbe397867509";class NametagService{static instance;identityManager;constructor(e){this.identityManager=e}static getInstance(e){return NametagService.instance||(NametagService.instance=new NametagService(e)),NametagService.instance}async isNametagAvailable(e){const a=await TokenId.fromNameTag(e);return!await ServiceProvider.stateTransitionClient.isMinted(ServiceProvider.getRootTrustBase(),a)}async mintNametagAndPublish(e){try{const a=e.replace("@unicity","").replace("@","").trim();console.log(`Starting mint process for: ${a}`);const o=WalletRepository.getInstance().getNametag();if(o)return{status:"error",message:`Identity already has a nametag: ${o.name}`};const s=await this.identityManager.getCurrentIdentity();if(!s)return{status:"error",message:"Wallet identity not found"};const l=Buffer.from(s.privateKey,"hex"),c=await this.identityManager.getWalletAddress();if(!c)return{status:"error",message:"Failed to derive owner address"};const u=await this.mintNametagOnBlockchain(a,c,l);if(!u)return{status:"error",message:"Failed to mint nametag on blockchain"};await this.saveNametagToStorage(a,u);try{const h=NostrService.getInstance(this.identityManager);await h.start();const f=await ProxyAddress.fromNameTag(a);return console.log(`Publishing binding: ${a} -> ${f}`),await h.publishNametagBinding(a,f.address)?{status:"success",token:u}:{status:"warning",token:u,message:"Minted locally, but Nostr publish failed"}}catch(h){return console.error("Nostr error",h),{status:"warning",token:u,message:`Nostr error: ${h.message}`}}}catch(a){return console.error("Critical error in mintNametagAndPublish",a),{status:"error",message:"Unknown error"}}}async mintNametagOnBlockchain(e,a,r){try{const o=ServiceProvider.stateTransitionClient,s=ServiceProvider.getRootTrustBase(),l=await TokenId.fromNameTag(e),c=new TokenType(Buffer.from(UNICITY_TOKEN_TYPE_HEX,"hex")),u=await SigningService.createFromSecret(r),h=3;let f=null;for(let B=1;B<=h;B++)try{const O=Buffer.alloc(32);window.crypto.getRandomValues(O);const P=await MintTransactionData.createFromNametag(e,c,a,O,a);f=await MintCommitment.create(P),console.log(`Submitting commitment (attempt ${B})...`);const q=await o.submitMintCommitment(f);if(q.status==="SUCCESS"){console.log("Commitment success!");break}else{if(console.warn(`Commitment failed: ${q.status}`),B===h)throw new Error(`Failed after ${h} attempts`);await new Promise(z=>setTimeout(z,1e3*B))}}catch(O){if(console.error(`Attempt ${B} error`,O),B===h)throw O}if(!f)throw new Error("Failed to create commitment");console.log("Waiting for inclusion proof...");const m=await waitInclusionProof(s,o,f),g=f.toTransaction(m),w=f.transactionData.salt,E=await UnmaskedPredicate.create(l,c,u,HashAlgorithm.SHA256,w),C=Token.mint(s,new TokenState(E,null),g);return console.log(` Nametag minted: ${e}`),C}catch(o){return console.error("Minting on blockchain failed",o),null}}async saveNametagToStorage(e,a){const r={name:e,token:a.toJSON(),timestamp:Date.now(),format:"txf",version:"2.0"},o=await this.identityManager.getCurrentIdentity();if(!o){console.error("Cannot save nametag: no identity available");return}const s=WalletRepository.getInstance();let l=s.getWallet();(!l||l.address!==o.address)&&(l=s.loadWalletForAddress(o.address),l||(l=s.createWallet(o.address,"My Wallet"))),s.setNametag(r)}getActiveNametag(){return WalletRepository.getInstance().getNametag()?.name||null}async getNametagToken(){const e=WalletRepository.getInstance().getNametag();if(!e)return null;try{return await Token.fromJSON(e.token)}catch(a){return console.error("Failed to parse nametag token",a),null}}async getAllNametagTokens(){const e=await this.getNametagToken();return e?[e]:[]}}class DataHasherFactory{algorithm;_hasherConstructor;constructor(e,a){this.algorithm=e,this._hasherConstructor=a}create(){return new this._hasherConstructor(this.algorithm)}}let FinalizedLeafBranch$1=class{path;_data;hash;constructor(e,a,r){this.path=e,this._data=a,this.hash=r,this._data=new Uint8Array(a)}get data(){return new Uint8Array(this._data)}finalize(){return Promise.resolve(this)}toString(){return dedent`
      Leaf[${this.path.toString(2)}]
        Data: ${HexConverter.encode(this._data)}
        Hash: ${this.hash.toString()}`}};class LeafInBranchError extends Error{constructor(){super("Cannot add leaf inside branch."),this.name="LeafInBranchError"}}class LeafOutOfBoundsError extends Error{constructor(){super("Cannot extend tree through leaf."),this.name="LeafOutOfBoundsError"}}let PendingLeafBranch$1=class{path;_data;constructor(e,a){this.path=e,this._data=a,this._data=new Uint8Array(a)}get data(){return new Uint8Array(this._data)}async finalize(e){const a=await e.create().update(CborSerializer.encodeArray(CborSerializer.encodeByteString(BigintConverter.encode(this.path)),CborSerializer.encodeByteString(this._data))).digest();return new FinalizedLeafBranch$1(this.path,this._data,a)}},FinalizedNodeBranch$1=class{path;left;right;hash;constructor(e,a,r,o){this.path=e,this.left=a,this.right=r,this.hash=o}finalize(){return Promise.resolve(this)}toString(){return dedent`
      Node[${this.path.toString(2)}]
        Hash: ${this.hash.toString()}
        Left: ${this.left.toString()}
        Right: ${this.right.toString()}`}},PendingNodeBranch$1=class{path;left;right;constructor(e,a,r){this.path=e,this.left=a,this.right=r}async finalize(e){const[a,r]=await Promise.all([this.left.finalize(e),this.right.finalize(e)]),o=await e.create().update(CborSerializer.encodeArray(CborSerializer.encodeByteString(BigintConverter.encode(this.path)),CborSerializer.encodeByteString(a.hash.data),CborSerializer.encodeByteString(r.hash.data))).digest();return new FinalizedNodeBranch$1(this.path,a,r,o)}};function calculateCommonPath(t,e){let a=1n,r=1n,o=0n;for(;(t&r)===(e&r)&&a<t&&a<e;)r<<=1n,o+=1n,a=r|r-1n&t;return{length:o,path:a}}class SparseMerkleTreeRootNode{left;right;hash;path=1n;constructor(e,a,r){this.left=e,this.right=a,this.hash=r}static async create(e,a,r){const o=await r.create().update(CborSerializer.encodeArray(CborSerializer.encodeByteString(BigintConverter.encode(1n)),CborSerializer.encodeOptional(e?.hash.data,CborSerializer.encodeByteString),CborSerializer.encodeOptional(a?.hash.data,CborSerializer.encodeByteString))).digest();return new SparseMerkleTreeRootNode(e??null,a??null,o)}static generatePath(e,a){if(a instanceof FinalizedLeafBranch$1)return[new SparseMerkleTreePathStep(a.path,a.data)];const r=calculateCommonPath(e,a.path);if(e=e>>r.length,r.path!==a.path||e===1n)return[new SparseMerkleTreePathStep(0n,a.left?.hash.data??null),new SparseMerkleTreePathStep(a.path,a.right?.hash.data??null)];const o=e&1n,s=o?a.right:a.left,l=o?a.left:a.right,c=new SparseMerkleTreePathStep(a.path,l?.hash.data??null);return s===null?[new SparseMerkleTreePathStep(o,null),c]:[...this.generatePath(e,s),c]}getPath(e){return new SparseMerkleTreePath(this.hash,SparseMerkleTreeRootNode.generatePath(e,this))}toString(){return dedent`
      Root: 
        Hash: ${this.hash.toString()}
      Left: 
        ${this.left?this.left.toString():"null"}
      Right: 
        ${this.right?this.right.toString():"null"}`}}class SparseMerkleTree{factory;left=Promise.resolve(null);right=Promise.resolve(null);constructor(e){this.factory=e}async addLeaf(e,a){if(e<1n)throw new Error("Path must be greater than 0.");const r=e&1n;a=new Uint8Array(a);const o=r?this.right:this.left,s=o.then(l=>l?this.buildTree(l,e,a):new PendingLeafBranch$1(e,a));r?this.right=s.catch(()=>o):this.left=s.catch(()=>o),await s}async calculateRoot(){this.left=this.left.then(r=>r?r.finalize(this.factory):Promise.resolve(null)),this.right=this.right?.then(r=>r?r.finalize(this.factory):Promise.resolve(null));const[e,a]=await Promise.all([this.left,this.right]);return SparseMerkleTreeRootNode.create(e,a,this.factory)}buildTree(e,a,r){const o=calculateCommonPath(a,e.path),s=a>>o.length&1n;if(o.path===a)throw new LeafInBranchError;if(e instanceof PendingLeafBranch$1||e instanceof FinalizedLeafBranch$1){if(o.path===e.path)throw new LeafOutOfBoundsError;const l=new PendingLeafBranch$1(e.path>>o.length,e.data),c=new PendingLeafBranch$1(a>>o.length,r);return new PendingNodeBranch$1(o.path,s?l:c,s?c:l)}if(o.path<e.path){const l=new PendingLeafBranch$1(a>>o.length,r),c=new PendingNodeBranch$1(e.path>>o.length,e.left,e.right);return new PendingNodeBranch$1(o.path,s?c:l,s?l:c)}return s?new PendingNodeBranch$1(e.path,e.left,this.buildTree(e.right,a>>o.length,r)):new PendingNodeBranch$1(e.path,this.buildTree(e.left,a>>o.length,r),e.right)}}class FinalizedLeafBranch{path;_data;value;hash;constructor(e,a,r,o){this.path=e,this._data=a,this.value=r,this.hash=o,this._data=new Uint8Array(a)}get data(){return new Uint8Array(this._data)}finalize(){return Promise.resolve(this)}toString(){return dedent`
      Leaf[${this.path.toString(2)}]
        Hash: ${this.hash.toString()}
        Data: ${HexConverter.encode(this._data)}
        Sum: ${this.value}`}}class PendingLeafBranch{path;_data;value;constructor(e,a,r){this.path=e,this._data=a,this.value=r,this._data=new Uint8Array(a)}get data(){return new Uint8Array(this._data)}async finalize(e){const a=await e.create().update(CborSerializer.encodeArray(CborSerializer.encodeByteString(BigintConverter.encode(this.path)),CborSerializer.encodeByteString(this._data),CborSerializer.encodeByteString(BigintConverter.encode(this.value)))).digest();return new FinalizedLeafBranch(this.path,this._data,this.value,a)}}class FinalizedNodeBranch{path;left;right;value;hash;constructor(e,a,r,o,s){this.path=e,this.left=a,this.right=r,this.value=o,this.hash=s}finalize(){return Promise.resolve(this)}toString(){return dedent`
      Node[${this.path.toString(2)}]
        Hash: ${this.hash.toString()}
        Value: ${this.value}
        Left: ${this.left.toString()}
        Right: ${this.right.toString()}`}}class PendingNodeBranch{path;left;right;constructor(e,a,r){this.path=e,this.left=a,this.right=r}async finalize(e){const[a,r]=await Promise.all([this.left.finalize(e),this.right.finalize(e)]),o=await e.create().update(CborSerializer.encodeArray(CborSerializer.encodeByteString(BigintConverter.encode(this.path)),CborSerializer.encodeByteString(a.hash.data),CborSerializer.encodeByteString(BigintConverter.encode(a.value)),CborSerializer.encodeByteString(r.hash.data),CborSerializer.encodeByteString(BigintConverter.encode(r.value)))).digest();return new FinalizedNodeBranch(this.path,a,r,a.value+r.value,o)}}class SparseMerkleSumTreeRootNode{left;right;value;hash;path=1n;constructor(e,a,r,o){this.left=e,this.right=a,this.value=r,this.hash=o}static async create(e,a,r){const o=await r.create().update(CborSerializer.encodeArray(CborSerializer.encodeByteString(BigintConverter.encode(1n)),CborSerializer.encodeOptional(e?.hash.data,CborSerializer.encodeByteString),CborSerializer.encodeByteString(BigintConverter.encode(e?.value??0n)),CborSerializer.encodeOptional(a?.hash.data,CborSerializer.encodeByteString),CborSerializer.encodeByteString(BigintConverter.encode(a?.value??0n)))).digest();return new SparseMerkleSumTreeRootNode(e??null,a??null,(e?.value??0n)+(a?.value??0n),o)}static generatePath(e,a){if(a instanceof FinalizedLeafBranch)return[new SparseMerkleSumTreePathStep(a.path,a.data,a.value)];const r=calculateCommonPath(e,a.path);if(e=e>>r.length,r.path!==a.path||e===1n)return[new SparseMerkleSumTreePathStep(0n,a.left?.hash.data??null,a.left?.value??0n),new SparseMerkleSumTreePathStep(a.path,a.right?.hash.data??null,a.right?.value??0n)];const o=e&1n,s=o?a.right:a.left,l=o?a.left:a.right,c=new SparseMerkleSumTreePathStep(a.path,l?.hash.data??null,l?.value??0n);return s===null?[new SparseMerkleSumTreePathStep(o,null,0n),c]:[...this.generatePath(e,s),c]}getPath(e){return new SparseMerkleSumTreePath(this.hash,SparseMerkleSumTreeRootNode.generatePath(e,this))}toString(){return dedent`
      Left: 
        ${this.left?this.left.toString():"null"}
      Right: 
        ${this.right?this.right.toString():"null"}`}}class SparseMerkleSumTree{factory;left=Promise.resolve(null);right=Promise.resolve(null);constructor(e){this.factory=e}async addLeaf(e,a,r){if(r<0n)throw new Error("Value must be an unsigned bigint.");if(e<1n)throw new Error("Path must be greater than 0.");const o=e&1n;a=new Uint8Array(a);const s=o?this.right:this.left,l=s.then(c=>c?this.buildTree(c,e,a,r):new PendingLeafBranch(e,a,r));o?this.right=l.catch(()=>s):this.left=l.catch(()=>s),await l}async calculateRoot(){this.left=this.left.then(r=>r?r.finalize(this.factory):Promise.resolve(null)),this.right=this.right?.then(r=>r?r.finalize(this.factory):Promise.resolve(null));const[e,a]=await Promise.all([this.left,this.right]);return SparseMerkleSumTreeRootNode.create(e,a,this.factory)}buildTree(e,a,r,o){const s=calculateCommonPath(a,e.path),l=a>>s.length&1n;if(s.path===a)throw new LeafInBranchError;if(e instanceof PendingLeafBranch||e instanceof FinalizedLeafBranch){if(s.path===e.path)throw new LeafOutOfBoundsError;const c=new PendingLeafBranch(e.path>>s.length,e.data,e.value),u=new PendingLeafBranch(a>>s.length,r,o);return new PendingNodeBranch(s.path,l?c:u,l?u:c)}if(s.path<e.path){const c=new PendingLeafBranch(a>>s.length,r,o),u=new PendingNodeBranch(e.path>>s.length,e.left,e.right);return new PendingNodeBranch(s.path,l?u:c,l?c:u)}return l?new PendingNodeBranch(e.path,e.left,this.buildTree(e.right,a>>s.length,r,o)):new PendingNodeBranch(e.path,this.buildTree(e.left,a>>s.length,r,o),e.right)}}class TokenRequest{id;type;data;coinData;recipient;salt;recipientDataHash;constructor(e,a,r,o,s,l,c){if(this.id=e,this.type=a,this.data=r,this.coinData=o,this.recipient=s,this.salt=l,this.recipientDataHash=c,o?.length==0)throw new Error("Token must have at least one coin")}}class TokenSplit{token;aggregationRoot;coinRoots;tokens;constructor(e,a,r,o){this.token=e,this.aggregationRoot=a,this.coinRoots=r,this.tokens=o}async createBurnCommitment(e,a){const r=await BurnPredicateReference.create(this.token.type,this.aggregationRoot.hash);return TransferCommitment.create(this.token,await r.toAddress(),e,null,null,a)}async createSplitMintCommitments(e,a){const r=await this.token.update(e,new TokenState(new BurnPredicate(this.token.id,this.token.type,this.aggregationRoot.hash),null),a);return Promise.all(this.tokens.map(o=>MintTransactionData.create(o.id,o.type,o.data,o.coinData,o.recipient,o.salt,o.recipientDataHash,new SplitMintReason(r,o.coinData.coins.map(([s])=>new SplitMintReasonProof(s,this.aggregationRoot.getPath(s.toBitString().toBigInt()),this.coinRoots.get(s.toJSON()).getPath(o.id.toBitString().toBigInt()))))).then(s=>MintCommitment.create(s))))}}class TokenSplitBuilder{tokens=new Map;createToken(e,a,r,o,s,l,c){return this.tokens.set(e.toJSON(),new TokenRequest(e,a,r,o,s,l,c)),this}async build(e){const a=new Map;for(const s of this.tokens.values())for(const[l,c]of s.coinData.coins){let u=a.get(l.toJSON())?.[1];u||(u=new SparseMerkleSumTree(new DataHasherFactory(HashAlgorithm.SHA256,DataHasher)),a.set(l.toJSON(),[l,u])),await u.addLeaf(s.id.toBitString().toBigInt(),l.bytes,c)}if(a.size!==e.coins?.length)throw new Error("Token has different number of coins than expected");const r=new SparseMerkleTree(new DataHasherFactory(HashAlgorithm.SHA256,DataHasher)),o=new Map;for(const[s,l]of a.values()){const c=e.coins.get(s),u=await l.calculateRoot();if(u.value!==c)throw new Error(`Token contained ${c} ${s} coins, but tree has ${u.value}`);o.set(s.toJSON(),u),await r.addLeaf(s.toBitString().toBigInt(),u.hash.imprint)}return new TokenSplit(e,await r.calculateRoot(),o,Array.from(this.tokens.values()))}}async function sha256(t){const e=typeof t=="string"?new TextEncoder().encode(t):t,a=await window.crypto.subtle.digest("SHA-256",e);return new Uint8Array(a)}class TokenSplitExecutor{get client(){return ServiceProvider.stateTransitionClient}get trustBase(){return ServiceProvider.getRootTrustBase()}async executeSplitPlan(e,a,r,o){console.log(" Executing split plan using TokenSplitBuilder...");const s={tokensForRecipient:[],tokensKeptBySender:[],burnedTokens:[],recipientTransferTxs:[]};if(e.requiresSplit&&e.tokenToSplit&&e.splitAmount&&e.remainderAmount){const l=Buffer$1.from(e.coinId,"hex"),c=new CoinId(l),u=await this.executeSingleTokenSplit(e.tokenToSplit.sdkToken,e.splitAmount,e.remainderAmount,c,a,r,o,e.tokenToSplit.uiToken.id);s.tokensForRecipient.push(u.tokenForRecipient),s.tokensKeptBySender.push(u.tokenForSender),s.burnedTokens.push(e.tokenToSplit.uiToken),s.recipientTransferTxs.push(u.recipientTransferTx)}return s}async executeSingleTokenSplit(e,a,r,o,s,l,c,u){const h=Buffer$1.from(e.id.bytes).toString("hex");console.log(` Splitting token ${h.slice(0,8)}...`);const f=new TokenSplitBuilder,m=`${h}_${a.toString()}_${r.toString()}`,g=new TokenId(await sha256(m)),b=new TokenId(await sha256(m+"_sender")),w=await sha256(m+"_recipient_salt"),E=await sha256(m+"_sender_salt"),B=await(await UnmaskedPredicateReference.create(e.type,l.algorithm,l.publicKey,HashAlgorithm.SHA256)).toAddress(),O=TokenCoinData.create([[o,a]]);f.createToken(g,e.type,new Uint8Array(0),O,B,w,null);const P=TokenCoinData.create([[o,r]]);f.createToken(b,e.type,new Uint8Array(0),P,B,E,null);const q=await f.build(e),z=await sha256(m+"_burn_salt"),V=await q.createBurnCommitment(z,l);console.log(" Submitting burn commitment...");const Z=await this.client.submitTransferCommitment(V);if(Z.status==="REQUEST_ID_EXISTS")console.warn("Token already burned, attempting recovery...");else if(Z.status!=="SUCCESS")throw new Error(`Burn failed: ${Z.status}`);c(u);const J=await waitInclusionProof(this.trustBase,this.client,V),W=V.toTransaction(J);console.log(" Creating split mint commitments...");const te=await q.createSplitMintCommitments(this.trustBase,W),G=[];for(const A of te){const $=await this.client.submitMintCommitment(A);if($.status!=="SUCCESS"&&$.status!=="REQUEST_ID_EXISTS")throw new Error(`Mint split token failed: ${$.status}`);const L=await waitInclusionProof(this.trustBase,this.client,A),Y=Buffer$1.from(A.transactionData.tokenId.bytes).toString("hex"),le=Buffer$1.from(g.bytes).toString("hex"),re=Y===le;G.push({commitment:A,inclusionProof:L,isForRecipient:re,tokenId:A.transactionData.tokenId,salt:A.transactionData.salt})}console.log("All split tokens minted on blockchain.");const D=G.find(A=>A.isForRecipient),M=G.find(A=>!A.isForRecipient);if(!D||!M)throw new Error("Failed to identify split tokens");const v=await this.createAndVerifyToken(D,l,e.type,"Recipient (Pre-transfer)"),S=await this.createAndVerifyToken(M,l,e.type,"Sender (Change)");console.log(` Transferring split token to ${s.address}...`);const N=await sha256(m+"_transfer_salt"),R=await TransferCommitment.create(v,s,N,null,null,l),k=await this.client.submitTransferCommitment(R);if(k.status!=="SUCCESS"&&k.status!=="REQUEST_ID_EXISTS")throw new Error(`Transfer failed: ${k.status}`);const j=await waitInclusionProof(this.trustBase,this.client,R),I=R.toTransaction(j);return console.log(" Split transfer complete!"),{tokenForRecipient:v,tokenForSender:S,recipientTransferTx:I}}async createAndVerifyToken(e,a,r,o){const s=await UnmaskedPredicate.create(e.tokenId,r,a,HashAlgorithm.SHA256,e.salt),l=new TokenState(s,null),c=await Token.mint(this.trustBase,l,e.commitment.toTransaction(e.inclusionProof)),u=await c.verify(this.trustBase);if(!u.isSuccessful)throw console.error(`Verification failed for ${o}`,u),new Error(`Token verification failed: ${u}`);return c}}class TokenSplitCalculator{async calculateOptimalSplit(e,a,r){console.log(` Calculating split for ${a} of ${r}`);const o=[];for(const f of e)if(f.coinId===r&&f.status==="CONFIRMED"&&f.jsonData)try{const m=JSON.parse(f.jsonData),g=await Token.fromJSON(m),b=this.getRealAmountFromSdk(g);if(b<=0n){console.warn(`Token ${f.id} has 0 balance in SDK structure.`);continue}console.log(b),o.push({sdkToken:g,amount:b,uiToken:f})}catch(m){console.warn("Failed to parse candidate token",f.id,m)}o.sort((f,m)=>f.amount<m.amount?-1:1);const s=o.reduce((f,m)=>f+m.amount,0n);if(s<a)return console.error(`Insufficient funds. Available: ${s}, Required: ${a}`),null;const l=o.find(f=>f.amount===a);if(l)return console.log(" Found exact match token"),this.createDirectPlan([l],a,r);const c=Math.min(5,o.length);for(let f=2;f<=c;f++){const m=this.findCombinationOfSize(o,a,f);if(m)return console.log(` Found exact combination of ${f} tokens`),this.createDirectPlan(m,a,r)}const u=[];let h=0n;for(const f of o){const m=h+f.amount;if(m===a)return u.push(f),this.createDirectPlan(u,a,r);if(m<a)u.push(f),h=m;else{const g=a-h,b=f.amount-g;return console.log(` Splitting required. Remainder: ${b}`),{tokensToTransferDirectly:u,tokenToSplit:f,splitAmount:g,remainderAmount:b,totalTransferAmount:a,coinId:r,requiresSplit:!0}}}return null}getRealAmountFromSdk(e){try{const r=e.coins;if(r&&r.coins){const o=r.coins;let s=null;const l=o[0];if(Array.isArray(l)&&l.length===2&&(s=l[1]),Array.isArray(s))return BigInt(s[1]?.toString()||"0");if(s)return BigInt(s.toString())}}catch(a){console.error("Error extracting amount from SDK token",a)}return 0n}createDirectPlan(e,a,r){return{tokensToTransferDirectly:e,tokenToSplit:null,splitAmount:null,remainderAmount:null,totalTransferAmount:a,coinId:r,requiresSplit:!1}}findCombinationOfSize(e,a,r){const o=this.generateCombinations(e,r);for(const s of o)if(s.reduce((c,u)=>c+u.amount,0n)===a)return s;return null}*generateCombinations(e,a,r=0,o=[]){if(a===0){yield o;return}for(let s=r;s<e.length;s++)yield*this.generateCombinations(e,a-1,s+1,[...o,e[s]])}}function $constructor(t,e,a){function r(c,u){if(c._zod||Object.defineProperty(c,"_zod",{value:{def:u,constr:l,traits:new Set},enumerable:!1}),c._zod.traits.has(t))return;c._zod.traits.add(t),e(c,u);const h=l.prototype,f=Object.keys(h);for(let m=0;m<f.length;m++){const g=f[m];g in c||(c[g]=h[g].bind(c))}}const o=a?.Parent??Object;class s extends o{}Object.defineProperty(s,"name",{value:t});function l(c){var u;const h=a?.Parent?new s:this;r(h,c),(u=h._zod).deferred??(u.deferred=[]);for(const f of h._zod.deferred)f();return h}return Object.defineProperty(l,"init",{value:r}),Object.defineProperty(l,Symbol.hasInstance,{value:c=>a?.Parent&&c instanceof a.Parent?!0:c?._zod?.traits?.has(t)}),Object.defineProperty(l,"name",{value:t}),l}class $ZodAsyncError extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class $ZodEncodeError extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const globalConfig={};function config(t){return globalConfig}function getEnumValues(t){const e=Object.values(t).filter(r=>typeof r=="number");return Object.entries(t).filter(([r,o])=>e.indexOf(+r)===-1).map(([r,o])=>o)}function jsonStringifyReplacer(t,e){return typeof e=="bigint"?e.toString():e}function cached(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function nullish(t){return t==null}function cleanRegex(t){const e=t.startsWith("^")?1:0,a=t.endsWith("$")?t.length-1:t.length;return t.slice(e,a)}function floatSafeRemainder(t,e){const a=(t.toString().split(".")[1]||"").length,r=e.toString();let o=(r.split(".")[1]||"").length;if(o===0&&/\d?e-\d?/.test(r)){const u=r.match(/\d?e-(\d?)/);u?.[1]&&(o=Number.parseInt(u[1]))}const s=a>o?a:o,l=Number.parseInt(t.toFixed(s).replace(".","")),c=Number.parseInt(e.toFixed(s).replace(".",""));return l%c/10**s}const EVALUATING=Symbol("evaluating");function defineLazy(t,e,a){let r;Object.defineProperty(t,e,{get(){if(r!==EVALUATING)return r===void 0&&(r=EVALUATING,r=a()),r},set(o){Object.defineProperty(t,e,{value:o})},configurable:!0})}function assignProp(t,e,a){Object.defineProperty(t,e,{value:a,writable:!0,enumerable:!0,configurable:!0})}function mergeDefs(...t){const e={};for(const a of t){const r=Object.getOwnPropertyDescriptors(a);Object.assign(e,r)}return Object.defineProperties({},e)}function esc(t){return JSON.stringify(t)}function slugify(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const captureStackTrace="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function isObject$1(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const allowsEval=cached(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function isPlainObject(t){if(isObject$1(t)===!1)return!1;const e=t.constructor;if(e===void 0||typeof e!="function")return!0;const a=e.prototype;return!(isObject$1(a)===!1||Object.prototype.hasOwnProperty.call(a,"isPrototypeOf")===!1)}function shallowClone(t){return isPlainObject(t)?{...t}:Array.isArray(t)?[...t]:t}const propertyKeyTypes=new Set(["string","number","symbol"]);function escapeRegex(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function clone(t,e,a){const r=new t._zod.constr(e??t._zod.def);return(!e||a?.parent)&&(r._zod.parent=t),r}function normalizeParams(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function optionalKeys(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const NUMBER_FORMAT_RANGES={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function pick(t,e){const a=t._zod.def,r=mergeDefs(t._zod.def,{get shape(){const o={};for(const s in e){if(!(s in a.shape))throw new Error(`Unrecognized key: "${s}"`);e[s]&&(o[s]=a.shape[s])}return assignProp(this,"shape",o),o},checks:[]});return clone(t,r)}function omit(t,e){const a=t._zod.def,r=mergeDefs(t._zod.def,{get shape(){const o={...t._zod.def.shape};for(const s in e){if(!(s in a.shape))throw new Error(`Unrecognized key: "${s}"`);e[s]&&delete o[s]}return assignProp(this,"shape",o),o},checks:[]});return clone(t,r)}function extend(t,e){if(!isPlainObject(e))throw new Error("Invalid input to extend: expected a plain object");const a=t._zod.def.checks;if(a&&a.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const o=mergeDefs(t._zod.def,{get shape(){const s={...t._zod.def.shape,...e};return assignProp(this,"shape",s),s},checks:[]});return clone(t,o)}function safeExtend(t,e){if(!isPlainObject(e))throw new Error("Invalid input to safeExtend: expected a plain object");const a={...t._zod.def,get shape(){const r={...t._zod.def.shape,...e};return assignProp(this,"shape",r),r},checks:t._zod.def.checks};return clone(t,a)}function merge(t,e){const a=mergeDefs(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e._zod.def.shape};return assignProp(this,"shape",r),r},get catchall(){return e._zod.def.catchall},checks:[]});return clone(t,a)}function partial(t,e,a){const r=mergeDefs(e._zod.def,{get shape(){const o=e._zod.def.shape,s={...o};if(a)for(const l in a){if(!(l in o))throw new Error(`Unrecognized key: "${l}"`);a[l]&&(s[l]=t?new t({type:"optional",innerType:o[l]}):o[l])}else for(const l in o)s[l]=t?new t({type:"optional",innerType:o[l]}):o[l];return assignProp(this,"shape",s),s},checks:[]});return clone(e,r)}function required(t,e,a){const r=mergeDefs(e._zod.def,{get shape(){const o=e._zod.def.shape,s={...o};if(a)for(const l in a){if(!(l in s))throw new Error(`Unrecognized key: "${l}"`);a[l]&&(s[l]=new t({type:"nonoptional",innerType:o[l]}))}else for(const l in o)s[l]=new t({type:"nonoptional",innerType:o[l]});return assignProp(this,"shape",s),s},checks:[]});return clone(e,r)}function aborted(t,e=0){if(t.aborted===!0)return!0;for(let a=e;a<t.issues.length;a++)if(t.issues[a]?.continue!==!0)return!0;return!1}function prefixIssues(t,e){return e.map(a=>{var r;return(r=a).path??(r.path=[]),a.path.unshift(t),a})}function unwrapMessage(t){return typeof t=="string"?t:t?.message}function finalizeIssue(t,e,a){const r={...t,path:t.path??[]};if(!t.message){const o=unwrapMessage(t.inst?._zod.def?.error?.(t))??unwrapMessage(e?.error?.(t))??unwrapMessage(a.customError?.(t))??unwrapMessage(a.localeError?.(t))??"Invalid input";r.message=o}return delete r.inst,delete r.continue,e?.reportInput||delete r.input,r}function getLengthableOrigin(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function issue(...t){const[e,a,r]=t;return typeof e=="string"?{message:e,code:"custom",input:a,inst:r}:{...e}}const initializer$1=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,jsonStringifyReplacer,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},$ZodError=$constructor("$ZodError",initializer$1),$ZodRealError=$constructor("$ZodError",initializer$1,{Parent:Error});function flattenError(t,e=a=>a.message){const a={},r=[];for(const o of t.issues)o.path.length>0?(a[o.path[0]]=a[o.path[0]]||[],a[o.path[0]].push(e(o))):r.push(e(o));return{formErrors:r,fieldErrors:a}}function formatError(t,e=a=>a.message){const a={_errors:[]},r=o=>{for(const s of o.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(l=>r({issues:l}));else if(s.code==="invalid_key")r({issues:s.issues});else if(s.code==="invalid_element")r({issues:s.issues});else if(s.path.length===0)a._errors.push(e(s));else{let l=a,c=0;for(;c<s.path.length;){const u=s.path[c];c===s.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(e(s))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return r(t),a}const _parse=t=>(e,a,r,o)=>{const s=r?Object.assign(r,{async:!1}):{async:!1},l=e._zod.run({value:a,issues:[]},s);if(l instanceof Promise)throw new $ZodAsyncError;if(l.issues.length){const c=new(o?.Err??t)(l.issues.map(u=>finalizeIssue(u,s,config())));throw captureStackTrace(c,o?.callee),c}return l.value},_parseAsync=t=>async(e,a,r,o)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let l=e._zod.run({value:a,issues:[]},s);if(l instanceof Promise&&(l=await l),l.issues.length){const c=new(o?.Err??t)(l.issues.map(u=>finalizeIssue(u,s,config())));throw captureStackTrace(c,o?.callee),c}return l.value},_safeParse=t=>(e,a,r)=>{const o=r?{...r,async:!1}:{async:!1},s=e._zod.run({value:a,issues:[]},o);if(s instanceof Promise)throw new $ZodAsyncError;return s.issues.length?{success:!1,error:new(t??$ZodError)(s.issues.map(l=>finalizeIssue(l,o,config())))}:{success:!0,data:s.value}},safeParse$1=_safeParse($ZodRealError),_safeParseAsync=t=>async(e,a,r)=>{const o=r?Object.assign(r,{async:!0}):{async:!0};let s=e._zod.run({value:a,issues:[]},o);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new t(s.issues.map(l=>finalizeIssue(l,o,config())))}:{success:!0,data:s.value}},safeParseAsync$1=_safeParseAsync($ZodRealError),_encode=t=>(e,a,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return _parse(t)(e,a,o)},_decode=t=>(e,a,r)=>_parse(t)(e,a,r),_encodeAsync=t=>async(e,a,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return _parseAsync(t)(e,a,o)},_decodeAsync=t=>async(e,a,r)=>_parseAsync(t)(e,a,r),_safeEncode=t=>(e,a,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return _safeParse(t)(e,a,o)},_safeDecode=t=>(e,a,r)=>_safeParse(t)(e,a,r),_safeEncodeAsync=t=>async(e,a,r)=>{const o=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return _safeParseAsync(t)(e,a,o)},_safeDecodeAsync=t=>async(e,a,r)=>_safeParseAsync(t)(e,a,r),cuid=/^[cC][^\s-]{8,}$/,cuid2=/^[0-9a-z]+$/,ulid=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,xid=/^[0-9a-vA-V]{20}$/,ksuid=/^[A-Za-z0-9]{27}$/,nanoid$3=/^[a-zA-Z0-9_-]{21}$/,duration$1=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,guid=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,uuid=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,email=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,_emoji$1="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function emoji(){return new RegExp(_emoji$1,"u")}const ipv4=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv6=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,cidrv4=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,cidrv6=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,base64url=/^[A-Za-z0-9_-]*$/,e164=/^\+(?:[0-9]){6,14}[0-9]$/,dateSource="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",date$1=new RegExp(`^${dateSource}$`);function timeSource(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function time$1(t){return new RegExp(`^${timeSource(t)}$`)}function datetime$1(t){const e=timeSource({precision:t.precision}),a=["Z"];t.local&&a.push(""),t.offset&&a.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${e}(?:${a.join("|")})`;return new RegExp(`^${dateSource}T(?:${r})$`)}const string$1=t=>{const e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},integer=/^-?\d+$/,number$1=/^-?\d+(?:\.\d+)?/,lowercase=/^[^A-Z]*$/,uppercase=/^[^a-z]*$/,$ZodCheck=$constructor("$ZodCheck",(t,e)=>{var a;t._zod??(t._zod={}),t._zod.def=e,(a=t._zod).onattach??(a.onattach=[])}),numericOriginMap={number:"number",bigint:"bigint",object:"date"},$ZodCheckLessThan=$constructor("$ZodCheckLessThan",(t,e)=>{$ZodCheck.init(t,e);const a=numericOriginMap[typeof e.value];t._zod.onattach.push(r=>{const o=r._zod.bag,s=(e.inclusive?o.maximum:o.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<s&&(e.inclusive?o.maximum=e.value:o.exclusiveMaximum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value<=e.value:r.value<e.value)||r.issues.push({origin:a,code:"too_big",maximum:e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),$ZodCheckGreaterThan=$constructor("$ZodCheckGreaterThan",(t,e)=>{$ZodCheck.init(t,e);const a=numericOriginMap[typeof e.value];t._zod.onattach.push(r=>{const o=r._zod.bag,s=(e.inclusive?o.minimum:o.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>s&&(e.inclusive?o.minimum=e.value:o.exclusiveMinimum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value>=e.value:r.value>e.value)||r.issues.push({origin:a,code:"too_small",minimum:e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),$ZodCheckMultipleOf=$constructor("$ZodCheckMultipleOf",(t,e)=>{$ZodCheck.init(t,e),t._zod.onattach.push(a=>{var r;(r=a._zod.bag).multipleOf??(r.multipleOf=e.value)}),t._zod.check=a=>{if(typeof a.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof a.value=="bigint"?a.value%e.value===BigInt(0):floatSafeRemainder(a.value,e.value)===0)||a.issues.push({origin:typeof a.value,code:"not_multiple_of",divisor:e.value,input:a.value,inst:t,continue:!e.abort})}}),$ZodCheckNumberFormat=$constructor("$ZodCheckNumberFormat",(t,e)=>{$ZodCheck.init(t,e),e.format=e.format||"float64";const a=e.format?.includes("int"),r=a?"int":"number",[o,s]=NUMBER_FORMAT_RANGES[e.format];t._zod.onattach.push(l=>{const c=l._zod.bag;c.format=e.format,c.minimum=o,c.maximum=s,a&&(c.pattern=integer)}),t._zod.check=l=>{const c=l.value;if(a){if(!Number.isInteger(c)){l.issues.push({expected:r,format:e.format,code:"invalid_type",continue:!1,input:c,inst:t});return}if(!Number.isSafeInteger(c)){c>0?l.issues.push({input:c,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,continue:!e.abort}):l.issues.push({input:c,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,continue:!e.abort});return}}c<o&&l.issues.push({origin:"number",input:c,code:"too_small",minimum:o,inclusive:!0,inst:t,continue:!e.abort}),c>s&&l.issues.push({origin:"number",input:c,code:"too_big",maximum:s,inst:t})}}),$ZodCheckMaxLength=$constructor("$ZodCheckMaxLength",(t,e)=>{var a;$ZodCheck.init(t,e),(a=t._zod.def).when??(a.when=r=>{const o=r.value;return!nullish(o)&&o.length!==void 0}),t._zod.onattach.push(r=>{const o=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<o&&(r._zod.bag.maximum=e.maximum)}),t._zod.check=r=>{const o=r.value;if(o.length<=e.maximum)return;const l=getLengthableOrigin(o);r.issues.push({origin:l,code:"too_big",maximum:e.maximum,inclusive:!0,input:o,inst:t,continue:!e.abort})}}),$ZodCheckMinLength=$constructor("$ZodCheckMinLength",(t,e)=>{var a;$ZodCheck.init(t,e),(a=t._zod.def).when??(a.when=r=>{const o=r.value;return!nullish(o)&&o.length!==void 0}),t._zod.onattach.push(r=>{const o=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>o&&(r._zod.bag.minimum=e.minimum)}),t._zod.check=r=>{const o=r.value;if(o.length>=e.minimum)return;const l=getLengthableOrigin(o);r.issues.push({origin:l,code:"too_small",minimum:e.minimum,inclusive:!0,input:o,inst:t,continue:!e.abort})}}),$ZodCheckLengthEquals=$constructor("$ZodCheckLengthEquals",(t,e)=>{var a;$ZodCheck.init(t,e),(a=t._zod.def).when??(a.when=r=>{const o=r.value;return!nullish(o)&&o.length!==void 0}),t._zod.onattach.push(r=>{const o=r._zod.bag;o.minimum=e.length,o.maximum=e.length,o.length=e.length}),t._zod.check=r=>{const o=r.value,s=o.length;if(s===e.length)return;const l=getLengthableOrigin(o),c=s>e.length;r.issues.push({origin:l,...c?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:r.value,inst:t,continue:!e.abort})}}),$ZodCheckStringFormat=$constructor("$ZodCheckStringFormat",(t,e)=>{var a,r;$ZodCheck.init(t,e),t._zod.onattach.push(o=>{const s=o._zod.bag;s.format=e.format,e.pattern&&(s.patterns??(s.patterns=new Set),s.patterns.add(e.pattern))}),e.pattern?(a=t._zod).check??(a.check=o=>{e.pattern.lastIndex=0,!e.pattern.test(o.value)&&o.issues.push({origin:"string",code:"invalid_format",format:e.format,input:o.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(r=t._zod).check??(r.check=()=>{})}),$ZodCheckRegex=$constructor("$ZodCheckRegex",(t,e)=>{$ZodCheckStringFormat.init(t,e),t._zod.check=a=>{e.pattern.lastIndex=0,!e.pattern.test(a.value)&&a.issues.push({origin:"string",code:"invalid_format",format:"regex",input:a.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),$ZodCheckLowerCase=$constructor("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=lowercase),$ZodCheckStringFormat.init(t,e)}),$ZodCheckUpperCase=$constructor("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=uppercase),$ZodCheckStringFormat.init(t,e)}),$ZodCheckIncludes=$constructor("$ZodCheckIncludes",(t,e)=>{$ZodCheck.init(t,e);const a=escapeRegex(e.includes),r=new RegExp(typeof e.position=="number"?`^.{${e.position}}${a}`:a);e.pattern=r,t._zod.onattach.push(o=>{const s=o._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),t._zod.check=o=>{o.value.includes(e.includes,e.position)||o.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:o.value,inst:t,continue:!e.abort})}}),$ZodCheckStartsWith=$constructor("$ZodCheckStartsWith",(t,e)=>{$ZodCheck.init(t,e);const a=new RegExp(`^${escapeRegex(e.prefix)}.*`);e.pattern??(e.pattern=a),t._zod.onattach.push(r=>{const o=r._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(a)}),t._zod.check=r=>{r.value.startsWith(e.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:r.value,inst:t,continue:!e.abort})}}),$ZodCheckEndsWith=$constructor("$ZodCheckEndsWith",(t,e)=>{$ZodCheck.init(t,e);const a=new RegExp(`.*${escapeRegex(e.suffix)}$`);e.pattern??(e.pattern=a),t._zod.onattach.push(r=>{const o=r._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(a)}),t._zod.check=r=>{r.value.endsWith(e.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:r.value,inst:t,continue:!e.abort})}}),$ZodCheckOverwrite=$constructor("$ZodCheckOverwrite",(t,e)=>{$ZodCheck.init(t,e),t._zod.check=a=>{a.value=e.tx(a.value)}});class Doc{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const r=e.split(`
`).filter(l=>l),o=Math.min(...r.map(l=>l.length-l.trimStart().length)),s=r.map(l=>l.slice(o)).map(l=>" ".repeat(this.indent*2)+l);for(const l of s)this.content.push(l)}compile(){const e=Function,a=this?.args,o=[...(this?.content??[""]).map(s=>`  ${s}`)];return new e(...a,o.join(`
`))}}const version={major:4,minor:1,patch:13},$ZodType=$constructor("$ZodType",(t,e)=>{var a;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=version;const r=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&r.unshift(t);for(const o of r)for(const s of o._zod.onattach)s(t);if(r.length===0)(a=t._zod).deferred??(a.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const o=(l,c,u)=>{let h=aborted(l),f;for(const m of c){if(m._zod.def.when){if(!m._zod.def.when(l))continue}else if(h)continue;const g=l.issues.length,b=m._zod.check(l);if(b instanceof Promise&&u?.async===!1)throw new $ZodAsyncError;if(f||b instanceof Promise)f=(f??Promise.resolve()).then(async()=>{await b,l.issues.length!==g&&(h||(h=aborted(l,g)))});else{if(l.issues.length===g)continue;h||(h=aborted(l,g))}}return f?f.then(()=>l):l},s=(l,c,u)=>{if(aborted(l))return l.aborted=!0,l;const h=o(c,r,u);if(h instanceof Promise){if(u.async===!1)throw new $ZodAsyncError;return h.then(f=>t._zod.parse(f,u))}return t._zod.parse(h,u)};t._zod.run=(l,c)=>{if(c.skipChecks)return t._zod.parse(l,c);if(c.direction==="backward"){const h=t._zod.parse({value:l.value,issues:[]},{...c,skipChecks:!0});return h instanceof Promise?h.then(f=>s(f,l,c)):s(h,l,c)}const u=t._zod.parse(l,c);if(u instanceof Promise){if(c.async===!1)throw new $ZodAsyncError;return u.then(h=>o(h,r,c))}return o(u,r,c)}}t["~standard"]={validate:o=>{try{const s=safeParse$1(t,o);return s.success?{value:s.data}:{issues:s.error?.issues}}catch{return safeParseAsync$1(t,o).then(l=>l.success?{value:l.data}:{issues:l.error?.issues})}},vendor:"zod",version:1}}),$ZodString=$constructor("$ZodString",(t,e)=>{$ZodType.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??string$1(t._zod.bag),t._zod.parse=(a,r)=>{if(e.coerce)try{a.value=String(a.value)}catch{}return typeof a.value=="string"||a.issues.push({expected:"string",code:"invalid_type",input:a.value,inst:t}),a}}),$ZodStringFormat=$constructor("$ZodStringFormat",(t,e)=>{$ZodCheckStringFormat.init(t,e),$ZodString.init(t,e)}),$ZodGUID=$constructor("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=guid),$ZodStringFormat.init(t,e)}),$ZodUUID=$constructor("$ZodUUID",(t,e)=>{if(e.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(r===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=uuid(r))}else e.pattern??(e.pattern=uuid());$ZodStringFormat.init(t,e)}),$ZodEmail=$constructor("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=email),$ZodStringFormat.init(t,e)}),$ZodURL=$constructor("$ZodURL",(t,e)=>{$ZodStringFormat.init(t,e),t._zod.check=a=>{try{const r=a.value.trim(),o=new URL(r);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(o.hostname)||a.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:a.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(o.protocol.endsWith(":")?o.protocol.slice(0,-1):o.protocol)||a.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:a.value,inst:t,continue:!e.abort})),e.normalize?a.value=o.href:a.value=r;return}catch{a.issues.push({code:"invalid_format",format:"url",input:a.value,inst:t,continue:!e.abort})}}}),$ZodEmoji=$constructor("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=emoji()),$ZodStringFormat.init(t,e)}),$ZodNanoID=$constructor("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=nanoid$3),$ZodStringFormat.init(t,e)}),$ZodCUID=$constructor("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=cuid),$ZodStringFormat.init(t,e)}),$ZodCUID2=$constructor("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=cuid2),$ZodStringFormat.init(t,e)}),$ZodULID=$constructor("$ZodULID",(t,e)=>{e.pattern??(e.pattern=ulid),$ZodStringFormat.init(t,e)}),$ZodXID=$constructor("$ZodXID",(t,e)=>{e.pattern??(e.pattern=xid),$ZodStringFormat.init(t,e)}),$ZodKSUID=$constructor("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=ksuid),$ZodStringFormat.init(t,e)}),$ZodISODateTime=$constructor("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=datetime$1(e)),$ZodStringFormat.init(t,e)}),$ZodISODate=$constructor("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=date$1),$ZodStringFormat.init(t,e)}),$ZodISOTime=$constructor("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=time$1(e)),$ZodStringFormat.init(t,e)}),$ZodISODuration=$constructor("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=duration$1),$ZodStringFormat.init(t,e)}),$ZodIPv4=$constructor("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=ipv4),$ZodStringFormat.init(t,e),t._zod.bag.format="ipv4"}),$ZodIPv6=$constructor("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=ipv6),$ZodStringFormat.init(t,e),t._zod.bag.format="ipv6",t._zod.check=a=>{try{new URL(`http://[${a.value}]`)}catch{a.issues.push({code:"invalid_format",format:"ipv6",input:a.value,inst:t,continue:!e.abort})}}}),$ZodCIDRv4=$constructor("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=cidrv4),$ZodStringFormat.init(t,e)}),$ZodCIDRv6=$constructor("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=cidrv6),$ZodStringFormat.init(t,e),t._zod.check=a=>{const r=a.value.split("/");try{if(r.length!==2)throw new Error;const[o,s]=r;if(!s)throw new Error;const l=Number(s);if(`${l}`!==s)throw new Error;if(l<0||l>128)throw new Error;new URL(`http://[${o}]`)}catch{a.issues.push({code:"invalid_format",format:"cidrv6",input:a.value,inst:t,continue:!e.abort})}}});function isValidBase64(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const $ZodBase64=$constructor("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=base64),$ZodStringFormat.init(t,e),t._zod.bag.contentEncoding="base64",t._zod.check=a=>{isValidBase64(a.value)||a.issues.push({code:"invalid_format",format:"base64",input:a.value,inst:t,continue:!e.abort})}});function isValidBase64URL(t){if(!base64url.test(t))return!1;const e=t.replace(/[-_]/g,r=>r==="-"?"+":"/"),a=e.padEnd(Math.ceil(e.length/4)*4,"=");return isValidBase64(a)}const $ZodBase64URL=$constructor("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=base64url),$ZodStringFormat.init(t,e),t._zod.bag.contentEncoding="base64url",t._zod.check=a=>{isValidBase64URL(a.value)||a.issues.push({code:"invalid_format",format:"base64url",input:a.value,inst:t,continue:!e.abort})}}),$ZodE164=$constructor("$ZodE164",(t,e)=>{e.pattern??(e.pattern=e164),$ZodStringFormat.init(t,e)});function isValidJWT(t,e=null){try{const a=t.split(".");if(a.length!==3)return!1;const[r]=a;if(!r)return!1;const o=JSON.parse(atob(r));return!("typ"in o&&o?.typ!=="JWT"||!o.alg||e&&(!("alg"in o)||o.alg!==e))}catch{return!1}}const $ZodJWT=$constructor("$ZodJWT",(t,e)=>{$ZodStringFormat.init(t,e),t._zod.check=a=>{isValidJWT(a.value,e.alg)||a.issues.push({code:"invalid_format",format:"jwt",input:a.value,inst:t,continue:!e.abort})}}),$ZodNumber=$constructor("$ZodNumber",(t,e)=>{$ZodType.init(t,e),t._zod.pattern=t._zod.bag.pattern??number$1,t._zod.parse=(a,r)=>{if(e.coerce)try{a.value=Number(a.value)}catch{}const o=a.value;if(typeof o=="number"&&!Number.isNaN(o)&&Number.isFinite(o))return a;const s=typeof o=="number"?Number.isNaN(o)?"NaN":Number.isFinite(o)?void 0:"Infinity":void 0;return a.issues.push({expected:"number",code:"invalid_type",input:o,inst:t,...s?{received:s}:{}}),a}}),$ZodNumberFormat=$constructor("$ZodNumberFormat",(t,e)=>{$ZodCheckNumberFormat.init(t,e),$ZodNumber.init(t,e)}),$ZodUnknown=$constructor("$ZodUnknown",(t,e)=>{$ZodType.init(t,e),t._zod.parse=a=>a}),$ZodNever=$constructor("$ZodNever",(t,e)=>{$ZodType.init(t,e),t._zod.parse=(a,r)=>(a.issues.push({expected:"never",code:"invalid_type",input:a.value,inst:t}),a)});function handleArrayResult(t,e,a){t.issues.length&&e.issues.push(...prefixIssues(a,t.issues)),e.value[a]=t.value}const $ZodArray=$constructor("$ZodArray",(t,e)=>{$ZodType.init(t,e),t._zod.parse=(a,r)=>{const o=a.value;if(!Array.isArray(o))return a.issues.push({expected:"array",code:"invalid_type",input:o,inst:t}),a;a.value=Array(o.length);const s=[];for(let l=0;l<o.length;l++){const c=o[l],u=e.element._zod.run({value:c,issues:[]},r);u instanceof Promise?s.push(u.then(h=>handleArrayResult(h,a,l))):handleArrayResult(u,a,l)}return s.length?Promise.all(s).then(()=>a):a}});function handlePropertyResult(t,e,a,r){t.issues.length&&e.issues.push(...prefixIssues(a,t.issues)),t.value===void 0?a in r&&(e.value[a]=void 0):e.value[a]=t.value}function normalizeDef(t){const e=Object.keys(t.shape);for(const r of e)if(!t.shape?.[r]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const a=optionalKeys(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(a)}}function handleCatchall(t,e,a,r,o,s){const l=[],c=o.keySet,u=o.catchall._zod,h=u.def.type;for(const f in e){if(c.has(f))continue;if(h==="never"){l.push(f);continue}const m=u.run({value:e[f],issues:[]},r);m instanceof Promise?t.push(m.then(g=>handlePropertyResult(g,a,f,e))):handlePropertyResult(m,a,f,e)}return l.length&&a.issues.push({code:"unrecognized_keys",keys:l,input:e,inst:s}),t.length?Promise.all(t).then(()=>a):a}const $ZodObject=$constructor("$ZodObject",(t,e)=>{if($ZodType.init(t,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){const c=e.shape;Object.defineProperty(e,"shape",{get:()=>{const u={...c};return Object.defineProperty(e,"shape",{value:u}),u}})}const r=cached(()=>normalizeDef(e));defineLazy(t._zod,"propValues",()=>{const c=e.shape,u={};for(const h in c){const f=c[h]._zod;if(f.values){u[h]??(u[h]=new Set);for(const m of f.values)u[h].add(m)}}return u});const o=isObject$1,s=e.catchall;let l;t._zod.parse=(c,u)=>{l??(l=r.value);const h=c.value;if(!o(h))return c.issues.push({expected:"object",code:"invalid_type",input:h,inst:t}),c;c.value={};const f=[],m=l.shape;for(const g of l.keys){const w=m[g]._zod.run({value:h[g],issues:[]},u);w instanceof Promise?f.push(w.then(E=>handlePropertyResult(E,c,g,h))):handlePropertyResult(w,c,g,h)}return s?handleCatchall(f,h,c,u,r.value,t):f.length?Promise.all(f).then(()=>c):c}}),$ZodObjectJIT=$constructor("$ZodObjectJIT",(t,e)=>{$ZodObject.init(t,e);const a=t._zod.parse,r=cached(()=>normalizeDef(e)),o=g=>{const b=new Doc(["shape","payload","ctx"]),w=r.value,E=P=>{const q=esc(P);return`shape[${q}]._zod.run({ value: input[${q}], issues: [] }, ctx)`};b.write("const input = payload.value;");const C=Object.create(null);let B=0;for(const P of w.keys)C[P]=`key_${B++}`;b.write("const newResult = {};");for(const P of w.keys){const q=C[P],z=esc(P);b.write(`const ${q} = ${E(P)};`),b.write(`
        if (${q}.issues.length) {
          payload.issues = payload.issues.concat(${q}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${z}, ...iss.path] : [${z}]
          })));
        }
        
        
        if (${q}.value === undefined) {
          if (${z} in input) {
            newResult[${z}] = undefined;
          }
        } else {
          newResult[${z}] = ${q}.value;
        }
        
      `)}b.write("payload.value = newResult;"),b.write("return payload;");const O=b.compile();return(P,q)=>O(g,P,q)};let s;const l=isObject$1,c=!globalConfig.jitless,h=c&&allowsEval.value,f=e.catchall;let m;t._zod.parse=(g,b)=>{m??(m=r.value);const w=g.value;return l(w)?c&&h&&b?.async===!1&&b.jitless!==!0?(s||(s=o(e.shape)),g=s(g,b),f?handleCatchall([],w,g,b,m,t):g):a(g,b):(g.issues.push({expected:"object",code:"invalid_type",input:w,inst:t}),g)}});function handleUnionResults(t,e,a,r){for(const s of t)if(s.issues.length===0)return e.value=s.value,e;const o=t.filter(s=>!aborted(s));return o.length===1?(e.value=o[0].value,o[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:a,errors:t.map(s=>s.issues.map(l=>finalizeIssue(l,r,config())))}),e)}const $ZodUnion=$constructor("$ZodUnion",(t,e)=>{$ZodType.init(t,e),defineLazy(t._zod,"optin",()=>e.options.some(o=>o._zod.optin==="optional")?"optional":void 0),defineLazy(t._zod,"optout",()=>e.options.some(o=>o._zod.optout==="optional")?"optional":void 0),defineLazy(t._zod,"values",()=>{if(e.options.every(o=>o._zod.values))return new Set(e.options.flatMap(o=>Array.from(o._zod.values)))}),defineLazy(t._zod,"pattern",()=>{if(e.options.every(o=>o._zod.pattern)){const o=e.options.map(s=>s._zod.pattern);return new RegExp(`^(${o.map(s=>cleanRegex(s.source)).join("|")})$`)}});const a=e.options.length===1,r=e.options[0]._zod.run;t._zod.parse=(o,s)=>{if(a)return r(o,s);let l=!1;const c=[];for(const u of e.options){const h=u._zod.run({value:o.value,issues:[]},s);if(h instanceof Promise)c.push(h),l=!0;else{if(h.issues.length===0)return h;c.push(h)}}return l?Promise.all(c).then(u=>handleUnionResults(u,o,t,s)):handleUnionResults(c,o,t,s)}}),$ZodIntersection=$constructor("$ZodIntersection",(t,e)=>{$ZodType.init(t,e),t._zod.parse=(a,r)=>{const o=a.value,s=e.left._zod.run({value:o,issues:[]},r),l=e.right._zod.run({value:o,issues:[]},r);return s instanceof Promise||l instanceof Promise?Promise.all([s,l]).then(([u,h])=>handleIntersectionResults(a,u,h)):handleIntersectionResults(a,s,l)}});function mergeValues(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(isPlainObject(t)&&isPlainObject(e)){const a=Object.keys(e),r=Object.keys(t).filter(s=>a.indexOf(s)!==-1),o={...t,...e};for(const s of r){const l=mergeValues(t[s],e[s]);if(!l.valid)return{valid:!1,mergeErrorPath:[s,...l.mergeErrorPath]};o[s]=l.data}return{valid:!0,data:o}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const a=[];for(let r=0;r<t.length;r++){const o=t[r],s=e[r],l=mergeValues(o,s);if(!l.valid)return{valid:!1,mergeErrorPath:[r,...l.mergeErrorPath]};a.push(l.data)}return{valid:!0,data:a}}return{valid:!1,mergeErrorPath:[]}}function handleIntersectionResults(t,e,a){if(e.issues.length&&t.issues.push(...e.issues),a.issues.length&&t.issues.push(...a.issues),aborted(t))return t;const r=mergeValues(e.value,a.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return t.value=r.data,t}const $ZodTuple=$constructor("$ZodTuple",(t,e)=>{$ZodType.init(t,e);const a=e.items;t._zod.parse=(r,o)=>{const s=r.value;if(!Array.isArray(s))return r.issues.push({input:s,inst:t,expected:"tuple",code:"invalid_type"}),r;r.value=[];const l=[],c=[...a].reverse().findIndex(f=>f._zod.optin!=="optional"),u=c===-1?0:a.length-c;if(!e.rest){const f=s.length>a.length,m=s.length<u-1;if(f||m)return r.issues.push({...f?{code:"too_big",maximum:a.length}:{code:"too_small",minimum:a.length},input:s,inst:t,origin:"array"}),r}let h=-1;for(const f of a){if(h++,h>=s.length&&h>=u)continue;const m=f._zod.run({value:s[h],issues:[]},o);m instanceof Promise?l.push(m.then(g=>handleTupleResult(g,r,h))):handleTupleResult(m,r,h)}if(e.rest){const f=s.slice(a.length);for(const m of f){h++;const g=e.rest._zod.run({value:m,issues:[]},o);g instanceof Promise?l.push(g.then(b=>handleTupleResult(b,r,h))):handleTupleResult(g,r,h)}}return l.length?Promise.all(l).then(()=>r):r}});function handleTupleResult(t,e,a){t.issues.length&&e.issues.push(...prefixIssues(a,t.issues)),e.value[a]=t.value}const $ZodRecord=$constructor("$ZodRecord",(t,e)=>{$ZodType.init(t,e),t._zod.parse=(a,r)=>{const o=a.value;if(!isPlainObject(o))return a.issues.push({expected:"record",code:"invalid_type",input:o,inst:t}),a;const s=[],l=e.keyType._zod.values;if(l){a.value={};const c=new Set;for(const h of l)if(typeof h=="string"||typeof h=="number"||typeof h=="symbol"){c.add(typeof h=="number"?h.toString():h);const f=e.valueType._zod.run({value:o[h],issues:[]},r);f instanceof Promise?s.push(f.then(m=>{m.issues.length&&a.issues.push(...prefixIssues(h,m.issues)),a.value[h]=m.value})):(f.issues.length&&a.issues.push(...prefixIssues(h,f.issues)),a.value[h]=f.value)}let u;for(const h in o)c.has(h)||(u=u??[],u.push(h));u&&u.length>0&&a.issues.push({code:"unrecognized_keys",input:o,inst:t,keys:u})}else{a.value={};for(const c of Reflect.ownKeys(o)){if(c==="__proto__")continue;const u=e.keyType._zod.run({value:c,issues:[]},r);if(u instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(u.issues.length){a.issues.push({code:"invalid_key",origin:"record",issues:u.issues.map(f=>finalizeIssue(f,r,config())),input:c,path:[c],inst:t}),a.value[u.value]=u.value;continue}const h=e.valueType._zod.run({value:o[c],issues:[]},r);h instanceof Promise?s.push(h.then(f=>{f.issues.length&&a.issues.push(...prefixIssues(c,f.issues)),a.value[u.value]=f.value})):(h.issues.length&&a.issues.push(...prefixIssues(c,h.issues)),a.value[u.value]=h.value)}}return s.length?Promise.all(s).then(()=>a):a}}),$ZodEnum=$constructor("$ZodEnum",(t,e)=>{$ZodType.init(t,e);const a=getEnumValues(e.entries),r=new Set(a);t._zod.values=r,t._zod.pattern=new RegExp(`^(${a.filter(o=>propertyKeyTypes.has(typeof o)).map(o=>typeof o=="string"?escapeRegex(o):o.toString()).join("|")})$`),t._zod.parse=(o,s)=>{const l=o.value;return r.has(l)||o.issues.push({code:"invalid_value",values:a,input:l,inst:t}),o}}),$ZodLiteral=$constructor("$ZodLiteral",(t,e)=>{if($ZodType.init(t,e),e.values.length===0)throw new Error("Cannot create literal schema with no valid values");const a=new Set(e.values);t._zod.values=a,t._zod.pattern=new RegExp(`^(${e.values.map(r=>typeof r=="string"?escapeRegex(r):r?escapeRegex(r.toString()):String(r)).join("|")})$`),t._zod.parse=(r,o)=>{const s=r.value;return a.has(s)||r.issues.push({code:"invalid_value",values:e.values,input:s,inst:t}),r}}),$ZodTransform=$constructor("$ZodTransform",(t,e)=>{$ZodType.init(t,e),t._zod.parse=(a,r)=>{if(r.direction==="backward")throw new $ZodEncodeError(t.constructor.name);const o=e.transform(a.value,a);if(r.async)return(o instanceof Promise?o:Promise.resolve(o)).then(l=>(a.value=l,a));if(o instanceof Promise)throw new $ZodAsyncError;return a.value=o,a}});function handleOptionalResult(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const $ZodOptional=$constructor("$ZodOptional",(t,e)=>{$ZodType.init(t,e),t._zod.optin="optional",t._zod.optout="optional",defineLazy(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),defineLazy(t._zod,"pattern",()=>{const a=e.innerType._zod.pattern;return a?new RegExp(`^(${cleanRegex(a.source)})?$`):void 0}),t._zod.parse=(a,r)=>{if(e.innerType._zod.optin==="optional"){const o=e.innerType._zod.run(a,r);return o instanceof Promise?o.then(s=>handleOptionalResult(s,a.value)):handleOptionalResult(o,a.value)}return a.value===void 0?a:e.innerType._zod.run(a,r)}}),$ZodNullable=$constructor("$ZodNullable",(t,e)=>{$ZodType.init(t,e),defineLazy(t._zod,"optin",()=>e.innerType._zod.optin),defineLazy(t._zod,"optout",()=>e.innerType._zod.optout),defineLazy(t._zod,"pattern",()=>{const a=e.innerType._zod.pattern;return a?new RegExp(`^(${cleanRegex(a.source)}|null)$`):void 0}),defineLazy(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(a,r)=>a.value===null?a:e.innerType._zod.run(a,r)}),$ZodDefault=$constructor("$ZodDefault",(t,e)=>{$ZodType.init(t,e),t._zod.optin="optional",defineLazy(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(a,r)=>{if(r.direction==="backward")return e.innerType._zod.run(a,r);if(a.value===void 0)return a.value=e.defaultValue,a;const o=e.innerType._zod.run(a,r);return o instanceof Promise?o.then(s=>handleDefaultResult(s,e)):handleDefaultResult(o,e)}});function handleDefaultResult(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const $ZodPrefault=$constructor("$ZodPrefault",(t,e)=>{$ZodType.init(t,e),t._zod.optin="optional",defineLazy(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(a,r)=>(r.direction==="backward"||a.value===void 0&&(a.value=e.defaultValue),e.innerType._zod.run(a,r))}),$ZodNonOptional=$constructor("$ZodNonOptional",(t,e)=>{$ZodType.init(t,e),defineLazy(t._zod,"values",()=>{const a=e.innerType._zod.values;return a?new Set([...a].filter(r=>r!==void 0)):void 0}),t._zod.parse=(a,r)=>{const o=e.innerType._zod.run(a,r);return o instanceof Promise?o.then(s=>handleNonOptionalResult(s,t)):handleNonOptionalResult(o,t)}});function handleNonOptionalResult(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const $ZodCatch=$constructor("$ZodCatch",(t,e)=>{$ZodType.init(t,e),defineLazy(t._zod,"optin",()=>e.innerType._zod.optin),defineLazy(t._zod,"optout",()=>e.innerType._zod.optout),defineLazy(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(a,r)=>{if(r.direction==="backward")return e.innerType._zod.run(a,r);const o=e.innerType._zod.run(a,r);return o instanceof Promise?o.then(s=>(a.value=s.value,s.issues.length&&(a.value=e.catchValue({...a,error:{issues:s.issues.map(l=>finalizeIssue(l,r,config()))},input:a.value}),a.issues=[]),a)):(a.value=o.value,o.issues.length&&(a.value=e.catchValue({...a,error:{issues:o.issues.map(s=>finalizeIssue(s,r,config()))},input:a.value}),a.issues=[]),a)}}),$ZodPipe=$constructor("$ZodPipe",(t,e)=>{$ZodType.init(t,e),defineLazy(t._zod,"values",()=>e.in._zod.values),defineLazy(t._zod,"optin",()=>e.in._zod.optin),defineLazy(t._zod,"optout",()=>e.out._zod.optout),defineLazy(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(a,r)=>{if(r.direction==="backward"){const s=e.out._zod.run(a,r);return s instanceof Promise?s.then(l=>handlePipeResult(l,e.in,r)):handlePipeResult(s,e.in,r)}const o=e.in._zod.run(a,r);return o instanceof Promise?o.then(s=>handlePipeResult(s,e.out,r)):handlePipeResult(o,e.out,r)}});function handlePipeResult(t,e,a){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},a)}const $ZodReadonly=$constructor("$ZodReadonly",(t,e)=>{$ZodType.init(t,e),defineLazy(t._zod,"propValues",()=>e.innerType._zod.propValues),defineLazy(t._zod,"values",()=>e.innerType._zod.values),defineLazy(t._zod,"optin",()=>e.innerType?._zod?.optin),defineLazy(t._zod,"optout",()=>e.innerType?._zod?.optout),t._zod.parse=(a,r)=>{if(r.direction==="backward")return e.innerType._zod.run(a,r);const o=e.innerType._zod.run(a,r);return o instanceof Promise?o.then(handleReadonlyResult):handleReadonlyResult(o)}});function handleReadonlyResult(t){return t.value=Object.freeze(t.value),t}const $ZodCustom=$constructor("$ZodCustom",(t,e)=>{$ZodCheck.init(t,e),$ZodType.init(t,e),t._zod.parse=(a,r)=>a,t._zod.check=a=>{const r=a.value,o=e.fn(r);if(o instanceof Promise)return o.then(s=>handleRefineResult(s,a,r,t));handleRefineResult(o,a,r,t)}});function handleRefineResult(t,e,a,r){if(!t){const o={code:"custom",input:a,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(o.params=r._zod.def.params),e.issues.push(issue(o))}}var _a$1;class $ZodRegistry{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...a){const r=a[0];if(this._map.set(e,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const a=this._map.get(e);return a&&typeof a=="object"&&"id"in a&&this._idmap.delete(a.id),this._map.delete(e),this}get(e){const a=e._zod.parent;if(a){const r={...this.get(a)??{}};delete r.id;const o={...r,...this._map.get(e)};return Object.keys(o).length?o:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function registry(){return new $ZodRegistry}(_a$1=globalThis).__zod_globalRegistry??(_a$1.__zod_globalRegistry=registry());const globalRegistry=globalThis.__zod_globalRegistry;function _string(t,e){return new t({type:"string",...normalizeParams(e)})}function _email(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...normalizeParams(e)})}function _guid(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...normalizeParams(e)})}function _uuid(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...normalizeParams(e)})}function _uuidv4(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...normalizeParams(e)})}function _uuidv6(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...normalizeParams(e)})}function _uuidv7(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...normalizeParams(e)})}function _url(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...normalizeParams(e)})}function _emoji(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...normalizeParams(e)})}function _nanoid(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...normalizeParams(e)})}function _cuid(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...normalizeParams(e)})}function _cuid2(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...normalizeParams(e)})}function _ulid(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...normalizeParams(e)})}function _xid(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...normalizeParams(e)})}function _ksuid(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...normalizeParams(e)})}function _ipv4(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...normalizeParams(e)})}function _ipv6(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...normalizeParams(e)})}function _cidrv4(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...normalizeParams(e)})}function _cidrv6(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...normalizeParams(e)})}function _base64(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...normalizeParams(e)})}function _base64url(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...normalizeParams(e)})}function _e164(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...normalizeParams(e)})}function _jwt(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...normalizeParams(e)})}function _isoDateTime(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...normalizeParams(e)})}function _isoDate(t,e){return new t({type:"string",format:"date",check:"string_format",...normalizeParams(e)})}function _isoTime(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...normalizeParams(e)})}function _isoDuration(t,e){return new t({type:"string",format:"duration",check:"string_format",...normalizeParams(e)})}function _number(t,e){return new t({type:"number",checks:[],...normalizeParams(e)})}function _int(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...normalizeParams(e)})}function _unknown(t){return new t({type:"unknown"})}function _never(t,e){return new t({type:"never",...normalizeParams(e)})}function _lt(t,e){return new $ZodCheckLessThan({check:"less_than",...normalizeParams(e),value:t,inclusive:!1})}function _lte(t,e){return new $ZodCheckLessThan({check:"less_than",...normalizeParams(e),value:t,inclusive:!0})}function _gt(t,e){return new $ZodCheckGreaterThan({check:"greater_than",...normalizeParams(e),value:t,inclusive:!1})}function _gte(t,e){return new $ZodCheckGreaterThan({check:"greater_than",...normalizeParams(e),value:t,inclusive:!0})}function _multipleOf(t,e){return new $ZodCheckMultipleOf({check:"multiple_of",...normalizeParams(e),value:t})}function _maxLength(t,e){return new $ZodCheckMaxLength({check:"max_length",...normalizeParams(e),maximum:t})}function _minLength(t,e){return new $ZodCheckMinLength({check:"min_length",...normalizeParams(e),minimum:t})}function _length(t,e){return new $ZodCheckLengthEquals({check:"length_equals",...normalizeParams(e),length:t})}function _regex(t,e){return new $ZodCheckRegex({check:"string_format",format:"regex",...normalizeParams(e),pattern:t})}function _lowercase(t){return new $ZodCheckLowerCase({check:"string_format",format:"lowercase",...normalizeParams(t)})}function _uppercase(t){return new $ZodCheckUpperCase({check:"string_format",format:"uppercase",...normalizeParams(t)})}function _includes(t,e){return new $ZodCheckIncludes({check:"string_format",format:"includes",...normalizeParams(e),includes:t})}function _startsWith(t,e){return new $ZodCheckStartsWith({check:"string_format",format:"starts_with",...normalizeParams(e),prefix:t})}function _endsWith(t,e){return new $ZodCheckEndsWith({check:"string_format",format:"ends_with",...normalizeParams(e),suffix:t})}function _overwrite(t){return new $ZodCheckOverwrite({check:"overwrite",tx:t})}function _normalize(t){return _overwrite(e=>e.normalize(t))}function _trim(){return _overwrite(t=>t.trim())}function _toLowerCase(){return _overwrite(t=>t.toLowerCase())}function _toUpperCase(){return _overwrite(t=>t.toUpperCase())}function _slugify(){return _overwrite(t=>slugify(t))}function _array(t,e,a){return new t({type:"array",element:e,...normalizeParams(a)})}function _refine(t,e,a){return new t({type:"custom",check:"custom",fn:e,...normalizeParams(a)})}function _superRefine(t){const e=_check(a=>(a.addIssue=r=>{if(typeof r=="string")a.issues.push(issue(r,a.value,e._zod.def));else{const o=r;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=a.value),o.inst??(o.inst=e),o.continue??(o.continue=!e._zod.def.abort),a.issues.push(issue(o))}},t(a.value,a)));return e}function _check(t,e){const a=new $ZodCheck({check:"custom",...normalizeParams(e)});return a._zod.check=t,a}const ZodISODateTime=$constructor("ZodISODateTime",(t,e)=>{$ZodISODateTime.init(t,e),ZodStringFormat.init(t,e)});function datetime(t){return _isoDateTime(ZodISODateTime,t)}const ZodISODate=$constructor("ZodISODate",(t,e)=>{$ZodISODate.init(t,e),ZodStringFormat.init(t,e)});function date(t){return _isoDate(ZodISODate,t)}const ZodISOTime=$constructor("ZodISOTime",(t,e)=>{$ZodISOTime.init(t,e),ZodStringFormat.init(t,e)});function time(t){return _isoTime(ZodISOTime,t)}const ZodISODuration=$constructor("ZodISODuration",(t,e)=>{$ZodISODuration.init(t,e),ZodStringFormat.init(t,e)});function duration(t){return _isoDuration(ZodISODuration,t)}const initializer=(t,e)=>{$ZodError.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:a=>formatError(t,a)},flatten:{value:a=>flattenError(t,a)},addIssue:{value:a=>{t.issues.push(a),t.message=JSON.stringify(t.issues,jsonStringifyReplacer,2)}},addIssues:{value:a=>{t.issues.push(...a),t.message=JSON.stringify(t.issues,jsonStringifyReplacer,2)}},isEmpty:{get(){return t.issues.length===0}}})},ZodRealError=$constructor("ZodError",initializer,{Parent:Error}),parse$6=_parse(ZodRealError),parseAsync=_parseAsync(ZodRealError),safeParse=_safeParse(ZodRealError),safeParseAsync=_safeParseAsync(ZodRealError),encode$1=_encode(ZodRealError),decode=_decode(ZodRealError),encodeAsync=_encodeAsync(ZodRealError),decodeAsync=_decodeAsync(ZodRealError),safeEncode=_safeEncode(ZodRealError),safeDecode=_safeDecode(ZodRealError),safeEncodeAsync=_safeEncodeAsync(ZodRealError),safeDecodeAsync=_safeDecodeAsync(ZodRealError),ZodType=$constructor("ZodType",(t,e)=>($ZodType.init(t,e),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...a)=>t.clone(mergeDefs(e,{checks:[...e.checks??[],...a.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]})),t.clone=(a,r)=>clone(t,a,r),t.brand=()=>t,t.register=((a,r)=>(a.add(t,r),t)),t.parse=(a,r)=>parse$6(t,a,r,{callee:t.parse}),t.safeParse=(a,r)=>safeParse(t,a,r),t.parseAsync=async(a,r)=>parseAsync(t,a,r,{callee:t.parseAsync}),t.safeParseAsync=async(a,r)=>safeParseAsync(t,a,r),t.spa=t.safeParseAsync,t.encode=(a,r)=>encode$1(t,a,r),t.decode=(a,r)=>decode(t,a,r),t.encodeAsync=async(a,r)=>encodeAsync(t,a,r),t.decodeAsync=async(a,r)=>decodeAsync(t,a,r),t.safeEncode=(a,r)=>safeEncode(t,a,r),t.safeDecode=(a,r)=>safeDecode(t,a,r),t.safeEncodeAsync=async(a,r)=>safeEncodeAsync(t,a,r),t.safeDecodeAsync=async(a,r)=>safeDecodeAsync(t,a,r),t.refine=(a,r)=>t.check(refine(a,r)),t.superRefine=a=>t.check(superRefine(a)),t.overwrite=a=>t.check(_overwrite(a)),t.optional=()=>optional(t),t.nullable=()=>nullable(t),t.nullish=()=>optional(nullable(t)),t.nonoptional=a=>nonoptional(t,a),t.array=()=>array(t),t.or=a=>union([t,a]),t.and=a=>intersection(t,a),t.transform=a=>pipe(t,transform(a)),t.default=a=>_default(t,a),t.prefault=a=>prefault(t,a),t.catch=a=>_catch(t,a),t.pipe=a=>pipe(t,a),t.readonly=()=>readonly(t),t.describe=a=>{const r=t.clone();return globalRegistry.add(r,{description:a}),r},Object.defineProperty(t,"description",{get(){return globalRegistry.get(t)?.description},configurable:!0}),t.meta=(...a)=>{if(a.length===0)return globalRegistry.get(t);const r=t.clone();return globalRegistry.add(r,a[0]),r},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),_ZodString=$constructor("_ZodString",(t,e)=>{$ZodString.init(t,e),ZodType.init(t,e);const a=t._zod.bag;t.format=a.format??null,t.minLength=a.minimum??null,t.maxLength=a.maximum??null,t.regex=(...r)=>t.check(_regex(...r)),t.includes=(...r)=>t.check(_includes(...r)),t.startsWith=(...r)=>t.check(_startsWith(...r)),t.endsWith=(...r)=>t.check(_endsWith(...r)),t.min=(...r)=>t.check(_minLength(...r)),t.max=(...r)=>t.check(_maxLength(...r)),t.length=(...r)=>t.check(_length(...r)),t.nonempty=(...r)=>t.check(_minLength(1,...r)),t.lowercase=r=>t.check(_lowercase(r)),t.uppercase=r=>t.check(_uppercase(r)),t.trim=()=>t.check(_trim()),t.normalize=(...r)=>t.check(_normalize(...r)),t.toLowerCase=()=>t.check(_toLowerCase()),t.toUpperCase=()=>t.check(_toUpperCase()),t.slugify=()=>t.check(_slugify())}),ZodString=$constructor("ZodString",(t,e)=>{$ZodString.init(t,e),_ZodString.init(t,e),t.email=a=>t.check(_email(ZodEmail,a)),t.url=a=>t.check(_url(ZodURL,a)),t.jwt=a=>t.check(_jwt(ZodJWT,a)),t.emoji=a=>t.check(_emoji(ZodEmoji,a)),t.guid=a=>t.check(_guid(ZodGUID,a)),t.uuid=a=>t.check(_uuid(ZodUUID,a)),t.uuidv4=a=>t.check(_uuidv4(ZodUUID,a)),t.uuidv6=a=>t.check(_uuidv6(ZodUUID,a)),t.uuidv7=a=>t.check(_uuidv7(ZodUUID,a)),t.nanoid=a=>t.check(_nanoid(ZodNanoID,a)),t.guid=a=>t.check(_guid(ZodGUID,a)),t.cuid=a=>t.check(_cuid(ZodCUID,a)),t.cuid2=a=>t.check(_cuid2(ZodCUID2,a)),t.ulid=a=>t.check(_ulid(ZodULID,a)),t.base64=a=>t.check(_base64(ZodBase64,a)),t.base64url=a=>t.check(_base64url(ZodBase64URL,a)),t.xid=a=>t.check(_xid(ZodXID,a)),t.ksuid=a=>t.check(_ksuid(ZodKSUID,a)),t.ipv4=a=>t.check(_ipv4(ZodIPv4,a)),t.ipv6=a=>t.check(_ipv6(ZodIPv6,a)),t.cidrv4=a=>t.check(_cidrv4(ZodCIDRv4,a)),t.cidrv6=a=>t.check(_cidrv6(ZodCIDRv6,a)),t.e164=a=>t.check(_e164(ZodE164,a)),t.datetime=a=>t.check(datetime(a)),t.date=a=>t.check(date(a)),t.time=a=>t.check(time(a)),t.duration=a=>t.check(duration(a))});function string(t){return _string(ZodString,t)}const ZodStringFormat=$constructor("ZodStringFormat",(t,e)=>{$ZodStringFormat.init(t,e),_ZodString.init(t,e)}),ZodEmail=$constructor("ZodEmail",(t,e)=>{$ZodEmail.init(t,e),ZodStringFormat.init(t,e)}),ZodGUID=$constructor("ZodGUID",(t,e)=>{$ZodGUID.init(t,e),ZodStringFormat.init(t,e)}),ZodUUID=$constructor("ZodUUID",(t,e)=>{$ZodUUID.init(t,e),ZodStringFormat.init(t,e)}),ZodURL=$constructor("ZodURL",(t,e)=>{$ZodURL.init(t,e),ZodStringFormat.init(t,e)}),ZodEmoji=$constructor("ZodEmoji",(t,e)=>{$ZodEmoji.init(t,e),ZodStringFormat.init(t,e)}),ZodNanoID=$constructor("ZodNanoID",(t,e)=>{$ZodNanoID.init(t,e),ZodStringFormat.init(t,e)}),ZodCUID=$constructor("ZodCUID",(t,e)=>{$ZodCUID.init(t,e),ZodStringFormat.init(t,e)}),ZodCUID2=$constructor("ZodCUID2",(t,e)=>{$ZodCUID2.init(t,e),ZodStringFormat.init(t,e)}),ZodULID=$constructor("ZodULID",(t,e)=>{$ZodULID.init(t,e),ZodStringFormat.init(t,e)}),ZodXID=$constructor("ZodXID",(t,e)=>{$ZodXID.init(t,e),ZodStringFormat.init(t,e)}),ZodKSUID=$constructor("ZodKSUID",(t,e)=>{$ZodKSUID.init(t,e),ZodStringFormat.init(t,e)}),ZodIPv4=$constructor("ZodIPv4",(t,e)=>{$ZodIPv4.init(t,e),ZodStringFormat.init(t,e)}),ZodIPv6=$constructor("ZodIPv6",(t,e)=>{$ZodIPv6.init(t,e),ZodStringFormat.init(t,e)}),ZodCIDRv4=$constructor("ZodCIDRv4",(t,e)=>{$ZodCIDRv4.init(t,e),ZodStringFormat.init(t,e)}),ZodCIDRv6=$constructor("ZodCIDRv6",(t,e)=>{$ZodCIDRv6.init(t,e),ZodStringFormat.init(t,e)}),ZodBase64=$constructor("ZodBase64",(t,e)=>{$ZodBase64.init(t,e),ZodStringFormat.init(t,e)}),ZodBase64URL=$constructor("ZodBase64URL",(t,e)=>{$ZodBase64URL.init(t,e),ZodStringFormat.init(t,e)}),ZodE164=$constructor("ZodE164",(t,e)=>{$ZodE164.init(t,e),ZodStringFormat.init(t,e)}),ZodJWT=$constructor("ZodJWT",(t,e)=>{$ZodJWT.init(t,e),ZodStringFormat.init(t,e)}),ZodNumber=$constructor("ZodNumber",(t,e)=>{$ZodNumber.init(t,e),ZodType.init(t,e),t.gt=(r,o)=>t.check(_gt(r,o)),t.gte=(r,o)=>t.check(_gte(r,o)),t.min=(r,o)=>t.check(_gte(r,o)),t.lt=(r,o)=>t.check(_lt(r,o)),t.lte=(r,o)=>t.check(_lte(r,o)),t.max=(r,o)=>t.check(_lte(r,o)),t.int=r=>t.check(int(r)),t.safe=r=>t.check(int(r)),t.positive=r=>t.check(_gt(0,r)),t.nonnegative=r=>t.check(_gte(0,r)),t.negative=r=>t.check(_lt(0,r)),t.nonpositive=r=>t.check(_lte(0,r)),t.multipleOf=(r,o)=>t.check(_multipleOf(r,o)),t.step=(r,o)=>t.check(_multipleOf(r,o)),t.finite=()=>t;const a=t._zod.bag;t.minValue=Math.max(a.minimum??Number.NEGATIVE_INFINITY,a.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(a.maximum??Number.POSITIVE_INFINITY,a.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(a.format??"").includes("int")||Number.isSafeInteger(a.multipleOf??.5),t.isFinite=!0,t.format=a.format??null});function number(t){return _number(ZodNumber,t)}const ZodNumberFormat=$constructor("ZodNumberFormat",(t,e)=>{$ZodNumberFormat.init(t,e),ZodNumber.init(t,e)});function int(t){return _int(ZodNumberFormat,t)}const ZodUnknown=$constructor("ZodUnknown",(t,e)=>{$ZodUnknown.init(t,e),ZodType.init(t,e)});function unknown(){return _unknown(ZodUnknown)}const ZodNever=$constructor("ZodNever",(t,e)=>{$ZodNever.init(t,e),ZodType.init(t,e)});function never(t){return _never(ZodNever,t)}const ZodArray=$constructor("ZodArray",(t,e)=>{$ZodArray.init(t,e),ZodType.init(t,e),t.element=e.element,t.min=(a,r)=>t.check(_minLength(a,r)),t.nonempty=a=>t.check(_minLength(1,a)),t.max=(a,r)=>t.check(_maxLength(a,r)),t.length=(a,r)=>t.check(_length(a,r)),t.unwrap=()=>t.element});function array(t,e){return _array(ZodArray,t,e)}const ZodObject=$constructor("ZodObject",(t,e)=>{$ZodObjectJIT.init(t,e),ZodType.init(t,e),defineLazy(t,"shape",()=>e.shape),t.keyof=()=>_enum(Object.keys(t._zod.def.shape)),t.catchall=a=>t.clone({...t._zod.def,catchall:a}),t.passthrough=()=>t.clone({...t._zod.def,catchall:unknown()}),t.loose=()=>t.clone({...t._zod.def,catchall:unknown()}),t.strict=()=>t.clone({...t._zod.def,catchall:never()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=a=>extend(t,a),t.safeExtend=a=>safeExtend(t,a),t.merge=a=>merge(t,a),t.pick=a=>pick(t,a),t.omit=a=>omit(t,a),t.partial=(...a)=>partial(ZodOptional,t,a[0]),t.required=(...a)=>required(ZodNonOptional,t,a[0])});function object(t,e){const a={type:"object",shape:t??{},...normalizeParams(e)};return new ZodObject(a)}const ZodUnion=$constructor("ZodUnion",(t,e)=>{$ZodUnion.init(t,e),ZodType.init(t,e),t.options=e.options});function union(t,e){return new ZodUnion({type:"union",options:t,...normalizeParams(e)})}const ZodIntersection=$constructor("ZodIntersection",(t,e)=>{$ZodIntersection.init(t,e),ZodType.init(t,e)});function intersection(t,e){return new ZodIntersection({type:"intersection",left:t,right:e})}const ZodTuple=$constructor("ZodTuple",(t,e)=>{$ZodTuple.init(t,e),ZodType.init(t,e),t.rest=a=>t.clone({...t._zod.def,rest:a})});function tuple(t,e,a){const r=e instanceof $ZodType,o=r?a:e,s=r?e:null;return new ZodTuple({type:"tuple",items:t,rest:s,...normalizeParams(o)})}const ZodRecord=$constructor("ZodRecord",(t,e)=>{$ZodRecord.init(t,e),ZodType.init(t,e),t.keyType=e.keyType,t.valueType=e.valueType});function record$1(t,e,a){return new ZodRecord({type:"record",keyType:t,valueType:e,...normalizeParams(a)})}const ZodEnum=$constructor("ZodEnum",(t,e)=>{$ZodEnum.init(t,e),ZodType.init(t,e),t.enum=e.entries,t.options=Object.values(e.entries);const a=new Set(Object.keys(e.entries));t.extract=(r,o)=>{const s={};for(const l of r)if(a.has(l))s[l]=e.entries[l];else throw new Error(`Key ${l} not found in enum`);return new ZodEnum({...e,checks:[],...normalizeParams(o),entries:s})},t.exclude=(r,o)=>{const s={...e.entries};for(const l of r)if(a.has(l))delete s[l];else throw new Error(`Key ${l} not found in enum`);return new ZodEnum({...e,checks:[],...normalizeParams(o),entries:s})}});function _enum(t,e){const a=Array.isArray(t)?Object.fromEntries(t.map(r=>[r,r])):t;return new ZodEnum({type:"enum",entries:a,...normalizeParams(e)})}const ZodLiteral=$constructor("ZodLiteral",(t,e)=>{$ZodLiteral.init(t,e),ZodType.init(t,e),t.values=new Set(e.values),Object.defineProperty(t,"value",{get(){if(e.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return e.values[0]}})});function literal(t,e){return new ZodLiteral({type:"literal",values:Array.isArray(t)?t:[t],...normalizeParams(e)})}const ZodTransform=$constructor("ZodTransform",(t,e)=>{$ZodTransform.init(t,e),ZodType.init(t,e),t._zod.parse=(a,r)=>{if(r.direction==="backward")throw new $ZodEncodeError(t.constructor.name);a.addIssue=s=>{if(typeof s=="string")a.issues.push(issue(s,a.value,e));else{const l=s;l.fatal&&(l.continue=!1),l.code??(l.code="custom"),l.input??(l.input=a.value),l.inst??(l.inst=t),a.issues.push(issue(l))}};const o=e.transform(a.value,a);return o instanceof Promise?o.then(s=>(a.value=s,a)):(a.value=o,a)}});function transform(t){return new ZodTransform({type:"transform",transform:t})}const ZodOptional=$constructor("ZodOptional",(t,e)=>{$ZodOptional.init(t,e),ZodType.init(t,e),t.unwrap=()=>t._zod.def.innerType});function optional(t){return new ZodOptional({type:"optional",innerType:t})}const ZodNullable=$constructor("ZodNullable",(t,e)=>{$ZodNullable.init(t,e),ZodType.init(t,e),t.unwrap=()=>t._zod.def.innerType});function nullable(t){return new ZodNullable({type:"nullable",innerType:t})}const ZodDefault=$constructor("ZodDefault",(t,e)=>{$ZodDefault.init(t,e),ZodType.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function _default(t,e){return new ZodDefault({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():shallowClone(e)}})}const ZodPrefault=$constructor("ZodPrefault",(t,e)=>{$ZodPrefault.init(t,e),ZodType.init(t,e),t.unwrap=()=>t._zod.def.innerType});function prefault(t,e){return new ZodPrefault({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():shallowClone(e)}})}const ZodNonOptional=$constructor("ZodNonOptional",(t,e)=>{$ZodNonOptional.init(t,e),ZodType.init(t,e),t.unwrap=()=>t._zod.def.innerType});function nonoptional(t,e){return new ZodNonOptional({type:"nonoptional",innerType:t,...normalizeParams(e)})}const ZodCatch=$constructor("ZodCatch",(t,e)=>{$ZodCatch.init(t,e),ZodType.init(t,e),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function _catch(t,e){return new ZodCatch({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const ZodPipe=$constructor("ZodPipe",(t,e)=>{$ZodPipe.init(t,e),ZodType.init(t,e),t.in=e.in,t.out=e.out});function pipe(t,e){return new ZodPipe({type:"pipe",in:t,out:e})}const ZodReadonly=$constructor("ZodReadonly",(t,e)=>{$ZodReadonly.init(t,e),ZodType.init(t,e),t.unwrap=()=>t._zod.def.innerType});function readonly(t){return new ZodReadonly({type:"readonly",innerType:t})}const ZodCustom=$constructor("ZodCustom",(t,e)=>{$ZodCustom.init(t,e),ZodType.init(t,e)});function refine(t,e={}){return _refine(ZodCustom,t,e)}function superRefine(t){return _superRefine(t)}const hexString=string().regex(/^[0-9a-fA-F]*$/,"Must be hex string"),hexString64=string().regex(/^[0-9a-fA-F]{64}$/,"Must be 64-char hex"),TxfMerkleStepSchema=object({data:string(),path:string()}),TxfMerkleTreePathSchema=object({root:string(),steps:array(TxfMerkleStepSchema)}),TxfAuthenticatorSchema=object({algorithm:string(),publicKey:hexString,signature:hexString,stateHash:string()}),TxfInclusionProofSchema=object({authenticator:TxfAuthenticatorSchema,merkleTreePath:TxfMerkleTreePathSchema,transactionHash:string(),unicityCertificate:string()}),TxfGenesisDataSchema=object({tokenId:hexString64,tokenType:hexString64,coinData:array(tuple([string(),string()])),tokenData:string(),salt:hexString64,recipient:string(),recipientDataHash:string().nullable(),reason:string().nullable()}),TxfGenesisSchema=object({data:TxfGenesisDataSchema,inclusionProof:TxfInclusionProofSchema}),TxfStateSchema=object({data:string(),predicate:string()}),TxfTransactionSchema=object({previousStateHash:string(),newStateHash:string(),predicate:string(),inclusionProof:TxfInclusionProofSchema.nullable(),data:record$1(string(),unknown()).optional()}),TxfIntegritySchema=object({genesisDataJSONHash:string()}),TxfTokenSchema=object({version:literal("2.0"),genesis:TxfGenesisSchema,state:TxfStateSchema,transactions:array(TxfTransactionSchema),nametags:array(string()),_integrity:TxfIntegritySchema}),TxfMetaSchema=object({version:number().int().nonnegative(),timestamp:number(),address:string(),ipnsName:string(),formatVersion:literal("2.0"),lastCid:string().optional()}),NametagDataSchema=object({name:string(),tokenId:string(),registeredAt:number().optional()}).passthrough();object({_meta:TxfMetaSchema,_nametag:NametagDataSchema.optional()}).catchall(union([TxfTokenSchema,unknown()]));const ServicesContext=reactExports.createContext(void 0),useServices=()=>{const t=reactExports.useContext(ServicesContext);if(!t)throw new Error("useServices must be used within ServicesProvider");return t},KEYS$1={IDENTITY:["wallet","identity"],TOKENS:["wallet","tokens"],PRICES:["market","prices"],REGISTRY:["market","registry"],AGGREGATED:["wallet","aggregated"],NAMETAG:["wallet","nametag"]},walletRepo$1=WalletRepository.getInstance(),registryService$1=RegistryService.getInstance(),useWallet=()=>{const t=useQueryClient(),{identityManager:e,nostrService:a}=useServices(),r=NametagService.getInstance(e);reactExports.useEffect(()=>{const z=()=>{t.refetchQueries({queryKey:KEYS$1.TOKENS}),t.refetchQueries({queryKey:KEYS$1.AGGREGATED})};return window.addEventListener("wallet-updated",z),()=>window.removeEventListener("wallet-updated",z)},[t]),reactExports.useEffect(()=>{},[e]);const o=useQuery({queryKey:KEYS$1.IDENTITY,queryFn:async()=>await e.getCurrentIdentity(),staleTime:5e3}),s=useQuery({queryKey:[...KEYS$1.NAMETAG,o.data?.address],queryFn:()=>{const z=o.data;if(!z?.address)return null;const V=walletRepo$1.getWallet();return(!V||V.address!==z.address)&&(walletRepo$1.loadWalletForAddress(z.address)||walletRepo$1.createWallet(z.address)),r.getActiveNametag()},enabled:!!o.data?.address}),l=async z=>await r.isNametagAvailable(z),c=useQuery({queryKey:KEYS$1.REGISTRY,queryFn:async()=>(await registryService$1.ensureInitialized(),!0),staleTime:1/0}),u=useQuery({queryKey:KEYS$1.PRICES,queryFn:ApiService.fetchPrices,refetchInterval:6e4,staleTime:3e4}),h=useQuery({queryKey:[...KEYS$1.TOKENS,o.data?.address],queryFn:async()=>{const z=o.data;if(!z?.address)return[];const V=walletRepo$1.getWallet();(!V||V.address!==z.address)&&(walletRepo$1.loadWalletForAddress(z.address)||walletRepo$1.createWallet(z.address));const Z=walletRepo$1.getWallet();return!Z||Z.address!==z.address?(console.warn(`Wallet address mismatch after load: wallet=${Z?.address}, identity=${z.address}`),[]):walletRepo$1.getTokens()},enabled:!!o.data?.address}),f=useQuery({queryKey:[...KEYS$1.AGGREGATED,h.dataUpdatedAt],queryFn:async()=>{await registryService$1.ensureInitialized();const z=h.data||[],V=u.data||{},Z={};return z.forEach(W=>{if(W.status===TokenStatus.BURNED||W.status===TokenStatus.TRANSFERRED)return;const te=W.coinId||W.id;Z[te]||(Z[te]=[]),Z[te].push(W)}),Object.keys(Z).map(W=>{const te=Z[W],G=te[0],D=registryService$1.getCoinDefinition(W);let M=BigInt(0);te.forEach(I=>{I.amount&&(M+=BigInt(I.amount))});const v=D?.symbol||G.symbol||"UNK",S=D?.name||G.name||"Unknown Token",N=v.toLowerCase()==="btc"?"bitcoin":v.toLowerCase()==="eth"?"ethereum":v.toLowerCase()==="sol"?"solana":"tether",R=D?.decimals||0,k=V[N],j=D?registryService$1.getIconUrl(D):G.iconUrl;return new AggregatedAsset({coinId:W,symbol:v,name:S,totalAmount:M.toString(),decimals:R,tokenCount:te.length,iconUrl:j,priceUsd:k?.priceUsd||0,priceEur:k?.priceEur||0,change24h:k?.change24h||0})}).sort((W,te)=>{const G=W.priceUsd*W.getAmountAsDecimal();return te.priceUsd*te.getAmountAsDecimal()-G})},enabled:!!c.data&&!!h.data&&!!u.data}),m=useMutation({mutationFn:async()=>{const z=await e.generateNewIdentity();return walletRepo$1.createWallet(z.address),z},onSuccess:async()=>{await t.removeQueries({queryKey:KEYS$1.IDENTITY}),await t.removeQueries({queryKey:KEYS$1.TOKENS}),await t.removeQueries({queryKey:KEYS$1.NAMETAG}),await t.removeQueries({queryKey:KEYS$1.AGGREGATED}),await t.invalidateQueries({queryKey:KEYS$1.IDENTITY})}}),g=useMutation({mutationFn:async z=>{const V=await e.deriveIdentityFromMnemonic(z);return walletRepo$1.createWallet(V.address),V},onSuccess:()=>{t.invalidateQueries({queryKey:["wallet"]})}}),b=useMutation({mutationFn:async z=>{const V=await r.mintNametagAndPublish(z);if(V.status==="error")throw new Error(V.message);return V},onSuccess:()=>{t.invalidateQueries({queryKey:["wallet"]})}}),w=useMutation({mutationFn:async z=>{const{recipientNametag:V,token:Z}=z;console.log(`Starting transfer of ${Z.symbol} to ${V}`);const J=await e.getCurrentIdentity();if(!J)throw new Error("Wallet locked or missing");const W=Buffer.from(J.privateKey,"hex"),te=await a.queryPubkeyByNametag(V);if(!te)throw new Error(`Recipient ${V} not found on Nostr`);const G=await ProxyAddress.fromNameTag(V);if(!Z.jsonData)throw new Error("Token data missing");const D=await Token.fromJSON(Z.jsonData),M=await SigningService.createFromSecret(W),v=window.crypto.getRandomValues(Buffer.alloc(32)),S=await TransferCommitment.create(D,G,v,null,null,M),N=ServiceProvider.stateTransitionClient,R=await N.submitTransferCommitment(S);if(R.status!=="SUCCESS")throw new Error(`Transfer failed: ${R.status}`);const k=await waitInclusionProof(ServiceProvider.getRootTrustBase(),N,S),j=S.toTransaction(k),I=JSON.stringify({sourceToken:D.toJSON(),transferTx:j.toJSON()});if(!await a.sendTokenTransfer(te,I))throw new Error("Failed to send p2p message via Nostr");return walletRepo$1.removeToken(Z.id),!0},onSuccess:()=>{t.invalidateQueries({queryKey:KEYS$1.TOKENS}),t.invalidateQueries({queryKey:KEYS$1.AGGREGATED})}}),E=useMutation({mutationFn:async z=>{const V=BigInt(z.amount),{recipientNametag:Z}=z;console.log(` Starting SMART SEND: ${z.amount} of ${z.coinId} to ${Z}`);const J=await e.getCurrentIdentity();if(!J)throw new Error("Wallet locked");const W=Buffer.from(J.privateKey,"hex"),te=await SigningService.createFromSecret(W),G=await a.queryPubkeyByNametag(Z);if(!G)throw new Error(`Recipient @${Z} not found on Nostr`);const D=await TokenId.fromNameTag(Z),M=await ProxyAddress.fromTokenId(D),v=new TokenSplitCalculator,S=walletRepo$1.getTokens(),N=await v.calculateOptimalSplit(S,V,z.coinId);if(!N)throw new Error("Insufficient funds or no suitable tokens found");console.log(" Transfer Plan:",{direct:N.tokensToTransferDirectly.length,split:N.requiresSplit?"YES":"NO",splitAmount:N.splitAmount?.toString(),remainder:N.remainderAmount?.toString()});for(const R of N.tokensToTransferDirectly)console.log(` Sending whole token ${R.uiToken.id.slice(0,8)}...`),await C(R.sdkToken,R.uiToken.id,M,G,te,a,Z);if(N.requiresSplit){console.log(" Executing split...");const k=await new TokenSplitExecutor().executeSplitPlan(N,M,te,j=>walletRepo$1.removeToken(j,void 0,!0));if(N.splitAmount){const j=registryService$1.getCoinDefinition(z.coinId),I=j&&registryService$1.getIconUrl(j)||void 0;walletRepo$1.addSentTransaction(N.splitAmount.toString(),z.coinId,j?.symbol||"UNK",I,Z)}for(let j=0;j<k.tokensForRecipient.length;j++){const I=k.tokensForRecipient[j],A=k.recipientTransferTxs[j],$=JSON.stringify(I.toJSON()),L=JSON.stringify(A.toJSON()),Y=JSON.stringify({sourceToken:$,transferTx:L});console.log(" Sending split token via Nostr..."),await a.sendTokenTransfer(G,Y,void 0,void 0,z.eventId)}for(const j of k.tokensKeptBySender)B(j,z.coinId)}return!0},onSuccess:()=>{setTimeout(()=>{t.invalidateQueries({queryKey:KEYS$1.TOKENS}),t.invalidateQueries({queryKey:KEYS$1.AGGREGATED})},200)}}),C=async(z,V,Z,J,W,te,G)=>{const D=Buffer.alloc(32);window.crypto.getRandomValues(D);const M=await TransferCommitment.create(z,Z,D,null,null,W),v=ServiceProvider.stateTransitionClient,S=await v.submitTransferCommitment(M);if(S.status!=="SUCCESS")throw new Error(`Direct transfer failed: ${S.status}`);const N=await waitInclusionProof(ServiceProvider.getRootTrustBase(),v,M),R=M.toTransaction(N),k=JSON.stringify(z.toJSON()),j=JSON.stringify(R.toJSON()),I=JSON.stringify({sourceToken:k,transferTx:j});await te.sendTokenTransfer(J,I),walletRepo$1.removeToken(V,G)},B=(z,V)=>{let Z="0";const W=z.coins;if(W){const M=W.coins;let v=null;const S=M[0];Array.isArray(S)&&S.length===2&&(v=S[1]),Array.isArray(v)?Z=v[1]?.toString()||"0":v&&(Z=v.toString())}const te=registryService$1.getCoinDefinition(V),G=te?registryService$1.getIconUrl(te):void 0,D=new Token$1({id:v4(),name:te?.symbol||"Change Token",symbol:te?.symbol||"UNK",type:"Fungible",jsonData:JSON.stringify(z.toJSON()),status:TokenStatus.CONFIRMED,amount:Z,coinId:V,iconUrl:G||void 0,timestamp:Date.now()});console.log(` Saving change token: ${Z} ${te?.symbol}`),walletRepo$1.addToken(D,!0)},O=async()=>{const z=await e.getCurrentIdentity();return z?.mnemonic?z.mnemonic.split(" "):null},P=async()=>e.getL1Address(),q=()=>e.getUnifiedKeyManager();return{identity:o.data,isLoadingIdentity:o.isLoading,l1Address:o.data?.l1Address||null,nametag:s.data,isLoadingNametag:s.isLoading,assets:f.data||[],isLoadingAssets:f.isLoading,tokens:h.data||[],createWallet:m.mutateAsync,restoreWallet:g.mutateAsync,mintNametag:b.mutateAsync,sentToken:w.mutateAsync,sendAmount:E.mutateAsync,isSending:E.isPending||w.isPending,getSeedPhrase:O,getL1Address:P,getUnifiedKeyManager:q,checkNametagAvailability:l}},STORAGE_PREFIX="wallet_";function saveWalletToStorage(t,e){localStorage.setItem(STORAGE_PREFIX+t,JSON.stringify(e))}function loadWalletFromStorage(t){const e=localStorage.getItem(STORAGE_PREFIX+t);return e?JSON.parse(e):null}function generateAddress(t){const e=t.addresses.length,a=t.isImportedAlphaWallet&&t.chainCode?generateHDAddressBIP32(t.masterPrivateKey,t.chainCode,e):generateAddressFromMasterKey(t.masterPrivateKey,e);return t.addresses.push(a),saveWalletToStorage("main",t),a}function bytesToHex$1(t){return Array.from(t).map(e=>e.toString(16).padStart(2,"0")).join("")}function addressToScriptHash(t){const e=decodeBech32(t);if(!e)throw new Error("Invalid bech32 address: "+t);const a="0014"+bytesToHex$1(e.data);return CryptoJS.SHA256(CryptoJS.enc.Hex.parse(a)).toString().match(/../g).reverse().join("")}const DEFAULT_ENDPOINT="wss://fulcrum.unicity.network:50004";let ws=null,isConnected=!1,isConnecting=!1,requestId=0;const pending={},blockSubscribers=[],connectionCallbacks=[];function isWebSocketConnected(){return isConnected&&ws!==null&&ws.readyState===WebSocket.OPEN}function waitForConnection(){return isWebSocketConnected()?Promise.resolve():new Promise(t=>{connectionCallbacks.push(t)})}function connect(t=DEFAULT_ENDPOINT){return isConnected?Promise.resolve():isConnecting?new Promise(e=>{const a=setInterval(()=>{isConnected&&(clearInterval(a),e())},50)}):(isConnecting=!0,new Promise(e=>{ws=new WebSocket(t),ws.onopen=()=>{console.log("[L1] WebSocket connected:",t),isConnected=!0,isConnecting=!1,e(),connectionCallbacks.forEach(a=>a()),connectionCallbacks.length=0},ws.onclose=()=>{console.warn("[L1] WebSocket closed. Reconnecting..."),isConnected=!1,setTimeout(()=>connect(t),2e3)},ws.onerror=a=>{console.error("[L1] WebSocket error:",a)},ws.onmessage=a=>handleMessage(a)}))}function handleMessage(t){const e=JSON.parse(t.data);if(e.id&&pending[e.id]&&(e.error?pending[e.id].reject(e.error):pending[e.id].resolve(e.result),delete pending[e.id]),e.method==="blockchain.headers.subscribe"){const a=e.params[0];blockSubscribers.forEach(r=>r(a))}}function rpc(t,e=[]){return new Promise((a,r)=>{if(!ws||ws.readyState!==WebSocket.OPEN)return r("WebSocket not connected (OPEN)");const o=++requestId;pending[o]={resolve:a,reject:r},ws.send(JSON.stringify({jsonrpc:"2.0",id:o,method:t,params:e}))})}async function getUtxo(t){const e=addressToScriptHash(t),a=await rpc("blockchain.scripthash.listunspent",[e]);return Array.isArray(a)?a.map(r=>({tx_hash:r.tx_hash,tx_pos:r.tx_pos,value:r.value,height:r.height,address:t})):(console.warn("listunspent returned non-array:",a),[])}async function getBalance(t){const e=addressToScriptHash(t),a=await rpc("blockchain.scripthash.get_balance",[e]),r=a.confirmed||0,o=a.unconfirmed||0;return(r+o)/1e8}async function broadcast(t){return await rpc("blockchain.transaction.broadcast",[t])}async function subscribeBlocks(t){await waitForConnection(),blockSubscribers.push(t);const e=await rpc("blockchain.headers.subscribe",[]);return e&&t(e),()=>{const a=blockSubscribers.indexOf(t);a>-1&&blockSubscribers.splice(a,1)}}async function getTransactionHistory(t){const e=addressToScriptHash(t),a=await rpc("blockchain.scripthash.get_history",[e]);return Array.isArray(a)?a:(console.warn("get_history returned non-array:",a),[])}async function getTransaction(t){return await rpc("blockchain.transaction.get",[t,!0])}async function getCurrentBlockHeight(){try{return(await rpc("blockchain.headers.subscribe",[]))?.height||0}catch(t){return console.error("Error getting current block height:",t),0}}const VESTING_THRESHOLD=28e4;let currentBlockHeight=null;class VestingClassifier{memoryCache=new Map;dbName="SphereVestingCacheV5";storeName="vestingCache";db=null;async initDB(){return new Promise((e,a)=>{const r=indexedDB.open(this.dbName,1);r.onupgradeneeded=o=>{const s=o.target.result;s.objectStoreNames.contains(this.storeName)||s.createObjectStore(this.storeName,{keyPath:"txHash"})},r.onsuccess=o=>{this.db=o.target.result,e()},r.onerror=()=>a(r.error)})}isCoinbaseTransaction(e){if(e.vin&&e.vin.length===1){const a=e.vin[0];if(a.coinbase||!a.txid&&a.coinbase!==void 0||a.txid==="0000000000000000000000000000000000000000000000000000000000000000")return!0}return!1}async loadFromDB(e){return this.db?new Promise(a=>{const s=this.db.transaction(this.storeName,"readonly").objectStore(this.storeName).get(e);s.onsuccess=()=>{s.result?a({blockHeight:s.result.blockHeight,isCoinbase:s.result.isCoinbase,inputTxId:s.result.inputTxId}):a(null)},s.onerror=()=>a(null)}):null}async saveToDB(e,a){if(this.db)return new Promise(r=>{const o=this.db.transaction(this.storeName,"readwrite");o.objectStore(this.storeName).put({txHash:e,...a}),o.oncomplete=()=>r(),o.onerror=()=>r()})}async traceToOrigin(e){let a=e,r=0;const o=1e4;for(;r<o;){r++;const s=this.memoryCache.get(a);if(s){if(s.isCoinbase){if(s.blockHeight!==null&&s.blockHeight!==void 0)return{coinbaseHeight:s.blockHeight}}else if(s.inputTxId){a=s.inputTxId;continue}}const l=await this.loadFromDB(a);if(l){if(this.memoryCache.set(a,l),l.isCoinbase){if(l.blockHeight!==null&&l.blockHeight!==void 0)return{coinbaseHeight:l.blockHeight}}else if(l.inputTxId){a=l.inputTxId;continue}}const c=await getTransaction(a);if(!c||!c.txid)return{coinbaseHeight:null,error:`Failed to fetch tx ${a}`};const u=this.isCoinbaseTransaction(c);let h=null;c.confirmations&&currentBlockHeight!==null&&currentBlockHeight!==void 0&&(h=currentBlockHeight-c.confirmations+1);let f=null;!u&&c.vin&&c.vin.length>0&&c.vin[0].txid&&(f=c.vin[0].txid);const m={blockHeight:h,isCoinbase:u,inputTxId:f};if(this.memoryCache.set(a,m),await this.saveToDB(a,m),u)return console.log(`Traced to coinbase at block ${h}, isVested: ${h!==null&&h<=VESTING_THRESHOLD}`),{coinbaseHeight:h};if(!f)return{coinbaseHeight:null,error:"Could not find input transaction"};a=f}return{coinbaseHeight:null,error:"Max iterations exceeded"}}async classifyUtxo(e){const a=e.tx_hash||e.txid;if(!a)return{isVested:!1,coinbaseHeight:null,error:"No transaction hash"};try{const r=await this.traceToOrigin(a);return r.error||r.coinbaseHeight===null?{isVested:!1,coinbaseHeight:null,error:r.error||"Could not trace to origin"}:{isVested:r.coinbaseHeight<=VESTING_THRESHOLD,coinbaseHeight:r.coinbaseHeight}}catch(r){return{isVested:!1,coinbaseHeight:null,error:r instanceof Error?r.message:String(r)}}}async classifyUtxos(e,a){currentBlockHeight=await getCurrentBlockHeight(),console.log(`VestingClassifier: blockHeight=${currentBlockHeight}, threshold=${VESTING_THRESHOLD}, utxos=${e.length}`),this.memoryCache.clear();const r=[],o=[],s=[];for(let l=0;l<e.length;l++){const c=e[l],u=await this.classifyUtxo(c);u.error?(s.push({utxo:c,error:u.error}),o.push({...c,vestingStatus:"error",coinbaseHeight:null})):u.isVested?r.push({...c,vestingStatus:"vested",coinbaseHeight:u.coinbaseHeight}):o.push({...c,vestingStatus:"unvested",coinbaseHeight:u.coinbaseHeight}),a&&a(l+1,e.length),l%5===0&&await new Promise(h=>setTimeout(h,0))}return console.log(`VestingClassifier: ${r.length} vested, ${o.length} unvested, ${s.length} errors`),{vested:r,unvested:o,errors:s}}clearCaches(){this.memoryCache.clear(),this.db&&this.db.transaction(this.storeName,"readwrite").objectStore(this.storeName).clear()}}const vestingClassifier=new VestingClassifier;class VestingStateManager{currentMode="all";addressCache=new Map;classificationInProgress=!1;setMode(e){if(!["all","vested","unvested"].includes(e))throw new Error(`Invalid vesting mode: ${e}`);this.currentMode=e}getMode(){return this.currentMode}async classifyAddressUtxos(e,a,r){if(!this.classificationInProgress){this.classificationInProgress=!0;try{await vestingClassifier.initDB();const o=await vestingClassifier.classifyUtxos(a,r),s=o.vested.reduce((c,u)=>c+BigInt(u.value),0n),l=o.unvested.reduce((c,u)=>c+BigInt(u.value),0n);this.addressCache.set(e,{classifiedUtxos:{vested:o.vested,unvested:o.unvested,all:[...o.vested,...o.unvested]},vestingBalances:{vested:s,unvested:l,all:s+l}}),o.errors.length>0&&(console.warn(`Vesting classification errors: ${o.errors.length}`),o.errors.slice(0,5).forEach(c=>{const u=c.utxo.tx_hash||c.utxo.txid;console.warn(`  ${u}: ${c.error}`)}))}finally{this.classificationInProgress=!1}}}getFilteredUtxos(e){const a=this.addressCache.get(e);if(!a)return[];switch(this.currentMode){case"vested":return a.classifiedUtxos.vested;case"unvested":return a.classifiedUtxos.unvested;default:return a.classifiedUtxos.all}}getBalance(e){const a=this.addressCache.get(e);return a?a.vestingBalances[this.currentMode]:0n}getAllBalances(e){const a=this.addressCache.get(e);return a?a.vestingBalances:{vested:0n,unvested:0n,all:0n}}hasClassifiedData(e){return this.addressCache.has(e)}isClassifying(){return this.classificationInProgress}clearAddressCache(e){this.addressCache.delete(e)}clearAllCaches(){this.addressCache.clear(),vestingClassifier.clearCaches()}}const vestingState=new VestingStateManager,ec$3=new elliptic.ec("secp256k1"),FEE=1e4,DUST=546,SAT=1e8;function createScriptPubKey(t){if(!t||typeof t!="string")throw new Error("Invalid address: must be a string");const e=decodeBech32(t);if(!e)throw new Error("Invalid bech32 address: "+t);return"0014"+Array.from(e.data).map(r=>r.toString(16).padStart(2,"0")).join("")}function createSignatureHash(t,e){let a="";a+="02000000";const r=t.input.tx_hash.match(/../g).reverse().join(""),o=("00000000"+t.input.tx_pos.toString(16)).slice(-8).match(/../g).reverse().join(""),s=r+o,l=CryptoJS.SHA256(CryptoJS.SHA256(CryptoJS.enc.Hex.parse(s))).toString();a+=l;const c="feffffff",u=CryptoJS.SHA256(CryptoJS.SHA256(CryptoJS.enc.Hex.parse(c))).toString();a+=u,a+=t.input.tx_hash.match(/../g).reverse().join(""),a+=("00000000"+t.input.tx_pos.toString(16)).slice(-8).match(/../g).reverse().join("");const f="1976a914"+CryptoJS.RIPEMD160(CryptoJS.SHA256(CryptoJS.enc.Hex.parse(e))).toString()+"88ac";a+=f;const m=t.input.value.toString(16).padStart(16,"0");a+=m.match(/../g).reverse().join(""),a+=c;let g="";for(const C of t.outputs){const B=C.value.toString(16).padStart(16,"0");g+=B.match(/../g).reverse().join("");const O=createScriptPubKey(C.address),P=(O.length/2).toString(16).padStart(2,"0");g+=P,g+=O}const b=CryptoJS.SHA256(CryptoJS.SHA256(CryptoJS.enc.Hex.parse(g))).toString();a+=b,a+="00000000",a+="01000000";const w=CryptoJS.SHA256(CryptoJS.enc.Hex.parse(a));return CryptoJS.SHA256(w).toString()}function createWitnessData(t,e,a){const r=createSignatureHash(t,a),o=e.sign(r),s=ec$3.curve.n.shrn(1);o.s.cmp(s)>0&&(o.s=ec$3.curve.n.sub(o.s));const l=o.toDER("hex")+"01";let c="";c+="02";const u=(l.length/2).toString(16).padStart(2,"0");c+=u,c+=l;const h=(a.length/2).toString(16).padStart(2,"0");return c+=h,c+=a,c}function buildSegWitTransaction(t,e,a){let r="";r+="02000000",r+="00",r+="01",r+="01";const s=t.input.tx_hash.match(/../g).reverse().join("");r+=s;const l=t.input.tx_pos;r+=("00000000"+l.toString(16)).slice(-8).match(/../g).reverse().join(""),r+="00",r+="feffffff";const c=t.outputs.length;r+=("0"+c.toString(16)).slice(-2);for(const w of t.outputs){const E=w.value.toString(16).padStart(16,"0");r+=E.match(/../g).reverse().join("");const C=createScriptPubKey(w.address),B=(C.length/2).toString(16).padStart(2,"0");r+=B,r+=C}const u=createWitnessData(t,e,a);r+=u,r+="00000000";let h="";h+="02000000",h+="01";const f=t.input.tx_hash.match(/../g).reverse().join("");h+=f,h+=("00000000"+t.input.tx_pos.toString(16)).slice(-8).match(/../g).reverse().join(""),h+="00",h+="feffffff",h+=("0"+t.outputs.length.toString(16)).slice(-2);for(const w of t.outputs){const C=("0000000000000000"+w.value.toString(16)).slice(-16).match(/../g).reverse().join("");h+=C;const B=createScriptPubKey(w.address),O=("0"+(B.length/2).toString(16)).slice(-2);h+=O,h+=B}h+="00000000";const m=CryptoJS.SHA256(CryptoJS.enc.Hex.parse(h)),b=CryptoJS.SHA256(m).toString().match(/../g).reverse().join("");return{hex:r,txid:b}}function createAndSignTransaction(t,e){const a=e.input.address,r=t.addresses.find(h=>h.address===a);let o;if(r?.privateKey?o=r.privateKey:t.childPrivateKey?o=t.childPrivateKey:o=t.masterPrivateKey,!o)throw new Error("No private key available for address: "+a);const s=ec$3.keyFromPrivate(o,"hex"),l=s.getPublic(!0,"hex"),c={input:{tx_hash:e.input.txid,tx_pos:e.input.vout,value:e.input.value},outputs:e.outputs},u=buildSegWitTransaction(c,s,l);return{raw:u.hex,txid:u.txid}}function collectUtxosForAmount(t,e,a,r){const o=[...t].sort((u,h)=>u.value-h.value),s=o.reduce((u,h)=>u+h.value,0);if(s<e)return{success:!1,transactions:[],error:`Insufficient funds. Available: ${s/SAT} ALPHA, Required: ${e/SAT} ALPHA`};const l=[];let c=e;for(const u of o){if(c<=0)break;const h=u.value;let f=0,m=0;if(h>=c+FEE)f=c,m=h-c-FEE,c=0;else if(f=h-FEE,c-=f,f<=0)continue;const g={input:{txid:u.txid??u.tx_hash??"",vout:u.vout??u.tx_pos??0,value:u.value,address:u.address??r},outputs:[{address:a,value:f}],fee:FEE,changeAmount:m,changeAddress:r};m>DUST&&g.outputs.push({value:m,address:r}),l.push(g)}return c>0?{success:!1,transactions:[],error:`Unable to collect enough UTXOs. Short by ${c/SAT} ALPHA after fees.`}:{success:!0,transactions:l}}async function createTransactionPlan(t,e,a,r){if(!decodeBech32(e))throw new Error("Invalid recipient address");const o=r||t.addresses[0].address,s=Math.floor(a*SAT);let l;const c=vestingState.getMode();if(vestingState.hasClassifiedData(o)?(l=vestingState.getFilteredUtxos(o),console.log(`Using ${l.length} vesting-filtered UTXOs (mode: ${c})`)):(l=await getUtxo(o),console.log(`Using ${l.length} UTXOs (vesting not classified yet)`)),!Array.isArray(l)||l.length===0){const u=c!=="all"?` (${c} mode)`:"";throw new Error(`No UTXOs available for address${u}: `+o)}return collectUtxosForAmount(l,s,e,o)}function hexToWIF(t){const a="80"+t,r=CryptoJS.SHA256(CryptoJS.enc.Hex.parse(a)).toString(),s=CryptoJS.SHA256(CryptoJS.enc.Hex.parse(r)).toString().substring(0,8),l=a+s;return base58Encode(l)}function base58Encode(t){const e="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";let a=BigInt("0x"+t),r="";for(;a>0n;){const o=Number(a%58n);a=a/58n,r=e[o]+r}for(let o=0;o<t.length&&t.substring(o,o+2)==="00";o+=2)r="1"+r;return r}const ec$2=new elliptic.ec("secp256k1");function hexToBytes(t){const e=new Uint8Array(t.length/2);for(let a=0;a<t.length;a+=2)e[a/2]=parseInt(t.substr(a,2),16);return e}function bytesToHex(t){return Array.from(t).map(e=>e.toString(16).padStart(2,"0")).join("")}function readBinaryFile(t){return new Promise((e,a)=>{const r=new FileReader;r.onload=o=>e(new Uint8Array(o.target?.result)),r.onerror=a,r.readAsArrayBuffer(t)})}function findPattern(t,e,a=0){for(let r=a;r<=t.length-e.length;r++){let o=!0;for(let s=0;s<e.length;s++)if(t[r+s]!==e[s]){o=!1;break}if(o)return r}return-1}function isValidPrivateKey(t){try{const e=BigInt("0xFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141"),a=BigInt("0x"+t);return a>0n&&a<e}catch{return!1}}function base58Decode(t){const e="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",a={};for(let l=0;l<e.length;l++)a[e[l]]=l;let r=0;for(let l=0;l<t.length&&t[l]==="1";l++)r++;let o=BigInt(0);for(let l=0;l<t.length;l++){const c=t[l];if(!(c in a))throw new Error("Invalid base58 character: "+c);o=o*BigInt(58)+BigInt(a[c])}const s=[];for(;o>0;)s.unshift(Number(o%BigInt(256))),o=o/BigInt(256);for(let l=0;l<r;l++)s.unshift(0);return new Uint8Array(s)}async function restoreFromWalletDat(t){try{const e=await readBinaryFile(t);if(!new TextDecoder().decode(e.slice(0,16)).startsWith("SQLite format 3"))return{success:!1,wallet:{},error:"Invalid wallet.dat file - not an SQLite database"};const r={descriptorKeys:[],hdChain:null,legacyKeys:[],isDescriptorWallet:!1},o=new TextEncoder().encode("walletdescriptorkey");let s=0;for(;(s=findPattern(e,o,s))!==-1;){r.isDescriptorWallet=!0;for(let z=s+o.length;z<Math.min(s+o.length+200,e.length-40);z++)if(e[z]===211&&e[z+1]===2&&e[z+2]===1&&e[z+3]===1&&e[z+4]===4&&e[z+5]===32){const V=e.slice(z+6,z+38),Z=bytesToHex(V);if(isValidPrivateKey(Z)){r.descriptorKeys.push(Z);break}}s++}const l=new TextEncoder().encode("hdchain");s=findPattern(e,l),s!==-1&&(r.hdChain=!0);const c=new TextEncoder().encode("mkey"),u=findPattern(e,c,0)!==-1;u&&r.descriptorKeys.length===0&&console.warn("Wallet appears to be encrypted - legacy key extraction may fail");const h=new TextEncoder().encode("key");for(s=0;(s=findPattern(e,h,s))!==-1;){const z=new Uint8Array([4,32]);for(let V=s;V<Math.min(s+200,e.length-34);V++)if(e[V]===z[0]&&e[V+1]===z[1]){const Z=e.slice(V+2,V+34),J=bytesToHex(Z);if(isValidPrivateKey(J)){r.legacyKeys.push(J);break}}s++}let f=null;const m=new TextEncoder().encode("wpkh(["),g=findPattern(e,m,0);if(g!==-1){const z=e.slice(g,Math.min(g+200,e.length));let V="";for(let J=0;J<z.length;J++){const W=z[J];if(W>=32&&W<=126&&(V+=String.fromCharCode(W),V.includes("*))")))break}console.log("Found descriptor:",V);const Z=V.match(/\[[\da-f]+\/(\d+'\/\d+'\/\d+')\]/);Z&&(f=Z[1],console.log("Extracted descriptor path:",f))}let b=null;const w=new TextEncoder().encode("xpub"),E="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";let C=0,B=!1;for(;!B&&C<e.length;){const z=findPattern(e,w,C);if(z===-1)break;let V="xpub",Z=z+4;for(;Z<e.length&&V.length<120;){const J=String.fromCharCode(e[Z]);if(E.includes(J))V+=J,Z++;else break}if(V.length>100)try{const J=base58Decode(V);if(J[4]===0){const te=J.slice(13,45);b=bytesToHex(te),console.log("Extracted master chain code from depth 0 xpub:",b),B=!0}}catch(J){console.error("Failed to decode xpub:",J)}C=z+4}b||console.warn("Could not extract chain code from wallet.dat - BIP32 derivation will not work correctly");let O=null,P="";if(r.isDescriptorWallet&&r.descriptorKeys.length>0)O=r.descriptorKeys[0],P="descriptor wallet",console.log(`Found ${r.descriptorKeys.length} key(s) in descriptor wallet`);else if(r.legacyKeys.length>0)O=r.legacyKeys[0],P=r.hdChain?"HD wallet":"legacy wallet",console.log(`Found ${r.legacyKeys.length} key(s) in ${P}`);else return u?{success:!1,wallet:{},error:"This wallet.dat file is encrypted. Encrypted wallet.dat files are not currently supported. Please decrypt the wallet in Bitcoin Core first, or export as text file."}:{success:!1,wallet:{},error:"No valid private keys found in wallet.dat file. The wallet might use an unsupported format."};return{success:!0,wallet:{masterPrivateKey:O,addresses:[],isEncrypted:!1,encryptedMasterKey:"",childPrivateKey:null,isImportedAlphaWallet:!0,masterChainCode:b,chainCode:b||void 0,descriptorPath:f||"84'/1'/0'"},message:`Wallet imported successfully from Alpha ${P}! Note: The first address generated may differ from your original wallet's addresses due to derivation path differences.`}}catch(e){return console.error("Error importing wallet.dat:",e),{success:!1,wallet:{},error:"Error importing wallet.dat: "+(e instanceof Error?e.message:String(e))}}}async function importWallet(t,e){try{if(t.name.endsWith(".dat"))return restoreFromWalletDat(t);const a=await t.text();let r="",o=!1,s="";if(a.includes("ENCRYPTED MASTER KEY")){o=!0,console.log("Loading encrypted wallet...");const w=a.match(/ENCRYPTED MASTER KEY \(password protected\):\s*([^\n]+)/);if(w&&w[1]){if(s=w[1].trim(),console.log("Found encrypted master key"),!e)return{success:!1,wallet:{},error:"This is an encrypted wallet. Please enter the decryption password."};try{console.log("Attempting to decrypt with provided password...");const C=CryptoJS.PBKDF2(e,"alpha_wallet_salt",{keySize:256/32,iterations:1e5,hasher:CryptoJS.algo.SHA1}).toString();if(r=CryptoJS.AES.decrypt(s,C).toString(CryptoJS.enc.Utf8),!r)return{success:!1,wallet:{},error:"Failed to decrypt the wallet. The password may be incorrect."};console.log("Successfully decrypted master key:",r.substring(0,8)+"...")}catch(E){return{success:!1,wallet:{},error:"Error decrypting wallet: "+(E instanceof Error?E.message:String(E))}}}else return{success:!1,wallet:{},error:"Could not find the encrypted master key in the backup file."}}else{const w=a.match(/MASTER PRIVATE KEY \(keep secret!\):\s*([^\n]+)/);if(w&&w[1])r=w[1].trim();else return{success:!1,wallet:{},error:"Could not find the master private key in the backup file."}}let l=null,c=!1;const u=a.match(/MASTER CHAIN CODE \(for (?:BIP32 HD|Alpha) wallet compatibility\):\s*([^\n]+)/);u&&u[1]&&(l=u[1].trim(),c=!0),(a.includes("WALLET TYPE: BIP32 hierarchical deterministic wallet")||a.includes("WALLET TYPE: Alpha descriptor wallet"))&&(c=!0);let h=null;const f=a.match(/DESCRIPTOR PATH:\s*([^\n]+)/);f&&f[1]&&(h=f[1].trim());const m=[],g=a.match(/YOUR ADDRESSES:\s*\n([\s\S]*?)(?:\n\nGenerated on:|$)/);if(g&&g[1]){const w=g[1].trim().split(`
`);for(const E of w){const C=E.match(/Address\s+(\d+):\s+(\w+)\s*(?:\(Path:\s*([^)]*)\))?/);if(C){const B=parseInt(C[1])-1,O=C[2],P=C[3]==="undefined"?null:C[3]||null;m.push({index:B,address:O,path:P,createdAt:new Date().toISOString()})}}}const b={masterPrivateKey:r,addresses:m,isEncrypted:o,encryptedMasterKey:s,childPrivateKey:null,isImportedAlphaWallet:c,masterChainCode:l,chainCode:l||void 0,descriptorPath:h||(c?"84'/1'/0'":null)};if(!c&&m.length>0){const w=CryptoJS.enc.Hex.parse(b.masterPrivateKey),E=0;for(let C=0;C<b.addresses.length;C++){const B=b.addresses[C];let O=!1;for(let P=0;P<100;P++){const q=`m/44'/0'/${P}'`,V=CryptoJS.HmacSHA512(w,CryptoJS.enc.Utf8.parse(q)).toString().substring(0,64),J=ec$2.keyFromPrivate(V).getPublic(!0,"hex"),W=CryptoJS.SHA256(CryptoJS.enc.Hex.parse(J)),te=CryptoJS.RIPEMD160(W);if(createBech32("alpha",E,hexToBytes(te.toString()))===B.address){console.log(` Found correct derivation for address ${C+1} at index ${P}!`),B.privateKey=V,B.publicKey=J,B.path=q,B.index=P,O=!0,C===0&&(b.childPrivateKey=V);break}}if(!O)return console.error("WALLET INTEGRITY CHECK FAILED"),console.error("Address from file:",B.address),console.error("Recovery scan (0-99) failed to find matching key"),{success:!1,wallet:{},error:`Wallet integrity check failed: Address ${B.address} does not match any key derived from the master private key. This wallet file may be corrupted or from a different wallet.`}}}if(c&&l&&m.length>0)for(let E=0;E<b.addresses.length;E++){const C=b.addresses[E];if(C.path&&C.path.startsWith("m/"))try{const B=deriveKeyAtPath(r,l,C.path),P=ec$2.keyFromPrivate(B.privateKey).getPublic(!0,"hex"),q=CryptoJS.SHA256(CryptoJS.enc.Hex.parse(P)),z=CryptoJS.RIPEMD160(q),V=createBech32("alpha",0,hexToBytes(z.toString()));if(V===C.address){console.log(` BIP32: Recovered key for address ${E+1} at path ${C.path}`),C.privateKey=B.privateKey,C.publicKey=P;const Z=C.path.split("/");if(Z.length>=5){const J=parseInt(Z[Z.length-2],10);C.isChange=J===1}}else return console.error(`BIP32: Address mismatch at path ${C.path}`),console.error(`  Expected: ${C.address}`),console.error(`  Derived:  ${V}`),{success:!1,wallet:{},error:`Wallet integrity check failed: Address ${C.address} does not match derived address at path ${C.path}`}}catch(B){return console.error(`Error deriving key at path ${C.path}:`,B),{success:!1,wallet:{},error:`Failed to derive key at path ${C.path}: ${B instanceof Error?B.message:String(B)}`}}else{console.warn(`BIP32: Address ${E+1} has no path info, scanning...`);const B=h||"84'/1'/0'";let O=!1;for(const P of[0,1]){if(O)break;for(let q=0;q<100;q++){const z=`m/${B}/${P}/${q}`;try{const V=deriveKeyAtPath(r,l,z),J=ec$2.keyFromPrivate(V.privateKey).getPublic(!0,"hex"),W=CryptoJS.SHA256(CryptoJS.enc.Hex.parse(J)),te=CryptoJS.RIPEMD160(W);if(createBech32("alpha",0,hexToBytes(te.toString()))===C.address){console.log(` BIP32: Found address ${E+1} at ${z}`),C.privateKey=V.privateKey,C.publicKey=J,C.path=z,C.index=q,C.isChange=P===1,O=!0;break}}catch{}}}if(!O)return console.error(`BIP32: Could not find derivation for address ${C.address}`),{success:!1,wallet:{},error:`Could not find BIP32 derivation path for address ${C.address}`}}}return{success:!0,wallet:b,message:"Wallet restored successfully!"}}catch(a){return console.error("Error restoring wallet:",a),{success:!1,wallet:{},error:a instanceof Error?a.message:String(a)}}}function exportWallet(t,e={}){const{password:a}=e;if(!t||!t.masterPrivateKey)throw new Error("Invalid wallet - missing master private key");let r;if(a){const s=CryptoJS.PBKDF2(a,"alpha_wallet_salt",{keySize:8,iterations:1e5,hasher:CryptoJS.algo.SHA1}).toString(),l=CryptoJS.AES.encrypt(t.masterPrivateKey,s).toString();let c;t.isImportedAlphaWallet?c=t.addresses.map((h,f)=>{const m=h.path||`m/84'/1'/0'/${h.isChange?1:0}/${h.index}`;return`Address ${f+1}: ${h.address} (Path: ${m})`}).join(`
`):c=t.addresses.map(h=>`Address ${h.index+1}: ${h.address} (Path: ${h.path})`).join(`
`);let u=`ENCRYPTED MASTER KEY (password protected):
${l}`;t.isImportedAlphaWallet&&t.masterChainCode?u+=`

MASTER CHAIN CODE (for BIP32 HD wallet compatibility):
${t.masterChainCode}

WALLET TYPE: BIP32 hierarchical deterministic wallet`:u+=`

WALLET TYPE: Standard wallet (HMAC-based)`,r=`UNICITY WALLET DETAILS
===========================

${u}

ENCRYPTION STATUS: Encrypted with password
To use this key, you will need the password you set in the wallet.

YOUR ADDRESSES:
${c}

Generated on: ${new Date().toLocaleString()}

WARNING: Keep your master private key safe and secure.
Anyone with your master private key can access all your funds.`}else{const o=hexToWIF(t.masterPrivateKey);let s,l;t.isImportedAlphaWallet&&t.masterChainCode?(s=`MASTER PRIVATE KEY (keep secret!):
${t.masterPrivateKey}

MASTER PRIVATE KEY IN WIF FORMAT (for importprivkey command):
${o}

MASTER CHAIN CODE (for BIP32 HD wallet compatibility):
${t.masterChainCode}

DESCRIPTOR PATH: ${t.descriptorPath||"84'/1'/0'"}

WALLET TYPE: BIP32 hierarchical deterministic wallet

ENCRYPTION STATUS: Not encrypted
This key is in plaintext and not protected. Anyone with this file can access your wallet.`,l=t.addresses.map((c,u)=>{const h=c.path||`m/84'/1'/0'/${c.isChange?1:0}/${c.index}`;return`Address ${u+1}: ${c.address} (Path: ${h})`}).join(`
`)):(l=t.addresses.map(c=>`Address ${c.index+1}: ${c.address} (Path: ${c.path})`).join(`
`),s=`MASTER PRIVATE KEY (keep secret!):
${t.masterPrivateKey}

MASTER PRIVATE KEY IN WIF FORMAT (for importprivkey command):
${o}

WALLET TYPE: Standard wallet (HMAC-based)

ENCRYPTION STATUS: Not encrypted
This key is in plaintext and not protected. Anyone with this file can access your wallet.`),r=`UNICITY WALLET DETAILS
===========================

${s}

YOUR ADDRESSES:
${l}

Generated on: ${new Date().toLocaleString()}

WARNING: Keep your master private key safe and secure.
Anyone with your master private key can access all your funds.`}return r}function downloadWalletFile(t,e="alpha_wallet_backup.txt"){const a=new Blob([t],{type:"text/plain"}),r=URL.createObjectURL(a),o=document.createElement("a");o.href=r;const s=e.endsWith(".txt")?e:e+".txt";o.download=s,document.body.appendChild(o),o.click(),setTimeout(()=>{document.body.removeChild(o),URL.revokeObjectURL(r)},100)}const ec$1=new elliptic.ec("secp256k1");function generateAddressAtPath(t,e,a){const r=deriveKeyAtPath(t,e,a),s=ec$1.keyFromPrivate(r.privateKey).getPublic(!0,"hex"),l=CryptoJS.SHA256(CryptoJS.enc.Hex.parse(s)).toString(),c=CryptoJS.RIPEMD160(CryptoJS.enc.Hex.parse(l)).toString(),u=Uint8Array.from(c.match(/../g).map(f=>parseInt(f,16)));return{address:createBech32("alpha",0,u),privateKey:r.privateKey,publicKey:s,path:a}}async function scanWalletAddresses(t,e=200,a,r){const o=[];let s=0;if(!t.masterPrivateKey)throw new Error("No master private key in wallet");const l=t.masterChainCode||t.chainCode;if(!l)throw new Error("No chain code found - cannot derive BIP32 addresses");const c=["m/84'/1'/0'","m/84'/0'/0'","m/44'/1'/0'","m/44'/0'/0'"],u=[0,1];for(let h=0;h<e&&!r?.();h++){for(const f of c)for(const m of u)try{const g=`${f}/${m}/${h}`,b=generateAddressAtPath(t.masterPrivateKey,l,g),w=await getBalance(b.address);w>0&&(o.push({index:h,address:b.address,path:b.path,balance:w,privateKey:b.privateKey,publicKey:b.publicKey,isChange:m===1}),s+=w)}catch(g){console.warn(`Error deriving address at ${f}/${m}/${h}:`,g)}a?.({current:h+1,total:e,found:o.length,totalBalance:s,foundAddresses:[...o]}),h%10===0&&h>0&&await new Promise(f=>setTimeout(f,50))}return{addresses:o,totalBalance:s,scannedCount:Math.min(e,r?.()?0:e)}}function WalletScanModal({show:t,wallet:e,initialScanCount:a=100,onSelectAddress:r,onSelectAll:o,onCancel:s}){const[l,c]=reactExports.useState(!1),[u,h]=reactExports.useState({current:0,total:a,found:0,totalBalance:0,foundAddresses:[]}),[f,m]=reactExports.useState([]),[g,b]=reactExports.useState(new Set),[w,E]=reactExports.useState(a),C=reactExports.useRef(!1);reactExports.useEffect(()=>(t&&e&&(E(a),m([]),b(new Set),h({current:0,total:a,found:0,totalBalance:0,foundAddresses:[]}),C.current=!1,B(a)),()=>{C.current=!0}),[t,e,a]);const B=async J=>{if(!e)return;const W=J??w;c(!0),m([]),b(new Set),h({current:0,total:W,found:0,totalBalance:0,foundAddresses:[]}),C.current=!1;try{const te=await scanWalletAddresses(e,W,G=>{h(G),G.foundAddresses&&G.foundAddresses.length>0&&(m(G.foundAddresses),b(new Set(G.foundAddresses.map(D=>D.address))))},()=>C.current);m(te.addresses),b(new Set(te.addresses.map(G=>G.address)))}catch(te){console.error("Scan error:",te)}finally{c(!1)}},O=()=>{C.current=!0},P=()=>{C.current=!0,s()},q=J=>{b(W=>{const te=new Set(W);return te.has(J)?te.delete(J):te.add(J),te})},z=()=>{const J=f.filter(W=>g.has(W.address));J.length!==0&&(J.length>1&&o?o(J):r(J[0]))},V=f.filter(J=>g.has(J.address)).reduce((J,W)=>J+W.balance,0);if(!t)return null;const Z=u.total>0?u.current/u.total*100:0;return jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 dark:bg-black/80 backdrop-blur-sm flex items-center justify-center z-40 p-4",onClick:P,children:jsxRuntimeExports.jsxs(motion.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},transition:{type:"spring",duration:.4},className:"relative w-full max-w-md bg-white dark:bg-[#111] border border-neutral-200 dark:border-white/10 rounded-2xl shadow-2xl p-4 overflow-hidden max-h-[85vh] flex flex-col",onClick:J=>J.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[jsxRuntimeExports.jsx("div",{className:"w-9 h-9 bg-blue-500/10 rounded-full flex items-center justify-center shrink-0",children:jsxRuntimeExports.jsx(Search,{className:"w-4 h-4 text-blue-500"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-neutral-900 dark:text-white text-base font-bold",children:"Scanning Wallet"}),jsxRuntimeExports.jsx("p",{className:"text-neutral-500 dark:text-neutral-400 text-xs",children:l?"Searching for addresses with balances...":"Click addresses to select/deselect"})]})]}),jsxRuntimeExports.jsxs("div",{className:"mb-3",children:[jsxRuntimeExports.jsx("div",{className:"h-2 bg-neutral-200 dark:bg-neutral-800 rounded-full overflow-hidden",children:jsxRuntimeExports.jsx(motion.div,{className:"h-full bg-blue-500",initial:{width:0},animate:{width:`${Z}%`},transition:{duration:.3}})}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between mt-1 text-[11px] text-neutral-500 dark:text-neutral-400",children:[jsxRuntimeExports.jsx("span",{children:l?jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"w-3 h-3 animate-spin"}),"Found ",u.found]}):`Found ${f.length}  Selected ${g.size}`}),jsxRuntimeExports.jsxs("span",{children:[u.current,"/",u.total]})]}),g.size>0&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-center text-green-600 dark:text-green-400 font-medium",children:["Selected: ",V.toFixed(8)," ALPHA"]})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto min-h-[100px] max-h-[200px] border border-neutral-200 dark:border-neutral-700 rounded-lg mb-3",children:f.length===0?jsxRuntimeExports.jsx("div",{className:"h-full flex items-center justify-center text-neutral-400 dark:text-neutral-500 text-xs p-4",children:l?"Searching...":"No addresses found"}):jsxRuntimeExports.jsx("div",{className:"divide-y divide-neutral-200 dark:divide-neutral-700",children:f.map(J=>{const W=g.has(J.address);return jsxRuntimeExports.jsx("div",{onClick:()=>q(J.address),className:`p-2 cursor-pointer transition-colors ${W?"bg-blue-50 dark:bg-blue-900/20 hover:bg-blue-100 dark:hover:bg-blue-900/30":"hover:bg-neutral-100 dark:hover:bg-neutral-800/50"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[W?jsxRuntimeExports.jsx(SquareCheckBig,{className:"w-4 h-4 text-blue-500 shrink-0"}):jsxRuntimeExports.jsx(Square,{className:"w-4 h-4 text-neutral-400 shrink-0"}),jsxRuntimeExports.jsxs("div",{className:"min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5",children:[jsxRuntimeExports.jsx(Wallet$1,{className:"w-3 h-3 text-blue-500 shrink-0"}),jsxRuntimeExports.jsxs("span",{className:"text-neutral-900 dark:text-white font-medium text-xs",children:[J.isChange?"Change":"Address"," #",J.index]}),J.isChange&&jsxRuntimeExports.jsx("span",{className:"px-1 py-0.5 bg-amber-500/20 text-amber-600 dark:text-amber-400 text-[9px] font-bold rounded",children:"CHANGE"})]}),jsxRuntimeExports.jsx("div",{className:"text-[10px] text-neutral-400 dark:text-neutral-500 font-mono truncate",children:J.address})]})]}),jsxRuntimeExports.jsxs("div",{className:"text-right shrink-0",children:[jsxRuntimeExports.jsx("div",{className:"text-green-600 dark:text-green-400 font-bold text-sm",children:J.balance.toFixed(8)}),jsxRuntimeExports.jsx("div",{className:"text-[10px] text-neutral-500",children:"ALPHA"})]})]})},J.address)})})}),jsxRuntimeExports.jsx("div",{className:"mb-3 p-2 bg-neutral-50 dark:bg-neutral-800/30 rounded-lg",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("label",{className:"text-xs text-neutral-600 dark:text-neutral-400",children:"Scan:"}),jsxRuntimeExports.jsx("input",{type:"number",value:w,onChange:J=>E(Math.max(1,parseInt(J.target.value)||10)),disabled:l,className:"w-20 px-2 py-1 bg-white dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700 rounded text-xs text-neutral-900 dark:text-white disabled:opacity-50",min:1}),!l&&jsxRuntimeExports.jsx("button",{onClick:()=>B(),className:"px-2 py-1 bg-blue-600 text-white text-xs rounded hover:bg-blue-500 transition-colors",children:"Rescan"})]})}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:P,className:"flex-1 py-1.5 bg-neutral-200 dark:bg-neutral-700 rounded-lg text-neutral-700 dark:text-white text-sm hover:bg-neutral-300 dark:hover:bg-neutral-600 transition-colors",children:"Cancel"}),l?jsxRuntimeExports.jsx("button",{onClick:O,className:"flex-1 py-1.5 bg-red-600 rounded-lg text-white text-sm hover:bg-red-500 transition-colors",children:"Stop Scan"}):g.size>0&&jsxRuntimeExports.jsxs("button",{onClick:z,className:"flex-1 py-1.5 bg-blue-600 rounded-lg text-white text-sm hover:bg-blue-500 transition-colors flex items-center justify-center gap-1",children:[jsxRuntimeExports.jsx(Check,{className:"w-3 h-3"}),"Load Selected (",g.size,")"]})]})]})})}function LoadPasswordModal({show:t,onConfirm:e,onCancel:a}){const[r,o]=reactExports.useState(""),[s,l]=reactExports.useState("");if(!t)return null;const c=()=>{if(l(""),!r){l("Please enter password");return}e(r),o(""),l("")},u=()=>{o(""),l(""),a()};return jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 dark:bg-black/80 backdrop-blur-sm flex items-center justify-center z-40 p-6",onClick:u,children:jsxRuntimeExports.jsxs(motion.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},transition:{type:"spring",duration:.4},className:"relative w-full max-w-md bg-white dark:bg-[#111] border border-neutral-200 dark:border-white/10 rounded-3xl shadow-2xl p-6 overflow-hidden",onClick:h=>h.stopPropagation(),children:[jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1},className:"flex flex-col items-center text-center mb-6",children:[jsxRuntimeExports.jsx(motion.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-12 h-12 bg-blue-500/10 rounded-full flex items-center justify-center mb-4",children:jsxRuntimeExports.jsx(Lock,{className:"w-6 h-6 text-blue-500"})}),jsxRuntimeExports.jsx("h3",{className:"text-neutral-900 dark:text-white text-xl font-bold mb-2",children:"Enter Password"}),jsxRuntimeExports.jsx("p",{className:"text-neutral-500 dark:text-neutral-400 text-sm",children:"This wallet is encrypted. Please enter your password to unlock it."})]}),jsxRuntimeExports.jsx("input",{placeholder:"Password",type:"password",value:r,onChange:h=>o(h.target.value),onKeyDown:h=>{h.key==="Enter"&&c()},className:"w-full mb-4 px-3 py-2 bg-neutral-100 dark:bg-neutral-800 rounded text-neutral-800 dark:text-neutral-200 placeholder-neutral-400 border border-neutral-200 dark:border-neutral-700 focus:border-blue-500 outline-none transition-colors"}),s&&jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 p-3 bg-red-500/10 border border-red-900/50 rounded-lg flex items-center gap-2",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"w-4 h-4 text-red-500 shrink-0"}),jsxRuntimeExports.jsx("span",{className:"text-red-400 text-sm",children:s})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx(motion.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:u,className:"flex-1 py-2 bg-neutral-200 dark:bg-neutral-700 rounded text-neutral-700 dark:text-white hover:bg-neutral-300 dark:hover:bg-neutral-600 transition-colors",children:"Cancel"}),jsxRuntimeExports.jsx(motion.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:c,className:"flex-1 py-2 bg-blue-600 rounded text-white hover:bg-blue-500 transition-colors",children:"Unlock"})]})]})})}const SESSION_KEY$2="user-pin-1234",identityManager=IdentityManager.getInstance(SESSION_KEY$2);function CreateWalletFlow(){const{identity:t,createWallet:e,restoreWallet:a,mintNametag:r,nametag:o,getUnifiedKeyManager:s,checkNametagAvailability:l}=useWallet(),[c,u]=reactExports.useState("start"),[h,f]=reactExports.useState(""),[m,g]=reactExports.useState(Array(12).fill("")),[b,w]=reactExports.useState(null),[E,C]=reactExports.useState(!1),[B,O]=reactExports.useState([]),[P,q]=reactExports.useState(0),[z,V]=reactExports.useState(!1),[Z,J]=reactExports.useState(!1),[W,te]=reactExports.useState(!1),[G,D]=reactExports.useState(null),[M,v]=reactExports.useState(null),[S,N]=reactExports.useState(10),[R,k]=reactExports.useState(null),[j,I]=reactExports.useState(10),[A,$]=reactExports.useState(!0),[L,Y]=reactExports.useState(!1);reactExports.useEffect(()=>{isWebSocketConnected()||connect().catch(Ce=>{console.warn("Failed to connect to L1 WebSocket:",Ce)})},[]);const le=Ce=>Ce?Ce.slice(0,12)+"..."+Ce.slice(-8):"",re=async Ce=>{const Te=s(),ye=[];for(let Fe=0;Fe<Ce;Fe++){const qe=Te.deriveAddress(Fe),oe=await identityManager.deriveIdentityFromUnifiedWallet(Fe),Q=WalletRepository.checkNametagForAddress(oe.address);ye.push({index:Fe,l1Address:qe.l1Address,l3Address:oe.address,path:qe.path,hasNametag:!!Q,existingNametag:Q?.name})}return ye},U=async()=>{C(!0);try{const Ce=B.length,ye=s().deriveAddress(Ce),Fe=await identityManager.deriveIdentityFromUnifiedWallet(Ce),qe=WalletRepository.checkNametagForAddress(Fe.address);O([...B,{index:Ce,l1Address:ye.l1Address,l3Address:Fe.address,path:ye.path,hasNametag:!!qe,existingNametag:qe?.name}])}catch(Ce){w("Failed to derive new address: "+Ce.message)}finally{C(!1)}},K=async()=>{C(!0),w(null);try{const Ce=B[P];identityManager.setSelectedAddressIndex(Ce.index),Ce.hasNametag?(console.log(" Address has existing nametag, proceeding to main app"),window.location.reload()):u("nametag")}catch(Ce){w(Ce.message||"Failed to select address")}finally{C(!1)}},se=async()=>{C(!0),w(null);try{const Ce=loadWalletFromStorage("main");if(Ce&&Ce.addresses&&Ce.addresses.length>0){console.log(` Loading ${Ce.addresses.length} addresses from L1 wallet storage`);const Te=[];for(let ye=0;ye<Ce.addresses.length;ye++){const Fe=Ce.addresses[ye];if(!Fe.privateKey){console.warn(`Skipping address ${Fe.address} - no private key`);continue}const qe=await identityManager.deriveIdentityFromUnifiedWallet(ye),oe=WalletRepository.checkNametagForAddress(qe.address);console.log(` Address ${ye}: L1=${Fe.address.slice(0,20)}... L3=${qe.address.slice(0,20)}... hasNametag=${!!oe} nametag=${oe?.name}`),Te.push({index:ye,l1Address:Fe.address,l3Address:qe.address,path:Fe.path||`m/44'/0'/0'/0/${Fe.index}`,hasNametag:!!oe,existingNametag:oe?.name})}O(Te),q(0)}else{console.log(" No L1 wallet addresses found, deriving from UnifiedKeyManager");const Te=await re(1);O(Te),q(0)}u("addressSelection")}catch(Ce){w("Failed to derive addresses: "+Ce.message)}finally{C(!1)}},he=async()=>{if(!E){C(!0),w(null);try{await e(),u("nametag")}catch(Ce){w("Failed to generate keys: "+Ce.message)}finally{C(!1)}}},ue=async()=>{if(h.trim()){C(!0),w(null);try{const Ce=h.trim().replace("@","");if(!await l(Ce)){w(`${Ce} already exists.`);return}u("processing"),await r(Ce),window.location.reload()}catch(Ce){w(Ce.message||"Minting failed"),u("nametag")}finally{C(!1)}}},ee=async()=>{const Ce=m.map(ye=>ye.trim().toLowerCase()),Te=Ce.findIndex(ye=>ye==="");if(Te!==-1){w(`Please fill in word ${Te+1}`);return}C(!0),w(null);try{const ye=Ce.join(" ");await a(ye),await se()}catch(ye){w(ye.message||"Invalid recovery phrase"),C(!1)}},fe=async(Ce,Te)=>{C(!0),w(null);try{if(localStorage.removeItem("wallet_main"),Ce.name.endsWith(".dat")){const oe=await importWallet(Ce);if(!oe.success||!oe.wallet)throw new Error(oe.error||"Import failed");console.log(" .dat file imported, showing scan modal:",{hasWallet:!!oe.wallet,hasMasterKey:!!oe.wallet.masterPrivateKey,scanCount:Te||100}),D(oe.wallet),N(Te||100),J(!0),C(!1);return}const ye=await Ce.text();if(ye.includes("ENCRYPTED MASTER KEY")){v(Ce),N(Te||10),te(!0),C(!1);return}if((ye.includes("MASTER CHAIN CODE")||ye.includes("WALLET TYPE: BIP32")||ye.includes("WALLET TYPE: Alpha descriptor"))&&ye.includes("MASTER PRIVATE KEY")){const oe=await importWallet(Ce);if(!oe.success||!oe.wallet)throw new Error(oe.error||"Import failed");console.log(" BIP32 .txt file imported, showing scan modal:",{hasWallet:!!oe.wallet,hasMasterKey:!!oe.wallet.masterPrivateKey,hasChainCode:!!oe.wallet.masterChainCode,scanCount:Te||10}),D(oe.wallet),N(Te||10),J(!0),C(!1);return}let qe=!1;try{const oe=JSON.parse(ye);let Q=null;oe.mnemonic?Q=oe.mnemonic:oe.seed?Q=oe.seed:oe.recoveryPhrase?Q=oe.recoveryPhrase:oe.words&&Array.isArray(oe.words)&&(Q=oe.words.join(" ")),Q&&(await a(Q),qe=!0)}catch{}if(!qe){const oe=ye.trim(),Q=oe.split(/\s+/);(Q.length===12||Q.length===24)&&Q.every(pe=>/^[a-z]+$/.test(pe.toLowerCase()))&&(await a(oe),qe=!0)}if(!qe&&ye.includes("MASTER PRIVATE KEY")){const oe=await importWallet(Ce);if(!oe.success||!oe.wallet)throw new Error(oe.error||"Import failed");console.log(" Standard wallet imported with addresses:",{addresses:oe.wallet.addresses.length,hasPrivateKeys:oe.wallet.addresses.every(ie=>ie.privateKey)}),await s().importFromFileContent(ye),oe.wallet.addresses.length>0&&saveWalletToStorage("main",oe.wallet),qe=!0}if(!qe)throw new Error("Could not import wallet from file");await se()}catch(ye){w(ye.message||"Failed to import wallet from file"),C(!1)}},ge=async Ce=>{if(G)try{C(!0),w(null),console.log(` Selected address #${Ce.index} with ${Ce.balance.toFixed(8)} ALPHA`);const Te={...G,addresses:[{index:Ce.index,address:Ce.address,privateKey:Ce.privateKey,publicKey:Ce.publicKey,path:Ce.path,createdAt:new Date().toISOString()}]};saveWalletToStorage("main",Te);const ye=s();G.masterPrivateKey&&G.masterChainCode?await ye.importWithMode(G.masterPrivateKey,G.masterChainCode,"bip32"):G.masterPrivateKey&&await ye.importWithMode(G.masterPrivateKey,null,"wif_hmac"),J(!1),D(null),await se()}catch(Te){w(Te.message||"Failed to import wallet"),C(!1)}},xe=async Ce=>{if(!(!G||Ce.length===0))try{C(!0),w(null);const Te={...G,addresses:Ce.map(qe=>({index:qe.index,address:qe.address,privateKey:qe.privateKey,publicKey:qe.publicKey,path:qe.path,createdAt:new Date().toISOString(),isChange:qe.isChange}))},ye=Ce.reduce((qe,oe)=>qe+oe.balance,0);console.log(` Loaded ${Ce.length} addresses with ${ye.toFixed(8)} ALPHA total`),saveWalletToStorage("main",Te);const Fe=s();G.masterPrivateKey&&G.masterChainCode?await Fe.importWithMode(G.masterPrivateKey,G.masterChainCode,"bip32"):G.masterPrivateKey&&await Fe.importWithMode(G.masterPrivateKey,null,"wif_hmac"),J(!1),D(null),await se()}catch(Te){w(Te.message||"Failed to import wallet"),C(!1)}},_e=()=>{J(!1),D(null)},Ie=async Ce=>{if(M)try{C(!0),w(null),te(!1);const Te=await importWallet(M,Ce);if(!Te.success||!Te.wallet)throw new Error(Te.error||"Import failed");if(v(null),Te.wallet.masterChainCode||Te.wallet.isImportedAlphaWallet)D(Te.wallet),J(!0),C(!1);else{console.log(" Standard encrypted wallet imported with addresses:",{addresses:Te.wallet.addresses.length,hasPrivateKeys:Te.wallet.addresses.every(Fe=>Fe.privateKey)});const ye=s();Te.wallet.masterPrivateKey&&Te.wallet.masterChainCode?await ye.importWithMode(Te.wallet.masterPrivateKey,Te.wallet.masterChainCode,"bip32"):Te.wallet.masterPrivateKey&&await ye.importWithMode(Te.wallet.masterPrivateKey,null,"wif_hmac"),Te.wallet.addresses.length>0&&saveWalletToStorage("main",Te.wallet),await se()}}catch(Te){w(Te.message||"Failed to decrypt wallet"),C(!1)}},De=async Ce=>{try{if(Ce.name.endsWith(".dat")){$(!0),I(10);return}const Te=await Ce.text(),ye=Te.includes("MASTER CHAIN CODE")||Te.includes("WALLET TYPE: BIP32")||Te.includes("WALLET TYPE: Alpha descriptor");$(ye),I(10)}catch(Te){console.error("Error checking file type:",Te),$(!0)}},$e=async Ce=>{k(Ce),await De(Ce)},Ue=Ce=>{Ce.preventDefault(),Y(!0)},Be=Ce=>{Ce.preventDefault(),Y(!1)},Ve=async Ce=>{Ce.preventDefault(),Y(!1);const Te=Ce.dataTransfer.files[0];Te&&(Te.name.endsWith(".txt")||Te.name.endsWith(".dat"))&&await $e(Te)},He=()=>{R&&fe(R,j)},Ae=()=>{u("start"),g(Array(12).fill("")),k(null),I(10),$(!0),Y(!1),w(null)};return jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center p-4 md:p-8 text-center relative",children:[jsxRuntimeExports.jsxs(AnimatePresence,{mode:"wait",children:[c==="start"&&jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.1},className:"relative z-10 w-full max-w-[280px] md:max-w-[340px]",children:[jsxRuntimeExports.jsxs(motion.div,{className:"relative w-16 h-16 md:w-20 md:h-20 mx-auto mb-6",whileHover:{scale:1.05},children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-linear-to-br from-orange-500 to-orange-600 rounded-2xl md:rounded-3xl blur-xl opacity-50"}),jsxRuntimeExports.jsx("div",{className:"relative w-full h-full rounded-2xl md:rounded-3xl bg-linear-to-br from-orange-500 to-orange-600 flex items-center justify-center shadow-2xl shadow-orange-500/30",children:jsxRuntimeExports.jsx(Wallet$1,{className:"w-8 h-8 md:w-10 md:h-10 text-white"})})]}),jsxRuntimeExports.jsx("h2",{className:"text-2xl md:text-3xl font-black text-neutral-900 dark:text-white mb-2 md:mb-3 tracking-tight",children:t&&!o?"Complete Setup":"No Wallet Found"}),jsxRuntimeExports.jsx("p",{className:"text-neutral-500 dark:text-neutral-400 text-xs md:text-sm mb-6 md:mb-8 mx-auto leading-relaxed",children:t&&!o?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["Your wallet is ready. Create a ",jsxRuntimeExports.jsx("span",{className:"text-orange-500 dark:text-orange-400 font-semibold",children:"Unicity ID"})," to complete setup."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["Create a new secure wallet to start using the ",jsxRuntimeExports.jsx("span",{className:"text-orange-500 dark:text-orange-400 font-semibold",children:"Unicity Network"})]})}),t&&!o&&jsxRuntimeExports.jsxs(motion.button,{onClick:()=>u("nametag"),disabled:E,whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.1},className:"relative w-full py-3 md:py-3.5 px-5 md:px-6 rounded-xl bg-linear-to-r from-emerald-500 to-emerald-600 text-white text-sm md:text-base font-bold shadow-xl shadow-emerald-500/30 flex items-center justify-center gap-2 md:gap-3 disabled:opacity-50 disabled:cursor-not-allowed overflow-hidden group mb-3",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-linear-to-r from-emerald-400 to-emerald-500 opacity-0 group-hover:opacity-100 transition-opacity"}),jsxRuntimeExports.jsxs("span",{className:"relative z-10 flex items-center gap-2 md:gap-3",children:[jsxRuntimeExports.jsx(ShieldCheck,{className:"w-4 h-4 md:w-5 md:h-5"}),"Continue Setup"]})]}),t&&!o&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 my-4",children:[jsxRuntimeExports.jsx("div",{className:"flex-1 h-px bg-neutral-200 dark:bg-neutral-700"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-neutral-400 dark:text-neutral-500",children:"or start fresh"}),jsxRuntimeExports.jsx("div",{className:"flex-1 h-px bg-neutral-200 dark:bg-neutral-700"})]}),jsxRuntimeExports.jsxs(motion.button,{onClick:he,disabled:E,whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.1},className:"relative w-full py-3 md:py-3.5 px-5 md:px-6 rounded-xl bg-linear-to-r from-orange-500 to-orange-600 text-white text-sm md:text-base font-bold shadow-xl shadow-orange-500/30 flex items-center justify-center gap-2 md:gap-3 disabled:opacity-50 disabled:cursor-not-allowed overflow-hidden group",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-linear-to-r from-orange-400 to-orange-500 opacity-0 group-hover:opacity-100 transition-opacity"}),jsxRuntimeExports.jsx("span",{className:"relative z-10 flex items-center gap-2 md:gap-3",children:E?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 md:w-5 md:h-5 animate-spin"}),"Creating..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["Create New Wallet",jsxRuntimeExports.jsx(ArrowRight,{className:"w-4 h-4 md:w-5 md:h-5"})]})})]}),jsxRuntimeExports.jsxs(motion.button,{onClick:()=>u("restoreMethod"),disabled:E,whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.1},className:"relative w-full py-3 md:py-3.5 px-5 md:px-6 rounded-xl bg-neutral-100 dark:bg-neutral-800/50 text-neutral-700 dark:text-neutral-300 text-sm md:text-base font-bold border-2 border-neutral-200 dark:border-neutral-700/50 flex items-center justify-center gap-2 md:gap-3 disabled:opacity-50 disabled:cursor-not-allowed mt-3 hover:bg-neutral-200 dark:hover:bg-neutral-700/50 transition-colors",children:[jsxRuntimeExports.jsx(KeyRound,{className:"w-4 h-4 md:w-5 md:h-5"}),"Restore Wallet"]}),b&&jsxRuntimeExports.jsx(motion.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-3 md:mt-4 text-red-500 dark:text-red-400 text-xs md:text-sm bg-red-500/10 border border-red-500/20 p-2 md:p-3 rounded-lg",children:b})]},"start"),c==="restore"&&jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},className:"relative z-10 w-full max-w-[400px] md:max-w-[480px]",children:[jsxRuntimeExports.jsxs(motion.div,{className:"relative w-16 h-16 md:w-20 md:h-20 mx-auto mb-6",whileHover:{scale:1.05},children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-blue-500/30 rounded-2xl md:rounded-3xl blur-xl"}),jsxRuntimeExports.jsx("div",{className:"relative w-full h-full rounded-2xl md:rounded-3xl bg-linear-to-br from-blue-500 to-blue-600 flex items-center justify-center shadow-2xl shadow-blue-500/30",children:jsxRuntimeExports.jsx(KeyRound,{className:"w-8 h-8 md:w-10 md:h-10 text-white"})})]}),jsxRuntimeExports.jsx("h2",{className:"text-2xl md:text-3xl font-black text-neutral-900 dark:text-white mb-2 md:mb-3 tracking-tight",children:"Restore Wallet"}),jsxRuntimeExports.jsx("p",{className:"text-neutral-500 dark:text-neutral-400 text-xs md:text-sm mb-6 md:mb-8 mx-auto leading-relaxed",children:"Enter your 12-word recovery phrase to restore your wallet"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-3 gap-2 md:gap-3 mb-6",children:Array.from({length:12}).map((Ce,Te)=>jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("span",{className:"absolute left-2 md:left-3 top-1/2 -translate-y-1/2 text-[10px] md:text-xs text-neutral-400 dark:text-neutral-600 font-medium z-10",children:[Te+1,"."]}),jsxRuntimeExports.jsx("input",{type:"text",value:m[Te],onChange:ye=>{const Fe=[...m];Fe[Te]=ye.target.value,g(Fe)},onKeyDown:ye=>{ye.key==="Enter"&&Te<11?ye.currentTarget.parentElement?.nextElementSibling?.querySelector("input")?.focus():ye.key==="Enter"&&Te===11&&ee()},placeholder:"word",className:"w-full bg-neutral-100 dark:bg-neutral-800/50 border border-neutral-200 dark:border-neutral-700/50 rounded-lg py-2 md:py-2.5 pl-7 md:pl-9 pr-2 md:pr-3 text-xs md:text-sm text-neutral-900 dark:text-white placeholder-neutral-400 dark:placeholder-neutral-600 focus:outline-none focus:border-blue-500 focus:bg-white dark:focus:bg-neutral-800 transition-all",autoFocus:Te===0})]},Te))}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsxs(motion.button,{onClick:()=>u("restoreMethod"),disabled:E,whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 py-3 md:py-3.5 px-5 md:px-6 rounded-xl bg-neutral-100 dark:bg-neutral-800/50 text-neutral-700 dark:text-neutral-300 text-sm md:text-base font-bold border-2 border-neutral-200 dark:border-neutral-700/50 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-neutral-200 dark:hover:bg-neutral-700/50 transition-colors",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 md:w-5 md:h-5"}),"Back"]}),jsxRuntimeExports.jsxs(motion.button,{onClick:ee,disabled:E||m.some(Ce=>!Ce.trim()),whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-2 relative py-3 md:py-3.5 px-5 md:px-6 rounded-xl bg-linear-to-r from-blue-500 to-blue-600 text-white text-sm md:text-base font-bold shadow-xl shadow-blue-500/30 flex items-center justify-center gap-2 md:gap-3 disabled:opacity-50 disabled:cursor-not-allowed overflow-hidden group",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-linear-to-r from-blue-400 to-blue-500 opacity-0 group-hover:opacity-100 transition-opacity"}),jsxRuntimeExports.jsx("span",{className:"relative z-10 flex items-center gap-2 md:gap-3",children:E?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 md:w-5 md:h-5 animate-spin"}),"Restoring..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["Restore",jsxRuntimeExports.jsx(ArrowRight,{className:"w-4 h-4 md:w-5 md:h-5"})]})})]})]}),b&&jsxRuntimeExports.jsx(motion.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-3 md:mt-4 text-red-500 dark:text-red-400 text-xs md:text-sm bg-red-500/10 border border-red-500/20 p-2 md:p-3 rounded-lg",children:b})]},"restore"),c==="addressSelection"&&jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},className:"relative z-10 w-full max-w-[320px] md:max-w-[400px]",children:[jsxRuntimeExports.jsxs(motion.div,{className:"relative w-16 h-16 md:w-20 md:h-20 mx-auto mb-6",whileHover:{scale:1.05},children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-purple-500/30 rounded-2xl md:rounded-3xl blur-xl"}),jsxRuntimeExports.jsx("div",{className:"relative w-full h-full rounded-2xl md:rounded-3xl bg-linear-to-br from-purple-500 to-purple-600 flex items-center justify-center shadow-2xl shadow-purple-500/30",children:jsxRuntimeExports.jsx(Wallet$1,{className:"w-8 h-8 md:w-10 md:h-10 text-white"})})]}),jsxRuntimeExports.jsx("h2",{className:"text-2xl md:text-3xl font-black text-neutral-900 dark:text-white mb-2 md:mb-3 tracking-tight",children:"Select Address"}),jsxRuntimeExports.jsxs("p",{className:"text-neutral-500 dark:text-neutral-400 text-xs md:text-sm mb-6 md:mb-8 mx-auto leading-relaxed",children:["Choose which address to use for your ",jsxRuntimeExports.jsx("span",{className:"text-purple-500 dark:text-purple-400 font-semibold",children:"Unicity identity"})]}),jsxRuntimeExports.jsxs("div",{className:"relative mb-4",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>V(!z),className:"w-full bg-neutral-100 dark:bg-neutral-800/50 border-2 border-neutral-200 dark:border-neutral-700/50 rounded-xl py-3 md:py-3.5 px-4 text-left flex items-center justify-between hover:border-purple-500/50 transition-all",children:[jsxRuntimeExports.jsx("div",{className:"flex-1 min-w-0",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("span",{className:"text-xs text-neutral-400 dark:text-neutral-500",children:["#",B[P]?.index??0]}),jsxRuntimeExports.jsx("span",{className:"text-sm md:text-base font-mono text-neutral-900 dark:text-white truncate",children:le(B[P]?.l1Address||"")}),B[P]?.hasNametag&&jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 text-xs font-medium",children:[jsxRuntimeExports.jsx(Check,{className:"w-3 h-3"}),B[P]?.existingNametag]})]})}),jsxRuntimeExports.jsx(motion.div,{animate:{rotate:z?180:0},transition:{duration:.2},children:jsxRuntimeExports.jsx(ChevronDown,{className:"w-5 h-5 text-neutral-400 dark:text-neutral-500"})})]}),jsxRuntimeExports.jsx(AnimatePresence,{children:z&&jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.15},className:"absolute top-full left-0 right-0 mt-2 bg-white dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700 rounded-xl shadow-xl overflow-hidden z-50",children:[jsxRuntimeExports.jsx("div",{className:"max-h-64 overflow-y-auto",children:B.map((Ce,Te)=>jsxRuntimeExports.jsxs("button",{onClick:()=>{q(Te),V(!1)},className:`w-full px-4 py-3 flex items-center gap-3 hover:bg-neutral-100 dark:hover:bg-neutral-700/50 transition-colors ${Te===P?"bg-purple-50 dark:bg-purple-900/20":""}`,children:[jsxRuntimeExports.jsxs("span",{className:"text-xs text-neutral-400 dark:text-neutral-500 w-6",children:["#",Ce.index]}),jsxRuntimeExports.jsx("span",{className:"flex-1 text-sm font-mono text-neutral-900 dark:text-white truncate text-left",children:le(Ce.l1Address)}),Ce.hasNametag&&jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-full bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 text-xs font-medium",children:[jsxRuntimeExports.jsx(Check,{className:"w-3 h-3"}),Ce.existingNametag]}),Te===P&&jsxRuntimeExports.jsx("div",{className:"w-2 h-2 rounded-full bg-purple-500"})]},Ce.l1Address))}),jsxRuntimeExports.jsxs("button",{onClick:U,disabled:E,className:"w-full px-4 py-3 flex items-center gap-3 border-t border-neutral-200 dark:border-neutral-700 hover:bg-neutral-100 dark:hover:bg-neutral-700/50 transition-colors text-purple-600 dark:text-purple-400 disabled:opacity-50",children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:"Derive New Address"}),E&&jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin ml-auto"})]})]})})]}),jsxRuntimeExports.jsxs("div",{className:"mb-6 p-3 bg-neutral-100 dark:bg-neutral-800/50 rounded-lg border border-neutral-200 dark:border-neutral-700/50",children:[jsxRuntimeExports.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400 mb-1",children:"L3 Unicity Address"}),jsxRuntimeExports.jsx("div",{className:"text-xs font-mono text-neutral-700 dark:text-neutral-300 break-all",children:B[P]?.l3Address||"..."})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsxs(motion.button,{onClick:Ae,disabled:E,whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 py-3 md:py-3.5 px-5 md:px-6 rounded-xl bg-neutral-100 dark:bg-neutral-800/50 text-neutral-700 dark:text-neutral-300 text-sm md:text-base font-bold border-2 border-neutral-200 dark:border-neutral-700/50 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-neutral-200 dark:hover:bg-neutral-700/50 transition-colors",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 md:w-5 md:h-5"}),"Back"]}),jsxRuntimeExports.jsxs(motion.button,{onClick:K,disabled:E||B.length===0,whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-2 relative py-3 md:py-3.5 px-5 md:px-6 rounded-xl bg-linear-to-r from-purple-500 to-purple-600 text-white text-sm md:text-base font-bold shadow-xl shadow-purple-500/30 flex items-center justify-center gap-2 md:gap-3 disabled:opacity-50 disabled:cursor-not-allowed overflow-hidden group",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-linear-to-r from-purple-400 to-purple-500 opacity-0 group-hover:opacity-100 transition-opacity"}),jsxRuntimeExports.jsx("span",{className:"relative z-10 flex items-center gap-2 md:gap-3",children:E?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 md:w-5 md:h-5 animate-spin"}),"Loading..."]}):B[P]?.hasNametag?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["Continue",jsxRuntimeExports.jsx(ArrowRight,{className:"w-4 h-4 md:w-5 md:h-5"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["Create ID",jsxRuntimeExports.jsx(ArrowRight,{className:"w-4 h-4 md:w-5 md:h-5"})]})})]})]}),B[P]?.hasNametag&&jsxRuntimeExports.jsx(motion.p,{initial:{opacity:0},animate:{opacity:1},className:"mt-4 text-xs text-emerald-600 dark:text-emerald-400 bg-emerald-500/10 border border-emerald-500/20 p-3 rounded-lg",children:"This address already has a Unicity ID. You can continue directly."}),b&&jsxRuntimeExports.jsx(motion.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-3 md:mt-4 text-red-500 dark:text-red-400 text-xs md:text-sm bg-red-500/10 border border-red-500/20 p-2 md:p-3 rounded-lg",children:b})]},"addressSelection"),c==="nametag"&&jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},className:"relative z-10 w-full max-w-[280px] md:max-w-[340px]",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:15},className:"relative w-16 h-16 md:w-18 md:h-18 mx-auto mb-5",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-emerald-500/30 rounded-full blur-xl"}),jsxRuntimeExports.jsx("div",{className:"relative w-full h-full rounded-full bg-neutral-100 dark:bg-neutral-800/80 border-2 border-emerald-500/50 flex items-center justify-center backdrop-blur-sm",children:jsxRuntimeExports.jsx(ShieldCheck,{className:"w-8 h-8 md:w-9 md:h-9 text-emerald-500 dark:text-emerald-400"})})]}),jsxRuntimeExports.jsx(motion.h2,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-xl md:text-2xl font-black text-neutral-900 dark:text-white mb-2 md:mb-3 tracking-tight",children:"Wallet Created!"}),jsxRuntimeExports.jsxs(motion.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-neutral-500 dark:text-neutral-400 text-xs md:text-sm mb-5 md:mb-6 mx-auto leading-relaxed",children:["Now, choose a unique ",jsxRuntimeExports.jsx("span",{className:"text-orange-500 dark:text-orange-400 font-bold",children:"Unicity ID"})," to receive tokens easily without long addresses."]}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"relative mb-4 md:mb-5 group",children:[jsxRuntimeExports.jsx("div",{className:"absolute right-3 md:right-4 top-1/2 -translate-y-1/2 text-neutral-400 dark:text-neutral-500 group-focus-within:text-orange-500 dark:group-focus-within:text-orange-400 transition-colors z-10 text-xs md:text-sm font-medium",children:"@unicity"}),jsxRuntimeExports.jsx("input",{type:"text",value:h,onChange:Ce=>{const Te=Ce.target.value.toLowerCase();/^[a-z0-9_\-+.]*$/.test(Te)&&f(Te)},onKeyDown:Ce=>{Ce.key==="Enter"&&h&&!E&&ue()},placeholder:"id",className:"w-full bg-neutral-100 dark:bg-neutral-800/50 border-2 border-neutral-200 dark:border-neutral-700/50 rounded-xl py-3 md:py-3.5 pl-3 md:pl-4 pr-24 md:pr-28 text-sm md:text-base text-neutral-900 dark:text-white placeholder-neutral-400 dark:placeholder-neutral-600 focus:outline-none focus:border-orange-500 focus:bg-white dark:focus:bg-neutral-800 transition-all backdrop-blur-sm",autoFocus:!0}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 rounded-xl bg-linear-to-r from-orange-500/0 via-orange-500/5 to-purple-500/0 opacity-0 group-focus-within:opacity-100 transition-opacity pointer-events-none"})]}),jsxRuntimeExports.jsxs(motion.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},onClick:ue,disabled:!h||E,whileHover:{scale:1.02},whileTap:{scale:.98},className:"relative w-full py-3 md:py-3.5 px-5 md:px-6 rounded-xl bg-linear-to-r from-orange-500 to-orange-600 text-white text-sm md:text-base font-bold shadow-xl shadow-orange-500/30 flex items-center justify-center gap-2 md:gap-3 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 overflow-hidden group",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-linear-to-r from-orange-400 to-orange-500 opacity-0 group-hover:opacity-100 transition-opacity"}),jsxRuntimeExports.jsxs("span",{className:"relative z-10 flex items-center gap-2 md:gap-3",children:["Continue",jsxRuntimeExports.jsx(ArrowRight,{className:"w-4 h-4 md:w-5 md:h-5"})]})]}),b&&jsxRuntimeExports.jsx(motion.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-3 md:mt-4 text-red-500 dark:text-red-400 text-xs md:text-sm bg-red-500/10 border border-red-500/20 p-2 md:p-3 rounded-lg",children:b})]},"nametag"),c==="processing"&&jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3},className:"relative z-10 text-center w-full max-w-[280px] md:max-w-[360px]",children:[jsxRuntimeExports.jsxs("div",{className:"relative mx-auto w-24 h-24 md:w-28 md:h-28 mb-6",children:[jsxRuntimeExports.jsx(motion.div,{className:"absolute inset-0 border-3 md:border-4 border-neutral-200 dark:border-neutral-800/50 rounded-full",animate:{rotate:360},transition:{duration:3,repeat:1/0,ease:"linear"}}),jsxRuntimeExports.jsx(motion.div,{className:"absolute inset-1.5 md:inset-2 border-3 md:border-4 border-orange-500/30 rounded-full border-t-orange-500 border-r-orange-500",animate:{rotate:-360},transition:{duration:2,repeat:1/0,ease:"linear"}}),jsxRuntimeExports.jsx("div",{className:"absolute inset-3 md:inset-4 bg-orange-500/20 rounded-full blur-xl"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:jsxRuntimeExports.jsx(motion.div,{animate:{scale:[1,1.1,1],opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:jsxRuntimeExports.jsx(LoaderCircle,{className:"w-8 h-8 md:w-9 md:h-9 text-orange-500 dark:text-orange-400 animate-spin"})})})]}),jsxRuntimeExports.jsx(motion.h3,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-xl md:text-2xl font-black text-neutral-900 dark:text-white mb-5 md:mb-6 tracking-tight",children:"Setting up Profile..."}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"space-y-2 md:space-y-2.5 text-xs md:text-sm",children:[{text:"Minting Nametag on Blockchain",delay:.4},{text:"Registering on Nostr Relay",delay:.6},{text:"Finalizing Wallet",delay:.8}].map((Ce,Te)=>jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:Ce.delay},className:"flex items-center gap-2 md:gap-3 text-neutral-500 dark:text-neutral-400 bg-neutral-100 dark:bg-neutral-800/30 px-3 md:px-4 py-2 md:py-2.5 rounded-lg backdrop-blur-sm border border-neutral-200 dark:border-neutral-700/30",children:[jsxRuntimeExports.jsx(motion.div,{animate:{scale:[1,1.2,1],opacity:[.5,1,.5]},transition:{duration:1.5,repeat:1/0,delay:Ce.delay},className:"w-1.5 h-1.5 md:w-2 md:h-2 rounded-full bg-orange-500 dark:bg-orange-400 shrink-0"}),jsxRuntimeExports.jsx("span",{className:"text-left",children:Ce.text})]},Te))}),jsxRuntimeExports.jsx(motion.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"mt-4 md:mt-5 text-[10px] md:text-xs text-neutral-400 dark:text-neutral-500",children:"This may take a few moments..."})]},"processing"),c==="restoreMethod"&&jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},className:"relative z-10 w-full max-w-[320px] md:max-w-[400px]",children:[jsxRuntimeExports.jsxs(motion.div,{className:"relative w-16 h-16 md:w-20 md:h-20 mx-auto mb-6",whileHover:{scale:1.05},children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-blue-500/30 rounded-2xl md:rounded-3xl blur-xl"}),jsxRuntimeExports.jsx("div",{className:"relative w-full h-full rounded-2xl md:rounded-3xl bg-linear-to-br from-blue-500 to-blue-600 flex items-center justify-center shadow-2xl shadow-blue-500/30",children:jsxRuntimeExports.jsx(KeyRound,{className:"w-8 h-8 md:w-10 md:h-10 text-white"})})]}),jsxRuntimeExports.jsx("h2",{className:"text-2xl md:text-3xl font-black text-neutral-900 dark:text-white mb-2 md:mb-3 tracking-tight",children:"Restore Wallet"}),jsxRuntimeExports.jsx("p",{className:"text-neutral-500 dark:text-neutral-400 text-xs md:text-sm mb-6 md:mb-8 mx-auto leading-relaxed",children:"Choose how you want to restore your wallet"}),jsxRuntimeExports.jsxs("div",{className:"space-y-3 mb-6",children:[jsxRuntimeExports.jsx(motion.button,{onClick:()=>u("restore"),whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full p-4 rounded-xl bg-neutral-100 dark:bg-neutral-800/50 border-2 border-neutral-200 dark:border-neutral-700/50 hover:border-blue-500/50 dark:hover:border-blue-500/50 transition-all text-left group",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 rounded-lg bg-blue-500/10 flex items-center justify-center group-hover:bg-blue-500/20 transition-colors",children:jsxRuntimeExports.jsx(KeyRound,{className:"w-6 h-6 text-blue-500"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("div",{className:"font-bold text-neutral-900 dark:text-white mb-1",children:"Recovery Phrase"}),jsxRuntimeExports.jsx("div",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Use your 12-word mnemonic phrase"})]}),jsxRuntimeExports.jsx(ArrowRight,{className:"w-5 h-5 text-neutral-400 group-hover:text-blue-500 transition-colors"})]})}),jsxRuntimeExports.jsx(motion.button,{onClick:()=>u("importFile"),whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full p-4 rounded-xl bg-neutral-100 dark:bg-neutral-800/50 border-2 border-neutral-200 dark:border-neutral-700/50 hover:border-orange-500/50 dark:hover:border-orange-500/50 transition-all text-left group",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 rounded-lg bg-orange-500/10 flex items-center justify-center group-hover:bg-orange-500/20 transition-colors",children:jsxRuntimeExports.jsx(Upload,{className:"w-6 h-6 text-orange-500"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("div",{className:"font-bold text-neutral-900 dark:text-white mb-1",children:"Import from File"}),jsxRuntimeExports.jsx("div",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Import wallet from .dat or .txt file"})]}),jsxRuntimeExports.jsx(ArrowRight,{className:"w-5 h-5 text-neutral-400 group-hover:text-orange-500 transition-colors"})]})})]}),jsxRuntimeExports.jsxs(motion.button,{onClick:Ae,disabled:E,whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full py-3 md:py-3.5 px-5 md:px-6 rounded-xl bg-neutral-100 dark:bg-neutral-800/50 text-neutral-700 dark:text-neutral-300 text-sm md:text-base font-bold border-2 border-neutral-200 dark:border-neutral-700/50 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-neutral-200 dark:hover:bg-neutral-700/50 transition-colors",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 md:w-5 md:h-5"}),"Back"]}),b&&jsxRuntimeExports.jsx(motion.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-3 md:mt-4 text-red-500 dark:text-red-400 text-xs md:text-sm bg-red-500/10 border border-red-500/20 p-2 md:p-3 rounded-lg",children:b})]},"restoreMethod"),c==="importFile"&&jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},className:"relative z-10 w-full max-w-[320px] md:max-w-[400px]",children:[jsxRuntimeExports.jsxs(motion.div,{className:"relative w-16 h-16 md:w-20 md:h-20 mx-auto mb-6",whileHover:{scale:1.05},children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-orange-500/30 rounded-2xl md:rounded-3xl blur-xl"}),jsxRuntimeExports.jsx("div",{className:"relative w-full h-full rounded-2xl md:rounded-3xl bg-linear-to-br from-orange-500 to-orange-600 flex items-center justify-center shadow-2xl shadow-orange-500/30",children:jsxRuntimeExports.jsx(Upload,{className:"w-8 h-8 md:w-10 md:h-10 text-white"})})]}),jsxRuntimeExports.jsx("h2",{className:"text-2xl md:text-3xl font-black text-neutral-900 dark:text-white mb-2 md:mb-3 tracking-tight",children:"Import Wallet"}),jsxRuntimeExports.jsx("p",{className:"text-neutral-500 dark:text-neutral-400 text-xs md:text-sm mb-6 md:mb-8 mx-auto leading-relaxed",children:"Select a wallet file to import"}),R?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"p-4 bg-neutral-100 dark:bg-neutral-800/50 border border-neutral-200 dark:border-neutral-700 rounded-xl mb-4",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(FileText,{className:"w-6 h-6 text-orange-500 shrink-0"}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"text-sm md:text-base text-neutral-900 dark:text-white font-medium truncate",children:R.name}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-neutral-500",children:[(R.size/1024).toFixed(1)," KB"]})]}),jsxRuntimeExports.jsx("button",{onClick:()=>k(null),className:"p-1.5 hover:bg-neutral-200 dark:hover:bg-neutral-700 rounded-lg transition-colors",children:jsxRuntimeExports.jsx(X,{className:"w-4 h-4 text-neutral-400"})})]})}),A?jsxRuntimeExports.jsxs("div",{className:"p-4 bg-neutral-100 dark:bg-neutral-800/50 border border-neutral-200 dark:border-neutral-700 rounded-xl mb-4",children:[jsxRuntimeExports.jsx("p",{className:"text-xs md:text-sm text-neutral-700 dark:text-neutral-300 mb-2 font-medium",children:"How many addresses to scan?"}),jsxRuntimeExports.jsx("input",{type:"number",value:j,onChange:Ce=>I(Math.max(1,parseInt(Ce.target.value)||10)),className:"w-full px-3 py-2 bg-white dark:bg-neutral-900 border border-neutral-300 dark:border-neutral-600 rounded-lg text-sm text-neutral-900 dark:text-white focus:outline-none focus:border-orange-500 focus:ring-1 focus:ring-orange-500",min:1})]}):jsxRuntimeExports.jsx("div",{className:"p-4 bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-200 dark:border-emerald-800 rounded-xl mb-4",children:jsxRuntimeExports.jsx("p",{className:"text-xs md:text-sm text-emerald-700 dark:text-emerald-300 font-medium",children:"Addresses will be imported from file"})})]}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs("div",{onDragOver:Ue,onDragLeave:Be,onDrop:Ve,className:`w-full border-2 border-dashed rounded-xl p-8 md:p-10 text-center transition-colors mb-6 ${L?"border-orange-500 bg-orange-500/10":"border-neutral-300 dark:border-neutral-600 hover:border-orange-400 hover:bg-neutral-50 dark:hover:bg-neutral-800/50"}`,children:[jsxRuntimeExports.jsx(Upload,{className:`w-12 h-12 md:w-14 md:h-14 mx-auto mb-4 ${L?"text-orange-500":"text-neutral-400"}`}),jsxRuntimeExports.jsx("p",{className:"text-sm md:text-base text-neutral-700 dark:text-neutral-300 font-medium mb-2",children:"Select wallet file"}),jsxRuntimeExports.jsx("p",{className:"text-xs md:text-sm text-neutral-400 dark:text-neutral-500 mb-3",children:".txt or .dat"}),jsxRuntimeExports.jsxs("label",{className:"inline-block cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"file",className:"hidden",accept:".txt,.dat",onChange:Ce=>{const Te=Ce.target.files?.[0];Te&&$e(Te)}}),jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white text-sm font-medium rounded-lg transition-colors",children:[jsxRuntimeExports.jsx(Upload,{className:"w-4 h-4"}),"Choose File"]})]}),jsxRuntimeExports.jsx("p",{className:"text-[10px] md:text-xs text-neutral-400 dark:text-neutral-600 mt-3 hidden sm:block",children:"or drag & drop here"})]})}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsxs(motion.button,{onClick:()=>{k(null),u("restoreMethod")},disabled:E,whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-1 py-3 md:py-3.5 px-5 md:px-6 rounded-xl bg-neutral-100 dark:bg-neutral-800/50 text-neutral-700 dark:text-neutral-300 text-sm md:text-base font-bold border-2 border-neutral-200 dark:border-neutral-700/50 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed hover:bg-neutral-200 dark:hover:bg-neutral-700/50 transition-colors",children:[jsxRuntimeExports.jsx(ArrowLeft,{className:"w-4 h-4 md:w-5 md:h-5"}),"Back"]}),R&&jsxRuntimeExports.jsxs(motion.button,{onClick:He,disabled:E,whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex-2 relative py-3 md:py-3.5 px-5 md:px-6 rounded-xl bg-linear-to-r from-orange-500 to-orange-600 text-white text-sm md:text-base font-bold shadow-xl shadow-orange-500/30 flex items-center justify-center gap-2 md:gap-3 disabled:opacity-50 disabled:cursor-not-allowed overflow-hidden group",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-linear-to-r from-orange-400 to-orange-500 opacity-0 group-hover:opacity-100 transition-opacity"}),jsxRuntimeExports.jsx("span",{className:"relative z-10 flex items-center gap-2 md:gap-3",children:E?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 md:w-5 md:h-5 animate-spin"}),"Importing..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["Import",jsxRuntimeExports.jsx(ArrowRight,{className:"w-4 h-4 md:w-5 md:h-5"})]})})]})]}),b&&jsxRuntimeExports.jsx(motion.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-3 md:mt-4 text-red-500 dark:text-red-400 text-xs md:text-sm bg-red-500/10 border border-red-500/20 p-2 md:p-3 rounded-lg",children:b})]},"importFile")]}),jsxRuntimeExports.jsx(LoadPasswordModal,{show:W,onConfirm:Ie,onCancel:()=>{te(!1),v(null)}}),jsxRuntimeExports.jsx(WalletScanModal,{show:Z,wallet:G,initialScanCount:S,onSelectAddress:ge,onSelectAll:xe,onCancel:_e})]})}function AnimatedBackground(){return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(motion.div,{className:"absolute top-1/4 right-1/4 w-64 h-64 bg-orange-500/20 rounded-full blur-3xl pointer-events-none",animate:{scale:[1,1.2,1],opacity:[.2,.3,.2]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),jsxRuntimeExports.jsx(motion.div,{className:"absolute bottom-1/4 left-1/4 w-64 h-64 bg-purple-500/20 rounded-full blur-3xl pointer-events-none",animate:{scale:[1,1.3,1],opacity:[.2,.3,.2]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:1}})]})}function LoadingScreen(){return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-linear-to-br from-neutral-950 via-neutral-900 to-neutral-950 flex items-center justify-center relative overflow-hidden",children:[jsxRuntimeExports.jsx(AnimatedBackground,{}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center relative z-10",children:[jsxRuntimeExports.jsxs("div",{className:"relative mx-auto w-20 h-20 mb-6",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 border-4 border-neutral-800 rounded-full"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 border-4 border-orange-500 rounded-full border-t-transparent animate-spin"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"w-8 h-8 text-orange-500 animate-spin"})})]}),jsxRuntimeExports.jsx("p",{className:"text-neutral-400",children:"Loading wallet..."})]})]})}function OnboardingScreen(){return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-linear-to-br from-neutral-100 via-white to-neutral-100 dark:from-neutral-950 dark:via-neutral-900 dark:to-neutral-950 flex items-center justify-center relative overflow-hidden",children:[jsxRuntimeExports.jsx(AnimatedBackground,{}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-md relative z-10",children:jsxRuntimeExports.jsx(CreateWalletFlow,{})})]})}function WalletGate({children:t}){const{identity:e,nametag:a,isLoadingIdentity:r,isLoadingNametag:o}=useWallet(),s=r||!!e&&o,l=!!e&&!!a;return s?jsxRuntimeExports.jsx(LoadingScreen,{}):l?jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:t}):jsxRuntimeExports.jsx(OnboardingScreen,{})}const DiscordIcon=({className:t})=>jsxRuntimeExports.jsx("svg",{className:t,viewBox:"0 0 24 24",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{d:"M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0 12.64 12.64 0 0 0-.617-1.25.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057 19.9 19.9 0 0 0 5.993 3.03.078.078 0 0 0 .084-.028 14.09 14.09 0 0 0 1.226-1.994.076.076 0 0 0-.041-.106 13.107 13.107 0 0 1-1.872-.892.077.077 0 0 1-.008-.128 10.2 10.2 0 0 0 .372-.292.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127 12.299 12.299 0 0 1-1.873.892.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028 19.839 19.839 0 0 0 6.002-3.03.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.956-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419 0-1.333.955-2.419 2.157-2.419 1.21 0 2.176 1.096 2.157 2.42 0 1.333-.946 2.418-2.157 2.418z"})});function SplashScreen({onEnter:t}){return jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-linear-to-br from-neutral-100 via-white to-neutral-100 dark:from-neutral-950 dark:via-neutral-900 dark:to-neutral-950 cursor-pointer",onClick:t,children:[jsxRuntimeExports.jsx(motion.div,{className:"absolute top-1/4 left-1/4 w-48 h-48 md:w-96 md:h-96 bg-orange-500/10 dark:bg-orange-500/20 rounded-full blur-2xl md:blur-3xl",animate:{scale:[1,1.2,1],opacity:[.1,.2,.1]},transition:{duration:4,repeat:1/0,ease:"easeInOut"}}),jsxRuntimeExports.jsx(motion.div,{className:"absolute bottom-1/4 right-1/4 w-48 h-48 md:w-96 md:h-96 bg-purple-500/10 dark:bg-purple-500/20 rounded-full blur-2xl md:blur-3xl ",animate:{scale:[1,1.3,1],opacity:[.1,.2,.1]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:1}}),jsxRuntimeExports.jsx(motion.div,{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[400px] h-[400px] md:w-[600px] md:h-[600px] bg-orange-500/5 dark:bg-orange-500/10 rounded-full blur-3xl will-change-transform",animate:{scale:[1,1.2,1],rotate:[0,180,360]},transition:{duration:20,repeat:1/0,ease:"easeInOut"},style:{backfaceVisibility:"hidden",perspective:1e3}}),jsxRuntimeExports.jsxs("div",{className:"relative z-10 text-center px-4 md:px-8 flex flex-col items-center justify-between h-full py-12 md:py-20",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.8,ease:"easeOut"},className:"relative mb-6 md:mb-12",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-linear-to-r from-orange-500/10 dark:from-orange-500/20 to-orange-600/10 dark:to-orange-600/20 blur-2xl md:blur-3xl",style:{animation:"pulse-slow 3s ease-in-out infinite"}}),jsxRuntimeExports.jsxs("div",{className:"relative flex items-center justify-center gap-0 flex-wrap",children:[jsxRuntimeExports.jsx(motion.div,{className:"relative",animate:{textShadow:["0 0 20px rgba(0, 0, 0, 0.1)","0 0 30px rgba(0, 0, 0, 0.15)","0 0 20px rgba(0, 0, 0, 0.1)"]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:jsxRuntimeExports.jsx("span",{className:"text-4xl sm:text-5xl md:text-7xl lg:text-8xl text-neutral-900 dark:text-white tracking-tight",style:{fontFamily:"system-ui, -apple-system, sans-serif",fontWeight:900},children:"AGENT"})}),jsxRuntimeExports.jsx(motion.div,{className:"relative",initial:{x:-20,opacity:0},animate:{x:0,opacity:1},transition:{duration:.8,delay:.3},children:jsxRuntimeExports.jsx(motion.span,{className:"text-4xl sm:text-5xl md:text-7xl lg:text-8xl bg-linear-to-r from-orange-500 via-orange-400 to-orange-600 bg-clip-text text-transparent tracking-tight",style:{fontFamily:"system-ui, -apple-system, sans-serif",fontWeight:900},animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:3,repeat:1/0,ease:"linear"},children:"SPHERE"})})]})]}),jsxRuntimeExports.jsx(motion.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.5},className:"text-neutral-500 dark:text-neutral-400 text-sm sm:text-base md:text-lg lg:text-xl tracking-wide",children:"Dive in and feel the difference"}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},className:"flex items-center gap-4 mt-6",onClick:e=>e.stopPropagation(),children:[jsxRuntimeExports.jsx(motion.a,{href:"https://github.com/unicitynetwork",target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.1,y:-2},whileTap:{scale:.95},className:"p-3 rounded-full bg-neutral-200/50 dark:bg-neutral-800/50 hover:bg-neutral-300/50 dark:hover:bg-neutral-700/50 transition-colors group",children:jsxRuntimeExports.jsx(Github,{className:"w-5 h-5 md:w-6 md:h-6 text-neutral-600 dark:text-neutral-400 group-hover:text-orange-500 dark:group-hover:text-orange-400 transition-colors"})}),jsxRuntimeExports.jsx(motion.a,{href:"https://discord.gg/S9f57ZKdt",target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.1,y:-2},whileTap:{scale:.95},className:"p-3 rounded-full bg-neutral-200/50 dark:bg-neutral-800/50 hover:bg-neutral-300/50 dark:hover:bg-neutral-700/50 transition-colors group",children:jsxRuntimeExports.jsx(DiscordIcon,{className:"w-5 h-5 md:w-6 md:h-6 text-neutral-600 dark:text-neutral-400 group-hover:text-orange-500 dark:group-hover:text-orange-400 transition-colors"})})]})]}),jsxRuntimeExports.jsxs(motion.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.8},className:"text-neutral-500 dark:text-neutral-400 flex items-center gap-3 group mt-8",whileHover:{scale:1.05},whileTap:{scale:.95},children:[jsxRuntimeExports.jsx("span",{className:"relative z-10 group-hover:text-orange-500 dark:group-hover:text-orange-400 transition-colors text-sm md:text-base",children:"Tap to join"}),jsxRuntimeExports.jsx(motion.div,{animate:{x:[0,5,0]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},children:jsxRuntimeExports.jsx(ArrowRight,{className:"w-4 h-4 md:w-5 md:h-5 relative z-10 text-orange-500 dark:text-orange-400"})})]})]}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 opacity-10 dark:opacity-20 md:opacity-15 md:dark:opacity-30 pointer-events-none",style:{backgroundImage:`
            radial-gradient(at 20% 30%, rgba(251, 146, 60, 0.15) 0px, transparent 50%),
            radial-gradient(at 80% 70%, rgba(168, 85, 247, 0.15) 0px, transparent 50%)
          `}}),jsxRuntimeExports.jsx("style",{children:`
        @keyframes pulse-slow {
          0%, 100% { transform: scale(1); opacity: 0.2; }
          50% { transform: scale(1.15); opacity: 0.3; }
        }
        @media (prefers-reduced-motion: reduce) {
          .will-change-transform {
            animation: none !important;
          }
        }
      `})]})}function WelcomeModal({show:t,onAccept:e}){const[a,r]=reactExports.useState(!1),[o,s]=reactExports.useState(!1),l=a&&o,c=[{icon:Coins,title:"Buy & Trade",description:"Access decentralized markets"},{icon:Rocket,title:"Bet & Win",description:"Prediction markets & games"},{icon:MessageCircle,title:"Chat & Connect",description:"Private, encrypted messaging"}];return jsxRuntimeExports.jsx(AnimatePresence,{children:t&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/80 backdrop-blur-md flex items-center justify-center z-60 p-4",children:jsxRuntimeExports.jsxs(motion.div,{initial:{scale:.9,opacity:0,y:30},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:30},transition:{type:"spring",duration:.5},className:"relative w-full max-w-lg bg-linear-to-b from-neutral-900 to-black border border-orange-500/20 rounded-3xl shadow-2xl shadow-orange-500/10 overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-3/4 h-32 bg-orange-500/10 blur-3xl pointer-events-none"}),jsxRuntimeExports.jsxs("div",{className:"relative p-6 md:p-8",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-center mb-6",children:[jsxRuntimeExports.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-linear-to-br from-orange-500 to-orange-600 mb-4",children:jsxRuntimeExports.jsx(Shield,{className:"w-8 h-8 text-white"})}),jsxRuntimeExports.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-white mb-2",children:"Welcome Aboard"}),jsxRuntimeExports.jsx("p",{className:"text-neutral-400 text-sm md:text-base",children:"Infrastructure for a free Internet"})]}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-neutral-800/50 border border-neutral-700/50 rounded-2xl p-4 mb-6",children:jsxRuntimeExports.jsx("p",{className:"text-neutral-300 text-sm md:text-base text-center italic",children:`"Privacy isn't a feature. It's the foundation of freedom."`})}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"grid grid-cols-3 gap-3 mb-6",children:c.map((u,h)=>jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.4+h*.1},className:"flex flex-col items-center text-center p-3 rounded-xl bg-neutral-800/30 border border-neutral-700/30",children:[jsxRuntimeExports.jsx(u.icon,{className:"w-6 h-6 text-orange-500 mb-2"}),jsxRuntimeExports.jsx("span",{className:"text-white text-xs font-medium",children:u.title}),jsxRuntimeExports.jsx("span",{className:"text-neutral-500 text-[10px] mt-0.5",children:u.description})]},u.title))}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"space-y-3 mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-2 p-3 bg-amber-500/10 border border-amber-500/20 rounded-xl",children:[jsxRuntimeExports.jsx(TriangleAlert,{className:"w-5 h-5 text-amber-500 shrink-0 mt-0.5"}),jsxRuntimeExports.jsx("p",{className:"text-amber-200/80 text-xs",children:"This platform involves financial transactions and prediction markets. You are solely responsible for your actions."})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-3 p-3 bg-neutral-800/50 rounded-xl cursor-pointer group",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:a,onChange:u=>r(u.target.checked),className:"sr-only"}),jsxRuntimeExports.jsx("div",{className:`w-5 h-5 rounded border-2 transition-colors ${a?"bg-orange-500 border-orange-500":"border-neutral-600 group-hover:border-neutral-500"}`,children:a&&jsxRuntimeExports.jsx(motion.svg,{initial:{scale:0},animate:{scale:1},className:"w-full h-full text-white p-0.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:jsxRuntimeExports.jsx("polyline",{points:"20 6 9 17 4 12"})})})]}),jsxRuntimeExports.jsx("span",{className:"text-neutral-300 text-sm",children:"I confirm that I am at least 18 years old"})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-3 p-3 bg-neutral-800/50 rounded-xl cursor-pointer group",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:o,onChange:u=>s(u.target.checked),className:"sr-only"}),jsxRuntimeExports.jsx("div",{className:`w-5 h-5 rounded border-2 transition-colors ${o?"bg-orange-500 border-orange-500":"border-neutral-600 group-hover:border-neutral-500"}`,children:o&&jsxRuntimeExports.jsx(motion.svg,{initial:{scale:0},animate:{scale:1},className:"w-full h-full text-white p-0.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"3",children:jsxRuntimeExports.jsx("polyline",{points:"20 6 9 17 4 12"})})})]}),jsxRuntimeExports.jsx("span",{className:"text-neutral-300 text-sm",children:"I understand that I use this platform at my own risk"})]})]}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:jsxRuntimeExports.jsxs(motion.button,{whileHover:l?{scale:1.02}:{},whileTap:l?{scale:.98}:{},onClick:l?e:void 0,disabled:!l,className:`w-full py-4 rounded-xl font-semibold text-white flex items-center justify-center gap-2 transition-all ${l?"bg-linear-to-r from-orange-500 to-orange-600 hover:from-orange-400 hover:to-orange-500 shadow-lg shadow-orange-500/25":"bg-neutral-700 cursor-not-allowed opacity-50"}`,children:[jsxRuntimeExports.jsx("span",{children:"Enter the Sphere"}),jsxRuntimeExports.jsx(ChevronRight,{className:"w-5 h-5"})]})})]})]})})})}const WELCOME_ACCEPTED_KEY="sphere_welcome_accepted";function IntroPage(){const t=useNavigate(),[e,a]=reactExports.useState(!1),[r,o]=reactExports.useState(null);reactExports.useEffect(()=>{const c=localStorage.getItem(WELCOME_ACCEPTED_KEY)==="true";o(c)},[]);const s=()=>{r?t("/home"):a(!0)},l=()=>{localStorage.setItem(WELCOME_ACCEPTED_KEY,"true"),a(!1),t("/home")};return r===null?null:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(SplashScreen,{onEnter:s}),jsxRuntimeExports.jsx(WelcomeModal,{show:e,onAccept:l})]})}function AgentCard({id:t,name:e,Icon:a,category:r,color:o,isSelected:s}){return jsxRuntimeExports.jsx(Link,{to:`/agents/${t}`,children:jsxRuntimeExports.jsxs(motion.div,{whileHover:{scale:1.05,y:-4},whileTap:{scale:.95},transition:{duration:.05},className:`relative rounded-xl md:rounded-2xl p-2 md:p-6 aspect-square md:aspect-auto md:h-[180px] flex flex-col items-center justify-center gap-2 md:gap-4 transition-all duration-150 overflow-hidden group cursor-pointer ${s?"ring-2 ring-orange-500 ring-offset-1 md:ring-offset-2 ring-offset-neutral-100 dark:ring-offset-neutral-950":""}`,children:[jsxRuntimeExports.jsx("div",{className:`absolute inset-0 bg-linear-to-br ${o} opacity-90 group-hover:opacity-100 transition-all duration-200`}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 opacity-30 group-hover:opacity-50 transition-opacity duration-500",style:{backgroundImage:`radial-gradient(at 27% 37%, rgba(255, 255, 255, 0.1) 0px, transparent 50%),
                           radial-gradient(at 97% 21%, rgba(255, 255, 255, 0.1) 0px, transparent 50%),
                           radial-gradient(at 52% 99%, rgba(255, 255, 255, 0.1) 0px, transparent 50%),
                           radial-gradient(at 10% 29%, rgba(255, 255, 255, 0.1) 0px, transparent 50%)`}}),jsxRuntimeExports.jsx(motion.div,{className:"absolute inset-0 bg-linear-to-tr from-transparent via-white/30 to-transparent hidden md:block",initial:{x:"-100%",opacity:0},whileHover:{x:"100%",opacity:1},transition:{duration:.6,ease:"easeInOut"}}),jsxRuntimeExports.jsx("div",{className:`absolute -inset-1 bg-linear-to-br ${o} blur-2xl opacity-0 group-hover:opacity-70 transition-all duration-300 hidden md:block`}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-white/0 group-hover:bg-white/5 backdrop-blur-0 group-hover:backdrop-blur-sm transition-all duration-300 rounded-xl md:rounded-2xl"}),jsxRuntimeExports.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-1.5 md:gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute -inset-1 md:-inset-2 rounded-xl md:rounded-2xl bg-white/20 blur-sm group-hover:bg-white/30 transition-all duration-300"}),jsxRuntimeExports.jsx("div",{className:"relative w-12 h-12 md:w-16 md:h-16 rounded-xl md:rounded-2xl bg-white/20 backdrop-blur-sm flex items-center justify-center border border-white/40 group-hover:scale-110 group-hover:rotate-3 transition-all duration-300 shadow-2xl",children:jsxRuntimeExports.jsx(a,{className:"w-7 h-7 md:w-8 md:h-8 text-white drop-shadow-2xl"})}),jsxRuntimeExports.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 rounded-full bg-white/60 group-hover:scale-150 transition-transform duration-300 hidden md:block"}),jsxRuntimeExports.jsx("div",{className:"absolute -bottom-1 -left-1 w-2 h-2 rounded-full bg-white/40 group-hover:scale-150 transition-transform duration-300 hidden md:block"})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-[11px] md:text-base text-white drop-shadow-lg md:mb-1.5 group-hover:scale-105 transition-transform duration-300 leading-tight",children:e}),jsxRuntimeExports.jsx("div",{className:"hidden md:block text-xs text-white/90 drop-shadow px-3 py-1 rounded-full bg-white/10 backdrop-blur-sm border border-white/20",children:r})]})]}),jsxRuntimeExports.jsx("div",{className:"absolute top-0 right-0 w-10 h-10 md:w-24 md:h-24 bg-white/10 rounded-bl-full group-hover:w-12 group-hover:h-12 md:group-hover:w-28 md:group-hover:h-28 transition-all duration-300"}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 left-0 w-8 h-8 md:w-20 md:h-20 bg-black/10 rounded-tr-full group-hover:w-10 group-hover:h-10 md:group-hover:w-24 md:group-hover:h-24 transition-all duration-300"}),s&&jsxRuntimeExports.jsx(motion.div,{initial:{scale:0},animate:{scale:1},className:"absolute top-2 right-2 md:top-4 md:right-4 w-2 h-2 md:w-3 md:h-3 rounded-full bg-white shadow-lg z-20",children:jsxRuntimeExports.jsx("div",{className:"absolute inset-0 rounded-full bg-white animate-ping"})})]})})}const QUERY_KEYS={CONVERSATIONS:["chat","conversations"],MESSAGES:t=>["chat","messages",t],UNREAD_COUNT:["chat","unreadCount"]},chatRepository=ChatRepository.getInstance(),useChat=()=>{const t=useQueryClient(),{nostrService:e}=useServices(),[a,r]=reactExports.useState(null),[o,s]=reactExports.useState(""),[l,c]=reactExports.useState("");reactExports.useEffect(()=>{const O=()=>{t.invalidateQueries({queryKey:QUERY_KEYS.CONVERSATIONS}),a&&t.invalidateQueries({queryKey:QUERY_KEYS.MESSAGES(a.id)}),t.invalidateQueries({queryKey:QUERY_KEYS.UNREAD_COUNT})},P=q=>{const z=q.detail;a&&z.conversationId===a.id&&(t.invalidateQueries({queryKey:QUERY_KEYS.MESSAGES(a.id)}),chatRepository.markConversationAsRead(a.id)),t.invalidateQueries({queryKey:QUERY_KEYS.CONVERSATIONS}),t.invalidateQueries({queryKey:QUERY_KEYS.UNREAD_COUNT})};return window.addEventListener("chat-updated",O),window.addEventListener("dm-received",P),()=>{window.removeEventListener("chat-updated",O),window.removeEventListener("dm-received",P)}},[t,a]);const u=useQuery({queryKey:QUERY_KEYS.CONVERSATIONS,queryFn:()=>chatRepository.getConversations(),staleTime:3e4}),h=useQuery({queryKey:QUERY_KEYS.MESSAGES(a?.id||""),queryFn:()=>a?chatRepository.getMessagesForConversation(a.id):[],enabled:!!a,staleTime:1e4}),f=useQuery({queryKey:QUERY_KEYS.UNREAD_COUNT,queryFn:()=>chatRepository.getTotalUnreadCount(),staleTime:3e4}),m=useMutation({mutationFn:async O=>{if(!a)throw new Error("No conversation selected");return!!await e.sendDirectMessage(a.participantPubkey,O,a.participantNametag)},onSuccess:()=>{s(""),t.invalidateQueries({queryKey:QUERY_KEYS.MESSAGES(a?.id||"")}),t.invalidateQueries({queryKey:QUERY_KEYS.CONVERSATIONS})}}),g=reactExports.useCallback(async O=>{try{let P=O,q;if(O.includes("@")||!/^[0-9a-fA-F]{64}$/.test(O)){q=O.replace("@","");const V=await e.queryPubkeyByNametag(q);if(!V)return console.error(`Could not resolve nametag: ${q}`),null;P=V}const z=chatRepository.getOrCreateConversation(P,q);return r(z),t.invalidateQueries({queryKey:QUERY_KEYS.CONVERSATIONS}),z}catch(P){return console.error("Failed to start conversation",P),null}},[e,t]),b=reactExports.useCallback(O=>{r(O),O&&(chatRepository.markConversationAsRead(O.id),t.invalidateQueries({queryKey:QUERY_KEYS.UNREAD_COUNT}))},[t]),w=reactExports.useCallback(O=>{chatRepository.deleteConversation(O),a?.id===O&&r(null),t.invalidateQueries({queryKey:QUERY_KEYS.CONVERSATIONS})},[t,a]),E=reactExports.useCallback(O=>{chatRepository.markConversationAsRead(O),t.invalidateQueries({queryKey:QUERY_KEYS.UNREAD_COUNT})},[t]),C=reactExports.useCallback(async O=>O.trim()?m.mutateAsync(O):!1,[m]),B=reactExports.useMemo(()=>{const O=u.data||[];if(!l.trim())return O;const P=l.toLowerCase();return O.filter(q=>q.getDisplayName().toLowerCase().includes(P)||q.lastMessageText.toLowerCase().includes(P))},[u.data,l]);return{conversations:u.data||[],isLoadingConversations:u.isLoading,selectedConversation:a,selectConversation:b,startNewConversation:g,deleteConversation:w,messages:h.data||[],isLoadingMessages:h.isLoading,sendMessage:C,isSending:m.isPending,messageInput:o,setMessageInput:s,totalUnreadCount:f.data||0,markAsRead:E,searchQuery:l,setSearchQuery:c,filteredConversations:B}};function DMConversationItem({conversation:t,isSelected:e,onClick:a,onDelete:r}){const o=s=>{s.stopPropagation(),r()};return jsxRuntimeExports.jsxs(motion.div,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:a,className:`p-3 rounded-xl cursor-pointer transition-all relative overflow-hidden group ${e?"bg-linear-to-br from-orange-500 to-orange-600 text-white shadow-lg shadow-orange-500/30":"bg-neutral-100 dark:bg-neutral-800/50 hover:bg-neutral-200 dark:hover:bg-neutral-700/50 border border-neutral-200 dark:border-neutral-700/50"}`,children:[e&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-linear-to-tr from-white/0 via-white/10 to-white/0"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[jsxRuntimeExports.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center text-sm font-medium shrink-0 ${e?"bg-white/20 text-white":"bg-linear-to-br from-orange-500 to-orange-600 text-white shadow-md"}`,children:t.getAvatar()}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between gap-2",children:[jsxRuntimeExports.jsx("span",{className:`font-medium truncate ${e?"text-white":"text-neutral-900 dark:text-white"}`,children:t.getDisplayName()}),jsxRuntimeExports.jsx("span",{className:`text-xs shrink-0 ${e?"text-white/70":"text-neutral-500 dark:text-neutral-400"}`,children:t.getFormattedLastMessageTime()})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between gap-2 mt-0.5",children:[jsxRuntimeExports.jsx("p",{className:`text-sm truncate ${e?"text-white/80":"text-neutral-500 dark:text-neutral-400"}`,children:t.lastMessageText||"No messages yet"}),t.unreadCount>0&&jsxRuntimeExports.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded-full shrink-0 ${e?"bg-white/20 text-white":"bg-orange-500 text-white"}`,children:t.unreadCount>99?"99+":t.unreadCount})]})]}),jsxRuntimeExports.jsx(motion.button,{onClick:o,className:`absolute right-2 top-1/2 -translate-y-1/2 p-2 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity ${e?"hover:bg-white/20 text-white":"hover:bg-red-100 dark:hover:bg-red-900/30 text-red-500"}`,whileHover:{scale:1.1},whileTap:{scale:.9},children:jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"})})]})]})}function DMConversationList({conversations:t,selectedConversation:e,onSelect:a,onDelete:r,onNewConversation:o,searchQuery:s,onSearchChange:l,isOpen:c,onClose:u,isCollapsed:h,onCollapse:f,totalUnreadCount:m,onModeChange:g}){return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(AnimatePresence,{children:c&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"lg:hidden absolute inset-0 bg-black/50 z-40 rounded-3xl",onClick:u})}),jsxRuntimeExports.jsxs("div",{className:`
        w-72 border-r border-neutral-200 dark:border-neutral-800/50 flex flex-col z-50 overflow-hidden
        absolute lg:relative inset-y-0 left-0 min-h-0
        transform transition-all duration-300 ease-in-out
        ${c?"translate-x-0":"-translate-x-full lg:translate-x-0"}
        ${h?"lg:w-0 lg:border-0 lg:min-w-0":"lg:w-72"}
        bg-white/95 dark:bg-neutral-900/95 lg:bg-transparent backdrop-blur-xl lg:backdrop-blur-none rounded-l-3xl lg:rounded-none
      `,children:[jsxRuntimeExports.jsxs("div",{className:"shrink-0 p-4 border-b border-neutral-200 dark:border-neutral-800/50 bg-linear-to-br from-white/80 dark:from-neutral-900/80 to-neutral-50/40 dark:to-neutral-800/40 backdrop-blur-sm relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-orange-500/5 rounded-bl-full"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-3 relative z-10",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("h3",{className:"text-neutral-900 dark:text-white font-medium",children:"Messages"}),jsxRuntimeExports.jsx(Sparkles,{className:"w-4 h-4 text-orange-500 animate-pulse"}),m>0&&jsxRuntimeExports.jsx("span",{className:"px-1.5 py-0.5 text-xs rounded-full bg-orange-500 text-white",children:m>99?"99+":m})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(motion.button,{onClick:o,className:"p-2 rounded-lg bg-linear-to-br from-orange-500 to-orange-600 text-white shadow-lg shadow-orange-500/30",title:"New conversation",whileHover:{scale:1.1},whileTap:{scale:.9},children:jsxRuntimeExports.jsx(MessageSquarePlus,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx(motion.button,{onClick:f,className:"hidden lg:flex p-2 rounded-lg bg-neutral-100 dark:bg-neutral-800/50 text-neutral-500 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-white hover:bg-neutral-200 dark:hover:bg-neutral-700/50 transition-colors border border-neutral-200 dark:border-neutral-700/50",title:"Collapse sidebar",whileHover:{scale:1.1},whileTap:{scale:.9},children:jsxRuntimeExports.jsx(PanelLeftClose,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx(motion.button,{onClick:u,className:"lg:hidden p-2 rounded-lg bg-neutral-100 dark:bg-neutral-800/50 text-neutral-500 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-white hover:bg-neutral-200 dark:hover:bg-neutral-700/50 transition-colors border border-neutral-200 dark:border-neutral-700/50",whileHover:{scale:1.1},whileTap:{scale:.9},children:jsxRuntimeExports.jsx(X,{className:"w-4 h-4"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-2 relative z-10 mb-3",children:[jsxRuntimeExports.jsxs(motion.button,{onClick:()=>g("global"),className:"px-4 py-3 rounded-xl text-sm transition-all relative overflow-hidden bg-neutral-100 dark:bg-neutral-800/50 text-neutral-500 dark:text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-800 border border-neutral-200 dark:border-neutral-700/50",whileHover:{scale:1.02},whileTap:{scale:.98},children:[jsxRuntimeExports.jsx(Hash$1,{className:"w-4 h-4 inline mr-2"}),jsxRuntimeExports.jsx("span",{children:"Global"})]}),jsxRuntimeExports.jsxs(motion.button,{className:"px-4 py-3 rounded-xl text-sm transition-all relative overflow-hidden bg-linear-to-br from-orange-500 to-orange-600 text-white shadow-lg shadow-orange-500/30",whileHover:{scale:1.02},whileTap:{scale:.98},children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-linear-to-tr from-white/0 via-white/20 to-white/0"}),jsxRuntimeExports.jsx(User,{className:"w-4 h-4 inline mr-2"}),jsxRuntimeExports.jsx("span",{className:"relative z-10",children:"DM"})]})]}),jsxRuntimeExports.jsxs("div",{className:"relative z-10",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-neutral-400"}),jsxRuntimeExports.jsx("input",{type:"text",value:s,onChange:b=>l(b.target.value),placeholder:"Search conversations...",className:"w-full pl-9 pr-3 py-2 bg-neutral-100 dark:bg-neutral-800/50 text-neutral-900 dark:text-white placeholder-neutral-400 rounded-xl text-sm border border-neutral-200 dark:border-neutral-700/50 focus:outline-none focus:border-orange-500 transition-colors"})]})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto p-3 space-y-2",children:t.length===0?jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-4",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 rounded-2xl bg-neutral-100 dark:bg-neutral-800/50 flex items-center justify-center mb-4",children:jsxRuntimeExports.jsx(MessageSquarePlus,{className:"w-8 h-8 text-neutral-400"})}),jsxRuntimeExports.jsx("p",{className:"text-neutral-500 dark:text-neutral-400 text-sm",children:"No conversations yet"}),jsxRuntimeExports.jsx("p",{className:"text-neutral-400 dark:text-neutral-500 text-xs mt-1",children:"Start a new conversation to begin"})]}):jsxRuntimeExports.jsx(AnimatePresence,{mode:"popLayout",children:t.map(b=>jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-100},layout:!0,children:jsxRuntimeExports.jsx(DMConversationItem,{conversation:b,isSelected:e?.id===b.id,onClick:()=>a(b),onDelete:()=>r(b.id)})},b.id))})})]})]})}function DMMessageBubble({message:t,delay:e=0}){const a=t.isFromMe,r=()=>{switch(t.status){case MessageStatus.PENDING:return jsxRuntimeExports.jsx(Clock,{className:"w-3 h-3 text-white/60"});case MessageStatus.SENT:return jsxRuntimeExports.jsx(Check,{className:"w-3 h-3 text-white/60"});case MessageStatus.DELIVERED:return jsxRuntimeExports.jsx(CheckCheck,{className:"w-3 h-3 text-white/60"});case MessageStatus.READ:return jsxRuntimeExports.jsx(CheckCheck,{className:"w-3 h-3 text-blue-300"});case MessageStatus.FAILED:return jsxRuntimeExports.jsx(CircleAlert,{className:"w-3 h-3 text-red-300"});default:return jsxRuntimeExports.jsx(Check,{className:"w-3 h-3 text-white/60"})}};return jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:e},className:`flex gap-3 ${a?"flex-row-reverse":""}`,children:[!a&&jsxRuntimeExports.jsx("div",{className:"shrink-0 px-2 py-1 rounded-lg bg-linear-to-br from-orange-500 to-orange-600 text-white text-xs font-medium shadow-md self-start",children:t.senderNametag?`@${t.senderNametag.replace("@","")}`:t.senderPubkey?.slice(0,8)||"??"}),jsxRuntimeExports.jsxs("div",{className:`flex flex-col ${a?"items-end":"items-start"} max-w-[75%]`,children:[jsxRuntimeExports.jsxs(motion.div,{whileHover:{scale:1.01},className:`rounded-2xl px-4 py-3 relative overflow-hidden ${a?"bg-linear-to-br from-orange-500 to-orange-600 text-white shadow-lg shadow-orange-500/20":"bg-neutral-100 dark:bg-neutral-800/80 backdrop-blur-sm text-neutral-800 dark:text-neutral-100 border border-neutral-200 dark:border-neutral-700/50"}`,children:[a&&jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-linear-to-tr from-white/0 via-white/10 to-white/0"}),jsxRuntimeExports.jsx("p",{className:"text-sm leading-relaxed relative z-10 break-words whitespace-pre-wrap",children:t.content})]}),jsxRuntimeExports.jsxs("div",{className:`flex items-center gap-1.5 mt-1 px-1 ${a?"flex-row-reverse":""}`,children:[jsxRuntimeExports.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:t.getFormattedTime()}),a&&jsxRuntimeExports.jsx(r,{})]})]})]})}function DMMessageList({messages:t,isLoading:e}){const a=reactExports.useRef(null),r=reactExports.useRef(null);reactExports.useEffect(()=>{a.current&&(a.current.scrollTop=a.current.scrollHeight)},[t]);const o=t.reduce((s,l)=>{const c=l.getFormattedDate();return s[c]||(s[c]=[]),s[c].push(l),s},{});return e?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center min-h-0",children:jsxRuntimeExports.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-orange-500 border-t-transparent rounded-full"})}):t.length===0?jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center text-center p-8 min-h-0",children:[jsxRuntimeExports.jsx(motion.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"w-20 h-20 rounded-2xl bg-neutral-100 dark:bg-neutral-800/50 flex items-center justify-center mb-4",children:jsxRuntimeExports.jsx(MessageCircle,{className:"w-10 h-10 text-neutral-400"})}),jsxRuntimeExports.jsx("p",{className:"text-neutral-500 dark:text-neutral-400",children:"No messages yet"}),jsxRuntimeExports.jsx("p",{className:"text-neutral-400 dark:text-neutral-500 text-sm mt-1",children:"Start the conversation by sending a message"})]}):jsxRuntimeExports.jsxs("div",{ref:a,className:"overflow-y-auto px-4 py-4 space-y-4 min-h-0",children:[jsxRuntimeExports.jsx(AnimatePresence,{mode:"popLayout",children:Object.entries(o).map(([s,l])=>jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-3",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center my-4",children:jsxRuntimeExports.jsx("div",{className:"px-3 py-1 rounded-full bg-neutral-100 dark:bg-neutral-800/50 text-xs text-neutral-500 dark:text-neutral-400 border border-neutral-200 dark:border-neutral-700/50",children:s})}),l.map((c,u)=>jsxRuntimeExports.jsx(DMMessageBubble,{message:c,delay:u*.05},c.id))]},s))}),jsxRuntimeExports.jsx("div",{ref:r})]})}const DMChatInput=reactExports.forwardRef(function t({value:e,onChange:a,onSend:r,isSending:o=!1,placeholder:s="Type a message...",disabled:l=!1},c){const u=reactExports.useRef(null);reactExports.useImperativeHandle(c,()=>u.current,[]);const h=f=>{f.key==="Enter"&&!f.shiftKey&&(f.preventDefault(),e.trim()&&!o&&!l&&r())};return jsxRuntimeExports.jsx("div",{className:"p-4 border-t border-neutral-200 dark:border-neutral-800/50 bg-white/80 dark:bg-neutral-900/80 backdrop-blur-sm theme-transition",style:{paddingBottom:"calc(1rem + var(--safe-area-bottom, 0px))"},children:jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx("textarea",{ref:u,value:e,onChange:f=>a(f.target.value),onKeyDown:h,placeholder:s,disabled:l||o,className:"flex-1 bg-neutral-100 dark:bg-neutral-800/50 text-neutral-900 dark:text-white placeholder-neutral-400 dark:placeholder-neutral-500 outline-none resize-none rounded-xl p-3 min-h-11 max-h-[120px] border border-neutral-200 dark:border-neutral-700/50 text-base theme-transition disabled:opacity-50",rows:1,enterKeyHint:"send"}),jsxRuntimeExports.jsx(motion.button,{onClick:r,disabled:!e.trim()||o||l,className:"px-5 py-2 rounded-xl bg-linear-to-r from-orange-500 to-orange-600 text-white disabled:opacity-50 flex items-center justify-center min-w-[60px]",whileHover:{scale:1.05},whileTap:{scale:.95},children:o?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}):jsxRuntimeExports.jsx(Send,{className:"w-4 h-4"})})]})})});function NewConversationModal({isOpen:t,onClose:e,onStart:a}){const[r,o]=reactExports.useState(""),[s,l]=reactExports.useState(!1),[c,u]=reactExports.useState(null),h=async()=>{if(r.trim()){l(!0),u(null);try{await a(r.trim())?(o(""),e()):u("Could not start conversation. Please check the nametag or public key.")}catch{u("Failed to start conversation. Please try again.")}finally{l(!1)}}},f=m=>{m.key==="Enter"&&!m.shiftKey&&(m.preventDefault(),h()),m.key==="Escape"&&e()};return jsxRuntimeExports.jsx(AnimatePresence,{children:t&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50",onClick:e}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-md z-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-white dark:bg-neutral-900 rounded-2xl shadow-2xl border border-neutral-200 dark:border-neutral-700/50 overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-neutral-200 dark:border-neutral-800/50 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-xl bg-linear-to-br from-orange-500 to-orange-600 flex items-center justify-center shadow-lg",children:jsxRuntimeExports.jsx(User,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-neutral-900 dark:text-white font-medium",children:"New Conversation"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"Start a private chat"})]})]}),jsxRuntimeExports.jsx(motion.button,{onClick:e,className:"p-2 rounded-lg bg-neutral-100 dark:bg-neutral-800/50 text-neutral-500 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-white hover:bg-neutral-200 dark:hover:bg-neutral-700/50 transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:jsxRuntimeExports.jsx(X,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm text-neutral-600 dark:text-neutral-400 mb-2",children:"Enter nametag or public key"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(AtSign,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-neutral-400"}),jsxRuntimeExports.jsx("input",{type:"text",value:r,onChange:m=>o(m.target.value),onKeyDown:f,placeholder:"e.g., alice or npub1...",className:"w-full pl-10 pr-4 py-3 bg-neutral-100 dark:bg-neutral-800/50 text-neutral-900 dark:text-white placeholder-neutral-400 rounded-xl border border-neutral-200 dark:border-neutral-700/50 focus:outline-none focus:border-orange-500 transition-colors",autoFocus:!0})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400 mt-2",children:"You can enter a nametag (without @) or a full Nostr public key"})]}),c&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-3 rounded-xl bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 text-sm",children:c})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t border-neutral-200 dark:border-neutral-800/50 flex gap-3",children:[jsxRuntimeExports.jsx(motion.button,{onClick:e,className:"flex-1 py-3 rounded-xl bg-neutral-100 dark:bg-neutral-800/50 text-neutral-700 dark:text-neutral-300 font-medium border border-neutral-200 dark:border-neutral-700/50 hover:bg-neutral-200 dark:hover:bg-neutral-700/50 transition-colors",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Cancel"}),jsxRuntimeExports.jsx(motion.button,{onClick:h,disabled:!r.trim()||s,className:"flex-1 py-3 rounded-xl bg-linear-to-r from-orange-500 to-orange-600 text-white font-medium disabled:opacity-50 flex items-center justify-center gap-2",whileHover:{scale:1.02},whileTap:{scale:.98},children:s?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}),jsxRuntimeExports.jsx("span",{children:"Starting..."})]}):jsxRuntimeExports.jsx("span",{children:"Start Chat"})})]})]})})]})})}const agents=[{id:"chat",name:"Chat",description:"DM and group messaging",Icon:MessageSquare,category:"Social",color:"from-blue-500 to-cyan-500",type:"chat"},{id:"ai",name:"Uncensored AI",description:"Viktor can assist with anything",Icon:Sparkles,category:"Assistant",color:"from-orange-500 to-amber-500",type:"simple-ai",greetingMessage:`Hi! I'm Viktor, your personal assistant.
I care a great deal about privacy. I don't know you, I don't log you, I don't even know your IP address. You are invisible here and nothing will be recorded about our conversation.
How can I help?`,backendActivityId:"ama",quickActions:[{label:"Research",message:"Research the latest news"},{label:"Explain",message:"Explain how something works"},{label:"Help",message:"Help me with a task"}]},{id:"trivia",name:"Unicity Trivia",description:"Test your knowledge!",Icon:Brain,category:"Entertainment",color:"from-indigo-500 to-cyan-500",type:"unified",greetingMessage:"Welcome to Trivia Challenge! I can quiz you on various topics. Say 'start' to begin, or ask for available categories!",backendActivityId:"trivia",quickActions:[{label:"Start game",message:"Start game"},{label:"Categories",message:"Show categories"},{label:"My score",message:"Show my score"},{label:"A",message:"A"},{label:"B",message:"B"},{label:"C",message:"C"},{label:"D",message:"D"}],contentType:"none"},{id:"games",name:"P2P Gaming",description:"Discover and play games",Icon:Gamepad2,category:"Entertainment",color:"from-purple-500 to-pink-500",type:"unified",greetingMessage:"Welcome to Unicity Gaming!  I can help you access our games. Ask me what games are available!",backendActivityId:"gaming",quickActions:[{label:"All games",message:"Show me all games"},{label:"Quake",message:"Tell me about Quake"}],contentType:"game"},{id:"sport",name:"P2P Prediction",description:"Sports prediction markets",Icon:Trophy,category:"Prediction",color:"from-emerald-500 to-teal-500",type:"ai-with-sidebar",greetingMessage:"Welcome to the P2P Prediction Marketplace!  Right now I'm only able to help you make predictions on sports games. I can help you check odds, make a prediction and show you what your active predictions are. What are we looking at ? English Premier League ? IPL ? Let me know and we can have some fun.",backendActivityId:"sports",quickActions:[{label:"Live odds",message:"Show me live odds"},{label:"My bets",message:"Show my bets"}],contentType:"match",hasSidebar:!0},{id:"p2p",name:"OTC",description:"Peer-to-peer trading",Icon:ShoppingBag,category:"Trading",color:"from-orange-500 to-red-500",type:"ai-with-sidebar",greetingMessage:"Welcome to OTC Madness! I'll help you navigate the world of over-the-counter crypto trading. Ready to post an offer or browse available deals?",backendActivityId:"p2p",quickActions:[{label:"Buy 20 ALPHA",message:"Buy 20 ALPHA"},{label:"Buy 100 ALPHA",message:"Buy 100 ALPHA"}],contentType:"product",hasSidebar:!0},{id:"merch",name:"Unicity Merch",description:"Merchandise store",Icon:Shirt,category:"Shopping",color:"from-yellow-500 to-orange-500",type:"ai-with-sidebar",greetingMessage:"Welcome to the Merch Store! Check out our exclusive merchandise. What are you looking for today?",backendActivityId:"merch",quickActions:[{label:"All items",message:"Show all merch"},{label:"Mugs",message:"Show mugs"},{label:"T-Shirts",message:"Show t-shirts"}],contentType:"merch",hasSidebar:!0},{id:"casino",name:"Agent Casino",description:"Verifiably Fair",Icon:Dices,category:"Entertainment",color:"from-red-500 to-pink-500",type:"simple-ai",greetingMessage:"Welcome to Agent Casino! Our games are verifiably fair using cryptographic proofs. Ready to try your luck?"},{id:"p2p-sports",name:"P2P Sports",description:"Private Betting",Icon:Trophy,category:"Prediction",color:"from-green-500 to-emerald-500",type:"simple-ai",greetingMessage:"Welcome to P2P Sports! Create private betting pools with friends. What sport interests you?"},{id:"p2p-derivatives",name:"P2P Derivatives",description:"Get Leverage",Icon:TrendingUp,category:"Trading",color:"from-blue-500 to-indigo-500",type:"simple-ai",greetingMessage:"Welcome to P2P Derivatives! Trade with leverage in a peer-to-peer marketplace. What would you like to trade?"},{id:"payday-loans",name:"P2P Payday Loans",description:"Instant approval",Icon:Banknote,category:"Finance",color:"from-lime-500 to-green-500",type:"simple-ai",greetingMessage:"Welcome to P2P Payday Loans! Get instant approval for short-term loans. How can I help you today?"},{id:"crypto-offramp",name:"P2P Crypto Offramp",description:"Convert to cash",Icon:CreditCard,category:"Trading",color:"from-cyan-500 to-blue-500",type:"simple-ai",greetingMessage:"Welcome to P2P Crypto Offramp! Convert your crypto to cash easily. What would you like to sell?"},{id:"fiat-onramp",name:"P2P Fiat Onramp",description:"Convert your cash",Icon:ArrowRightLeft,category:"Trading",color:"from-violet-500 to-purple-500",type:"simple-ai",greetingMessage:"Welcome to P2P Fiat Onramp! Convert your cash to crypto. What currency do you want to buy?"},{id:"friendly-miners",name:"Friendly Miners",description:"Buy hash rate",Icon:Cpu,category:"Mining",color:"from-amber-500 to-orange-500",type:"simple-ai",greetingMessage:"Welcome to Friendly Miners! Purchase hash rate from our network of miners. What are you looking for?"},{id:"buy-anything",name:"Buy Anything",description:"Get product now",Icon:Package,category:"Shopping",color:"from-rose-500 to-red-500",type:"simple-ai",greetingMessage:"Welcome to Buy Anything! Tell me what you're looking for and I'll help you find it."},{id:"sell-anything",name:"Sell Anything",description:"Get a quote",Icon:Tag,category:"Shopping",color:"from-teal-500 to-cyan-500",type:"simple-ai",greetingMessage:"Welcome to Sell Anything! Describe what you want to sell and I'll get you a quote."},{id:"get-uct",name:"Get UCT",description:"Get unicity tokens",Icon:Coins,category:"Tokens",color:"from-yellow-400 to-amber-500",type:"simple-ai",greetingMessage:"Welcome! I can help you acquire UCT (Unicity Tokens). How would you like to proceed?"},{id:"p2p-swaps",name:"P2P Swaps",description:"Swap tokens directly",Icon:Repeat,category:"Trading",color:"from-purple-500 to-fuchsia-500",type:"simple-ai",greetingMessage:"Welcome to P2P Swaps! Exchange tokens directly with other users."},{id:"medication",name:"Medication",description:"Health & wellness",Icon:Pill,category:"Health",color:"from-red-500 to-rose-500",type:"simple-ai",greetingMessage:"Welcome to Medication! I can help you with health and wellness information."},{id:"pokemon",name:"Pokemon",description:"Catch em all",Icon:Zap,category:"Entertainment",color:"from-yellow-500 to-red-500",type:"simple-ai",greetingMessage:"Welcome to Pokemon! Ready to start your adventure?"}];function getAgentConfig(t){return agents.find(e=>e.id===t)}function DMChatSection({onModeChange:t}){const e=useNavigate(),{selectedConversation:a,selectConversation:r,deleteConversation:o,startNewConversation:s,messages:l,isLoadingMessages:c,sendMessage:u,isSending:h,messageInput:f,setMessageInput:m,searchQuery:g,setSearchQuery:b,filteredConversations:w,totalUnreadCount:E}=useChat(),[C,B]=reactExports.useState(!1),[O,P]=reactExports.useState(!1),[q,z]=reactExports.useState(!1),[V,Z]=reactExports.useState(!1),J=reactExports.useRef(null),W=reactExports.useRef(null);reactExports.useEffect(()=>{function v(S){J.current&&!J.current.contains(S.target)&&Z(!1)}return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]),reactExports.useEffect(()=>{!h&&a&&window.innerWidth>=1024&&W.current?.focus({preventScroll:!0})},[h,a]),reactExports.useEffect(()=>{a&&window.innerWidth>=1024&&setTimeout(()=>{W.current?.focus({preventScroll:!0})},100)},[a]);const te=v=>{e(`/agents/${v}`),Z(!1)},G=agents.find(v=>v.id==="chat"),D=()=>{f.trim()&&u(f)},M=async v=>!!await s(v);return jsxRuntimeExports.jsxs("div",{className:"bg-white/60 dark:bg-neutral-900/70 backdrop-blur-xl rounded-3xl border border-neutral-200 dark:border-neutral-800/50 overflow-hidden grid grid-cols-1 lg:grid-cols-[auto_1fr] relative lg:shadow-xl dark:lg:shadow-2xl h-full min-h-0 theme-transition",children:[jsxRuntimeExports.jsx("div",{className:"absolute -top-20 -right-20 w-96 h-96 bg-blue-500/5 rounded-full blur-3xl"}),jsxRuntimeExports.jsx("div",{className:"absolute -bottom-20 -left-20 w-96 h-96 bg-purple-500/5 rounded-full blur-3xl"}),jsxRuntimeExports.jsx(DMConversationList,{conversations:w,selectedConversation:a,onSelect:v=>{r(v),B(!1)},onDelete:o,onNewConversation:()=>z(!0),searchQuery:g,onSearchChange:b,isOpen:C,onClose:()=>B(!1),isCollapsed:O,onCollapse:()=>P(!0),totalUnreadCount:E,onModeChange:t}),jsxRuntimeExports.jsxs("div",{className:"grid grid-rows-[auto_1fr_auto] z-10 min-w-0 h-full min-h-0",children:[jsxRuntimeExports.jsxs("div",{className:"shrink-0 p-4 border-b border-neutral-200 dark:border-neutral-800/50 flex items-center justify-between bg-linear-to-br from-white/80 dark:from-neutral-900/80 to-neutral-50/40 dark:to-neutral-800/40 backdrop-blur-sm relative z-20 theme-transition",children:[jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-orange-500/5 rounded-tr-full"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 relative z-10",children:[O&&jsxRuntimeExports.jsx(motion.button,{onClick:()=>P(!1),className:"hidden lg:flex p-2 rounded-lg bg-neutral-100 dark:bg-neutral-800/50 text-neutral-500 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-white hover:bg-neutral-200 dark:hover:bg-neutral-700/50 transition-colors border border-neutral-200 dark:border-neutral-700/50",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Expand sidebar",children:jsxRuntimeExports.jsx(PanelLeft,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx(motion.button,{onClick:()=>B(!0),className:"lg:hidden p-2 rounded-lg bg-neutral-100 dark:bg-neutral-800/50 text-neutral-500 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-white hover:bg-neutral-200 dark:hover:bg-neutral-700/50 transition-colors border border-neutral-200 dark:border-neutral-700/50",whileHover:{scale:1.1},whileTap:{scale:.9},children:jsxRuntimeExports.jsx(Menu,{className:"w-5 h-5"})}),jsxRuntimeExports.jsxs("div",{ref:J,className:"relative lg:hidden",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>Z(!V),className:"flex items-center gap-2 active:scale-95 transition-transform",children:[jsxRuntimeExports.jsx("div",{className:`p-2.5 rounded-xl bg-linear-to-br ${G.color}`,children:jsxRuntimeExports.jsx(G.Icon,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsx("span",{className:"text-lg text-neutral-900 dark:text-white font-medium",children:G.name}),jsxRuntimeExports.jsx(ChevronDown,{className:`w-4 h-4 text-neutral-500 dark:text-neutral-400 transition-transform ${V?"rotate-180":""}`})]}),jsxRuntimeExports.jsx(AnimatePresence,{children:V&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full left-0 mt-2 w-56 bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-700/50 rounded-xl shadow-xl overflow-hidden z-50",children:agents.map(v=>jsxRuntimeExports.jsxs("button",{onClick:()=>te(v.id),className:`w-full flex items-center gap-3 p-3 hover:bg-neutral-100 dark:hover:bg-neutral-800/50 transition-colors ${v.id==="chat"?"bg-neutral-100 dark:bg-neutral-800/80":""}`,children:[jsxRuntimeExports.jsx("div",{className:`p-2 rounded-lg bg-linear-to-br ${v.color}`,children:jsxRuntimeExports.jsx(v.Icon,{className:"w-4 h-4 text-white"})}),jsxRuntimeExports.jsx("span",{className:"text-neutral-900 dark:text-white text-sm",children:v.name})]},v.id))})})]}),jsxRuntimeExports.jsx("div",{className:"hidden lg:flex items-center gap-3",children:a?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs(motion.div,{whileHover:{scale:1.05},className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-orange-500 rounded-xl blur-lg opacity-50"}),jsxRuntimeExports.jsx("div",{className:"relative w-12 h-12 rounded-xl bg-linear-to-br from-orange-500 to-orange-600 flex items-center justify-center shadow-xl text-white font-medium",children:a.getAvatar()})]}),jsxRuntimeExports.jsx("h3",{className:"text-neutral-900 dark:text-white font-medium",children:a.getDisplayName()})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 rounded-xl bg-neutral-100 dark:bg-neutral-800/50 flex items-center justify-center border border-neutral-200 dark:border-neutral-700/50",children:jsxRuntimeExports.jsx(MessageCircle,{className:"w-6 h-6 text-neutral-400"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-neutral-900 dark:text-white font-medium",children:"Direct Messages"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Select a conversation to start"})]})]})})]})]}),a?jsxRuntimeExports.jsx(DMMessageList,{messages:l,isLoading:c}):jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center text-center p-8 min-h-0",children:[jsxRuntimeExports.jsx(motion.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},className:"w-24 h-24 rounded-2xl bg-neutral-100 dark:bg-neutral-800/50 flex items-center justify-center mb-4",children:jsxRuntimeExports.jsx(MessageCircle,{className:"w-12 h-12 text-neutral-400"})}),jsxRuntimeExports.jsx("p",{className:"text-neutral-500 dark:text-neutral-400",children:"Welcome to Direct Messages"}),jsxRuntimeExports.jsx("p",{className:"text-neutral-400 dark:text-neutral-500 text-sm mt-1",children:"Select a conversation or start a new one"}),jsxRuntimeExports.jsx(motion.button,{onClick:()=>z(!0),className:"mt-4 px-6 py-3 rounded-xl bg-linear-to-r from-orange-500 to-orange-600 text-white font-medium shadow-lg shadow-orange-500/30",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Start New Conversation"})]}),a&&jsxRuntimeExports.jsx("div",{className:"shrink-0 bg-white/95 dark:bg-neutral-900/95 backdrop-blur-sm theme-transition",children:jsxRuntimeExports.jsx(DMChatInput,{ref:W,value:f,onChange:m,onSend:D,isSending:h,placeholder:`Message ${a.getDisplayName()}...`})})]}),jsxRuntimeExports.jsx(NewConversationModal,{isOpen:q,onClose:()=>z(!1),onStart:M})]})}function ChatSection(){const[t,e]=reactExports.useState("dm"),[a,r]=reactExports.useState(!1),[o,s]=reactExports.useState(!1),l=c=>{e(c)};return t==="dm"?jsxRuntimeExports.jsx(DMChatSection,{onModeChange:l}):jsxRuntimeExports.jsxs("div",{className:"bg-white/60 dark:bg-neutral-900/70 backdrop-blur-xl rounded-3xl border border-neutral-200 dark:border-neutral-800/50 overflow-hidden grid grid-cols-1 lg:grid-cols-[auto_1fr] relative lg:shadow-xl dark:lg:shadow-2xl h-full min-h-0 theme-transition",children:[jsxRuntimeExports.jsx("div",{className:"absolute -top-20 -right-20 w-96 h-96 bg-blue-500/5 rounded-full blur-3xl"}),jsxRuntimeExports.jsx("div",{className:"absolute -bottom-20 -left-20 w-96 h-96 bg-purple-500/5 rounded-full blur-3xl"}),o&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"lg:hidden absolute inset-0 bg-black/50 z-40 rounded-3xl",onClick:()=>s(!1)}),jsxRuntimeExports.jsxs("div",{className:`
          w-72 border-r border-neutral-200 dark:border-neutral-800/50 flex flex-col z-50 overflow-hidden
          absolute lg:relative inset-y-0 left-0 min-h-0
          transform transition-all duration-300 ease-in-out
          ${o?"translate-x-0":"-translate-x-full lg:translate-x-0"}
          ${a?"lg:w-0 lg:border-0 lg:min-w-0":"lg:w-72"}
          bg-white/95 dark:bg-neutral-900/95 lg:bg-transparent backdrop-blur-xl lg:backdrop-blur-none rounded-l-3xl lg:rounded-none
        `,children:[jsxRuntimeExports.jsxs("div",{className:"shrink-0 p-4 border-b border-neutral-200 dark:border-neutral-800/50 bg-linear-to-br from-white/80 dark:from-neutral-900/80 to-neutral-50/40 dark:to-neutral-800/40 backdrop-blur-sm relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-0 right-0 w-24 h-24 bg-orange-500/5 rounded-bl-full"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-3 relative z-10",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("h3",{className:"text-neutral-900 dark:text-white font-medium",children:"Messages"}),jsxRuntimeExports.jsx(Sparkles,{className:"w-4 h-4 text-orange-500 animate-pulse"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(motion.button,{onClick:()=>r(!0),className:"hidden lg:flex p-2 rounded-lg bg-neutral-100 dark:bg-neutral-800/50 text-neutral-500 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-white hover:bg-neutral-200 dark:hover:bg-neutral-700/50 transition-colors border border-neutral-200 dark:border-neutral-700/50",title:"Collapse sidebar",whileHover:{scale:1.1},whileTap:{scale:.9},children:jsxRuntimeExports.jsx(PanelLeftClose,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx(motion.button,{onClick:()=>s(!1),className:"lg:hidden p-2 rounded-lg bg-neutral-100 dark:bg-neutral-800/50 text-neutral-500 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-white hover:bg-neutral-200 dark:hover:bg-neutral-700/50 transition-colors border border-neutral-200 dark:border-neutral-700/50",whileHover:{scale:1.1},whileTap:{scale:.9},children:jsxRuntimeExports.jsx(X,{className:"w-4 h-4"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-2 relative z-10",children:[jsxRuntimeExports.jsxs(motion.button,{className:"px-4 py-3 rounded-xl text-sm transition-all relative overflow-hidden bg-linear-to-br from-orange-500 to-orange-600 text-white shadow-lg shadow-orange-500/30",whileHover:{scale:1.02},whileTap:{scale:.98},children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-linear-to-tr from-white/0 via-white/20 to-white/0"}),jsxRuntimeExports.jsx(Hash$1,{className:"w-4 h-4 inline mr-2"}),jsxRuntimeExports.jsx("span",{className:"relative z-10",children:"Global"})]}),jsxRuntimeExports.jsxs(motion.button,{onClick:()=>l("dm"),className:"px-4 py-3 rounded-xl text-sm transition-all relative overflow-hidden bg-neutral-100 dark:bg-neutral-800/50 text-neutral-500 dark:text-neutral-400 hover:bg-neutral-200 dark:hover:bg-neutral-800 border border-neutral-200 dark:border-neutral-700/50",whileHover:{scale:1.02},whileTap:{scale:.98},children:[jsxRuntimeExports.jsx(User,{className:"w-4 h-4 inline mr-2"}),jsxRuntimeExports.jsx("span",{children:"DM"})]})]})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto p-3",children:jsxRuntimeExports.jsx("p",{className:"text-neutral-400 dark:text-neutral-500 text-xs text-center mt-4",children:"Channels coming soon"})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-rows-[auto_1fr] z-10 min-w-0 h-full min-h-0",children:[jsxRuntimeExports.jsxs("div",{className:"shrink-0 p-4 border-b border-neutral-200 dark:border-neutral-800/50 flex items-center gap-3 bg-linear-to-br from-white/80 dark:from-neutral-900/80 to-neutral-50/40 dark:to-neutral-800/40 backdrop-blur-sm relative z-20 theme-transition",children:[a&&jsxRuntimeExports.jsx(motion.button,{onClick:()=>r(!1),className:"hidden lg:flex p-2 rounded-lg bg-neutral-100 dark:bg-neutral-800/50 text-neutral-500 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-white hover:bg-neutral-200 dark:hover:bg-neutral-700/50 transition-colors border border-neutral-200 dark:border-neutral-700/50",whileHover:{scale:1.1},whileTap:{scale:.9},title:"Expand sidebar",children:jsxRuntimeExports.jsx(PanelLeft,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx(motion.button,{onClick:()=>s(!0),className:"lg:hidden p-2 rounded-lg bg-neutral-100 dark:bg-neutral-800/50 text-neutral-500 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-white hover:bg-neutral-200 dark:hover:bg-neutral-700/50 transition-colors border border-neutral-200 dark:border-neutral-700/50",whileHover:{scale:1.1},whileTap:{scale:.9},children:jsxRuntimeExports.jsx(Menu,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-xl bg-neutral-100 dark:bg-neutral-800/50 flex items-center justify-center border border-neutral-200 dark:border-neutral-700/50",children:jsxRuntimeExports.jsx(Hash$1,{className:"w-5 h-5 text-neutral-400"})}),jsxRuntimeExports.jsx("h3",{className:"text-neutral-900 dark:text-white font-medium",children:"Global Chat"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center p-8 relative z-10",children:[jsxRuntimeExports.jsx("div",{className:"w-20 h-20 rounded-2xl bg-neutral-100 dark:bg-neutral-800/50 flex items-center justify-center mb-4",children:jsxRuntimeExports.jsx(Globe,{className:"w-10 h-10 text-neutral-400"})}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-medium text-neutral-900 dark:text-white mb-2",children:"Coming Soon"}),jsxRuntimeExports.jsx("p",{className:"text-neutral-500 dark:text-neutral-400 text-sm",children:"Global chat is under development"})]})]})]})}function ChatContainer({children:t,bgGradient:e={from:"bg-indigo-500/5",to:"bg-cyan-500/5"}}){return jsxRuntimeExports.jsxs("div",{className:"bg-white/60 dark:bg-neutral-900/70 backdrop-blur-xl rounded-3xl border border-neutral-200 dark:border-neutral-800/50 overflow-hidden grid grid-rows-1 relative lg:shadow-xl dark:lg:shadow-2xl h-full min-h-0 theme-transition",children:[jsxRuntimeExports.jsx("div",{className:`absolute -top-20 -right-20 w-96 h-96 ${e.from} rounded-full blur-3xl`}),jsxRuntimeExports.jsx("div",{className:`absolute -bottom-20 -left-20 w-96 h-96 ${e.to} rounded-full blur-3xl`}),t]})}function ChatHeader({agent:t,rightContent:e,onToggleSidebar:a,onExpandSidebar:r,showMenuButton:o,sidebarCollapsed:s}){const l=useNavigate(),[c,u]=reactExports.useState(!1),h=reactExports.useRef(null);reactExports.useEffect(()=>{function m(g){h.current&&!h.current.contains(g.target)&&u(!1)}return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]);const f=m=>{l(`/agents/${m}`),u(!1)};return jsxRuntimeExports.jsx("div",{className:"p-4 border-b border-neutral-200 dark:border-neutral-800/50 relative z-20 theme-transition",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[o&&s&&r&&jsxRuntimeExports.jsx(motion.button,{onClick:r,className:"hidden lg:block p-2 rounded-xl bg-neutral-100 dark:bg-neutral-800/50 text-neutral-500 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-white hover:bg-neutral-200 dark:hover:bg-neutral-700/50 transition-colors border border-neutral-200 dark:border-neutral-700/50",whileHover:{scale:1.05},whileTap:{scale:.95},title:"Expand sidebar",children:jsxRuntimeExports.jsx(PanelLeft,{className:"w-5 h-5"})}),o&&a&&jsxRuntimeExports.jsx(motion.button,{onClick:a,className:"lg:hidden p-2 rounded-xl bg-neutral-100 dark:bg-neutral-800/50 text-neutral-500 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-white hover:bg-neutral-200 dark:hover:bg-neutral-700/50 transition-colors border border-neutral-200 dark:border-neutral-700/50",whileHover:{scale:1.05},whileTap:{scale:.95},children:jsxRuntimeExports.jsx(Menu,{className:"w-5 h-5"})}),jsxRuntimeExports.jsxs("div",{ref:h,className:"relative lg:hidden",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>u(!c),className:"flex items-center gap-2 active:scale-95 transition-transform",children:[jsxRuntimeExports.jsx("div",{className:`p-2.5 rounded-xl bg-linear-to-br ${t.color}`,children:jsxRuntimeExports.jsx(t.Icon,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsx("span",{className:"text-lg text-neutral-900 dark:text-white font-medium",children:t.name}),jsxRuntimeExports.jsx(ChevronDown,{className:`w-4 h-4 text-neutral-500 dark:text-neutral-400 transition-transform ${c?"rotate-180":""}`})]}),jsxRuntimeExports.jsx(AnimatePresence,{children:c&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-full left-0 mt-2 w-56 bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-700/50 rounded-xl shadow-xl overflow-hidden",children:agents.map(m=>jsxRuntimeExports.jsxs("button",{onClick:()=>f(m.id),className:`w-full flex items-center gap-3 p-3 hover:bg-neutral-100 dark:hover:bg-neutral-800/50 transition-colors ${m.id===t.id?"bg-neutral-100 dark:bg-neutral-800/80":""}`,children:[jsxRuntimeExports.jsx("div",{className:`p-2 rounded-lg bg-linear-to-br ${m.color}`,children:jsxRuntimeExports.jsx(m.Icon,{className:"w-4 h-4 text-white"})}),jsxRuntimeExports.jsx("span",{className:"text-neutral-900 dark:text-white text-sm",children:m.name})]},m.id))})})]}),jsxRuntimeExports.jsxs("div",{className:"hidden lg:flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:`p-2.5 rounded-xl bg-linear-to-br ${t.color}`,children:jsxRuntimeExports.jsx(t.Icon,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-lg text-neutral-900 dark:text-white font-medium",children:t.name}),jsxRuntimeExports.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:t.description})]})]})]}),e]})})}function CodeBlock({code:t,language:e,keyPrefix:a}){const[r,o]=reactExports.useState(!1),s=async()=>{await navigator.clipboard.writeText(t),o(!0),setTimeout(()=>o(!1),2e3)};return jsxRuntimeExports.jsxs("div",{className:"relative group my-3 rounded-xl overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-neutral-200 dark:bg-neutral-800 border-b border-neutral-300 dark:border-neutral-700",children:[jsxRuntimeExports.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400 font-mono",children:e||"code"}),jsxRuntimeExports.jsx("button",{onClick:s,className:"flex items-center gap-1.5 text-xs text-neutral-500 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-white transition-colors",children:r?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Check,{className:"w-3.5 h-3.5 text-green-400"}),jsxRuntimeExports.jsx("span",{className:"text-green-400",children:"Copied!"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Copy,{className:"w-3.5 h-3.5"}),jsxRuntimeExports.jsx("span",{children:"Copy"})]})})]}),jsxRuntimeExports.jsx("pre",{className:"p-4 bg-neutral-100 dark:bg-neutral-900 overflow-x-auto",children:jsxRuntimeExports.jsx("code",{className:"text-sm text-neutral-800 dark:text-neutral-200 font-mono whitespace-pre",children:t})})]},a)}function MathBlock({latex:t,displayMode:e,keyPrefix:a}){const[r,o]=reactExports.useState(null),[s,l]=reactExports.useState("");return React.useEffect(()=>{try{__vitePreload(()=>import("./katex-XbL3y5x-.js"),[]).then(c=>{const u=c.default.renderToString(t,{displayMode:e,throwOnError:!1,errorColor:"#ef4444",strict:!1,trust:!1});l(u),o(null)}).catch(c=>{o(c instanceof Error?c.message:"Failed to load KaTeX")})}catch(c){o(c instanceof Error?c.message:"Failed to render LaTeX")}},[t,e]),r?jsxRuntimeExports.jsx("div",{className:`my-2 p-3 rounded-lg border-2 border-red-400 dark:border-red-600 bg-red-50 dark:bg-red-900/20 ${e?"block":"inline-block"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-red-600 dark:text-red-400 font-mono",children:""}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("div",{className:"text-red-700 dark:text-red-300 font-semibold mb-1",children:"LaTeX Error"}),jsxRuntimeExports.jsx("pre",{className:"text-xs text-neutral-600 dark:text-neutral-400 font-mono overflow-x-auto",children:t}),r&&jsxRuntimeExports.jsx("div",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:r})]})]})},a):jsxRuntimeExports.jsx("div",{className:`my-2 ${e?"text-center overflow-x-auto":"inline"}`,dangerouslySetInnerHTML:{__html:s},role:"math","aria-label":`Math formula: ${t}`},a)}function replaceMathPlaceholders(t,e,a,r){const o="\0MATH",s=[],l=new RegExp(`${o}(\\d+)\0`,"g");let c=0,u,h=r;for(;(u=l.exec(t))!==null;){u.index>c&&s.push(t.slice(c,u.index));const f=parseInt(u[1],10);s.push(jsxRuntimeExports.jsx(MathBlock,{latex:e[f],displayMode:!1,keyPrefix:`math-inline-${h}`},`${a}-math-${h++}`)),c=u.index+u[0].length}return c<t.length&&s.push(t.slice(c)),s.length>0?s:[t]}function parseInline(t,e){const a=t.replace(/\\([*_`[\]()#+-.|!\\])/g,"$1"),r=[],o="\0MATH",s=a.replace(new RegExp("(?<!\\\\)((?:\\\\\\\\)*)\\\\\\((.+?)\\\\\\)","g"),(m,g,b)=>{if(g&&g.length%2===1)return m.slice(1);const w=r.push(b)-1;return`${o}${w}\0`}),l=[];let c=0;const u=/(\*\*(.+?)\*\*|\*([^\s*](?:[^*]*[^\s*])?)\*|_([^_]+?)_|`([^`]+?)`|<br\s*\/?>|<b>(.+?)<\/b>|<strong>(.+?)<\/strong>|<i>(.+?)<\/i>|<em>(.+?)<\/em>|<code>(.+?)<\/code>|<a\s+href=["']([^"']+)["']>(.+?)<\/a>|\[([^\]]+)\]\(((?:[^\s()]|\([^\s)]*\))+)(?:\s+"([^"]+)")?\)|!\[([^\]]*)\]\(((?:[^()]|\([^)]*\))+)\)|(https?:\/\/[^\s<>[\]()]+[^\s<>[\]().,;:!?'"]))/gi;let h=0,f;for(;(f=u.exec(s))!==null;){if(f.index>h){const m=s.slice(h,f.index);l.push(...replaceMathPlaceholders(m,r,e,c)),c+=r.length}if(f[2]){const m=replaceMathPlaceholders(f[2],r,`${e}-bold`,c);l.push(jsxRuntimeExports.jsx("strong",{children:m},`${e}-strong-${c++}`))}else if(f[3]){const m=replaceMathPlaceholders(f[3],r,`${e}-italic`,c);l.push(jsxRuntimeExports.jsx("em",{children:m},`${e}-em-${c++}`))}else if(f[4]){const m=replaceMathPlaceholders(f[4],r,`${e}-italic2`,c);l.push(jsxRuntimeExports.jsx("em",{children:m},`${e}-em2-${c++}`))}else if(f[5])l.push(jsxRuntimeExports.jsx("code",{className:"bg-neutral-200 dark:bg-neutral-700/50 text-neutral-900 dark:text-neutral-200 px-1.5 py-0.5 rounded text-sm font-mono",children:f[5]},`${e}-code-${c++}`));else if(f[0].toLowerCase().startsWith("<br"))l.push(jsxRuntimeExports.jsx("br",{},`${e}-br-${c++}`));else if(f[6]){const m=replaceMathPlaceholders(f[6],r,`${e}-b`,c);l.push(jsxRuntimeExports.jsx("strong",{children:m},`${e}-b-${c++}`))}else if(f[7]){const m=replaceMathPlaceholders(f[7],r,`${e}-strong`,c);l.push(jsxRuntimeExports.jsx("strong",{children:m},`${e}-strong2-${c++}`))}else if(f[8]){const m=replaceMathPlaceholders(f[8],r,`${e}-i`,c);l.push(jsxRuntimeExports.jsx("em",{children:m},`${e}-i-${c++}`))}else if(f[9]){const m=replaceMathPlaceholders(f[9],r,`${e}-em`,c);l.push(jsxRuntimeExports.jsx("em",{children:m},`${e}-em3-${c++}`))}else if(f[10])l.push(jsxRuntimeExports.jsx("code",{className:"bg-neutral-200 dark:bg-neutral-700/50 text-neutral-900 dark:text-neutral-200 px-1.5 py-0.5 rounded text-sm font-mono",children:f[10]},`${e}-code2-${c++}`));else if(f[11]&&f[12]){const m=replaceMathPlaceholders(f[12],r,`${e}-a`,c);l.push(jsxRuntimeExports.jsx("a",{href:f[11],target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:text-blue-500 dark:hover:text-blue-300 underline",children:m},`${e}-a-${c++}`))}else if(f[13]&&f[14]){const m=replaceMathPlaceholders(f[13],r,`${e}-link`,c),g=f[15];l.push(jsxRuntimeExports.jsx("a",{href:f[14],target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:text-blue-500 dark:hover:text-blue-300 underline",title:g||void 0,children:m},`${e}-link-${c++}`))}else if(f[17]){const m=f[16]||"image",g=f[17];l.push(jsxRuntimeExports.jsx("img",{src:g,alt:m,className:"max-w-full h-auto rounded-lg my-2 border border-neutral-300 dark:border-neutral-700/50",loading:"lazy"},`${e}-img-${c++}`))}else if(f[18]){const m=f[18];l.push(jsxRuntimeExports.jsx("a",{href:m,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:text-blue-500 dark:hover:text-blue-300 underline break-all",children:m},`${e}-url-${c++}`))}h=f.index+f[0].length}if(h<s.length){const m=s.slice(h);l.push(...replaceMathPlaceholders(m,r,e,c))}return l.length>0?l:[t]}function splitTableRow(t){const e=[];let a="",r=!1,o=!1,s=0,l=!1;for(let c=0;c<t.length;c++){const u=t[c];if(o){a+=u,o=!1;continue}if(u==="\\"){o=!0,a+=u;continue}if(u==="["){s++,a+=u;continue}if(u==="]"&&s>0){s--,a+=u,s===0&&c+1<t.length&&t[c+1]==="("&&(l=!0);continue}if(u==='"'&&(l||r)){r=!r,a+=u;continue}if(u===")"&&l&&!r){l=!1,a+=u;continue}if(u==="|"&&!r&&s===0&&!l){e.push(a),a="";continue}a+=u}return(a||t.endsWith("|"))&&e.push(a),e.slice(1,-1).map(c=>c.trim())}function parseTable(t,e){const a=t.filter(s=>!s.match(/^\|[\s-:|]+\|$/)).map(s=>splitTableRow(s));if(a.length===0)return null;const[r,...o]=a;return jsxRuntimeExports.jsx("div",{className:"overflow-x-auto my-2",children:jsxRuntimeExports.jsxs("table",{className:"w-full text-sm border-collapse",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsx("tr",{className:"border-b border-neutral-300 dark:border-neutral-600",children:r.map((s,l)=>jsxRuntimeExports.jsx("th",{className:"text-left p-2 font-semibold text-neutral-800 dark:text-neutral-200",children:parseInline(s,`${e}-th-${l}`)},l))})}),jsxRuntimeExports.jsx("tbody",{children:o.map((s,l)=>jsxRuntimeExports.jsx("tr",{className:"border-b border-neutral-200 dark:border-neutral-700/50 hover:bg-neutral-100 dark:hover:bg-neutral-700/20",children:s.map((c,u)=>jsxRuntimeExports.jsx("td",{className:"p-2 text-neutral-700 dark:text-neutral-300",children:parseInline(c,`${e}-td-${l}-${u}`)},u))},l))})]})},e)}function parseHeader(t,e){const a=t.match(/^(#{1,6})\s+(.+)$/);if(!a)return null;const r=a[1].length,o=a[2],s={1:"text-2xl font-bold text-neutral-900 dark:text-white mt-4 mb-2",2:"text-xl font-bold text-neutral-900 dark:text-white mt-3 mb-2",3:"text-lg font-semibold text-neutral-800 dark:text-neutral-100 mt-3 mb-1",4:"text-base font-semibold text-neutral-700 dark:text-neutral-200 mt-2 mb-1",5:"text-sm font-semibold text-neutral-600 dark:text-neutral-300 mt-2 mb-1",6:"text-sm font-medium text-neutral-500 dark:text-neutral-400 mt-2 mb-1"},l=parseInline(o,`${e}-h`);switch(r){case 1:return jsxRuntimeExports.jsx("h1",{className:s[1],children:l},e);case 2:return jsxRuntimeExports.jsx("h2",{className:s[2],children:l},e);case 3:return jsxRuntimeExports.jsx("h3",{className:s[3],children:l},e);case 4:return jsxRuntimeExports.jsx("h4",{className:s[4],children:l},e);case 5:return jsxRuntimeExports.jsx("h5",{className:s[5],children:l},e);case 6:return jsxRuntimeExports.jsx("h6",{className:s[6],children:l},e);default:return jsxRuntimeExports.jsx("p",{className:s[1],children:l},e)}}function MarkdownContent({text:t}){const e=[];let a=0;const r=t.split(`
`);let o=0;for(;o<r.length;){const s=r[o];if(s.includes("\\[")){const c=s.match(/\\\\?\[/);if(c&&c[0]==="\\["){const u=s.slice(0,c.index),h=s.slice(c.index+2);u.trim()&&e.push(jsxRuntimeExports.jsx("p",{className:"leading-relaxed",children:parseInline(u,`line-${a}`)},`p-${a++}`));const f=[];let m=h,g=!1;for(;o<r.length;){const b=m.match(/\\\\?\]/);if(b&&b[0]==="\\]"){f.push(m.slice(0,b.index));const w=m.slice(b.index+2);g=!0;const E=f.join(`
`).trim();e.push(jsxRuntimeExports.jsx(MathBlock,{latex:E,displayMode:!0,keyPrefix:`mathblock-${a}`},`math-${a++}`)),w.trim()&&e.push(jsxRuntimeExports.jsx("p",{className:"leading-relaxed",children:parseInline(w,`line-${a}`)},`p-${a++}`)),o++;break}else if(f.push(m),o++,o<r.length)m=r[o];else{g=!1;break}}if(!g){const b="\\["+f.join(`
`);e.push(jsxRuntimeExports.jsx("p",{className:"leading-relaxed",children:parseInline(b,`line-${a}`)},`p-${a++}`))}continue}else if(c&&c[0]==="\\\\["){const u=s.replace("\\\\[","\\[");e.push(jsxRuntimeExports.jsx("p",{className:"leading-relaxed",children:parseInline(u,`line-${a}`)},`p-${a++}`)),o++;continue}}if(s.trim().startsWith("```")){const c=s.trim().slice(3).trim(),u=[];for(o++;o<r.length&&!r[o].trim().startsWith("```");)u.push(r[o]),o++;o++;const h=u.join(`
`);e.push(jsxRuntimeExports.jsx(CodeBlock,{code:h,language:c,keyPrefix:`codeblock-${a}`},`code-${a++}`));continue}if(s.trim().match(/^#{1,6}\s+/)){const c=parseHeader(s.trim(),`header-${a++}`);if(c){e.push(c),o++;continue}}if(s.trim().match(/^([-*_])\1{2,}$/)){e.push(jsxRuntimeExports.jsx("hr",{className:"my-4 border-t border-neutral-300 dark:border-neutral-700"},`hr-${a++}`)),o++;continue}if(s.trim().startsWith("|")&&s.trim().endsWith("|")){const c=[];for(;o<r.length&&r[o].trim().startsWith("|")&&r[o].trim().endsWith("|");)c.push(r[o]),o++;c.length>=2&&e.push(parseTable(c,`table-${a++}`));continue}if(s.match(/^(\s*)([*-])\s+(.*)$/)){const c=[];for(;o<r.length;){const u=r[o].match(/^(\s*)([*-])\s+(.*)$/);if(u)c.push({content:u[3]}),o++;else break}c.length>0&&e.push(jsxRuntimeExports.jsx("ul",{className:"list-disc list-inside space-y-1 ml-1",children:c.map((u,h)=>jsxRuntimeExports.jsx("li",{className:"text-neutral-800 dark:text-neutral-200",children:parseInline(u.content,`li-${a}-${h}`)},h))},`ul-${a++}`));continue}if(s.trim()===""){e.push(jsxRuntimeExports.jsx("div",{className:"h-2"},`space-${a++}`)),o++;continue}e.push(jsxRuntimeExports.jsx("p",{className:"leading-relaxed",children:parseInline(s,`line-${a}`)},`p-${a++}`)),o++}return jsxRuntimeExports.jsx("div",{className:"space-y-1",children:e})}function AnimatedDots({color:t}){return jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("div",{className:`w-1.5 h-1.5 ${t} rounded-full animate-bounce`}),jsxRuntimeExports.jsx("div",{className:`w-1.5 h-1.5 ${t} rounded-full animate-bounce`,style:{animationDelay:"0.1s"}}),jsxRuntimeExports.jsx("div",{className:`w-1.5 h-1.5 ${t} rounded-full animate-bounce`,style:{animationDelay:"0.2s"}})]})}function ChatBubble({role:t,content:e,agentName:a,agentColor:r,thinking:o,showCopy:s=!1,isCopied:l=!1,onCopy:c,children:u,isStreaming:h=!1,currentStatus:f=null}){const m=g=>g.includes("indigo")?"bg-indigo-500":g.includes("emerald")||g.includes("teal")?"bg-emerald-500":g.includes("orange")||g.includes("red")?"bg-orange-500":g.includes("purple")||g.includes("pink")?"bg-purple-500":"bg-indigo-500";return jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`flex ${t==="user"?"justify-end":"justify-start"}`,children:jsxRuntimeExports.jsxs("div",{className:`max-w-[85%] rounded-2xl p-4 ${t==="user"?`bg-linear-to-br ${r} text-white shadow-lg`:"bg-neutral-100 dark:bg-neutral-800/80 backdrop-blur-xl border border-neutral-200 dark:border-neutral-700/50 text-neutral-800 dark:text-neutral-200"}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t==="assistant"&&jsxRuntimeExports.jsx("div",{className:`w-5 h-5 rounded-full bg-linear-to-br ${r} flex items-center justify-center`,children:jsxRuntimeExports.jsx(Sparkles,{className:"w-2.5 h-2.5 text-white"})}),jsxRuntimeExports.jsx("span",{className:`text-xs ${t==="user"?"text-white/80":"text-neutral-500 dark:text-neutral-400"}`,children:t==="user"?"You":a})]}),t==="assistant"&&(h||o)&&jsxRuntimeExports.jsx("div",{className:"mb-2",children:jsxRuntimeExports.jsxs("details",{className:"group",children:[jsxRuntimeExports.jsxs("summary",{className:"flex items-center gap-2 text-xs text-neutral-400 dark:text-neutral-500 cursor-pointer list-none",children:[h&&jsxRuntimeExports.jsx(AnimatedDots,{color:m(r)}),jsxRuntimeExports.jsx("span",{children:f||"Thinking..."}),o&&jsxRuntimeExports.jsx("span",{className:"text-neutral-300 dark:text-neutral-600 ml-1",children:""})]}),o&&jsxRuntimeExports.jsx("div",{className:"mt-2 pl-1",children:jsxRuntimeExports.jsx("p",{className:"text-xs text-neutral-400 dark:text-neutral-500 italic leading-relaxed",children:o})})]})}),e&&e.trim()&&jsxRuntimeExports.jsx("div",{className:"leading-relaxed",children:jsxRuntimeExports.jsx(MarkdownContent,{text:e})}),u,s&&t==="assistant"&&e&&c&&jsxRuntimeExports.jsx("button",{onClick:c,className:"mt-3 flex items-center gap-1 text-xs text-neutral-400 dark:text-neutral-500 hover:text-neutral-600 dark:hover:text-neutral-300 transition-colors",children:l?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Check,{className:"w-3 h-3 text-green-500 dark:text-green-400"}),jsxRuntimeExports.jsx("span",{className:"text-green-500 dark:text-green-400",children:"Copied!"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Copy,{className:"w-3 h-3"}),jsxRuntimeExports.jsx("span",{children:"Copy"})]})})]})})}const ChatInput=reactExports.forwardRef(function t({value:e,onChange:a,onSend:r,onKeyDown:o,placeholder:s="Type a message...",disabled:l=!1,isStreaming:c=!1,onStop:u,agentColor:h},f){const m=reactExports.useRef(null);return reactExports.useImperativeHandle(f,()=>m.current,[]),jsxRuntimeExports.jsx("div",{className:"p-4 border-t border-neutral-200 dark:border-neutral-800/50 bg-white/80 dark:bg-neutral-900/80 backdrop-blur-sm theme-transition",style:{paddingBottom:"calc(1rem + var(--safe-area-bottom, 0px))"},children:jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx("textarea",{ref:m,value:e,onChange:g=>a(g.target.value),onKeyDown:o,placeholder:s,className:"flex-1 bg-neutral-100 dark:bg-neutral-800/50 text-neutral-900 dark:text-white placeholder-neutral-400 dark:placeholder-neutral-500 outline-none resize-none rounded-xl p-3 min-h-11 max-h-[120px] border border-neutral-200 dark:border-neutral-700/50 text-base theme-transition",rows:1,disabled:l||c,enterKeyHint:"send"}),c&&u?jsxRuntimeExports.jsx(motion.button,{onClick:u,className:`px-5 py-2 rounded-xl bg-linear-to-r ${h} text-white`,whileHover:{scale:1.05},whileTap:{scale:.95},children:jsxRuntimeExports.jsx(Square,{className:"w-4 h-4"})}):jsxRuntimeExports.jsx(motion.button,{onClick:r,disabled:!e.trim()||l,className:`px-5 py-2 rounded-xl bg-linear-to-r ${h} text-white disabled:opacity-50`,whileHover:{scale:1.05},whileTap:{scale:.95},children:jsxRuntimeExports.jsx(Send,{className:"w-4 h-4"})})]})})});function QuickActions({actions:t,onAction:e,disabled:a=!1}){if(!t.length)return null;const r=l=>l.length===1,o=t.filter(l=>!r(l.label)),s=t.filter(l=>r(l.label));return jsxRuntimeExports.jsxs("div",{className:"px-4 py-2 border-t border-neutral-200/50 dark:border-neutral-800/30 relative z-10 space-y-2",children:[o.length>0&&jsxRuntimeExports.jsx("div",{className:"flex gap-2 overflow-x-auto scrollbar-hide",children:o.map(l=>jsxRuntimeExports.jsx("button",{onClick:()=>e(l.message),disabled:a,className:"px-3 py-1.5 rounded-lg bg-neutral-100 dark:bg-neutral-800/50 text-neutral-600 dark:text-neutral-400 text-sm hover:bg-neutral-200 dark:hover:bg-neutral-700/50 hover:text-neutral-900 dark:hover:text-white transition-colors whitespace-nowrap disabled:opacity-50",children:l.label},l.label))}),s.length>0&&jsxRuntimeExports.jsx("div",{className:"flex gap-2",children:s.map(l=>jsxRuntimeExports.jsx("button",{onClick:()=>e(l.message),disabled:a,className:"w-8 h-8 flex items-center justify-center rounded-lg bg-neutral-100 dark:bg-neutral-800/50 text-neutral-600 dark:text-neutral-400 text-sm hover:bg-neutral-200 dark:hover:bg-neutral-700/50 hover:text-neutral-900 dark:hover:text-white transition-colors disabled:opacity-50",children:l.label},l.label))})]})}function AgentChat({agent:t,sidebarConfig:e,getMockResponse:a,processMessage:r,renderMessageCard:o,actionConfig:s,transactionConfig:l,detailsConfig:c,renderMessageActions:u,additionalContent:h,bgGradient:f={from:"bg-indigo-500/5",to:"bg-cyan-500/5"}}){const[m,g]=reactExports.useState(""),[b,w]=reactExports.useState([]),[E,C]=reactExports.useState(null),[B,O]=reactExports.useState(!1),[P,q]=reactExports.useState(!1),[z,V]=reactExports.useState(null),[Z,J]=reactExports.useState("confirm"),[W,te]=reactExports.useState(!1),[G,D]=reactExports.useState(null),[M,v]=reactExports.useState(!1),[S,N]=reactExports.useState(!1),R=reactExports.useRef(null),k=reactExports.useRef(null),j=reactExports.useRef(!1),I=reactExports.useRef(t.id),{nametag:A}=useWallet(),{messages:$,setMessages:L,isStreaming:Y,currentStatus:le,sendMessage:re,stopGeneration:U,agentMode:K}=useAgentChat({activityId:t.backendActivityId||t.id,userId:A??void 0}),se=K==="mock",he=Y,ue=async(Ae,Ce)=>{try{if(navigator.clipboard&&navigator.clipboard.writeText)await navigator.clipboard.writeText(Ae);else{const Te=document.createElement("textarea");Te.value=Ae,Te.style.position="fixed",Te.style.left="-9999px",document.body.appendChild(Te),Te.select(),document.execCommand("copy"),document.body.removeChild(Te)}C(Ce),setTimeout(()=>C(null),2e3)}catch{console.warn("Failed to copy text")}};reactExports.useEffect(()=>{I.current!==t.id&&(I.current=t.id,w([]),g(""),j.current=!1,L([]))},[t.id,L,se]),reactExports.useEffect(()=>{w(Ae=>$.map(Te=>{const ye=Ae.find(qe=>qe.id===Te.id),Fe={...Te,cardData:ye?.cardData,showActionButton:ye?.showActionButton};return r?r(Fe,Ae):Fe}))},[$,se,r]),reactExports.useEffect(()=>{e&&localStorage.setItem(e.storageKey,JSON.stringify(e.items))},[e?.items,e?.storageKey,e]),reactExports.useEffect(()=>{!j.current&&b.length===0&&t.greetingMessage&&(j.current=!0,L([{id:"greeting",role:"assistant",content:t.greetingMessage,timestamp:Date.now()}]))},[t.greetingMessage,b.length,L,se]);const ee=reactExports.useCallback((Ae=!1)=>{const Ce=R.current;Ce&&Ce.scrollTo({top:Ce.scrollHeight,behavior:Ae?"instant":"smooth"})},[]);reactExports.useEffect(()=>{ee()},[b,he,ee]),reactExports.useEffect(()=>{!he&&window.innerWidth>=1024&&k.current?.focus({preventScroll:!0})},[he]),reactExports.useEffect(()=>{const Ae=k.current;if(!Ae)return;const Ce=()=>{window.innerWidth<1024&&setTimeout(()=>{ee(!0)},300)};return Ae.addEventListener("focus",Ce),()=>Ae.removeEventListener("focus",Ce)},[ee]);const fe=async Ae=>{const Ce=Ae||m;!Ce.trim()||he||(Ce.toLowerCase(),g(""),window.innerWidth>=1024&&setTimeout(()=>{k.current?.focus({preventScroll:!0})},0),await re(Ce))},ge=Ae=>{Ae.key==="Enter"&&!Ae.shiftKey&&(Ae.preventDefault(),fe())},xe=Ae=>{he||fe(Ae)},_e=Ae=>{l?(V(Ae),J("confirm"),q(!0)):s&&s.onAction(Ae)},Ie=async()=>{if(!z||!l||!e)return;J("processing");const Ae=await l.onConfirm(z);e.setItems(Ce=>[Ae,...Ce]),J("success")},De=()=>{q(!1),V(null)},$e=()=>{w([]),L([]),j.current=!1},Ue=Ae=>{c&&(D(Ae),te(!0))},Be=Ae=>s?typeof s.label=="function"?s.label(Ae):s.label:"",Ve=()=>e?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(AnimatePresence,{children:M&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"lg:hidden absolute inset-0 bg-black/50 z-40 rounded-3xl",onClick:()=>v(!1)})}),jsxRuntimeExports.jsxs("div",{className:`
          w-56 border-r border-neutral-200 dark:border-neutral-800/50 flex flex-col z-50 overflow-hidden
          absolute lg:relative inset-y-0 left-0
          transform transition-all duration-300 ease-in-out
          ${M?"translate-x-0":"-translate-x-full lg:translate-x-0"}
          ${S?"lg:w-0 lg:border-0 lg:min-w-0":"lg:w-56"}
          bg-white/95 dark:bg-neutral-900/95 lg:bg-transparent dark:lg:bg-transparent backdrop-blur-xl lg:backdrop-blur-none rounded-l-3xl lg:rounded-none
        `,children:[jsxRuntimeExports.jsx("div",{className:"p-4 border-b border-neutral-200 dark:border-neutral-800/50",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("h3",{className:"text-neutral-900 dark:text-white font-medium",children:e.title}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(motion.button,{onClick:$e,className:`p-2 rounded-lg bg-linear-to-br ${t.color} text-white`,whileHover:{scale:1.05},whileTap:{scale:.95},children:jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx(motion.button,{onClick:()=>N(!0),className:"hidden lg:flex p-2 rounded-lg bg-neutral-100 dark:bg-neutral-800/50 text-neutral-500 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-white hover:bg-neutral-200 dark:hover:bg-neutral-700/50 transition-colors",title:"Collapse sidebar",whileHover:{scale:1.1},whileTap:{scale:.9},children:jsxRuntimeExports.jsx(PanelLeftClose,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx(motion.button,{onClick:()=>v(!1),className:"lg:hidden p-2 rounded-lg bg-neutral-100 dark:bg-neutral-800/50 text-neutral-500 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-white hover:bg-neutral-200 dark:hover:bg-neutral-700/50 transition-colors",whileHover:{scale:1.1},whileTap:{scale:.9},children:jsxRuntimeExports.jsx(X,{className:"w-4 h-4"})})]})]})}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto p-2 space-y-2",children:e.items.length===0?jsxRuntimeExports.jsxs("div",{className:"text-center text-neutral-500 py-8",children:[e.emptyIcon,jsxRuntimeExports.jsx("p",{className:"text-sm mt-2",children:e.emptyText})]}):e.items.map(Ae=>jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},onClick:()=>Ue(Ae),className:"p-3 rounded-xl bg-neutral-100 dark:bg-neutral-800/50 border border-neutral-200 dark:border-neutral-700/30 cursor-pointer hover:bg-neutral-200 dark:hover:bg-neutral-700/50 transition-colors group",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[e.renderItem(Ae),jsxRuntimeExports.jsx(Eye,{className:"w-4 h-4 text-neutral-400 dark:text-neutral-500 opacity-0 group-hover:opacity-100 transition-opacity"})]})},Ae.id))})]})]}):null,He=()=>jsxRuntimeExports.jsxs("div",{className:"grid grid-rows-[auto_1fr_auto] z-10 h-full min-h-0",children:[jsxRuntimeExports.jsx(ChatHeader,{agent:t,onToggleSidebar:()=>v(!0),onExpandSidebar:()=>N(!1),showMenuButton:!!e,sidebarCollapsed:S}),jsxRuntimeExports.jsx("div",{ref:R,className:"overflow-y-auto p-4 space-y-4 min-h-0",children:jsxRuntimeExports.jsx(AnimatePresence,{initial:!1,children:b.map(Ae=>{const Ce=Ae.id===b[b.length-1]?.id,Te=he&&Ce;return jsxRuntimeExports.jsxs(ChatBubble,{role:Ae.role,content:Ae.content,agentName:t.name,agentColor:t.color,thinking:Ae.thinking,showCopy:!0,isCopied:E===Ae.id,onCopy:()=>ue(Ae.content,Ae.id),isStreaming:Te,currentStatus:Te?le:null,children:[Ae.cardData&&o&&o(Ae.cardData,Ae),u&&u(Ae),Ae.showActionButton&&Ae.cardData&&s&&jsxRuntimeExports.jsx(motion.button,{onClick:()=>_e(Ae.cardData),className:`mt-2 w-full py-3 rounded-xl bg-linear-to-r ${t.color} text-white font-medium`,whileHover:{scale:1.02},whileTap:{scale:.98},children:Be(Ae.cardData)})]},Ae.id)})})}),jsxRuntimeExports.jsxs("div",{className:"bg-white/95 dark:bg-neutral-900/95 backdrop-blur-sm theme-transition",children:[t.quickActions&&jsxRuntimeExports.jsx(QuickActions,{actions:t.quickActions,onAction:xe,disabled:he}),jsxRuntimeExports.jsx(ChatInput,{ref:k,value:m,onChange:g,onSend:()=>fe(),onKeyDown:ge,placeholder:t.placeholder||`Message ${t.name}...`,disabled:!1,isStreaming:Y,onStop:U,agentColor:t.color})]})]});return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[e?jsxRuntimeExports.jsxs("div",{className:"bg-white/60 dark:bg-neutral-900/70 backdrop-blur-xl rounded-3xl border border-neutral-200 dark:border-neutral-800/50 overflow-hidden grid grid-cols-[auto_1fr] relative lg:shadow-xl dark:lg:shadow-2xl h-full min-h-0 theme-transition",children:[jsxRuntimeExports.jsx("div",{className:`absolute -top-20 -right-20 w-96 h-96 ${f.from} rounded-full blur-3xl`}),jsxRuntimeExports.jsx("div",{className:`absolute -bottom-20 -left-20 w-96 h-96 ${f.to} rounded-full blur-3xl`}),Ve(),He()]}):jsxRuntimeExports.jsx(ChatContainer,{bgGradient:f,children:He()}),jsxRuntimeExports.jsx(AnimatePresence,{children:P&&z&&l&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:()=>Z==="confirm"&&q(!1),children:jsxRuntimeExports.jsxs(motion.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-700 rounded-2xl p-6 max-w-md w-full",onClick:Ae=>Ae.stopPropagation(),children:[Z==="confirm"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-neutral-900 dark:text-white",children:l.confirmTitle}),jsxRuntimeExports.jsx("button",{onClick:()=>q(!1),className:"text-neutral-400 hover:text-neutral-900 dark:hover:text-white",children:jsxRuntimeExports.jsx(X,{className:"w-5 h-5"})})]}),l.renderConfirmContent?l.renderConfirmContent(z,Ie):jsxRuntimeExports.jsxs(motion.button,{onClick:Ie,className:`w-full py-4 rounded-xl bg-linear-to-r ${t.color} text-white font-bold flex items-center justify-center gap-2`,whileHover:{scale:1.02},whileTap:{scale:.98},children:[jsxRuntimeExports.jsx(Wallet$1,{className:"w-5 h-5"}),"Confirm & Pay"]})]}),Z==="processing"&&jsxRuntimeExports.jsxs("div",{className:"py-12 text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-orange-500/20 flex items-center justify-center",children:jsxRuntimeExports.jsx(motion.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:jsxRuntimeExports.jsx(Wallet$1,{className:"w-8 h-8 text-orange-500"})})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-neutral-900 dark:text-white mb-2",children:"Processing..."}),jsxRuntimeExports.jsx("p",{className:"text-neutral-500 dark:text-neutral-400",children:l.processingText})]}),Z==="success"&&jsxRuntimeExports.jsxs("div",{className:"py-8 text-center",children:[jsxRuntimeExports.jsx(motion.div,{initial:{scale:0},animate:{scale:1},className:"w-16 h-16 mx-auto mb-4 rounded-full bg-green-500 flex items-center justify-center",children:jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-8 h-8 text-white"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-neutral-900 dark:text-white mb-2",children:"Success!"}),jsxRuntimeExports.jsx("p",{className:"text-neutral-500 dark:text-neutral-400 mb-6",children:l.successText}),jsxRuntimeExports.jsx(motion.button,{onClick:De,className:"w-full py-3 rounded-xl bg-neutral-100 dark:bg-neutral-800 text-neutral-900 dark:text-white font-medium border border-neutral-200 dark:border-neutral-700",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Continue"})]})]})})}),jsxRuntimeExports.jsx(AnimatePresence,{children:W&&G&&c&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:()=>te(!1),children:jsxRuntimeExports.jsxs(motion.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-700 rounded-2xl p-6 max-w-md w-full",onClick:Ae=>Ae.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-neutral-900 dark:text-white",children:c.title}),jsxRuntimeExports.jsx("button",{onClick:()=>te(!1),className:"text-neutral-400 hover:text-neutral-900 dark:hover:text-white",children:jsxRuntimeExports.jsx(X,{className:"w-5 h-5"})})]}),c.renderContent(G),jsxRuntimeExports.jsxs("div",{className:"space-y-3 mt-4",children:[c.renderActions&&c.renderActions(G,()=>te(!1)),jsxRuntimeExports.jsx(motion.button,{onClick:()=>te(!1),className:"w-full py-3 rounded-xl bg-neutral-100 dark:bg-neutral-800 text-neutral-900 dark:text-white font-medium border border-neutral-200 dark:border-neutral-700",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Close"})]})]})})}),h]})}function SportChat({agent:t}){const[e,a]=reactExports.useState(()=>{const B=localStorage.getItem("sphere_sport_bets");return B?JSON.parse(B):[]}),[r,o]=reactExports.useState(!1),[s,l]=reactExports.useState(null),[c,u]=reactExports.useState(null),[h,f]=reactExports.useState("10"),[m,g]=reactExports.useState("confirm"),b=async(B,O)=>{if(await new Promise(P=>setTimeout(P,1e3)),B.includes("match")||B.includes("football")||B.includes("bet")||B.includes("game")){const P=mockMatches[Math.floor(Math.random()*mockMatches.length)];O(`Great choice! Here's an upcoming match:

${P.team1Flag} **${P.team1}** vs **${P.team2}** ${P.team2Flag}

**Date:** ${P.date} at ${P.time}

**Odds:**
- ${P.team1} wins: ${P.odds1}
- Draw: ${P.oddsDraw}
- ${P.team2} wins: ${P.odds2}

Would you like to place a bet on this match?`,{match:P},!0)}else if(B.includes("hello")||B.includes("hi"))O("Hey there! Ready to place some bets? Tell me what sport or match you're interested in!");else{const P=mockMatches[0];O(`I found a great match for you!

${P.team1Flag} **${P.team1}** vs **${P.team2}** ${P.team2Flag}

**Date:** ${P.date} at ${P.time}

**Odds:**
- ${P.team1} wins: ${P.odds1}
- Draw: ${P.oddsDraw}
- ${P.team2} wins: ${P.odds2}

Click the button below to place your bet!`,{match:P},!0)}},w=B=>{l(B.match),u({choice:B.match.team1,odds:B.match.odds1}),f("10"),g("confirm"),o(!0)},E=async()=>{if(!s||!c)return;g("processing"),await new Promise(O=>setTimeout(O,2e3));const B={id:v4(),title:`${s.team1} vs ${s.team2}`,image:s.image,timestamp:Date.now(),status:"pending",amount:parseFloat(h)};a(O=>[B,...O]),g("success"),await new Promise(O=>setTimeout(O,1500)),o(!1),l(null),u(null)},C=(B,O)=>{u({choice:B,odds:O})};return jsxRuntimeExports.jsx(AgentChat,{agent:t,sidebarConfig:{title:"My Bets",emptyText:"No bets yet",emptyIcon:jsxRuntimeExports.jsx(Trophy,{className:"w-8 h-8 mx-auto opacity-50"}),items:e,setItems:a,storageKey:"sphere_sport_bets",renderItem:B=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("img",{src:B.image,alt:"",className:"w-12 h-12 rounded-lg object-cover"}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"text-neutral-900 dark:text-white text-sm font-medium truncate",children:B.title}),jsxRuntimeExports.jsxs("p",{className:"text-emerald-600 dark:text-emerald-400 text-xs",children:[B.amount," USDT"]}),jsxRuntimeExports.jsx("p",{className:"text-neutral-500 text-xs",children:new Date(B.timestamp).toLocaleDateString()})]})]})},getMockResponse:b,renderMessageCard:B=>jsxRuntimeExports.jsxs("div",{className:"mt-4 rounded-xl overflow-hidden border border-neutral-300 dark:border-neutral-600/50",children:[jsxRuntimeExports.jsx("img",{src:B.match.image,alt:"Match",className:"w-full h-32 object-cover"}),jsxRuntimeExports.jsxs("div",{className:"p-3 bg-neutral-100 dark:bg-neutral-900/80",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between text-lg font-medium text-neutral-900 dark:text-white",children:[jsxRuntimeExports.jsxs("span",{children:[B.match.team1Flag," ",B.match.team1]}),jsxRuntimeExports.jsx("span",{className:"text-neutral-500",children:"vs"}),jsxRuntimeExports.jsxs("span",{children:[B.match.team2," ",B.match.team2Flag]})]}),jsxRuntimeExports.jsxs("p",{className:"text-center text-neutral-500 dark:text-neutral-400 text-sm mt-1",children:[B.match.date," - ",B.match.time]})]})]}),actionConfig:{label:"Place Bet",onAction:w},detailsConfig:{title:"Bet Details",renderContent:B=>jsxRuntimeExports.jsxs("div",{className:"rounded-xl overflow-hidden border border-neutral-200 dark:border-neutral-700",children:[jsxRuntimeExports.jsx("img",{src:B.image,alt:"",className:"w-full h-40 object-cover"}),jsxRuntimeExports.jsxs("div",{className:"p-4 bg-neutral-100 dark:bg-neutral-800",children:[jsxRuntimeExports.jsx("p",{className:"text-neutral-900 dark:text-white font-medium text-lg",children:B.title}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mt-4",children:[jsxRuntimeExports.jsxs("p",{className:"text-emerald-600 dark:text-emerald-400 text-xl font-bold",children:[B.amount," USDT"]}),jsxRuntimeExports.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${B.status==="won"?"bg-green-500/20 text-green-400":B.status==="lost"?"bg-red-500/20 text-red-400":"bg-yellow-500/20 text-yellow-400"}`,children:B.status.charAt(0).toUpperCase()+B.status.slice(1)})]}),jsxRuntimeExports.jsx("p",{className:"text-neutral-500 text-sm mt-3",children:new Date(B.timestamp).toLocaleString()})]})]})},bgGradient:{from:"bg-emerald-500/5",to:"bg-teal-500/5"},additionalContent:jsxRuntimeExports.jsx(AnimatePresence,{children:r&&s&&c&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 dark:bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:()=>m==="confirm"&&o(!1),children:jsxRuntimeExports.jsxs(motion.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-700 rounded-2xl p-6 max-w-md w-full shadow-2xl",onClick:B=>B.stopPropagation(),children:[m==="confirm"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-neutral-900 dark:text-white",children:"Confirm Bet"}),jsxRuntimeExports.jsx("button",{onClick:()=>o(!1),className:"text-neutral-400 hover:text-neutral-900 dark:hover:text-white",children:jsxRuntimeExports.jsx(X,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsxs("div",{className:"rounded-xl overflow-hidden border border-neutral-200 dark:border-neutral-700 mb-4",children:[jsxRuntimeExports.jsx("img",{src:s.image,alt:"",className:"w-full h-24 object-cover"}),jsxRuntimeExports.jsx("div",{className:"p-3 bg-neutral-100 dark:bg-neutral-800",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between font-medium text-neutral-900 dark:text-white",children:[jsxRuntimeExports.jsxs("span",{children:[s.team1Flag," ",s.team1]}),jsxRuntimeExports.jsx("span",{className:"text-neutral-500",children:"vs"}),jsxRuntimeExports.jsxs("span",{children:[s.team2," ",s.team2Flag]})]})})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"text-neutral-500 dark:text-neutral-400 text-sm mb-2 block",children:"Select your bet:"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>C(s.team1,s.odds1),className:`p-3 rounded-lg border text-center transition-all ${c.choice===s.team1?"border-emerald-500 bg-emerald-500/20 text-emerald-600 dark:text-emerald-400":"border-neutral-200 dark:border-neutral-700 text-neutral-700 dark:text-neutral-300 hover:border-neutral-300 dark:hover:border-neutral-600"}`,children:[jsxRuntimeExports.jsx("div",{className:"text-sm",children:s.team1}),jsxRuntimeExports.jsx("div",{className:"text-lg font-bold",children:s.odds1})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>C("Draw",s.oddsDraw),className:`p-3 rounded-lg border text-center transition-all ${c.choice==="Draw"?"border-emerald-500 bg-emerald-500/20 text-emerald-600 dark:text-emerald-400":"border-neutral-200 dark:border-neutral-700 text-neutral-700 dark:text-neutral-300 hover:border-neutral-300 dark:hover:border-neutral-600"}`,children:[jsxRuntimeExports.jsx("div",{className:"text-sm",children:"Draw"}),jsxRuntimeExports.jsx("div",{className:"text-lg font-bold",children:s.oddsDraw})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>C(s.team2,s.odds2),className:`p-3 rounded-lg border text-center transition-all ${c.choice===s.team2?"border-emerald-500 bg-emerald-500/20 text-emerald-600 dark:text-emerald-400":"border-neutral-200 dark:border-neutral-700 text-neutral-700 dark:text-neutral-300 hover:border-neutral-300 dark:hover:border-neutral-600"}`,children:[jsxRuntimeExports.jsx("div",{className:"text-sm",children:s.team2}),jsxRuntimeExports.jsx("div",{className:"text-lg font-bold",children:s.odds2})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("label",{className:"text-neutral-500 dark:text-neutral-400 text-sm mb-2 block",children:"Bet amount (USDT):"}),jsxRuntimeExports.jsx("div",{className:"flex gap-2",children:["5","10","25","50","100"].map(B=>jsxRuntimeExports.jsx("button",{onClick:()=>f(B),className:`flex-1 py-2 rounded-lg border transition-all ${h===B?"border-emerald-500 bg-emerald-500/20 text-emerald-600 dark:text-emerald-400":"border-neutral-200 dark:border-neutral-700 text-neutral-700 dark:text-neutral-300 hover:border-neutral-300 dark:hover:border-neutral-600"}`,children:B},B))})]}),jsxRuntimeExports.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800 rounded-xl p-4 mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-neutral-500 dark:text-neutral-400 mb-2",children:[jsxRuntimeExports.jsx("span",{children:"Your bet:"}),jsxRuntimeExports.jsxs("span",{className:"text-neutral-900 dark:text-white",children:[h," USDT"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-neutral-500 dark:text-neutral-400",children:[jsxRuntimeExports.jsx("span",{children:"Potential win:"}),jsxRuntimeExports.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400 font-bold",children:[(parseFloat(h)*c.odds).toFixed(2)," USDT"]})]})]}),jsxRuntimeExports.jsxs(motion.button,{onClick:E,className:"w-full py-4 rounded-xl bg-linear-to-r from-emerald-500 to-teal-500 text-white font-bold flex items-center justify-center gap-2",whileHover:{scale:1.02},whileTap:{scale:.98},children:[jsxRuntimeExports.jsx(Wallet$1,{className:"w-5 h-5"}),"Confirm & Pay"]})]}),m==="processing"&&jsxRuntimeExports.jsxs("div",{className:"py-12 text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-emerald-500/20 flex items-center justify-center",children:jsxRuntimeExports.jsx(motion.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:jsxRuntimeExports.jsx(Wallet$1,{className:"w-8 h-8 text-emerald-600 dark:text-emerald-500"})})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-neutral-900 dark:text-white mb-2",children:"Processing Transaction"}),jsxRuntimeExports.jsx("p",{className:"text-neutral-500 dark:text-neutral-400",children:"Please wait while we confirm your bet..."})]}),m==="success"&&jsxRuntimeExports.jsxs("div",{className:"py-12 text-center",children:[jsxRuntimeExports.jsx(motion.div,{initial:{scale:0},animate:{scale:1},className:"w-16 h-16 mx-auto mb-4 rounded-full bg-emerald-500 flex items-center justify-center",children:jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-8 h-8 text-white"})}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-neutral-900 dark:text-white mb-2",children:"Bet Placed!"}),jsxRuntimeExports.jsx("p",{className:"text-neutral-500 dark:text-neutral-400",children:"Good luck with your bet!"})]})]})})})})}function P2PChat({agent:t}){const e=useNavigate(),[a,r]=reactExports.useState(()=>{const l=localStorage.getItem("sphere_p2p_trades");return l?JSON.parse(l):[]}),o=(l,c,u,h,f)=>{const m=new URLSearchParams({sellerId:l.id,...c&&{product:c},...u&&{image:u},...h&&{price:h.toString()},...f&&{purchased:"true"}});e(`/agents/chat?${m.toString()}`)},s=async(l,c)=>{if(await new Promise(u=>setTimeout(u,800)),l.includes("sofa")||l.includes("couch")||l.includes("furniture")){const u=p2pListings[0];c(`Found a great deal!

**${u.name}**
${u.description}

**Seller:** ${u.seller.name}
**Location:** ${u.location}
**Price:** $${u.price}

Interested?`,{title:u.name,image:u.image,price:u.price,description:u.description,seller:u.seller},!0)}else if(l.includes("phone")||l.includes("iphone")||l.includes("mobile")){const u=p2pListings[1];c(`Check this out!

**${u.name}**
${u.description}

**Seller:** ${u.seller.name}
**Location:** ${u.location}
**Price:** $${u.price}

Want to buy?`,{title:u.name,image:u.image,price:u.price,description:u.description,seller:u.seller},!0)}else if(l.includes("bike")||l.includes("bicycle")){const u=p2pListings[2];c(`Perfect for you!

**${u.name}**
${u.description}

**Seller:** ${u.seller.name}
**Location:** ${u.location}
**Price:** $${u.price}

Ready to ride?`,{title:u.name,image:u.image,price:u.price,description:u.description,seller:u.seller},!0)}else if(l.includes("pc")||l.includes("computer")||l.includes("gaming")){const u=p2pListings[3];c(`Beast machine!

**${u.name}**
${u.description}

**Seller:** ${u.seller.name}
**Location:** ${u.location}
**Price:** $${u.price}

Level up?`,{title:u.name,image:u.image,price:u.price,description:u.description,seller:u.seller},!0)}else l.includes("available")||l.includes("show")||l.includes("what")||l.includes("list")?c(`Here's what people are selling:

`+p2pListings.map(u=>`- **${u.name}** - $${u.price} (${u.seller.name})`).join(`
`)+`

Ask me about any item!`):c(`I can help you find great deals!

Try asking for:
- Furniture (sofas, chairs)
- Electronics (phones, computers)
- Sports equipment (bikes)

Or say "What's available?" to browse!`)};return jsxRuntimeExports.jsx(AgentChat,{agent:t,sidebarConfig:{title:"My Trades",emptyText:"No trades yet",emptyIcon:jsxRuntimeExports.jsx(ShoppingBag,{className:"w-8 h-8 mx-auto opacity-50"}),items:a,setItems:r,storageKey:"sphere_p2p_trades",renderItem:l=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[l.image?jsxRuntimeExports.jsx("img",{src:l.image,alt:"",className:"w-12 h-12 rounded-lg object-cover"}):jsxRuntimeExports.jsx("div",{className:`w-12 h-12 rounded-lg bg-linear-to-br ${t.color} flex items-center justify-center`,children:jsxRuntimeExports.jsx(Image,{className:"w-5 h-5 text-white/70"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"text-neutral-900 dark:text-white text-sm font-medium truncate",children:l.title}),l.amount&&jsxRuntimeExports.jsxs("p",{className:"text-orange-600 dark:text-orange-400 text-xs",children:["$",l.amount]}),jsxRuntimeExports.jsx("p",{className:"text-neutral-500 text-xs",children:new Date(l.timestamp).toLocaleDateString()})]})]})},getMockResponse:s,renderMessageCard:l=>jsxRuntimeExports.jsx("div",{className:"mt-4 rounded-xl overflow-hidden border border-neutral-300 dark:border-neutral-600/50",children:jsxRuntimeExports.jsx("img",{src:l.image,alt:"",className:"w-full h-28 object-cover"})}),renderMessageActions:l=>l.cardData?.seller?jsxRuntimeExports.jsxs(motion.button,{onClick:()=>o(l.cardData.seller,l.cardData.title,l.cardData.image,l.cardData.price),className:"mt-3 w-full py-2 rounded-xl bg-blue-500/20 hover:bg-blue-500/30 text-blue-400 text-sm font-medium flex items-center justify-center gap-2 border border-blue-500/30",whileHover:{scale:1.01},whileTap:{scale:.99},children:[jsxRuntimeExports.jsx(MessageSquare,{className:"w-4 h-4"}),"Contact ",l.cardData.seller.name]}):null,actionConfig:{label:l=>`Buy Now - $${l.price}`,onAction:()=>{}},transactionConfig:{confirmTitle:"Confirm Purchase",processingText:"Contacting seller",successText:"Seller notified",renderConfirmContent:(l,c)=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"rounded-xl overflow-hidden border border-neutral-200 dark:border-neutral-700 mb-4",children:[jsxRuntimeExports.jsx("img",{src:l.image,alt:"",className:"w-full h-32 object-cover"}),jsxRuntimeExports.jsxs("div",{className:"p-4 bg-neutral-100 dark:bg-neutral-800",children:[jsxRuntimeExports.jsx("p",{className:"text-neutral-900 dark:text-white font-medium",children:l.title}),jsxRuntimeExports.jsxs("p",{className:"text-orange-600 dark:text-orange-400 text-lg font-bold mt-1",children:["$",l.price]})]})]}),jsxRuntimeExports.jsxs(motion.button,{onClick:c,className:`w-full py-4 rounded-xl bg-linear-to-r ${t.color} text-white font-bold flex items-center justify-center gap-2`,whileHover:{scale:1.02},whileTap:{scale:.98},children:[jsxRuntimeExports.jsx(Wallet$1,{className:"w-5 h-5"}),"Confirm & Pay"]})]}),onConfirm:async l=>(await new Promise(c=>setTimeout(c,2e3)),{id:v4(),title:l.title,image:l.image,timestamp:Date.now(),status:"pending",amount:l.price,description:l.description,seller:l.seller})},detailsConfig:{title:"Trade Details",renderContent:l=>jsxRuntimeExports.jsxs("div",{className:"rounded-xl overflow-hidden border border-neutral-200 dark:border-neutral-700",children:[l.image?jsxRuntimeExports.jsx("img",{src:l.image,alt:"",className:"w-full h-40 object-cover"}):jsxRuntimeExports.jsx("div",{className:`w-full h-40 bg-linear-to-br ${t.color} flex items-center justify-center`,children:jsxRuntimeExports.jsx(Image,{className:"w-12 h-12 text-white/50"})}),jsxRuntimeExports.jsxs("div",{className:"p-4 bg-neutral-100 dark:bg-neutral-800",children:[jsxRuntimeExports.jsx("p",{className:"text-neutral-900 dark:text-white font-medium text-lg",children:l.title}),l.description&&jsxRuntimeExports.jsx("p",{className:"text-neutral-500 dark:text-neutral-400 text-sm mt-2",children:l.description}),l.seller&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mt-3 p-2 bg-neutral-200 dark:bg-neutral-700/50 rounded-lg",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center text-white text-xs font-medium",children:l.seller.avatar}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-neutral-900 dark:text-white text-sm font-medium",children:l.seller.name}),jsxRuntimeExports.jsx("p",{className:"text-neutral-500 dark:text-neutral-400 text-xs",children:"Seller"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mt-4",children:[jsxRuntimeExports.jsxs("p",{className:"text-orange-600 dark:text-orange-400 text-xl font-bold",children:["$",l.amount]}),jsxRuntimeExports.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${l.status==="completed"?"bg-green-500/20 text-green-400":l.status==="cancelled"?"bg-red-500/20 text-red-400":"bg-yellow-500/20 text-yellow-400"}`,children:l.status.charAt(0).toUpperCase()+l.status.slice(1)})]}),jsxRuntimeExports.jsx("p",{className:"text-neutral-500 text-sm mt-3",children:new Date(l.timestamp).toLocaleString()})]})]}),renderActions:l=>l.seller?jsxRuntimeExports.jsxs(motion.button,{onClick:()=>o(l.seller,l.title,l.image,l.amount,!0),className:"w-full py-3 rounded-xl bg-blue-500 hover:bg-blue-600 text-white font-medium flex items-center justify-center gap-2",whileHover:{scale:1.02},whileTap:{scale:.98},children:[jsxRuntimeExports.jsx(MessageSquare,{className:"w-5 h-5"}),"Chat with ",l.seller.name]}):null},bgGradient:{from:"bg-orange-500/5",to:"bg-red-500/5"}})}function MerchChat({agent:t}){const[e,a]=reactExports.useState(()=>{const o=localStorage.getItem("sphere_merch_orders");return o?JSON.parse(o):[]}),r=async(o,s)=>{if(await new Promise(l=>setTimeout(l,800)),o.includes("hoodie")||o.includes("sweatshirt")){const l=merchItems[0];s(`Great choice!

**${l.name}**
${l.description}

**Sizes:** ${l.sizes.join(", ")}
**Price:** $${l.price}

Our bestseller!`,{title:l.name,image:l.image,price:l.price,description:l.description},!0)}else if(o.includes("shirt")||o.includes("tee")){const l=merchItems[1];s(`Classic style!

**${l.name}**
${l.description}

**Sizes:** ${l.sizes.join(", ")}
**Price:** $${l.price}

Comfortable and stylish!`,{title:l.name,image:l.image,price:l.price,description:l.description},!0)}else if(o.includes("cap")||o.includes("hat")){const l=merchItems[2];s(`Looking sharp!

**${l.name}**
${l.description}

**Size:** ${l.sizes.join(", ")}
**Price:** $${l.price}`,{title:l.name,image:l.image,price:l.price,description:l.description},!0)}else if(o.includes("mug")||o.includes("cup")){const l=merchItems[3];s(`For your coding sessions!

**${l.name}**
${l.description}

**Price:** $${l.price}

The logo changes color with hot drinks!`,{title:l.name,image:l.image,price:l.price,description:l.description},!0)}else o.includes("store")||o.includes("show")||o.includes("what")||o.includes("all")||o.includes("available")?s(`Here's our collection:

`+merchItems.map(l=>`- **${l.name}** - $${l.price}`).join(`
`)+`

Ask me about any item for details!`):o.includes("test")||o.includes("image")||o.includes("base64")?s(`**Test: Base64 Image in Markdown**

Here's an image rendered from base64:

![Sphere Logo](`+"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9ImciIHgxPSIwJSIgeTE9IjAlIiB4Mj0iMTAwJSIgeTI9IjEwMCUiPjxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiM4QjVDRjYiLz48c3RvcCBvZmZzZXQ9IjUwJSIgc3RvcC1jb2xvcj0iI0VDNDg5OSIvPjxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iI0Y5NzMxNiIvPjwvbGluZWFyR3JhZGllbnQ+PC9kZWZzPjxyZWN0IHdpZHRoPSIyMDAiIGhlaWdodD0iMTAwIiBmaWxsPSJ1cmwoI2cpIiByeD0iMTIiLz48dGV4dCB4PSIxMDAiIHk9IjU1IiBmb250LWZhbWlseT0ic3lzdGVtLXVpIiBmb250LXNpemU9IjIwIiBmb250LXdlaWdodD0iYm9sZCIgZmlsbD0id2hpdGUiIHRleHQtYW5jaG9yPSJtaWRkbGUiPlNwaGVyZTwvdGV4dD48L3N2Zz4="+")\n\nThis works with any `data:image/...;base64,...` URL!"):s(`I can help you find the perfect merch!

We have:
- Clothing (hoodies, t-shirts)
- Accessories (caps, mugs)

Just tell me what you're looking for!`)};return jsxRuntimeExports.jsx(AgentChat,{agent:t,sidebarConfig:{title:"My Orders",emptyText:"No orders yet",emptyIcon:jsxRuntimeExports.jsx(Package,{className:"w-8 h-8 mx-auto opacity-50"}),items:e,setItems:a,storageKey:"sphere_merch_orders",renderItem:o=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[o.image?jsxRuntimeExports.jsx("img",{src:o.image,alt:"",className:"w-12 h-12 rounded-lg object-cover"}):jsxRuntimeExports.jsx("div",{className:`w-12 h-12 rounded-lg bg-linear-to-br ${t.color} flex items-center justify-center`,children:jsxRuntimeExports.jsx(Image,{className:"w-5 h-5 text-white/70"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"text-neutral-900 dark:text-white text-sm font-medium truncate",children:o.title}),o.amount&&jsxRuntimeExports.jsxs("p",{className:"text-purple-600 dark:text-purple-400 text-xs",children:["$",o.amount]}),jsxRuntimeExports.jsx("p",{className:"text-neutral-500 text-xs",children:new Date(o.timestamp).toLocaleDateString()})]})]})},getMockResponse:r,renderMessageCard:o=>jsxRuntimeExports.jsx("div",{className:"mt-4 rounded-xl overflow-hidden border border-neutral-300 dark:border-neutral-600/50",children:jsxRuntimeExports.jsx("img",{src:o.image,alt:"",className:"w-full h-28 object-cover"})}),actionConfig:{label:o=>`Order Now - $${o.price}`,onAction:()=>{}},transactionConfig:{confirmTitle:"Confirm Order",processingText:"Confirming order",successText:"Order placed",renderConfirmContent:(o,s)=>jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"rounded-xl overflow-hidden border border-neutral-200 dark:border-neutral-700 mb-4",children:[jsxRuntimeExports.jsx("img",{src:o.image,alt:"",className:"w-full h-32 object-cover"}),jsxRuntimeExports.jsxs("div",{className:"p-4 bg-neutral-100 dark:bg-neutral-800",children:[jsxRuntimeExports.jsx("p",{className:"text-neutral-900 dark:text-white font-medium",children:o.title}),jsxRuntimeExports.jsxs("p",{className:"text-purple-600 dark:text-purple-400 text-lg font-bold mt-1",children:["$",o.price]})]})]}),jsxRuntimeExports.jsxs(motion.button,{onClick:s,className:`w-full py-4 rounded-xl bg-linear-to-r ${t.color} text-white font-bold flex items-center justify-center gap-2`,whileHover:{scale:1.02},whileTap:{scale:.98},children:[jsxRuntimeExports.jsx(Wallet$1,{className:"w-5 h-5"}),"Confirm & Pay"]})]}),onConfirm:async o=>(await new Promise(s=>setTimeout(s,2e3)),{id:v4(),title:o.title,image:o.image,timestamp:Date.now(),status:"pending",amount:o.price,description:o.description})},detailsConfig:{title:"Order Details",renderContent:o=>jsxRuntimeExports.jsxs("div",{className:"rounded-xl overflow-hidden border border-neutral-200 dark:border-neutral-700",children:[o.image?jsxRuntimeExports.jsx("img",{src:o.image,alt:"",className:"w-full h-40 object-cover"}):jsxRuntimeExports.jsx("div",{className:`w-full h-40 bg-linear-to-br ${t.color} flex items-center justify-center`,children:jsxRuntimeExports.jsx(Image,{className:"w-12 h-12 text-white/50"})}),jsxRuntimeExports.jsxs("div",{className:"p-4 bg-neutral-100 dark:bg-neutral-800",children:[jsxRuntimeExports.jsx("p",{className:"text-neutral-900 dark:text-white font-medium text-lg",children:o.title}),o.description&&jsxRuntimeExports.jsx("p",{className:"text-neutral-500 dark:text-neutral-400 text-sm mt-2",children:o.description}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mt-4",children:[jsxRuntimeExports.jsxs("p",{className:"text-purple-600 dark:text-purple-400 text-xl font-bold",children:["$",o.amount]}),jsxRuntimeExports.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${o.status==="completed"?"bg-green-500/20 text-green-400":o.status==="cancelled"?"bg-red-500/20 text-red-400":"bg-yellow-500/20 text-yellow-400"}`,children:o.status.charAt(0).toUpperCase()+o.status.slice(1)})]}),jsxRuntimeExports.jsx("p",{className:"text-neutral-500 text-sm mt-3",children:new Date(o.timestamp).toLocaleString()})]})]})},bgGradient:{from:"bg-purple-500/5",to:"bg-pink-500/5"}})}function TriviaChat({agent:t}){return jsxRuntimeExports.jsx(AgentChat,{agent:t,bgGradient:{from:"bg-indigo-500/5",to:"bg-cyan-500/5"}})}function GamesChat({agent:t}){const e=a=>(a.role!=="assistant"||a.cardData,a);return jsxRuntimeExports.jsx(AgentChat,{agent:t,processMessage:e,renderMessageCard:a=>jsxRuntimeExports.jsx("div",{className:"mt-4 space-y-3",children:a.games.map(r=>jsxRuntimeExports.jsxs("div",{className:"rounded-xl overflow-hidden border border-neutral-600/50",children:[jsxRuntimeExports.jsx("img",{src:r.image,alt:r.name,className:"w-full h-28 object-cover"}),jsxRuntimeExports.jsxs("div",{className:"p-3 bg-neutral-900/80",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-white",children:r.name}),jsxRuntimeExports.jsx("p",{className:"text-sm text-neutral-400 mt-1",children:r.description}),jsxRuntimeExports.jsxs("a",{href:r.url,target:"_blank",rel:"noopener noreferrer",className:`mt-3 inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-linear-to-r ${t.color} text-white text-sm font-medium`,children:["Play Now ",jsxRuntimeExports.jsx(ExternalLink,{className:"w-3 h-3"})]})]})]},r.id))}),bgGradient:{from:"bg-purple-500/5",to:"bg-pink-500/5"}})}function AIChat({agent:t}){return jsxRuntimeExports.jsx(AgentChat,{agent:t,bgGradient:{from:"bg-orange-500/5",to:"bg-amber-500/5"}})}const SESSION_KEY$1="user-pin-1234",SELECTED_INDEX_KEY="l3_selected_address_index";async function loadWalletFromUnifiedKeyManager(){const t=UnifiedKeyManager.getInstance(SESSION_KEY$1);if(!await t.initialize()||!t.isInitialized())return null;const a=loadWalletFromStorage("main");if(a&&a.addresses&&a.addresses.length>0)return console.log(` Loading L1 wallet from storage with ${a.addresses.length} addresses`),a;const r=t.getWalletInfo(),o=t.getMasterKeyHex(),s=t.getChainCodeHex();if(!o)return null;const l=parseInt(localStorage.getItem(SELECTED_INDEX_KEY)||"0",10),c=[];for(let h=0;h<=l;h++){const f=t.deriveAddress(h);c.push({address:f.l1Address,publicKey:f.publicKey,privateKey:f.privateKey,path:f.path,index:h})}return{masterPrivateKey:o,chainCode:s||void 0,addresses:c,createdAt:Date.now(),isImportedAlphaWallet:r.source==="file",isBIP32:r.derivationMode==="bip32",childPrivateKey:c[0]?.privateKey||null}}function getUnifiedKeyManager(){return UnifiedKeyManager.getInstance(SESSION_KEY$1)}const L1_KEYS={WALLET:["l1","wallet"],BALANCE:t=>["l1","balance",t],TOTAL_BALANCE:["l1","totalBalance"],TRANSACTIONS:t=>["l1","transactions",t],BLOCK_HEIGHT:["l1","blockHeight"],VESTING:t=>["l1","vesting",t]};function useL1Wallet(t){const e=useQueryClient(),a=reactExports.useRef(t||"");reactExports.useEffect(()=>{a.current=t||""},[t]),reactExports.useEffect(()=>{let B=!0,O=null;return(async()=>{try{const P=await subscribeBlocks(()=>{B&&a.current&&(e.invalidateQueries({queryKey:L1_KEYS.BALANCE(a.current)}),e.invalidateQueries({queryKey:L1_KEYS.TOTAL_BALANCE}),e.invalidateQueries({queryKey:L1_KEYS.TRANSACTIONS(a.current)}),e.invalidateQueries({queryKey:L1_KEYS.VESTING(a.current)}),e.invalidateQueries({queryKey:L1_KEYS.BLOCK_HEIGHT}))});B?O=P:P()}catch(P){console.error("Error subscribing to blocks:",P)}})(),()=>{B=!1,O&&O()}},[e]);const r=useQuery({queryKey:L1_KEYS.WALLET,queryFn:async()=>await loadWalletFromUnifiedKeyManager(),staleTime:1/0}),o=useQuery({queryKey:L1_KEYS.BALANCE(t||""),queryFn:()=>getBalance(t),enabled:!!t,staleTime:3e4}),s=useQuery({queryKey:[...L1_KEYS.TOTAL_BALANCE,r.data?.addresses.map(B=>B.address).join(",")],queryFn:async()=>{const B=r.data;return!B||B.addresses.length===0?0:(await Promise.all(B.addresses.map(P=>getBalance(P.address)))).reduce((P,q)=>P+q,0)},enabled:!!r.data&&r.data.addresses.length>0,staleTime:3e4}),l=useQuery({queryKey:L1_KEYS.BLOCK_HEIGHT,queryFn:getCurrentBlockHeight,staleTime:6e4}),c=useQuery({queryKey:L1_KEYS.TRANSACTIONS(t||""),queryFn:async()=>{if(!t)return{transactions:[],details:{}};const O=[...await getTransactionHistory(t)].sort((q,z)=>q.height===0&&z.height===0?0:q.height===0?-1:z.height===0?1:z.height-q.height),P={};for(const q of O)try{const z=await getTransaction(q.tx_hash);P[q.tx_hash]=z}catch(z){console.error(`Error loading transaction ${q.tx_hash}:`,z)}return{transactions:O,details:P}},enabled:!!t,staleTime:3e4}),u=useQuery({queryKey:L1_KEYS.VESTING(t||""),queryFn:async()=>{if(!t)return{balances:{vested:0n,unvested:0n,all:0n},mode:vestingState.getMode(),isClassifying:!1};const B=await getUtxo(t);return B.length>0&&await vestingState.classifyAddressUtxos(t,B),{balances:vestingState.getAllBalances(t),mode:vestingState.getMode(),isClassifying:vestingState.isClassifying()}},enabled:!!t,staleTime:6e4}),h=useMutation({mutationFn:async()=>{await getUnifiedKeyManager().generateNew(12);const O=await loadWalletFromUnifiedKeyManager();if(!O)throw new Error("Failed to create wallet");return O},onSuccess:()=>{e.invalidateQueries({queryKey:L1_KEYS.WALLET}),e.invalidateQueries({queryKey:["l3","identity"]}),e.invalidateQueries({queryKey:["l3","nametag"]}),e.invalidateQueries({queryKey:["l3","tokens"]})}}),f=useMutation({mutationFn:async({file:B,password:O})=>{const P=getUnifiedKeyManager(),q=await B.text();if(O){const V=await importWallet(B,O);if(!V.success||!V.wallet)throw new Error(V.error||"Import failed");const Z=V.wallet.masterPrivateKey,J=V.wallet.chainCode;let W=`MASTER PRIVATE KEY:
${Z}`;J&&(W+=`

MASTER CHAIN CODE:
${J}`),await P.importFromFileContent(W)}else await P.importFromFileContent(q);const z=await loadWalletFromUnifiedKeyManager();if(!z)throw new Error("Failed to import wallet");return z},onSuccess:()=>{e.invalidateQueries({queryKey:L1_KEYS.WALLET}),e.invalidateQueries({queryKey:["l3","identity"]}),e.invalidateQueries({queryKey:["l3","nametag"]}),e.invalidateQueries({queryKey:["l3","tokens"]})}}),m=useMutation({mutationFn:async()=>{getUnifiedKeyManager().clear(),UnifiedKeyManager.resetInstance(),localStorage.removeItem("l3_selected_address_index"),WalletRepository.getInstance().resetInMemoryState()},onSuccess:()=>{e.removeQueries({queryKey:["l1"]}),e.removeQueries({queryKey:["l3"]}),window.location.reload()}}),g=useMutation({mutationFn:async({wallet:B,destination:O,amount:P,fromAddress:q})=>{const z=Number(P);if(isNaN(z)||z<=0)throw new Error("Invalid amount");const V=await createTransactionPlan(B,O,z,q);if(!V.success)throw new Error(V.error||"Failed to create transaction plan");const Z=[],J=[];for(const W of V.transactions)try{const te=createAndSignTransaction(B,W),G=await broadcast(te.raw);Z.push({txid:te.txid,raw:te.raw,result:G})}catch(te){console.error("Broadcast failed for tx",te),J.push(te instanceof Error?te.message:String(te))}if(J.length>0)throw new Error(`Some transactions failed:
${J.join(`
`)}`);return Z},onSuccess:()=>{t&&(e.invalidateQueries({queryKey:L1_KEYS.BALANCE(t)}),e.invalidateQueries({queryKey:L1_KEYS.TRANSACTIONS(t)}))}}),b=(B,O,P)=>{try{const q=exportWallet(B,{password:P||void 0,filename:O});return downloadWalletFile(q,O),{success:!0}}catch(q){return{success:!1,error:q instanceof Error?q.message:String(q)}}},w=(B,O,P,q)=>{if(!O||!P)return{direction:"unknown",amount:0,fromAddresses:[],toAddresses:[]};const z=new Set(P.addresses.map(j=>j.address.toLowerCase())),V=q?.toLowerCase();if(P.masterPrivateKey&&P.chainCode){const j=P.descriptorPath?`m/${P.descriptorPath}`:P.isImportedAlphaWallet?"m/84'/1'/0'":null;for(let I=0;I<20;I++)try{let A;j?A=generateHDAddressBIP32(P.masterPrivateKey,P.chainCode,I,j,!0):A=generateHDAddress(P.masterPrivateKey,P.chainCode,1e6+I),z.add(A.address.toLowerCase())}catch(A){console.error(`Failed to generate change address ${I}:`,A)}}const Z=c.data?.details||{};let J=!1,W=0;const te=[];if(O.vin)for(const j of O.vin){if(!j.txid)continue;const I=Z[j.txid];if(I&&I.vout&&I.vout[j.vout]){const A=I.vout[j.vout],$=A.scriptPubKey.addresses||(A.scriptPubKey.address?[A.scriptPubKey.address]:[]);te.push(...$),(V?$.some(Y=>Y.toLowerCase()===V):$.some(Y=>z.has(Y.toLowerCase())))&&(J=!0,W+=A.value)}}let G=0,D=0;const M=[],v=[];for(const j of O.vout){const I=j.scriptPubKey.addresses||(j.scriptPubKey.address?[j.scriptPubKey.address]:[]);v.push(...I),(V?I.some($=>$.toLowerCase()===V):I.some($=>z.has($.toLowerCase())))?G+=j.value:(D+=j.value,M.push(...I))}const S=J?"sent":"received";let N;if(S==="sent")if(D>0)N=D;else{const I=W-G;N=I>0?I:0}else N=G;let R=[],k=[];return S==="sent"?k=M.length>0?M:v:R=V?te:te.filter(j=>!z.has(j.toLowerCase())),{direction:S,amount:N,fromAddresses:R,toAddresses:k}},E=B=>{vestingState.setMode(B),t&&e.invalidateQueries({queryKey:L1_KEYS.VESTING(t)})},C=()=>{e.invalidateQueries({queryKey:L1_KEYS.WALLET}),t&&(e.invalidateQueries({queryKey:L1_KEYS.BALANCE(t)}),e.invalidateQueries({queryKey:L1_KEYS.TRANSACTIONS(t)}),e.invalidateQueries({queryKey:L1_KEYS.VESTING(t)}))};return{wallet:r.data,isLoadingWallet:r.isLoading,balance:o.data??0,totalBalance:s.data??0,isLoadingBalance:o.isLoading,transactions:c.data?.transactions??[],transactionDetails:c.data?.details??{},isLoadingTransactions:c.isLoading,currentBlockHeight:l.data??0,vestingBalances:u.data?.balances??{vested:0n,unvested:0n,all:0n},vestingMode:u.data?.mode??"all",isLoadingVesting:u.isLoading,isClassifyingVesting:u.data?.isClassifying??!1,createWallet:h.mutateAsync,isCreatingWallet:h.isPending,importWallet:f.mutateAsync,isImportingWallet:f.isPending,importError:f.error,deleteWallet:m.mutateAsync,isDeletingWallet:m.isPending,sendTransaction:g.mutateAsync,isSendingTransaction:g.isPending,sendError:g.error,exportWallet:b,analyzeTransaction:w,refreshAll:C,setVestingMode:E,invalidateWallet:()=>e.invalidateQueries({queryKey:L1_KEYS.WALLET}),invalidateBalance:()=>t&&e.invalidateQueries({queryKey:L1_KEYS.BALANCE(t)}),invalidateTransactions:()=>t&&e.invalidateQueries({queryKey:L1_KEYS.TRANSACTIONS(t)}),invalidateVesting:()=>t&&e.invalidateQueries({queryKey:L1_KEYS.VESTING(t)})}}var qrCodeStyling$1={exports:{}},qrCodeStyling=qrCodeStyling$1.exports,hasRequiredQrCodeStyling;function requireQrCodeStyling(){return hasRequiredQrCodeStyling||(hasRequiredQrCodeStyling=1,(function(t,e){(function(a,r){t.exports=r()})(qrCodeStyling,(()=>(()=>{var a={873:(l,c)=>{var u,h,f=(function(){var m=function(v,S){var N=v,R=B[S],k=null,j=0,I=null,A=[],$={},L=function(ee,fe){k=(function(ge){for(var xe=new Array(ge),_e=0;_e<ge;_e+=1){xe[_e]=new Array(ge);for(var Ie=0;Ie<ge;Ie+=1)xe[_e][Ie]=null}return xe})(j=4*N+17),Y(0,0),Y(j-7,0),Y(0,j-7),re(),le(),K(ee,fe),N>=7&&U(ee),I==null&&(I=he(N,R,A)),se(I,fe)},Y=function(ee,fe){for(var ge=-1;ge<=7;ge+=1)if(!(ee+ge<=-1||j<=ee+ge))for(var xe=-1;xe<=7;xe+=1)fe+xe<=-1||j<=fe+xe||(k[ee+ge][fe+xe]=0<=ge&&ge<=6&&(xe==0||xe==6)||0<=xe&&xe<=6&&(ge==0||ge==6)||2<=ge&&ge<=4&&2<=xe&&xe<=4)},le=function(){for(var ee=8;ee<j-8;ee+=1)k[ee][6]==null&&(k[ee][6]=ee%2==0);for(var fe=8;fe<j-8;fe+=1)k[6][fe]==null&&(k[6][fe]=fe%2==0)},re=function(){for(var ee=O.getPatternPosition(N),fe=0;fe<ee.length;fe+=1)for(var ge=0;ge<ee.length;ge+=1){var xe=ee[fe],_e=ee[ge];if(k[xe][_e]==null)for(var Ie=-2;Ie<=2;Ie+=1)for(var De=-2;De<=2;De+=1)k[xe+Ie][_e+De]=Ie==-2||Ie==2||De==-2||De==2||Ie==0&&De==0}},U=function(ee){for(var fe=O.getBCHTypeNumber(N),ge=0;ge<18;ge+=1){var xe=!ee&&(fe>>ge&1)==1;k[Math.floor(ge/3)][ge%3+j-8-3]=xe}for(ge=0;ge<18;ge+=1)xe=!ee&&(fe>>ge&1)==1,k[ge%3+j-8-3][Math.floor(ge/3)]=xe},K=function(ee,fe){for(var ge=R<<3|fe,xe=O.getBCHTypeInfo(ge),_e=0;_e<15;_e+=1){var Ie=!ee&&(xe>>_e&1)==1;_e<6?k[_e][8]=Ie:_e<8?k[_e+1][8]=Ie:k[j-15+_e][8]=Ie}for(_e=0;_e<15;_e+=1)Ie=!ee&&(xe>>_e&1)==1,_e<8?k[8][j-_e-1]=Ie:_e<9?k[8][15-_e-1+1]=Ie:k[8][15-_e-1]=Ie;k[j-8][8]=!ee},se=function(ee,fe){for(var ge=-1,xe=j-1,_e=7,Ie=0,De=O.getMaskFunction(fe),$e=j-1;$e>0;$e-=2)for($e==6&&($e-=1);;){for(var Ue=0;Ue<2;Ue+=1)if(k[xe][$e-Ue]==null){var Be=!1;Ie<ee.length&&(Be=(ee[Ie]>>>_e&1)==1),De(xe,$e-Ue)&&(Be=!Be),k[xe][$e-Ue]=Be,(_e-=1)==-1&&(Ie+=1,_e=7)}if((xe+=ge)<0||j<=xe){xe-=ge,ge=-ge;break}}},he=function(ee,fe,ge){for(var xe=z.getRSBlocks(ee,fe),_e=V(),Ie=0;Ie<ge.length;Ie+=1){var De=ge[Ie];_e.put(De.getMode(),4),_e.put(De.getLength(),O.getLengthInBits(De.getMode(),ee)),De.write(_e)}var $e=0;for(Ie=0;Ie<xe.length;Ie+=1)$e+=xe[Ie].dataCount;if(_e.getLengthInBits()>8*$e)throw"code length overflow. ("+_e.getLengthInBits()+">"+8*$e+")";for(_e.getLengthInBits()+4<=8*$e&&_e.put(0,4);_e.getLengthInBits()%8!=0;)_e.putBit(!1);for(;!(_e.getLengthInBits()>=8*$e||(_e.put(236,8),_e.getLengthInBits()>=8*$e));)_e.put(17,8);return(function(Ue,Be){for(var Ve=0,He=0,Ae=0,Ce=new Array(Be.length),Te=new Array(Be.length),ye=0;ye<Be.length;ye+=1){var Fe=Be[ye].dataCount,qe=Be[ye].totalCount-Fe;He=Math.max(He,Fe),Ae=Math.max(Ae,qe),Ce[ye]=new Array(Fe);for(var oe=0;oe<Ce[ye].length;oe+=1)Ce[ye][oe]=255&Ue.getBuffer()[oe+Ve];Ve+=Fe;var Q=O.getErrorCorrectPolynomial(qe),ie=q(Ce[ye],Q.getLength()-1).mod(Q);for(Te[ye]=new Array(Q.getLength()-1),oe=0;oe<Te[ye].length;oe+=1){var pe=oe+ie.getLength()-Te[ye].length;Te[ye][oe]=pe>=0?ie.getAt(pe):0}}var be=0;for(oe=0;oe<Be.length;oe+=1)be+=Be[oe].totalCount;var we=new Array(be),Re=0;for(oe=0;oe<He;oe+=1)for(ye=0;ye<Be.length;ye+=1)oe<Ce[ye].length&&(we[Re]=Ce[ye][oe],Re+=1);for(oe=0;oe<Ae;oe+=1)for(ye=0;ye<Be.length;ye+=1)oe<Te[ye].length&&(we[Re]=Te[ye][oe],Re+=1);return we})(_e,xe)};$.addData=function(ee,fe){var ge=null;switch(fe=fe||"Byte"){case"Numeric":ge=Z(ee);break;case"Alphanumeric":ge=J(ee);break;case"Byte":ge=W(ee);break;case"Kanji":ge=te(ee);break;default:throw"mode:"+fe}A.push(ge),I=null},$.isDark=function(ee,fe){if(ee<0||j<=ee||fe<0||j<=fe)throw ee+","+fe;return k[ee][fe]},$.getModuleCount=function(){return j},$.make=function(){if(N<1){for(var ee=1;ee<40;ee++){for(var fe=z.getRSBlocks(ee,R),ge=V(),xe=0;xe<A.length;xe++){var _e=A[xe];ge.put(_e.getMode(),4),ge.put(_e.getLength(),O.getLengthInBits(_e.getMode(),ee)),_e.write(ge)}var Ie=0;for(xe=0;xe<fe.length;xe++)Ie+=fe[xe].dataCount;if(ge.getLengthInBits()<=8*Ie)break}N=ee}L(!1,(function(){for(var De=0,$e=0,Ue=0;Ue<8;Ue+=1){L(!0,Ue);var Be=O.getLostPoint($);(Ue==0||De>Be)&&(De=Be,$e=Ue)}return $e})())},$.createTableTag=function(ee,fe){ee=ee||2;var ge="";ge+='<table style="',ge+=" border-width: 0px; border-style: none;",ge+=" border-collapse: collapse;",ge+=" padding: 0px; margin: "+(fe=fe===void 0?4*ee:fe)+"px;",ge+='">',ge+="<tbody>";for(var xe=0;xe<$.getModuleCount();xe+=1){ge+="<tr>";for(var _e=0;_e<$.getModuleCount();_e+=1)ge+='<td style="',ge+=" border-width: 0px; border-style: none;",ge+=" border-collapse: collapse;",ge+=" padding: 0px; margin: 0px;",ge+=" width: "+ee+"px;",ge+=" height: "+ee+"px;",ge+=" background-color: ",ge+=$.isDark(xe,_e)?"#000000":"#ffffff",ge+=";",ge+='"/>';ge+="</tr>"}return(ge+="</tbody>")+"</table>"},$.createSvgTag=function(ee,fe,ge,xe){var _e={};typeof arguments[0]=="object"&&(ee=(_e=arguments[0]).cellSize,fe=_e.margin,ge=_e.alt,xe=_e.title),ee=ee||2,fe=fe===void 0?4*ee:fe,(ge=typeof ge=="string"?{text:ge}:ge||{}).text=ge.text||null,ge.id=ge.text?ge.id||"qrcode-description":null,(xe=typeof xe=="string"?{text:xe}:xe||{}).text=xe.text||null,xe.id=xe.text?xe.id||"qrcode-title":null;var Ie,De,$e,Ue,Be=$.getModuleCount()*ee+2*fe,Ve="";for(Ue="l"+ee+",0 0,"+ee+" -"+ee+",0 0,-"+ee+"z ",Ve+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',Ve+=_e.scalable?"":' width="'+Be+'px" height="'+Be+'px"',Ve+=' viewBox="0 0 '+Be+" "+Be+'" ',Ve+=' preserveAspectRatio="xMinYMin meet"',Ve+=xe.text||ge.text?' role="img" aria-labelledby="'+ue([xe.id,ge.id].join(" ").trim())+'"':"",Ve+=">",Ve+=xe.text?'<title id="'+ue(xe.id)+'">'+ue(xe.text)+"</title>":"",Ve+=ge.text?'<description id="'+ue(ge.id)+'">'+ue(ge.text)+"</description>":"",Ve+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',Ve+='<path d="',De=0;De<$.getModuleCount();De+=1)for($e=De*ee+fe,Ie=0;Ie<$.getModuleCount();Ie+=1)$.isDark(De,Ie)&&(Ve+="M"+(Ie*ee+fe)+","+$e+Ue);return(Ve+='" stroke="transparent" fill="black"/>')+"</svg>"},$.createDataURL=function(ee,fe){ee=ee||2,fe=fe===void 0?4*ee:fe;var ge=$.getModuleCount()*ee+2*fe,xe=fe,_e=ge-fe;return M(ge,ge,(function(Ie,De){if(xe<=Ie&&Ie<_e&&xe<=De&&De<_e){var $e=Math.floor((Ie-xe)/ee),Ue=Math.floor((De-xe)/ee);return $.isDark(Ue,$e)?0:1}return 1}))},$.createImgTag=function(ee,fe,ge){ee=ee||2,fe=fe===void 0?4*ee:fe;var xe=$.getModuleCount()*ee+2*fe,_e="";return _e+="<img",_e+=' src="',_e+=$.createDataURL(ee,fe),_e+='"',_e+=' width="',_e+=xe,_e+='"',_e+=' height="',_e+=xe,_e+='"',ge&&(_e+=' alt="',_e+=ue(ge),_e+='"'),_e+"/>"};var ue=function(ee){for(var fe="",ge=0;ge<ee.length;ge+=1){var xe=ee.charAt(ge);switch(xe){case"<":fe+="&lt;";break;case">":fe+="&gt;";break;case"&":fe+="&amp;";break;case'"':fe+="&quot;";break;default:fe+=xe}}return fe};return $.createASCII=function(ee,fe){if((ee=ee||1)<2)return(function(Ce){Ce=Ce===void 0?2:Ce;var Te,ye,Fe,qe,oe,Q=1*$.getModuleCount()+2*Ce,ie=Ce,pe=Q-Ce,be={"":""," ":""," ":"","  ":" "},we={"":""," ":""," ":" ","  ":" "},Re="";for(Te=0;Te<Q;Te+=2){for(Fe=Math.floor((Te-ie)/1),qe=Math.floor((Te+1-ie)/1),ye=0;ye<Q;ye+=1)oe="",ie<=ye&&ye<pe&&ie<=Te&&Te<pe&&$.isDark(Fe,Math.floor((ye-ie)/1))&&(oe=" "),ie<=ye&&ye<pe&&ie<=Te+1&&Te+1<pe&&$.isDark(qe,Math.floor((ye-ie)/1))?oe+=" ":oe+="",Re+=Ce<1&&Te+1>=pe?we[oe]:be[oe];Re+=`
`}return Q%2&&Ce>0?Re.substring(0,Re.length-Q-1)+Array(Q+1).join(""):Re.substring(0,Re.length-1)})(fe);ee-=1,fe=fe===void 0?2*ee:fe;var ge,xe,_e,Ie,De=$.getModuleCount()*ee+2*fe,$e=fe,Ue=De-fe,Be=Array(ee+1).join(""),Ve=Array(ee+1).join("  "),He="",Ae="";for(ge=0;ge<De;ge+=1){for(_e=Math.floor((ge-$e)/ee),Ae="",xe=0;xe<De;xe+=1)Ie=1,$e<=xe&&xe<Ue&&$e<=ge&&ge<Ue&&$.isDark(_e,Math.floor((xe-$e)/ee))&&(Ie=0),Ae+=Ie?Be:Ve;for(_e=0;_e<ee;_e+=1)He+=Ae+`
`}return He.substring(0,He.length-1)},$.renderTo2dContext=function(ee,fe){fe=fe||2;for(var ge=$.getModuleCount(),xe=0;xe<ge;xe++)for(var _e=0;_e<ge;_e++)ee.fillStyle=$.isDark(xe,_e)?"black":"white",ee.fillRect(xe*fe,_e*fe,fe,fe)},$};m.stringToBytes=(m.stringToBytesFuncs={default:function(v){for(var S=[],N=0;N<v.length;N+=1){var R=v.charCodeAt(N);S.push(255&R)}return S}}).default,m.createStringToBytes=function(v,S){var N=(function(){for(var k=D(v),j=function(){var le=k.read();if(le==-1)throw"eof";return le},I=0,A={};;){var $=k.read();if($==-1)break;var L=j(),Y=j()<<8|j();A[String.fromCharCode($<<8|L)]=Y,I+=1}if(I!=S)throw I+" != "+S;return A})(),R=63;return function(k){for(var j=[],I=0;I<k.length;I+=1){var A=k.charCodeAt(I);if(A<128)j.push(A);else{var $=N[k.charAt(I)];typeof $=="number"?(255&$)==$?j.push($):(j.push($>>>8),j.push(255&$)):j.push(R)}}return j}};var g,b,w,E,C,B={L:1,M:0,Q:3,H:2},O=(g=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],b=1335,w=7973,C=function(v){for(var S=0;v!=0;)S+=1,v>>>=1;return S},(E={}).getBCHTypeInfo=function(v){for(var S=v<<10;C(S)-C(b)>=0;)S^=b<<C(S)-C(b);return 21522^(v<<10|S)},E.getBCHTypeNumber=function(v){for(var S=v<<12;C(S)-C(w)>=0;)S^=w<<C(S)-C(w);return v<<12|S},E.getPatternPosition=function(v){return g[v-1]},E.getMaskFunction=function(v){switch(v){case 0:return function(S,N){return(S+N)%2==0};case 1:return function(S,N){return S%2==0};case 2:return function(S,N){return N%3==0};case 3:return function(S,N){return(S+N)%3==0};case 4:return function(S,N){return(Math.floor(S/2)+Math.floor(N/3))%2==0};case 5:return function(S,N){return S*N%2+S*N%3==0};case 6:return function(S,N){return(S*N%2+S*N%3)%2==0};case 7:return function(S,N){return(S*N%3+(S+N)%2)%2==0};default:throw"bad maskPattern:"+v}},E.getErrorCorrectPolynomial=function(v){for(var S=q([1],0),N=0;N<v;N+=1)S=S.multiply(q([1,P.gexp(N)],0));return S},E.getLengthInBits=function(v,S){if(1<=S&&S<10)switch(v){case 1:return 10;case 2:return 9;case 4:case 8:return 8;default:throw"mode:"+v}else if(S<27)switch(v){case 1:return 12;case 2:return 11;case 4:return 16;case 8:return 10;default:throw"mode:"+v}else{if(!(S<41))throw"type:"+S;switch(v){case 1:return 14;case 2:return 13;case 4:return 16;case 8:return 12;default:throw"mode:"+v}}},E.getLostPoint=function(v){for(var S=v.getModuleCount(),N=0,R=0;R<S;R+=1)for(var k=0;k<S;k+=1){for(var j=0,I=v.isDark(R,k),A=-1;A<=1;A+=1)if(!(R+A<0||S<=R+A))for(var $=-1;$<=1;$+=1)k+$<0||S<=k+$||A==0&&$==0||I==v.isDark(R+A,k+$)&&(j+=1);j>5&&(N+=3+j-5)}for(R=0;R<S-1;R+=1)for(k=0;k<S-1;k+=1){var L=0;v.isDark(R,k)&&(L+=1),v.isDark(R+1,k)&&(L+=1),v.isDark(R,k+1)&&(L+=1),v.isDark(R+1,k+1)&&(L+=1),L!=0&&L!=4||(N+=3)}for(R=0;R<S;R+=1)for(k=0;k<S-6;k+=1)v.isDark(R,k)&&!v.isDark(R,k+1)&&v.isDark(R,k+2)&&v.isDark(R,k+3)&&v.isDark(R,k+4)&&!v.isDark(R,k+5)&&v.isDark(R,k+6)&&(N+=40);for(k=0;k<S;k+=1)for(R=0;R<S-6;R+=1)v.isDark(R,k)&&!v.isDark(R+1,k)&&v.isDark(R+2,k)&&v.isDark(R+3,k)&&v.isDark(R+4,k)&&!v.isDark(R+5,k)&&v.isDark(R+6,k)&&(N+=40);var Y=0;for(k=0;k<S;k+=1)for(R=0;R<S;R+=1)v.isDark(R,k)&&(Y+=1);return N+Math.abs(100*Y/S/S-50)/5*10},E),P=(function(){for(var v=new Array(256),S=new Array(256),N=0;N<8;N+=1)v[N]=1<<N;for(N=8;N<256;N+=1)v[N]=v[N-4]^v[N-5]^v[N-6]^v[N-8];for(N=0;N<255;N+=1)S[v[N]]=N;return{glog:function(R){if(R<1)throw"glog("+R+")";return S[R]},gexp:function(R){for(;R<0;)R+=255;for(;R>=256;)R-=255;return v[R]}}})();function q(v,S){if(v.length===void 0)throw v.length+"/"+S;var N=(function(){for(var k=0;k<v.length&&v[k]==0;)k+=1;for(var j=new Array(v.length-k+S),I=0;I<v.length-k;I+=1)j[I]=v[I+k];return j})(),R={getAt:function(k){return N[k]},getLength:function(){return N.length},multiply:function(k){for(var j=new Array(R.getLength()+k.getLength()-1),I=0;I<R.getLength();I+=1)for(var A=0;A<k.getLength();A+=1)j[I+A]^=P.gexp(P.glog(R.getAt(I))+P.glog(k.getAt(A)));return q(j,0)},mod:function(k){if(R.getLength()-k.getLength()<0)return R;for(var j=P.glog(R.getAt(0))-P.glog(k.getAt(0)),I=new Array(R.getLength()),A=0;A<R.getLength();A+=1)I[A]=R.getAt(A);for(A=0;A<k.getLength();A+=1)I[A]^=P.gexp(P.glog(k.getAt(A))+j);return q(I,0).mod(k)}};return R}var z=(function(){var v=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],S=function(R,k){var j={};return j.totalCount=R,j.dataCount=k,j},N={getRSBlocks:function(R,k){var j=(function(U,K){switch(K){case B.L:return v[4*(U-1)+0];case B.M:return v[4*(U-1)+1];case B.Q:return v[4*(U-1)+2];case B.H:return v[4*(U-1)+3];default:return}})(R,k);if(j===void 0)throw"bad rs block @ typeNumber:"+R+"/errorCorrectionLevel:"+k;for(var I=j.length/3,A=[],$=0;$<I;$+=1)for(var L=j[3*$+0],Y=j[3*$+1],le=j[3*$+2],re=0;re<L;re+=1)A.push(S(Y,le));return A}};return N})(),V=function(){var v=[],S=0,N={getBuffer:function(){return v},getAt:function(R){var k=Math.floor(R/8);return(v[k]>>>7-R%8&1)==1},put:function(R,k){for(var j=0;j<k;j+=1)N.putBit((R>>>k-j-1&1)==1)},getLengthInBits:function(){return S},putBit:function(R){var k=Math.floor(S/8);v.length<=k&&v.push(0),R&&(v[k]|=128>>>S%8),S+=1}};return N},Z=function(v){var S=v,N={getMode:function(){return 1},getLength:function(j){return S.length},write:function(j){for(var I=S,A=0;A+2<I.length;)j.put(R(I.substring(A,A+3)),10),A+=3;A<I.length&&(I.length-A==1?j.put(R(I.substring(A,A+1)),4):I.length-A==2&&j.put(R(I.substring(A,A+2)),7))}},R=function(j){for(var I=0,A=0;A<j.length;A+=1)I=10*I+k(j.charAt(A));return I},k=function(j){if("0"<=j&&j<="9")return j.charCodeAt(0)-48;throw"illegal char :"+j};return N},J=function(v){var S=v,N={getMode:function(){return 2},getLength:function(k){return S.length},write:function(k){for(var j=S,I=0;I+1<j.length;)k.put(45*R(j.charAt(I))+R(j.charAt(I+1)),11),I+=2;I<j.length&&k.put(R(j.charAt(I)),6)}},R=function(k){if("0"<=k&&k<="9")return k.charCodeAt(0)-48;if("A"<=k&&k<="Z")return k.charCodeAt(0)-65+10;switch(k){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+k}};return N},W=function(v){var S=m.stringToBytes(v);return{getMode:function(){return 4},getLength:function(N){return S.length},write:function(N){for(var R=0;R<S.length;R+=1)N.put(S[R],8)}}},te=function(v){var S=m.stringToBytesFuncs.SJIS;if(!S)throw"sjis not supported.";(function(){var k=S("");if(k.length!=2||(k[0]<<8|k[1])!=38726)throw"sjis not supported."})();var N=S(v),R={getMode:function(){return 8},getLength:function(k){return~~(N.length/2)},write:function(k){for(var j=N,I=0;I+1<j.length;){var A=(255&j[I])<<8|255&j[I+1];if(33088<=A&&A<=40956)A-=33088;else{if(!(57408<=A&&A<=60351))throw"illegal char at "+(I+1)+"/"+A;A-=49472}A=192*(A>>>8&255)+(255&A),k.put(A,13),I+=2}if(I<j.length)throw"illegal char at "+(I+1)}};return R},G=function(){var v=[],S={writeByte:function(N){v.push(255&N)},writeShort:function(N){S.writeByte(N),S.writeByte(N>>>8)},writeBytes:function(N,R,k){R=R||0,k=k||N.length;for(var j=0;j<k;j+=1)S.writeByte(N[j+R])},writeString:function(N){for(var R=0;R<N.length;R+=1)S.writeByte(N.charCodeAt(R))},toByteArray:function(){return v},toString:function(){var N="";N+="[";for(var R=0;R<v.length;R+=1)R>0&&(N+=","),N+=v[R];return N+"]"}};return S},D=function(v){var S=v,N=0,R=0,k=0,j={read:function(){for(;k<8;){if(N>=S.length){if(k==0)return-1;throw"unexpected end of file./"+k}var A=S.charAt(N);if(N+=1,A=="=")return k=0,-1;A.match(/^\s$/)||(R=R<<6|I(A.charCodeAt(0)),k+=6)}var $=R>>>k-8&255;return k-=8,$}},I=function(A){if(65<=A&&A<=90)return A-65;if(97<=A&&A<=122)return A-97+26;if(48<=A&&A<=57)return A-48+52;if(A==43)return 62;if(A==47)return 63;throw"c:"+A};return j},M=function(v,S,N){for(var R=(function(Y,le){var re=Y,U=le,K=new Array(Y*le),se={setPixel:function(ee,fe,ge){K[fe*re+ee]=ge},write:function(ee){ee.writeString("GIF87a"),ee.writeShort(re),ee.writeShort(U),ee.writeByte(128),ee.writeByte(0),ee.writeByte(0),ee.writeByte(0),ee.writeByte(0),ee.writeByte(0),ee.writeByte(255),ee.writeByte(255),ee.writeByte(255),ee.writeString(","),ee.writeShort(0),ee.writeShort(0),ee.writeShort(re),ee.writeShort(U),ee.writeByte(0);var fe=he(2);ee.writeByte(2);for(var ge=0;fe.length-ge>255;)ee.writeByte(255),ee.writeBytes(fe,ge,255),ge+=255;ee.writeByte(fe.length-ge),ee.writeBytes(fe,ge,fe.length-ge),ee.writeByte(0),ee.writeString(";")}},he=function(ee){for(var fe=1<<ee,ge=1+(1<<ee),xe=ee+1,_e=ue(),Ie=0;Ie<fe;Ie+=1)_e.add(String.fromCharCode(Ie));_e.add(String.fromCharCode(fe)),_e.add(String.fromCharCode(ge));var De,$e,Ue,Be=G(),Ve=(De=Be,$e=0,Ue=0,{write:function(Te,ye){if(Te>>>ye)throw"length over";for(;$e+ye>=8;)De.writeByte(255&(Te<<$e|Ue)),ye-=8-$e,Te>>>=8-$e,Ue=0,$e=0;Ue|=Te<<$e,$e+=ye},flush:function(){$e>0&&De.writeByte(Ue)}});Ve.write(fe,xe);var He=0,Ae=String.fromCharCode(K[He]);for(He+=1;He<K.length;){var Ce=String.fromCharCode(K[He]);He+=1,_e.contains(Ae+Ce)?Ae+=Ce:(Ve.write(_e.indexOf(Ae),xe),_e.size()<4095&&(_e.size()==1<<xe&&(xe+=1),_e.add(Ae+Ce)),Ae=Ce)}return Ve.write(_e.indexOf(Ae),xe),Ve.write(ge,xe),Ve.flush(),Be.toByteArray()},ue=function(){var ee={},fe=0,ge={add:function(xe){if(ge.contains(xe))throw"dup key:"+xe;ee[xe]=fe,fe+=1},size:function(){return fe},indexOf:function(xe){return ee[xe]},contains:function(xe){return ee[xe]!==void 0}};return ge};return se})(v,S),k=0;k<S;k+=1)for(var j=0;j<v;j+=1)R.setPixel(j,k,N(j,k));var I=G();R.write(I);for(var A=(function(){var Y=0,le=0,re=0,U="",K={},se=function(ue){U+=String.fromCharCode(he(63&ue))},he=function(ue){if(!(ue<0)){if(ue<26)return 65+ue;if(ue<52)return ue-26+97;if(ue<62)return ue-52+48;if(ue==62)return 43;if(ue==63)return 47}throw"n:"+ue};return K.writeByte=function(ue){for(Y=Y<<8|255&ue,le+=8,re+=1;le>=6;)se(Y>>>le-6),le-=6},K.flush=function(){if(le>0&&(se(Y<<6-le),Y=0,le=0),re%3!=0)for(var ue=3-re%3,ee=0;ee<ue;ee+=1)U+="="},K.toString=function(){return U},K})(),$=I.toByteArray(),L=0;L<$.length;L+=1)A.writeByte($[L]);return A.flush(),"data:image/gif;base64,"+A};return m})();f.stringToBytesFuncs["UTF-8"]=function(m){return(function(g){for(var b=[],w=0;w<g.length;w++){var E=g.charCodeAt(w);E<128?b.push(E):E<2048?b.push(192|E>>6,128|63&E):E<55296||E>=57344?b.push(224|E>>12,128|E>>6&63,128|63&E):(w++,E=65536+((1023&E)<<10|1023&g.charCodeAt(w)),b.push(240|E>>18,128|E>>12&63,128|E>>6&63,128|63&E))}return b})(m)},(h=typeof(u=function(){return f})=="function"?u.apply(c,[]):u)===void 0||(l.exports=h)}},r={};function o(l){var c=r[l];if(c!==void 0)return c.exports;var u=r[l]={exports:{}};return a[l](u,u.exports,o),u.exports}o.n=l=>{var c=l&&l.__esModule?()=>l.default:()=>l;return o.d(c,{a:c}),c},o.d=(l,c)=>{for(var u in c)o.o(c,u)&&!o.o(l,u)&&Object.defineProperty(l,u,{enumerable:!0,get:c[u]})},o.o=(l,c)=>Object.prototype.hasOwnProperty.call(l,c);var s={};return(()=>{o.d(s,{default:()=>S});const l=N=>!!N&&typeof N=="object"&&!Array.isArray(N);function c(N,...R){if(!R.length)return N;const k=R.shift();return k!==void 0&&l(N)&&l(k)?(N=Object.assign({},N),Object.keys(k).forEach((j=>{const I=N[j],A=k[j];Array.isArray(I)&&Array.isArray(A)?N[j]=A:l(I)&&l(A)?N[j]=c(Object.assign({},I),A):N[j]=A})),c(N,...R)):N}function u(N,R){const k=document.createElement("a");k.download=R,k.href=N,document.body.appendChild(k),k.click(),document.body.removeChild(k)}const h={L:.07,M:.15,Q:.25,H:.3};class f{constructor({svg:R,type:k,window:j}){this._svg=R,this._type=k,this._window=j}draw(R,k,j,I){let A;switch(this._type){case"dots":A=this._drawDot;break;case"classy":A=this._drawClassy;break;case"classy-rounded":A=this._drawClassyRounded;break;case"rounded":A=this._drawRounded;break;case"extra-rounded":A=this._drawExtraRounded;break;default:A=this._drawSquare}A.call(this,{x:R,y:k,size:j,getNeighbor:I})}_rotateFigure({x:R,y:k,size:j,rotation:I=0,draw:A}){var $;const L=R+j/2,Y=k+j/2;A(),($=this._element)===null||$===void 0||$.setAttribute("transform",`rotate(${180*I/Math.PI},${L},${Y})`)}_basicDot(R){const{size:k,x:j,y:I}=R;this._rotateFigure(Object.assign(Object.assign({},R),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","circle"),this._element.setAttribute("cx",String(j+k/2)),this._element.setAttribute("cy",String(I+k/2)),this._element.setAttribute("r",String(k/2))}}))}_basicSquare(R){const{size:k,x:j,y:I}=R;this._rotateFigure(Object.assign(Object.assign({},R),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect"),this._element.setAttribute("x",String(j)),this._element.setAttribute("y",String(I)),this._element.setAttribute("width",String(k)),this._element.setAttribute("height",String(k))}}))}_basicSideRounded(R){const{size:k,x:j,y:I}=R;this._rotateFigure(Object.assign(Object.assign({},R),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${j} ${I}v ${k}h `+k/2+`a ${k/2} ${k/2}, 0, 0, 0, 0 ${-k}`)}}))}_basicCornerRounded(R){const{size:k,x:j,y:I}=R;this._rotateFigure(Object.assign(Object.assign({},R),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${j} ${I}v ${k}h ${k}v `+-k/2+`a ${k/2} ${k/2}, 0, 0, 0, ${-k/2} ${-k/2}`)}}))}_basicCornerExtraRounded(R){const{size:k,x:j,y:I}=R;this._rotateFigure(Object.assign(Object.assign({},R),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${j} ${I}v ${k}h ${k}a ${k} ${k}, 0, 0, 0, ${-k} ${-k}`)}}))}_basicCornersRounded(R){const{size:k,x:j,y:I}=R;this._rotateFigure(Object.assign(Object.assign({},R),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("d",`M ${j} ${I}v `+k/2+`a ${k/2} ${k/2}, 0, 0, 0, ${k/2} ${k/2}h `+k/2+"v "+-k/2+`a ${k/2} ${k/2}, 0, 0, 0, ${-k/2} ${-k/2}`)}}))}_drawDot({x:R,y:k,size:j}){this._basicDot({x:R,y:k,size:j,rotation:0})}_drawSquare({x:R,y:k,size:j}){this._basicSquare({x:R,y:k,size:j,rotation:0})}_drawRounded({x:R,y:k,size:j,getNeighbor:I}){const A=I?+I(-1,0):0,$=I?+I(1,0):0,L=I?+I(0,-1):0,Y=I?+I(0,1):0,le=A+$+L+Y;if(le!==0)if(le>2||A&&$||L&&Y)this._basicSquare({x:R,y:k,size:j,rotation:0});else{if(le===2){let re=0;return A&&L?re=Math.PI/2:L&&$?re=Math.PI:$&&Y&&(re=-Math.PI/2),void this._basicCornerRounded({x:R,y:k,size:j,rotation:re})}if(le===1){let re=0;return L?re=Math.PI/2:$?re=Math.PI:Y&&(re=-Math.PI/2),void this._basicSideRounded({x:R,y:k,size:j,rotation:re})}}else this._basicDot({x:R,y:k,size:j,rotation:0})}_drawExtraRounded({x:R,y:k,size:j,getNeighbor:I}){const A=I?+I(-1,0):0,$=I?+I(1,0):0,L=I?+I(0,-1):0,Y=I?+I(0,1):0,le=A+$+L+Y;if(le!==0)if(le>2||A&&$||L&&Y)this._basicSquare({x:R,y:k,size:j,rotation:0});else{if(le===2){let re=0;return A&&L?re=Math.PI/2:L&&$?re=Math.PI:$&&Y&&(re=-Math.PI/2),void this._basicCornerExtraRounded({x:R,y:k,size:j,rotation:re})}if(le===1){let re=0;return L?re=Math.PI/2:$?re=Math.PI:Y&&(re=-Math.PI/2),void this._basicSideRounded({x:R,y:k,size:j,rotation:re})}}else this._basicDot({x:R,y:k,size:j,rotation:0})}_drawClassy({x:R,y:k,size:j,getNeighbor:I}){const A=I?+I(-1,0):0,$=I?+I(1,0):0,L=I?+I(0,-1):0,Y=I?+I(0,1):0;A+$+L+Y!==0?A||L?$||Y?this._basicSquare({x:R,y:k,size:j,rotation:0}):this._basicCornerRounded({x:R,y:k,size:j,rotation:Math.PI/2}):this._basicCornerRounded({x:R,y:k,size:j,rotation:-Math.PI/2}):this._basicCornersRounded({x:R,y:k,size:j,rotation:Math.PI/2})}_drawClassyRounded({x:R,y:k,size:j,getNeighbor:I}){const A=I?+I(-1,0):0,$=I?+I(1,0):0,L=I?+I(0,-1):0,Y=I?+I(0,1):0;A+$+L+Y!==0?A||L?$||Y?this._basicSquare({x:R,y:k,size:j,rotation:0}):this._basicCornerExtraRounded({x:R,y:k,size:j,rotation:Math.PI/2}):this._basicCornerExtraRounded({x:R,y:k,size:j,rotation:-Math.PI/2}):this._basicCornersRounded({x:R,y:k,size:j,rotation:Math.PI/2})}}const m={dot:"dot",square:"square",extraRounded:"extra-rounded"},g=Object.values(m);class b{constructor({svg:R,type:k,window:j}){this._svg=R,this._type=k,this._window=j}draw(R,k,j,I){let A;switch(this._type){case m.square:A=this._drawSquare;break;case m.extraRounded:A=this._drawExtraRounded;break;default:A=this._drawDot}A.call(this,{x:R,y:k,size:j,rotation:I})}_rotateFigure({x:R,y:k,size:j,rotation:I=0,draw:A}){var $;const L=R+j/2,Y=k+j/2;A(),($=this._element)===null||$===void 0||$.setAttribute("transform",`rotate(${180*I/Math.PI},${L},${Y})`)}_basicDot(R){const{size:k,x:j,y:I}=R,A=k/7;this._rotateFigure(Object.assign(Object.assign({},R),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",`M ${j+k/2} ${I}a ${k/2} ${k/2} 0 1 0 0.1 0zm 0 ${A}a ${k/2-A} ${k/2-A} 0 1 1 -0.1 0Z`)}}))}_basicSquare(R){const{size:k,x:j,y:I}=R,A=k/7;this._rotateFigure(Object.assign(Object.assign({},R),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",`M ${j} ${I}v ${k}h ${k}v `+-k+`zM ${j+A} ${I+A}h `+(k-2*A)+"v "+(k-2*A)+"h "+(2*A-k)+"z")}}))}_basicExtraRounded(R){const{size:k,x:j,y:I}=R,A=k/7;this._rotateFigure(Object.assign(Object.assign({},R),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","path"),this._element.setAttribute("clip-rule","evenodd"),this._element.setAttribute("d",`M ${j} ${I+2.5*A}v `+2*A+`a ${2.5*A} ${2.5*A}, 0, 0, 0, ${2.5*A} ${2.5*A}h `+2*A+`a ${2.5*A} ${2.5*A}, 0, 0, 0, ${2.5*A} ${2.5*-A}v `+-2*A+`a ${2.5*A} ${2.5*A}, 0, 0, 0, ${2.5*-A} ${2.5*-A}h `+-2*A+`a ${2.5*A} ${2.5*A}, 0, 0, 0, ${2.5*-A} ${2.5*A}M ${j+2.5*A} ${I+A}h `+2*A+`a ${1.5*A} ${1.5*A}, 0, 0, 1, ${1.5*A} ${1.5*A}v `+2*A+`a ${1.5*A} ${1.5*A}, 0, 0, 1, ${1.5*-A} ${1.5*A}h `+-2*A+`a ${1.5*A} ${1.5*A}, 0, 0, 1, ${1.5*-A} ${1.5*-A}v `+-2*A+`a ${1.5*A} ${1.5*A}, 0, 0, 1, ${1.5*A} ${1.5*-A}`)}}))}_drawDot({x:R,y:k,size:j,rotation:I}){this._basicDot({x:R,y:k,size:j,rotation:I})}_drawSquare({x:R,y:k,size:j,rotation:I}){this._basicSquare({x:R,y:k,size:j,rotation:I})}_drawExtraRounded({x:R,y:k,size:j,rotation:I}){this._basicExtraRounded({x:R,y:k,size:j,rotation:I})}}const w={dot:"dot",square:"square"},E=Object.values(w);class C{constructor({svg:R,type:k,window:j}){this._svg=R,this._type=k,this._window=j}draw(R,k,j,I){let A;A=this._type===w.square?this._drawSquare:this._drawDot,A.call(this,{x:R,y:k,size:j,rotation:I})}_rotateFigure({x:R,y:k,size:j,rotation:I=0,draw:A}){var $;const L=R+j/2,Y=k+j/2;A(),($=this._element)===null||$===void 0||$.setAttribute("transform",`rotate(${180*I/Math.PI},${L},${Y})`)}_basicDot(R){const{size:k,x:j,y:I}=R;this._rotateFigure(Object.assign(Object.assign({},R),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","circle"),this._element.setAttribute("cx",String(j+k/2)),this._element.setAttribute("cy",String(I+k/2)),this._element.setAttribute("r",String(k/2))}}))}_basicSquare(R){const{size:k,x:j,y:I}=R;this._rotateFigure(Object.assign(Object.assign({},R),{draw:()=>{this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect"),this._element.setAttribute("x",String(j)),this._element.setAttribute("y",String(I)),this._element.setAttribute("width",String(k)),this._element.setAttribute("height",String(k))}}))}_drawDot({x:R,y:k,size:j,rotation:I}){this._basicDot({x:R,y:k,size:j,rotation:I})}_drawSquare({x:R,y:k,size:j,rotation:I}){this._basicSquare({x:R,y:k,size:j,rotation:I})}}const B="circle",O=[[1,1,1,1,1,1,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,1,1,1,1,1,1]],P=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]];class q{constructor(R,k){this._roundSize=j=>this._options.dotsOptions.roundSize?Math.floor(j):j,this._window=k,this._element=this._window.document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("width",String(R.width)),this._element.setAttribute("height",String(R.height)),this._element.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),R.dotsOptions.roundSize||this._element.setAttribute("shape-rendering","crispEdges"),this._element.setAttribute("viewBox",`0 0 ${R.width} ${R.height}`),this._defs=this._window.document.createElementNS("http://www.w3.org/2000/svg","defs"),this._element.appendChild(this._defs),this._imageUri=R.image,this._instanceId=q.instanceCount++,this._options=R}get width(){return this._options.width}get height(){return this._options.height}getElement(){return this._element}async drawQR(R){const k=R.getModuleCount(),j=Math.min(this._options.width,this._options.height)-2*this._options.margin,I=this._options.shape===B?j/Math.sqrt(2):j,A=this._roundSize(I/k);let $={hideXDots:0,hideYDots:0,width:0,height:0};if(this._qr=R,this._options.image){if(await this.loadImage(),!this._image)return;const{imageOptions:L,qrOptions:Y}=this._options,le=L.imageSize*h[Y.errorCorrectionLevel],re=Math.floor(le*k*k);$=(function({originalHeight:U,originalWidth:K,maxHiddenDots:se,maxHiddenAxisDots:he,dotSize:ue}){const ee={x:0,y:0},fe={x:0,y:0};if(U<=0||K<=0||se<=0||ue<=0)return{height:0,width:0,hideYDots:0,hideXDots:0};const ge=U/K;return ee.x=Math.floor(Math.sqrt(se/ge)),ee.x<=0&&(ee.x=1),he&&he<ee.x&&(ee.x=he),ee.x%2==0&&ee.x--,fe.x=ee.x*ue,ee.y=1+2*Math.ceil((ee.x*ge-1)/2),fe.y=Math.round(fe.x*ge),(ee.y*ee.x>se||he&&he<ee.y)&&(he&&he<ee.y?(ee.y=he,ee.y%2==0&&ee.x--):ee.y-=2,fe.y=ee.y*ue,ee.x=1+2*Math.ceil((ee.y/ge-1)/2),fe.x=Math.round(fe.y/ge)),{height:fe.y,width:fe.x,hideYDots:ee.y,hideXDots:ee.x}})({originalWidth:this._image.width,originalHeight:this._image.height,maxHiddenDots:re,maxHiddenAxisDots:k-14,dotSize:A})}this.drawBackground(),this.drawDots(((L,Y)=>{var le,re,U,K,se,he;return!(this._options.imageOptions.hideBackgroundDots&&L>=(k-$.hideYDots)/2&&L<(k+$.hideYDots)/2&&Y>=(k-$.hideXDots)/2&&Y<(k+$.hideXDots)/2||!((le=O[L])===null||le===void 0)&&le[Y]||!((re=O[L-k+7])===null||re===void 0)&&re[Y]||!((U=O[L])===null||U===void 0)&&U[Y-k+7]||!((K=P[L])===null||K===void 0)&&K[Y]||!((se=P[L-k+7])===null||se===void 0)&&se[Y]||!((he=P[L])===null||he===void 0)&&he[Y-k+7])})),this.drawCorners(),this._options.image&&await this.drawImage({width:$.width,height:$.height,count:k,dotSize:A})}drawBackground(){var R,k,j;const I=this._element,A=this._options;if(I){const $=(R=A.backgroundOptions)===null||R===void 0?void 0:R.gradient,L=(k=A.backgroundOptions)===null||k===void 0?void 0:k.color;let Y=A.height,le=A.width;if($||L){const re=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect");this._backgroundClipPath=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._backgroundClipPath.setAttribute("id",`clip-path-background-color-${this._instanceId}`),this._defs.appendChild(this._backgroundClipPath),!((j=A.backgroundOptions)===null||j===void 0)&&j.round&&(Y=le=Math.min(A.width,A.height),re.setAttribute("rx",String(Y/2*A.backgroundOptions.round))),re.setAttribute("x",String(this._roundSize((A.width-le)/2))),re.setAttribute("y",String(this._roundSize((A.height-Y)/2))),re.setAttribute("width",String(le)),re.setAttribute("height",String(Y)),this._backgroundClipPath.appendChild(re),this._createColor({options:$,color:L,additionalRotation:0,x:0,y:0,height:A.height,width:A.width,name:`background-color-${this._instanceId}`})}}}drawDots(R){var k,j;if(!this._qr)throw"QR code is not defined";const I=this._options,A=this._qr.getModuleCount();if(A>I.width||A>I.height)throw"The canvas is too small.";const $=Math.min(I.width,I.height)-2*I.margin,L=I.shape===B?$/Math.sqrt(2):$,Y=this._roundSize(L/A),le=this._roundSize((I.width-A*Y)/2),re=this._roundSize((I.height-A*Y)/2),U=new f({svg:this._element,type:I.dotsOptions.type,window:this._window});this._dotsClipPath=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._dotsClipPath.setAttribute("id",`clip-path-dot-color-${this._instanceId}`),this._defs.appendChild(this._dotsClipPath),this._createColor({options:(k=I.dotsOptions)===null||k===void 0?void 0:k.gradient,color:I.dotsOptions.color,additionalRotation:0,x:0,y:0,height:I.height,width:I.width,name:`dot-color-${this._instanceId}`});for(let K=0;K<A;K++)for(let se=0;se<A;se++)R&&!R(K,se)||!((j=this._qr)===null||j===void 0)&&j.isDark(K,se)&&(U.draw(le+se*Y,re+K*Y,Y,((he,ue)=>!(se+he<0||K+ue<0||se+he>=A||K+ue>=A)&&!(R&&!R(K+ue,se+he))&&!!this._qr&&this._qr.isDark(K+ue,se+he))),U._element&&this._dotsClipPath&&this._dotsClipPath.appendChild(U._element));if(I.shape===B){const K=this._roundSize(($/Y-A)/2),se=A+2*K,he=le-K*Y,ue=re-K*Y,ee=[],fe=this._roundSize(se/2);for(let ge=0;ge<se;ge++){ee[ge]=[];for(let xe=0;xe<se;xe++)ge>=K-1&&ge<=se-K&&xe>=K-1&&xe<=se-K||Math.sqrt((ge-fe)*(ge-fe)+(xe-fe)*(xe-fe))>fe?ee[ge][xe]=0:ee[ge][xe]=this._qr.isDark(xe-2*K<0?xe:xe>=A?xe-2*K:xe-K,ge-2*K<0?ge:ge>=A?ge-2*K:ge-K)?1:0}for(let ge=0;ge<se;ge++)for(let xe=0;xe<se;xe++)ee[ge][xe]&&(U.draw(he+xe*Y,ue+ge*Y,Y,((_e,Ie)=>{var De;return!!(!((De=ee[ge+Ie])===null||De===void 0)&&De[xe+_e])})),U._element&&this._dotsClipPath&&this._dotsClipPath.appendChild(U._element))}}drawCorners(){if(!this._qr)throw"QR code is not defined";const R=this._element,k=this._options;if(!R)throw"Element code is not defined";const j=this._qr.getModuleCount(),I=Math.min(k.width,k.height)-2*k.margin,A=k.shape===B?I/Math.sqrt(2):I,$=this._roundSize(A/j),L=7*$,Y=3*$,le=this._roundSize((k.width-j*$)/2),re=this._roundSize((k.height-j*$)/2);[[0,0,0],[1,0,Math.PI/2],[0,1,-Math.PI/2]].forEach((([U,K,se])=>{var he,ue,ee,fe,ge,xe,_e,Ie,De,$e,Ue,Be,Ve,He;const Ae=le+U*$*(j-7),Ce=re+K*$*(j-7);let Te=this._dotsClipPath,ye=this._dotsClipPath;if((!((he=k.cornersSquareOptions)===null||he===void 0)&&he.gradient||!((ue=k.cornersSquareOptions)===null||ue===void 0)&&ue.color)&&(Te=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),Te.setAttribute("id",`clip-path-corners-square-color-${U}-${K}-${this._instanceId}`),this._defs.appendChild(Te),this._cornersSquareClipPath=this._cornersDotClipPath=ye=Te,this._createColor({options:(ee=k.cornersSquareOptions)===null||ee===void 0?void 0:ee.gradient,color:(fe=k.cornersSquareOptions)===null||fe===void 0?void 0:fe.color,additionalRotation:se,x:Ae,y:Ce,height:L,width:L,name:`corners-square-color-${U}-${K}-${this._instanceId}`})),((ge=k.cornersSquareOptions)===null||ge===void 0?void 0:ge.type)&&g.includes(k.cornersSquareOptions.type)){const Fe=new b({svg:this._element,type:k.cornersSquareOptions.type,window:this._window});Fe.draw(Ae,Ce,L,se),Fe._element&&Te&&Te.appendChild(Fe._element)}else{const Fe=new f({svg:this._element,type:((xe=k.cornersSquareOptions)===null||xe===void 0?void 0:xe.type)||k.dotsOptions.type,window:this._window});for(let qe=0;qe<O.length;qe++)for(let oe=0;oe<O[qe].length;oe++)!((_e=O[qe])===null||_e===void 0)&&_e[oe]&&(Fe.draw(Ae+oe*$,Ce+qe*$,$,((Q,ie)=>{var pe;return!!(!((pe=O[qe+ie])===null||pe===void 0)&&pe[oe+Q])})),Fe._element&&Te&&Te.appendChild(Fe._element))}if((!((Ie=k.cornersDotOptions)===null||Ie===void 0)&&Ie.gradient||!((De=k.cornersDotOptions)===null||De===void 0)&&De.color)&&(ye=this._window.document.createElementNS("http://www.w3.org/2000/svg","clipPath"),ye.setAttribute("id",`clip-path-corners-dot-color-${U}-${K}-${this._instanceId}`),this._defs.appendChild(ye),this._cornersDotClipPath=ye,this._createColor({options:($e=k.cornersDotOptions)===null||$e===void 0?void 0:$e.gradient,color:(Ue=k.cornersDotOptions)===null||Ue===void 0?void 0:Ue.color,additionalRotation:se,x:Ae+2*$,y:Ce+2*$,height:Y,width:Y,name:`corners-dot-color-${U}-${K}-${this._instanceId}`})),((Be=k.cornersDotOptions)===null||Be===void 0?void 0:Be.type)&&E.includes(k.cornersDotOptions.type)){const Fe=new C({svg:this._element,type:k.cornersDotOptions.type,window:this._window});Fe.draw(Ae+2*$,Ce+2*$,Y,se),Fe._element&&ye&&ye.appendChild(Fe._element)}else{const Fe=new f({svg:this._element,type:((Ve=k.cornersDotOptions)===null||Ve===void 0?void 0:Ve.type)||k.dotsOptions.type,window:this._window});for(let qe=0;qe<P.length;qe++)for(let oe=0;oe<P[qe].length;oe++)!((He=P[qe])===null||He===void 0)&&He[oe]&&(Fe.draw(Ae+oe*$,Ce+qe*$,$,((Q,ie)=>{var pe;return!!(!((pe=P[qe+ie])===null||pe===void 0)&&pe[oe+Q])})),Fe._element&&ye&&ye.appendChild(Fe._element))}}))}loadImage(){return new Promise(((R,k)=>{var j;const I=this._options;if(!I.image)return k("Image is not defined");if(!((j=I.nodeCanvas)===null||j===void 0)&&j.loadImage)I.nodeCanvas.loadImage(I.image).then((A=>{var $,L;if(this._image=A,this._options.imageOptions.saveAsBlob){const Y=($=I.nodeCanvas)===null||$===void 0?void 0:$.createCanvas(this._image.width,this._image.height);(L=Y?.getContext("2d"))===null||L===void 0||L.drawImage(A,0,0),this._imageUri=Y?.toDataURL()}R()})).catch(k);else{const A=new this._window.Image;typeof I.imageOptions.crossOrigin=="string"&&(A.crossOrigin=I.imageOptions.crossOrigin),this._image=A,A.onload=async()=>{this._options.imageOptions.saveAsBlob&&(this._imageUri=await(async function($,L){return new Promise((Y=>{const le=new L.XMLHttpRequest;le.onload=function(){const re=new L.FileReader;re.onloadend=function(){Y(re.result)},re.readAsDataURL(le.response)},le.open("GET",$),le.responseType="blob",le.send()}))})(I.image||"",this._window)),R()},A.src=I.image}}))}async drawImage({width:R,height:k,count:j,dotSize:I}){const A=this._options,$=this._roundSize((A.width-j*I)/2),L=this._roundSize((A.height-j*I)/2),Y=$+this._roundSize(A.imageOptions.margin+(j*I-R)/2),le=L+this._roundSize(A.imageOptions.margin+(j*I-k)/2),re=R-2*A.imageOptions.margin,U=k-2*A.imageOptions.margin,K=this._window.document.createElementNS("http://www.w3.org/2000/svg","image");K.setAttribute("href",this._imageUri||""),K.setAttribute("xlink:href",this._imageUri||""),K.setAttribute("x",String(Y)),K.setAttribute("y",String(le)),K.setAttribute("width",`${re}px`),K.setAttribute("height",`${U}px`),this._element.appendChild(K)}_createColor({options:R,color:k,additionalRotation:j,x:I,y:A,height:$,width:L,name:Y}){const le=L>$?L:$,re=this._window.document.createElementNS("http://www.w3.org/2000/svg","rect");if(re.setAttribute("x",String(I)),re.setAttribute("y",String(A)),re.setAttribute("height",String($)),re.setAttribute("width",String(L)),re.setAttribute("clip-path",`url('#clip-path-${Y}')`),R){let U;if(R.type==="radial")U=this._window.document.createElementNS("http://www.w3.org/2000/svg","radialGradient"),U.setAttribute("id",Y),U.setAttribute("gradientUnits","userSpaceOnUse"),U.setAttribute("fx",String(I+L/2)),U.setAttribute("fy",String(A+$/2)),U.setAttribute("cx",String(I+L/2)),U.setAttribute("cy",String(A+$/2)),U.setAttribute("r",String(le/2));else{const K=((R.rotation||0)+j)%(2*Math.PI),se=(K+2*Math.PI)%(2*Math.PI);let he=I+L/2,ue=A+$/2,ee=I+L/2,fe=A+$/2;se>=0&&se<=.25*Math.PI||se>1.75*Math.PI&&se<=2*Math.PI?(he-=L/2,ue-=$/2*Math.tan(K),ee+=L/2,fe+=$/2*Math.tan(K)):se>.25*Math.PI&&se<=.75*Math.PI?(ue-=$/2,he-=L/2/Math.tan(K),fe+=$/2,ee+=L/2/Math.tan(K)):se>.75*Math.PI&&se<=1.25*Math.PI?(he+=L/2,ue+=$/2*Math.tan(K),ee-=L/2,fe-=$/2*Math.tan(K)):se>1.25*Math.PI&&se<=1.75*Math.PI&&(ue+=$/2,he+=L/2/Math.tan(K),fe-=$/2,ee-=L/2/Math.tan(K)),U=this._window.document.createElementNS("http://www.w3.org/2000/svg","linearGradient"),U.setAttribute("id",Y),U.setAttribute("gradientUnits","userSpaceOnUse"),U.setAttribute("x1",String(Math.round(he))),U.setAttribute("y1",String(Math.round(ue))),U.setAttribute("x2",String(Math.round(ee))),U.setAttribute("y2",String(Math.round(fe)))}R.colorStops.forEach((({offset:K,color:se})=>{const he=this._window.document.createElementNS("http://www.w3.org/2000/svg","stop");he.setAttribute("offset",100*K+"%"),he.setAttribute("stop-color",se),U.appendChild(he)})),re.setAttribute("fill",`url('#${Y}')`),this._defs.appendChild(U)}else k&&re.setAttribute("fill",k);this._element.appendChild(re)}}q.instanceCount=0;const z=q,V="canvas",Z={};for(let N=0;N<=40;N++)Z[N]=N;const J={type:V,shape:"square",width:300,height:300,data:"",margin:0,qrOptions:{typeNumber:Z[0],mode:void 0,errorCorrectionLevel:"Q"},imageOptions:{saveAsBlob:!0,hideBackgroundDots:!0,imageSize:.4,crossOrigin:void 0,margin:0},dotsOptions:{type:"square",color:"#000",roundSize:!0},backgroundOptions:{round:0,color:"#fff"}};function W(N){const R=Object.assign({},N);if(!R.colorStops||!R.colorStops.length)throw"Field 'colorStops' is required in gradient";return R.rotation?R.rotation=Number(R.rotation):R.rotation=0,R.colorStops=R.colorStops.map((k=>Object.assign(Object.assign({},k),{offset:Number(k.offset)}))),R}function te(N){const R=Object.assign({},N);return R.width=Number(R.width),R.height=Number(R.height),R.margin=Number(R.margin),R.imageOptions=Object.assign(Object.assign({},R.imageOptions),{hideBackgroundDots:!!R.imageOptions.hideBackgroundDots,imageSize:Number(R.imageOptions.imageSize),margin:Number(R.imageOptions.margin)}),R.margin>Math.min(R.width,R.height)&&(R.margin=Math.min(R.width,R.height)),R.dotsOptions=Object.assign({},R.dotsOptions),R.dotsOptions.gradient&&(R.dotsOptions.gradient=W(R.dotsOptions.gradient)),R.cornersSquareOptions&&(R.cornersSquareOptions=Object.assign({},R.cornersSquareOptions),R.cornersSquareOptions.gradient&&(R.cornersSquareOptions.gradient=W(R.cornersSquareOptions.gradient))),R.cornersDotOptions&&(R.cornersDotOptions=Object.assign({},R.cornersDotOptions),R.cornersDotOptions.gradient&&(R.cornersDotOptions.gradient=W(R.cornersDotOptions.gradient))),R.backgroundOptions&&(R.backgroundOptions=Object.assign({},R.backgroundOptions),R.backgroundOptions.gradient&&(R.backgroundOptions.gradient=W(R.backgroundOptions.gradient))),R}var G=o(873),D=o.n(G);function M(N){if(!N)throw new Error("Extension must be defined");N[0]==="."&&(N=N.substring(1));const R={bmp:"image/bmp",gif:"image/gif",ico:"image/vnd.microsoft.icon",jpeg:"image/jpeg",jpg:"image/jpeg",png:"image/png",svg:"image/svg+xml",tif:"image/tiff",tiff:"image/tiff",webp:"image/webp",pdf:"application/pdf"}[N.toLowerCase()];if(!R)throw new Error(`Extension "${N}" is not supported`);return R}class v{constructor(R){R?.jsdom?this._window=new R.jsdom("",{resources:"usable"}).window:this._window=window,this._options=R?te(c(J,R)):J,this.update()}static _clearContainer(R){R&&(R.innerHTML="")}_setupSvg(){if(!this._qr)return;const R=new z(this._options,this._window);this._svg=R.getElement(),this._svgDrawingPromise=R.drawQR(this._qr).then((()=>{var k;this._svg&&((k=this._extension)===null||k===void 0||k.call(this,R.getElement(),this._options))}))}_setupCanvas(){var R,k;this._qr&&(!((R=this._options.nodeCanvas)===null||R===void 0)&&R.createCanvas?(this._nodeCanvas=this._options.nodeCanvas.createCanvas(this._options.width,this._options.height),this._nodeCanvas.width=this._options.width,this._nodeCanvas.height=this._options.height):(this._domCanvas=document.createElement("canvas"),this._domCanvas.width=this._options.width,this._domCanvas.height=this._options.height),this._setupSvg(),this._canvasDrawingPromise=(k=this._svgDrawingPromise)===null||k===void 0?void 0:k.then((()=>{var j;if(!this._svg)return;const I=this._svg,A=new this._window.XMLSerializer().serializeToString(I),$=btoa(A),L=`data:${M("svg")};base64,${$}`;if(!((j=this._options.nodeCanvas)===null||j===void 0)&&j.loadImage)return this._options.nodeCanvas.loadImage(L).then((Y=>{var le,re;Y.width=this._options.width,Y.height=this._options.height,(re=(le=this._nodeCanvas)===null||le===void 0?void 0:le.getContext("2d"))===null||re===void 0||re.drawImage(Y,0,0)}));{const Y=new this._window.Image;return new Promise((le=>{Y.onload=()=>{var re,U;(U=(re=this._domCanvas)===null||re===void 0?void 0:re.getContext("2d"))===null||U===void 0||U.drawImage(Y,0,0),le()},Y.src=L}))}})))}async _getElement(R="png"){if(!this._qr)throw"QR code is empty";return R.toLowerCase()==="svg"?(this._svg&&this._svgDrawingPromise||this._setupSvg(),await this._svgDrawingPromise,this._svg):((this._domCanvas||this._nodeCanvas)&&this._canvasDrawingPromise||this._setupCanvas(),await this._canvasDrawingPromise,this._domCanvas||this._nodeCanvas)}update(R){v._clearContainer(this._container),this._options=R?te(c(this._options,R)):this._options,this._options.data&&(this._qr=D()(this._options.qrOptions.typeNumber,this._options.qrOptions.errorCorrectionLevel),this._qr.addData(this._options.data,this._options.qrOptions.mode||(function(k){switch(!0){case/^[0-9]*$/.test(k):return"Numeric";case/^[0-9A-Z $%*+\-./:]*$/.test(k):return"Alphanumeric";default:return"Byte"}})(this._options.data)),this._qr.make(),this._options.type===V?this._setupCanvas():this._setupSvg(),this.append(this._container))}append(R){if(R){if(typeof R.appendChild!="function")throw"Container should be a single DOM node";this._options.type===V?this._domCanvas&&R.appendChild(this._domCanvas):this._svg&&R.appendChild(this._svg),this._container=R}}applyExtension(R){if(!R)throw"Extension function should be defined.";this._extension=R,this.update()}deleteExtension(){this._extension=void 0,this.update()}async getRawData(R="png"){if(!this._qr)throw"QR code is empty";const k=await this._getElement(R),j=M(R);if(!k)return null;if(R.toLowerCase()==="svg"){const I=`<?xml version="1.0" standalone="no"?>\r
${new this._window.XMLSerializer().serializeToString(k)}`;return typeof Blob>"u"||this._options.jsdom?Buffer.from(I):new Blob([I],{type:j})}return new Promise((I=>{const A=k;if("toBuffer"in A)if(j==="image/png")I(A.toBuffer(j));else if(j==="image/jpeg")I(A.toBuffer(j));else{if(j!=="application/pdf")throw Error("Unsupported extension");I(A.toBuffer(j))}else"toBlob"in A&&A.toBlob(I,j,1)}))}async download(R){if(!this._qr)throw"QR code is empty";if(typeof Blob>"u")throw"Cannot download in Node.js, call getRawData instead.";let k="png",j="qr";typeof R=="string"?(k=R,console.warn("Extension is deprecated as argument for 'download' method, please pass object { name: '...', extension: '...' } as argument")):typeof R=="object"&&R!==null&&(R.name&&(j=R.name),R.extension&&(k=R.extension));const I=await this._getElement(k);if(I)if(k.toLowerCase()==="svg"){let A=new XMLSerializer().serializeToString(I);A=`<?xml version="1.0" standalone="no"?>\r
`+A,u(`data:${M(k)};charset=utf-8,${encodeURIComponent(A)}`,`${j}.svg`)}else u(I.toDataURL(M(k)),`${j}.${k}`)}}const S=v})(),s.default})()))})(qrCodeStyling$1)),qrCodeStyling$1.exports}var qrCodeStylingExports=requireQrCodeStyling();const QRCodeStyling=getDefaultExportFromCjs$3(qrCodeStylingExports),unicityLogo="/sphere/main/images/unicity_logo.svg";function getQRSize(){if(typeof window>"u")return 200;const t=window.innerWidth;return t<360?160:t<400?180:200}function QRModal({show:t,address:e,onClose:a}){const r=reactExports.useRef(null),[o,s]=reactExports.useState(!1),[l,c]=reactExports.useState(getQRSize);return reactExports.useEffect(()=>{const u=()=>c(getQRSize());return window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)},[]),reactExports.useEffect(()=>{t&&e&&r.current&&(r.current.innerHTML="",new QRCodeStyling({width:l,height:l,data:e,margin:0,qrOptions:{typeNumber:0,mode:"Byte",errorCorrectionLevel:"M"},imageOptions:{hideBackgroundDots:!0,imageSize:.2,margin:3},dotsOptions:{type:"rounded",color:"#ffffff"},backgroundOptions:{color:"#1a1a1a"},cornersSquareOptions:{type:"extra-rounded",color:"#ffffff"},cornersDotOptions:{type:"dot",color:"#ffffff"},image:unicityLogo}).append(r.current))},[t,e,l]),t?jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 dark:bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:a,children:jsxRuntimeExports.jsxs(motion.div,{initial:{scale:.8,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.8,opacity:0,y:20},transition:{type:"spring",duration:.5},className:"relative w-full max-w-sm bg-white dark:bg-[#111] border border-neutral-200 dark:border-white/10 rounded-3xl shadow-2xl p-4 sm:p-6 overflow-hidden max-h-[90vh] overflow-y-auto",onClick:u=>u.stopPropagation(),children:[jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-center mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg sm:text-xl font-bold text-neutral-900 dark:text-white mb-1",children:"Receive ALPHA"}),jsxRuntimeExports.jsx("p",{className:"text-xs sm:text-sm text-neutral-500 dark:text-neutral-400",children:"Scan QR code to receive payment"})]}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.2,type:"spring"},className:"relative bg-neutral-900 p-4 sm:p-6 rounded-2xl shadow-inner mb-4 flex items-center justify-center",children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"absolute top-2 left-2 w-5 h-5 sm:w-6 sm:h-6 border-t-[3px] border-l-[3px] sm:border-t-4 sm:border-l-4 border-blue-500 rounded-tl-lg"}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.35},className:"absolute top-2 right-2 w-5 h-5 sm:w-6 sm:h-6 border-t-[3px] border-r-[3px] sm:border-t-4 sm:border-r-4 border-blue-500 rounded-tr-lg"}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"absolute bottom-2 left-2 w-5 h-5 sm:w-6 sm:h-6 border-b-[3px] border-l-[3px] sm:border-b-4 sm:border-l-4 border-blue-500 rounded-bl-lg"}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.45},className:"absolute bottom-2 right-2 w-5 h-5 sm:w-6 sm:h-6 border-b-[3px] border-r-[3px] sm:border-b-4 sm:border-r-4 border-blue-500 rounded-br-lg"}),jsxRuntimeExports.jsx("div",{ref:r,style:{width:l,height:l}})]}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-neutral-100 dark:bg-neutral-800/50 rounded-xl p-3 sm:p-4 mb-4 border border-neutral-200 dark:border-neutral-700/50 backdrop-blur-sm",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400 mb-2 text-center",children:"Your Address"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("a",{href:`https://www.unicity.network/address/${e}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 text-xs font-mono text-blue-500 dark:text-blue-400 hover:text-blue-400 dark:hover:text-blue-300 break-all text-center transition-colors",children:e}),jsxRuntimeExports.jsx(motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{navigator.clipboard.writeText(e),s(!0),setTimeout(()=>s(!1),2e3)},className:`p-2 rounded-lg transition-all ${o?"bg-green-600 hover:bg-green-500 shadow-lg shadow-green-500/20":"bg-neutral-200 dark:bg-neutral-700 hover:bg-neutral-300 dark:hover:bg-neutral-600"} text-neutral-800 dark:text-white`,title:o?"Copied!":"Copy address",children:jsxRuntimeExports.jsx(motion.div,{initial:!1,animate:{rotate:o?[0,-10,10,0]:0},transition:{duration:.3},children:o?jsxRuntimeExports.jsx(Check,{className:"w-4 h-4 text-white"}):jsxRuntimeExports.jsx(Copy,{className:"w-4 h-4"})})})]})]}),jsxRuntimeExports.jsx(motion.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:a,className:"w-full px-4 py-2.5 sm:py-3 rounded-xl bg-linear-to-br from-blue-600 to-blue-700 hover:from-blue-500 hover:to-blue-600 text-white font-semibold shadow-lg shadow-blue-500/20 transition-all text-sm sm:text-base",children:"Close"})]})}):null}function SaveWalletModal({show:t,onConfirm:e,onCancel:a}){const[r,o]=reactExports.useState("alpha_wallet_backup"),[s,l]=reactExports.useState(""),[c,u]=reactExports.useState(""),[h,f]=reactExports.useState("");if(!t)return null;const m=()=>{if(f(""),s){if(s!==c){f("Passwords do not match!");return}if(s.length<4){f("Password must be at least 4 characters");return}}e(r,s||void 0),o("alpha_wallet_backup"),l(""),u(""),f("")};return jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 dark:bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:a,children:jsxRuntimeExports.jsxs(motion.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},transition:{type:"spring",duration:.4},className:"relative w-full max-w-md bg-white dark:bg-[#111] border border-neutral-200 dark:border-white/10 rounded-3xl shadow-2xl p-6 overflow-hidden",onClick:g=>g.stopPropagation(),children:[jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1},className:"flex flex-col items-center text-center mb-6",children:[jsxRuntimeExports.jsx(motion.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-12 h-12 bg-blue-500/10 rounded-full flex items-center justify-center mb-4",children:jsxRuntimeExports.jsx(motion.div,{animate:{y:[0,-2,0]},transition:{delay:.3,duration:1.5,repeat:1/0,ease:"easeInOut"},children:jsxRuntimeExports.jsx(Shield,{className:"w-6 h-6 text-blue-500"})})}),jsxRuntimeExports.jsx("h3",{className:"text-neutral-900 dark:text-white text-xl font-bold mb-2",children:"Backup Wallet"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"Export your wallet keys to a file. Keep this safe!"})]}),jsxRuntimeExports.jsx("label",{className:"text-xs text-neutral-500 mb-1 block",children:"Filename"}),jsxRuntimeExports.jsx("input",{placeholder:"Filename",value:r,onChange:g=>o(g.target.value),className:"w-full mb-3 px-3 py-2 bg-neutral-100 dark:bg-neutral-800 rounded text-neutral-800 dark:text-neutral-200 placeholder-neutral-400 border border-neutral-200 dark:border-neutral-700 focus:border-blue-500 outline-none transition-colors"}),jsxRuntimeExports.jsx("label",{className:"text-xs text-neutral-500 mb-1 block",children:"Encryption Password (Optional)"}),jsxRuntimeExports.jsx("input",{placeholder:"Password",type:"password",value:s,onChange:g=>l(g.target.value),className:"w-full mb-3 px-3 py-2 bg-neutral-100 dark:bg-neutral-800 rounded text-neutral-800 dark:text-neutral-200 placeholder-neutral-400 border border-neutral-200 dark:border-neutral-700 focus:border-blue-500 outline-none transition-colors"}),jsxRuntimeExports.jsx("input",{placeholder:"Confirm Password",type:"password",value:c,onChange:g=>u(g.target.value),className:"w-full mb-4 px-3 py-2 bg-neutral-100 dark:bg-neutral-800 rounded text-neutral-800 dark:text-neutral-200 placeholder-neutral-400 border border-neutral-200 dark:border-neutral-700 focus:border-blue-500 outline-none transition-colors"}),h&&jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 p-3 bg-red-500/10 border border-red-900/50 rounded-lg flex items-center gap-2",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"w-4 h-4 text-red-500 shrink-0"}),jsxRuntimeExports.jsx("span",{className:"text-red-400 text-sm",children:h})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx(motion.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:a,className:"flex-1 py-2 bg-neutral-200 dark:bg-neutral-700 rounded text-neutral-700 dark:text-white hover:bg-neutral-300 dark:hover:bg-neutral-600 transition-colors",children:"Cancel"}),jsxRuntimeExports.jsx(motion.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:m,className:"flex-1 py-2 bg-linear-to-br from-blue-600 to-blue-700 rounded text-white hover:from-blue-500 hover:to-blue-600 transition-all shadow-lg shadow-blue-500/20",children:"Save"})]})]})})}function DeleteConfirmationModal({show:t,onConfirmDelete:e,onSaveFirst:a,onCancel:r}){return t?jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 dark:bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:r,children:jsxRuntimeExports.jsxs(motion.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},transition:{type:"spring",duration:.4},className:"relative w-full max-w-md bg-white dark:bg-[#111] border border-neutral-200 dark:border-white/10 rounded-3xl shadow-2xl p-6 overflow-hidden",onClick:o=>o.stopPropagation(),children:[jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1},className:"flex flex-col items-center text-center mb-6",children:[jsxRuntimeExports.jsx(motion.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-12 h-12 bg-red-500/10 rounded-full flex items-center justify-center mb-4",children:jsxRuntimeExports.jsx(motion.div,{animate:{rotate:[0,-10,10,-10,0]},transition:{delay:.3,duration:.5},children:jsxRuntimeExports.jsx(TriangleAlert,{className:"w-6 h-6 text-red-500"})})}),jsxRuntimeExports.jsx("h3",{className:"text-neutral-900 dark:text-white text-xl font-bold mb-2",children:"Delete Wallet?"}),jsxRuntimeExports.jsxs("p",{className:"text-neutral-500 dark:text-neutral-400 text-sm",children:["Are you sure you want to delete this wallet? ",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("span",{className:"text-red-500 dark:text-red-400 font-semibold",children:"This action cannot be undone."})]}),jsxRuntimeExports.jsx("p",{className:"text-neutral-500 text-xs mt-2",children:"If you haven't saved your backup, your funds will be lost forever."})]}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"flex flex-col gap-3",children:[jsxRuntimeExports.jsxs(motion.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:a,className:"w-full py-3 bg-neutral-100 dark:bg-neutral-800 rounded-xl text-neutral-700 dark:text-white font-medium border border-neutral-200 dark:border-neutral-700 hover:bg-neutral-200 dark:hover:bg-neutral-700 flex items-center justify-center gap-2 transition-colors",children:[jsxRuntimeExports.jsx(Download,{className:"w-4 h-4"}),"Save Backup First"]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3 mt-2",children:[jsxRuntimeExports.jsx(motion.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:r,className:"flex-1 py-3 bg-neutral-100 dark:bg-neutral-800 rounded-xl text-neutral-700 dark:text-white font-medium hover:bg-neutral-200 dark:hover:bg-neutral-700 transition-colors",children:"Cancel"}),jsxRuntimeExports.jsx(motion.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:e,className:"flex-1 py-3 bg-red-600/20 text-red-500 border border-red-200 dark:border-red-900/50 rounded-xl font-medium hover:bg-red-600 hover:text-white transition-all",children:"Delete Anyway"})]})]})]})}):null}function TransactionConfirmationModal({show:t,txPlan:e,destination:a,amount:r,isSending:o,onConfirm:s,onCancel:l}){return!t||!e?null:jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/60 dark:bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"relative w-full max-w-md bg-white dark:bg-[#111] border border-neutral-200 dark:border-white/10 rounded-3xl shadow-2xl p-6 overflow-hidden",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl text-neutral-900 dark:text-white font-bold mb-4",children:"Confirm Transaction"}),jsxRuntimeExports.jsxs("div",{className:"space-y-3 mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-neutral-500 dark:text-neutral-400",children:"Recipient"}),jsxRuntimeExports.jsx("span",{className:"text-neutral-900 dark:text-white font-mono truncate max-w-[200px]",children:a})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-neutral-500 dark:text-neutral-400",children:"Amount"}),jsxRuntimeExports.jsxs("span",{className:"text-neutral-900 dark:text-white",children:[r," ALPHA"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-neutral-500 dark:text-neutral-400",children:"Transactions"}),jsxRuntimeExports.jsx("span",{className:"text-neutral-900 dark:text-white",children:e.transactions.length})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-neutral-500 dark:text-neutral-400",children:"Total Fee"}),jsxRuntimeExports.jsxs("span",{className:"text-neutral-900 dark:text-white",children:[e.transactions.length*1e4/1e8," ALPHA"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:l,className:"flex-1 px-4 py-3 rounded-xl bg-neutral-100 dark:bg-neutral-800 text-neutral-900 dark:text-white font-semibold hover:bg-neutral-200 dark:hover:bg-neutral-700 transition-colors",disabled:o,children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:s,className:"flex-1 px-4 py-3 rounded-xl bg-green-600 text-white font-semibold hover:bg-green-500 flex items-center justify-center gap-2 transition-colors",disabled:o,children:o?"Sending...":"Confirm & Send"})]})]})})}const ec=new elliptic.ec("secp256k1"),L3_PROXY_URL="https://alpha-migri.dyndns.org",MESSAGE_PREFIX=`Alpha Signed Message:
`;function varintBuf(t){if(t<253)return new Uint8Array([t]);if(t<65536){const e=new Uint8Array(3);return e[0]=253,e[1]=t&255,e[2]=t>>8&255,e}throw new Error("Message too long")}function createMessageHash(t){const e=new TextEncoder().encode(MESSAGE_PREFIX),a=new TextEncoder().encode(t),r=varintBuf(e.length),o=varintBuf(a.length),s=new Uint8Array(r.length+e.length+o.length+a.length);let l=0;s.set(r,l),l+=r.length,s.set(e,l),l+=e.length,s.set(o,l),l+=o.length,s.set(a,l);const c=Array.from(s).map(f=>f.toString(16).padStart(2,"0")).join(""),u=CryptoJS.SHA256(CryptoJS.enc.Hex.parse(c)).toString();return CryptoJS.SHA256(CryptoJS.enc.Hex.parse(u)).toString()}function signMessage(t,e){const a=ec.keyFromPrivate(t,"hex"),r=createMessageHash(e),o=Buffer.from(r,"hex"),s=a.sign(o,{canonical:!0}),l=a.getPublic();let c=-1;for(let m=0;m<4;m++)try{if(ec.recoverPubKey(o,s,m).eq(l)){c=m;break}}catch{continue}if(c===-1)throw new Error("Could not find recovery parameter");const u=31+c,h=s.r.toString("hex").padStart(64,"0"),f=s.s.toString("hex").padStart(64,"0");return u.toString(16).padStart(2,"0")+h+f}function BridgeModal({show:t,address:e,privateKey:a,onClose:r,onSuccess:o}){const[s,l]=reactExports.useState(""),[c,u]=reactExports.useState("idle"),[h,f]=reactExports.useState(null),[m,g]=reactExports.useState(null);reactExports.useEffect(()=>{t&&e?b():(u("idle"),f(null),g(null),l(""))},[t,e]);const b=async()=>{u("checking"),g(null);try{const C=await(await fetch(`${L3_PROXY_URL}/api/v1/faucet/balance/${e}`)).json();if(!C.success){u("not_eligible"),g(C.error||"Address not found in snapshot");return}f(C),C.spent?u("already_minted"):C.inSnapshot&&C.amount>0?u("available"):(u("not_eligible"),g("Address is not eligible for migration"))}catch(E){u("error"),g("Failed to check balance: "+(E instanceof Error?E.message:String(E)))}},w=async()=>{if(!s.trim()){g("Please enter your L3 Unicity ID");return}if(!h){g("Balance info not available");return}const E=s.trim();g(null),u("signing");try{const C=h.amountInSmallUnits,B=`${e}:${E}:${C}`,O=signMessage(a,B);u("minting");const q=await(await fetch(`${L3_PROXY_URL}/api/v1/faucet/request`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({l1_addr:e,unicityId:E,amount:C,signature:O})})).json();q.success?(u("success"),o&&o(q.txId,q.amount)):(u("error"),g(q.error||"Minting failed"))}catch(C){u("error"),g("Bridge failed: "+(C instanceof Error?C.message:String(C)))}};return t?jsxRuntimeExports.jsx(AnimatePresence,{children:jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 dark:bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:r,children:jsxRuntimeExports.jsxs(motion.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},transition:{type:"spring",duration:.4},className:"relative w-full max-w-md bg-white dark:bg-[#111] border border-neutral-200 dark:border-white/10 rounded-3xl shadow-2xl p-4 sm:p-6 max-h-[85vh] overflow-y-auto",onClick:E=>E.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsxs("h3",{className:"text-neutral-900 dark:text-white text-xl font-bold flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-full bg-linear-to-br from-purple-500 to-blue-500 flex items-center justify-center",children:jsxRuntimeExports.jsx(ArrowLeftRight,{className:"w-4 h-4 text-white"})}),"Bridge to L3"]}),jsxRuntimeExports.jsx("button",{onClick:r,className:"text-neutral-400 dark:text-neutral-500 hover:text-neutral-600 dark:hover:text-neutral-300 transition-colors",children:jsxRuntimeExports.jsx(X,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 p-3 bg-amber-500/10 border border-amber-500/30 rounded-lg",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-2",children:[jsxRuntimeExports.jsx(TriangleAlert,{className:"w-5 h-5 text-amber-500 mt-0.5 shrink-0"}),jsxRuntimeExports.jsxs("div",{className:"text-sm",children:[jsxRuntimeExports.jsx("p",{className:"text-amber-400 font-medium mb-1",children:"Demo Implementation"}),jsxRuntimeExports.jsx("p",{className:"text-amber-300/70",children:"This is an alpha test bridge. Your L1 ALPHA tokens will NOT be burned. You will receive equivalent ALPHT tokens on L3 for testing purposes."})]})]})}),jsxRuntimeExports.jsx("div",{className:"mb-4 p-3 bg-blue-500/10 border border-blue-500/30 rounded-lg",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-2",children:[jsxRuntimeExports.jsx(Info,{className:"w-5 h-5 text-blue-400 mt-0.5 shrink-0"}),jsxRuntimeExports.jsx("div",{className:"text-sm text-blue-300/70",children:jsxRuntimeExports.jsx("p",{children:"Bridge clones your L1 ALPHA coins to L3 ALPHT tokens on Unicity Network. You need to provide your L3 Unicity ID as the destination."})})]})}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-neutral-500 dark:text-neutral-400 text-xs mb-1",children:"Source L1 Address"}),jsxRuntimeExports.jsx("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 p-3 rounded-lg border border-neutral-200 dark:border-neutral-700/50",children:jsxRuntimeExports.jsx("span",{className:"text-neutral-700 dark:text-neutral-200 font-mono text-sm break-all",children:e})})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-neutral-500 dark:text-neutral-400 text-xs mb-1",children:"Mintable Balance"}),jsxRuntimeExports.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-800/50 p-3 rounded-lg border border-neutral-200 dark:border-neutral-700/50",children:[c==="checking"&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-neutral-500 dark:text-neutral-400",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}),jsxRuntimeExports.jsx("span",{children:"Checking eligibility..."})]}),c==="available"&&h&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("span",{className:"text-green-400 font-bold text-lg",children:[h.amount," ALPHA"]}),jsxRuntimeExports.jsxs("span",{className:"text-green-500 text-xs flex items-center gap-1",children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-3 h-3"}),"Available"]})]}),c==="already_minted"&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-amber-400",children:[jsxRuntimeExports.jsx(TriangleAlert,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"Already minted to L3"})]}),c==="not_eligible"&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-red-400",children:[jsxRuntimeExports.jsx(X,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"Not eligible for migration"})]}),c==="error"&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-red-400",children:[jsxRuntimeExports.jsx(X,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"Error checking balance"})]}),(c==="signing"||c==="minting"||c==="success")&&h&&jsxRuntimeExports.jsxs("span",{className:"text-green-400 font-bold text-lg",children:[h.amount," ALPHA"]})]})]}),c==="available"&&jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-neutral-500 dark:text-neutral-400 text-xs mb-1",children:"Destination L3 Unicity ID"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Enter your Unicity ID",value:s,onChange:E=>l(E.target.value),className:"w-full px-3 py-2 bg-neutral-100 dark:bg-neutral-800/50 rounded-lg text-neutral-800 dark:text-neutral-200 placeholder-neutral-400 dark:placeholder-neutral-500 border border-neutral-200 dark:border-neutral-700/50 focus:border-purple-500 focus:bg-neutral-50 dark:focus:bg-neutral-800 outline-none transition-all font-mono text-sm"})]}),m&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 p-3 bg-red-500/10 border border-red-500/30 rounded-lg",children:jsxRuntimeExports.jsx("p",{className:"text-red-400 text-sm",children:m})}),(c==="signing"||c==="minting")&&jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"mb-4 p-6 bg-purple-500/10 border border-purple-500/30 rounded-lg text-center",children:[jsxRuntimeExports.jsxs("div",{className:"relative w-16 h-16 mx-auto mb-4",children:[jsxRuntimeExports.jsx(motion.div,{className:"absolute inset-0 border-4 border-purple-500/30 rounded-full"}),jsxRuntimeExports.jsx(motion.div,{className:"absolute inset-0 border-4 border-transparent border-t-purple-500 rounded-full",animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"}})]}),jsxRuntimeExports.jsx("p",{className:"text-purple-500 dark:text-purple-400 font-medium mb-1",children:c==="signing"?"Signing transaction...":"Minting tokens..."}),jsxRuntimeExports.jsx("p",{className:"text-neutral-500 dark:text-neutral-500 text-sm",children:"Please wait, this may take a moment"})]}),c==="success"&&jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"mb-4 p-4 bg-green-500/10 border border-green-500/30 rounded-lg text-center",children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-12 h-12 text-green-500 mx-auto mb-2"}),jsxRuntimeExports.jsx("p",{className:"text-green-500 dark:text-green-400 font-bold mb-2",children:"Bridge Successful!"}),jsxRuntimeExports.jsxs("p",{className:"text-neutral-500 dark:text-neutral-400 text-sm",children:[h?.amount," ALPHT minted to your L3 address"]})]}),c!=="signing"&&c!=="minting"&&jsxRuntimeExports.jsx("div",{className:"flex gap-3",children:c==="success"?jsxRuntimeExports.jsx(motion.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:r,className:"flex-1 py-3 bg-green-600 hover:bg-green-500 rounded-xl text-white font-medium transition-colors",children:"Done"}):c==="available"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(motion.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:r,className:"flex-1 py-3 bg-neutral-200 dark:bg-neutral-700 hover:bg-neutral-300 dark:hover:bg-neutral-600 rounded-xl text-neutral-700 dark:text-white font-medium transition-colors",children:"Cancel"}),jsxRuntimeExports.jsxs(motion.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:w,className:"flex-1 py-3 bg-linear-to-r from-purple-600 to-blue-600 hover:from-purple-500 hover:to-blue-500 rounded-xl text-white font-medium transition-colors flex items-center justify-center gap-2",children:["Bridge ",jsxRuntimeExports.jsx(ArrowRight,{className:"w-4 h-4"})]})]}):jsxRuntimeExports.jsx(motion.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:r,className:"flex-1 py-3 bg-neutral-200 dark:bg-neutral-700 hover:bg-neutral-300 dark:hover:bg-neutral-600 rounded-xl text-neutral-700 dark:text-white font-medium transition-colors",children:"Close"})})]})})}):null}function ImportWalletModal({show:t,onImport:e,onCancel:a}){const[r,o]=reactExports.useState(!1),[s,l]=reactExports.useState(null),[c,u]=reactExports.useState(10),[h,f]=reactExports.useState(!0),m=reactExports.useRef(null),g=reactExports.useCallback(P=>{P.preventDefault(),o(!0)},[]),b=reactExports.useCallback(P=>{P.preventDefault(),o(!1)},[]),w=reactExports.useCallback(async P=>{P.preventDefault(),o(!1);const q=P.dataTransfer.files[0];q&&(q.name.endsWith(".txt")||q.name.endsWith(".dat"))&&(l(q),await E(q))},[]),E=async P=>{try{if(P.name.endsWith(".dat")){f(!0),u(10);return}const q=await P.text(),z=q.includes("MASTER CHAIN CODE")||q.includes("WALLET TYPE: BIP32")||q.includes("WALLET TYPE: Alpha descriptor");f(z),u(10)}catch(q){console.error("Error checking file type:",q),f(!0)}},C=async P=>{const q=P.target.files?.[0];q&&(l(q),await E(q))},B=()=>{s&&e(s,c)},O=()=>{l(null),u(10),f(!0),a()};return t?jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 dark:bg-black/80 backdrop-blur-sm flex items-center justify-center z-40 p-4",onClick:O,children:jsxRuntimeExports.jsxs(motion.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},transition:{type:"spring",duration:.4},className:"relative w-full max-w-sm bg-white dark:bg-[#111] border border-neutral-200 dark:border-white/10 rounded-2xl shadow-2xl p-4 overflow-hidden",onClick:P=>P.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-neutral-900 dark:text-white text-base font-bold",children:"Import Wallet"}),jsxRuntimeExports.jsx("button",{onClick:O,className:"p-1 hover:bg-neutral-200 dark:hover:bg-neutral-700 rounded transition-colors",children:jsxRuntimeExports.jsx(X,{className:"w-4 h-4 text-neutral-500"})})]}),s?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"p-3 bg-neutral-50 dark:bg-neutral-800/50 border border-neutral-200 dark:border-neutral-700 rounded-lg mb-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileText,{className:"w-5 h-5 text-blue-500 shrink-0"}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-neutral-900 dark:text-white font-medium truncate",children:s.name}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-neutral-500",children:[(s.size/1024).toFixed(1)," KB"]})]}),jsxRuntimeExports.jsx("button",{onClick:()=>l(null),className:"p-1 hover:bg-neutral-200 dark:hover:bg-neutral-600 rounded",children:jsxRuntimeExports.jsx(X,{className:"w-3 h-3 text-neutral-400"})})]})}),h?jsxRuntimeExports.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg mb-3",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300 mb-2",children:"How many addresses to scan?"}),jsxRuntimeExports.jsx("input",{type:"number",value:c,onChange:P=>u(Math.max(1,parseInt(P.target.value)||10)),className:"w-full px-2 py-1.5 bg-white dark:bg-neutral-800 border border-blue-300 dark:border-blue-700 rounded text-sm text-neutral-900 dark:text-white",min:1})]}):jsxRuntimeExports.jsx("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg mb-3",children:jsxRuntimeExports.jsx("p",{className:"text-xs text-green-700 dark:text-green-300",children:"Addresses will be imported from file"})}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>l(null),className:"flex-1 py-2 bg-neutral-200 dark:bg-neutral-700 rounded-lg text-neutral-700 dark:text-white text-sm hover:bg-neutral-300 dark:hover:bg-neutral-600 transition-colors",children:"Back"}),jsxRuntimeExports.jsx("button",{onClick:B,className:"flex-1 py-2 bg-blue-600 rounded-lg text-white text-sm hover:bg-blue-500 transition-colors",children:"Import"})]})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("button",{onClick:()=>m.current?.click(),onDragOver:g,onDragLeave:b,onDrop:w,className:`w-full border-2 border-dashed rounded-xl p-6 text-center transition-colors cursor-pointer ${r?"border-blue-500 bg-blue-500/10":"border-neutral-300 dark:border-neutral-600 hover:border-blue-400 hover:bg-neutral-50 dark:hover:bg-neutral-800/50"}`,children:[jsxRuntimeExports.jsx(Upload,{className:`w-10 h-10 mx-auto mb-3 ${r?"text-blue-500":"text-neutral-400"}`}),jsxRuntimeExports.jsx("p",{className:"text-sm text-neutral-700 dark:text-neutral-300 font-medium mb-1",children:"Select wallet file"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-neutral-400 dark:text-neutral-500",children:".txt or .dat"}),jsxRuntimeExports.jsx("p",{className:"text-[10px] text-neutral-400 dark:text-neutral-600 mt-2 hidden sm:block",children:"or drag & drop here"})]}),jsxRuntimeExports.jsx("input",{type:"file",ref:m,className:"hidden",accept:".txt,.dat",onChange:C})]})]})}):null}function SendModal$1({show:t,selectedAddress:e,onClose:a,onSend:r}){const[o,s]=reactExports.useState(""),[l,c]=reactExports.useState(""),[u,h]=reactExports.useState(null);reactExports.useEffect(()=>{t||(s(""),c(""),h(null))},[t]);const f=async()=>{if(!o.trim()||!l.trim()){h("Please fill in all fields");return}const m=parseFloat(l);if(isNaN(m)||m<=0){h("Please enter a valid amount");return}h(null);try{await r(o,l),a()}catch(g){h(g instanceof Error?g.message:"Transaction creation failed")}};return t?jsxRuntimeExports.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:a,className:"absolute inset-0 bg-black/60 dark:bg-black/80 backdrop-blur-sm"}),jsxRuntimeExports.jsxs(motion.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"relative w-full max-w-md bg-white dark:bg-[#111] border border-neutral-200 dark:border-white/10 rounded-3xl shadow-2xl overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"p-6 border-b border-neutral-200 dark:border-white/5 flex justify-between items-center",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-white",children:"Send ALPHA"}),jsxRuntimeExports.jsx("button",{onClick:a,className:"p-2 hover:bg-neutral-100 dark:hover:bg-white/5 rounded-full transition-colors",children:jsxRuntimeExports.jsx(X,{className:"w-5 h-5 text-neutral-500 dark:text-neutral-400"})})]}),jsxRuntimeExports.jsx("div",{className:"p-6",children:jsxRuntimeExports.jsxs(motion.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},children:[jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("label",{className:"text-sm text-neutral-500 dark:text-neutral-400 block mb-2",children:"Destination Address"}),jsxRuntimeExports.jsx("input",{autoFocus:!0,value:o,onChange:m=>s(m.target.value),onKeyDown:m=>m.key==="Enter"&&f(),className:"w-full bg-neutral-100 dark:bg-neutral-900 border border-neutral-200 dark:border-white/10 rounded-xl py-3 px-4 text-neutral-900 dark:text-white focus:border-green-500 outline-none font-mono text-sm",placeholder:"Enter wallet address"})]}),jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[jsxRuntimeExports.jsx("label",{className:"text-neutral-500 dark:text-neutral-400",children:"Amount"}),jsxRuntimeExports.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["Available:"," ",jsxRuntimeExports.jsxs("span",{className:"text-neutral-900 dark:text-white",children:[(Number(vestingState.getBalance(e))/1e8).toFixed(8)," ALPHA"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"number",step:"any",value:l,onChange:m=>c(m.target.value),onKeyDown:m=>m.key==="Enter"&&f(),className:"w-full bg-neutral-100 dark:bg-neutral-900 border border-neutral-200 dark:border-white/10 rounded-xl py-3 px-4 pr-32 text-neutral-900 dark:text-white text-2xl font-mono focus:border-green-500 outline-none",placeholder:"0.00"}),jsxRuntimeExports.jsxs("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 flex items-center gap-1",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{const m=Number(vestingState.getBalance(e))/1e8;c(String(Math.floor(m*.25*1e8)/1e8))},className:"px-2 py-1 text-xs bg-neutral-200 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300 rounded hover:bg-neutral-300 dark:hover:bg-neutral-700",children:"25%"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{const m=Number(vestingState.getBalance(e))/1e8;c(String(Math.floor(m*.5*1e8)/1e8))},className:"px-2 py-1 text-xs bg-neutral-200 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300 rounded hover:bg-neutral-300 dark:hover:bg-neutral-700",children:"50%"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{const m=Number(vestingState.getBalance(e))/1e8;c(String(m))},className:"px-2 py-1 text-xs bg-green-600 hover:bg-green-500 text-white rounded",children:"MAX"})]})]}),u&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-2",children:u})]}),jsxRuntimeExports.jsxs("button",{onClick:f,disabled:!o||!l,className:"w-full py-3 bg-linear-to-br from-green-600 to-green-700 hover:from-green-500 hover:to-green-600 text-white font-medium rounded-xl flex items-center justify-center gap-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-xl shadow-green-500/20",children:["Send Transaction",jsxRuntimeExports.jsx(ArrowRight,{size:18})]})]})})]})]}):null}function NoWalletView({onCreateWallet:t,onImportWallet:e,showLoadPasswordModal:a,onConfirmLoadWithPassword:r,onCancelLoadPassword:o}){return jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-6 text-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl text-neutral-900 dark:text-white font-semibold mb-2",children:"No wallet found"}),jsxRuntimeExports.jsx("p",{className:"text-neutral-500 dark:text-neutral-400 mb-6",children:"Create a new wallet or import an existing one to continue"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full max-w-xs",children:[jsxRuntimeExports.jsx(motion.button,{whileTap:{scale:.97},className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-xl text-sm font-semibold shadow-lg shadow-blue-500/20",onClick:t,children:"Create Wallet"}),jsxRuntimeExports.jsxs(motion.button,{whileTap:{scale:.97},className:"flex-1 px-6 py-3 bg-neutral-100 dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700 text-neutral-900 dark:text-white rounded-xl text-sm font-semibold hover:bg-neutral-200 dark:hover:bg-neutral-700 flex items-center justify-center gap-2 transition-colors",onClick:e,children:[jsxRuntimeExports.jsx(Upload,{className:"w-4 h-4"}),"Import"]})]}),jsxRuntimeExports.jsx(LoadPasswordModal,{show:a,onConfirm:r,onCancel:o})]})}function formatTimestamp(t){return t?new Date(t*1e3).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}):""}function HistoryView({wallet:t,selectedAddress:e,transactions:a,loadingTransactions:r,currentBlockHeight:o,transactionDetails:s,analyzeTransaction:l,onBackToMain:c}){return jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-full relative",children:[jsxRuntimeExports.jsxs("div",{className:"px-6 mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[jsxRuntimeExports.jsx(motion.button,{whileTap:{scale:.95},onClick:c,className:"p-2 rounded-lg bg-neutral-100 dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700 hover:bg-neutral-200 dark:hover:bg-neutral-700 text-neutral-900 dark:text-white transition-colors",children:jsxRuntimeExports.jsx(ArrowLeft,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("h2",{className:"text-xl text-neutral-900 dark:text-white font-bold",children:"Transaction History"})]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:[e.slice(0,10),"...",e.slice(-6)]})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto px-6 custom-scrollbar",children:r?jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center h-32 gap-3",children:[jsxRuntimeExports.jsx(motion.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-8 h-8 border-2 border-blue-500 border-t-transparent rounded-full"}),jsxRuntimeExports.jsx("p",{className:"text-neutral-500 dark:text-neutral-400 text-sm",children:"Loading transactions..."})]}):a.length===0?jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex items-center justify-center h-32",children:jsxRuntimeExports.jsx("p",{className:"text-neutral-500 dark:text-neutral-400",children:"No transactions found"})}):jsxRuntimeExports.jsx("div",{className:"space-y-3",children:a.map((u,h)=>{const f=u.height>0&&o>0?Math.max(0,o-u.height+1):0,m=f>0?"#10b981":"#fbbf24",g=f>0?`${f} confirmations`:"Unconfirmed",b=u.tx_hash.substring(0,6)+"..."+u.tx_hash.substring(u.tx_hash.length-6),w=s[u.tx_hash],E=l(u,w,t,e),C=E.direction==="sent",B=C?"Sent":"Received",O=C?"#ef4444":"#10b981";return jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:h*.05,duration:.3},whileHover:{x:4},className:"bg-neutral-50 dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-800 rounded-xl p-4 transition-all cursor-pointer hover:border-neutral-300 dark:hover:border-neutral-700 hover:bg-neutral-100 dark:hover:bg-neutral-800/50",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start mb-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("span",{className:"text-sm font-semibold",style:{color:O},children:[C?"":""," ",B]}),jsxRuntimeExports.jsx("a",{href:`https://www.unicity.network/tx/${u.tx_hash}`,target:"_blank",rel:"noopener noreferrer",className:"font-mono text-xs text-blue-500 dark:text-blue-400 hover:text-blue-400 dark:hover:text-blue-300",children:b})]}),jsxRuntimeExports.jsx("div",{className:"text-right",children:jsxRuntimeExports.jsxs("div",{className:"font-bold text-sm",style:{color:O},children:[C?"-":"",E.amount.toFixed(8)," ALPHA"]})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-xs mb-2",children:[jsxRuntimeExports.jsx("span",{style:{color:m},children:g}),u.height>0&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{className:"text-neutral-400 dark:text-neutral-600",children:""}),jsxRuntimeExports.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["Block ",u.height]})]}),w?.blocktime&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{className:"text-neutral-400 dark:text-neutral-600",children:""}),jsxRuntimeExports.jsx("span",{className:"text-neutral-500 dark:text-neutral-400",children:formatTimestamp(w.blocktime)})]})]}),w&&jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[E.fromAddresses.length>0&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:["From:"," ",jsxRuntimeExports.jsxs("a",{href:`https://www.unicity.network/address/${E.fromAddresses[0]}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 dark:text-blue-400 hover:text-blue-400 dark:hover:text-blue-300 font-mono",children:[E.fromAddresses[0].substring(0,11),"...",E.fromAddresses[0].substring(E.fromAddresses[0].length-6)]})]}),E.toAddresses.length>0&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:["To:"," ",jsxRuntimeExports.jsxs("a",{href:`https://www.unicity.network/address/${E.toAddresses[0]}`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 dark:text-blue-400 hover:text-blue-400 dark:hover:text-blue-300 font-mono",children:[E.toAddresses[0].substring(0,11),"...",E.toAddresses[0].substring(E.toAddresses[0].length-6)]})]})]})]},u.tx_hash)})})})]})}function BalanceSkeleton(){return jsxRuntimeExports.jsx("div",{className:"relative overflow-hidden h-3 w-12 sm:w-14 rounded bg-neutral-200 dark:bg-neutral-700/50 mt-0.5 sm:mt-1 mx-auto",children:jsxRuntimeExports.jsx(motion.div,{className:"absolute inset-0 bg-linear-to-r from-transparent via-white/20 dark:via-white/10 to-transparent",animate:{x:["-100%","100%"]},transition:{duration:1.2,repeat:1/0,ease:"linear"}})})}function VestingSelector({address:t,onModeChange:e,classificationProgress:a,showBalances:r=!0,balances:o}){const[s,l]=reactExports.useState(vestingState.getMode()),[c,u]=reactExports.useState({vested:0n,unvested:0n,all:0n}),h=o??c;reactExports.useEffect(()=>{if(!o){const w=vestingState.getAllBalances(t);u(w)}},[t,a,o]);const f=w=>{vestingState.setMode(w),l(w),e?.(w)},m=w=>(Number(w)/1e8).toFixed(8)+" ALPHA",g=[{value:"all",label:"All",color:"neutral"},{value:"vested",label:"Vested",color:"green"},{value:"unvested",label:"Unvested",color:"orange"}],b=(w,E)=>w==="green"?{bg:E?"bg-green-500/20":"bg-neutral-100 dark:bg-neutral-800/50",text:"text-green-500 dark:text-green-400",border:E?"border-green-500/50":"border-neutral-200 dark:border-neutral-700/50"}:w==="orange"?{bg:E?"bg-orange-500/20":"bg-neutral-100 dark:bg-neutral-800/50",text:"text-orange-500 dark:text-orange-400",border:E?"border-orange-500/50":"border-neutral-200 dark:border-neutral-700/50"}:{bg:E?"bg-blue-500/20":"bg-neutral-100 dark:bg-neutral-800/50",text:"text-neutral-700 dark:text-neutral-200",border:E?"border-blue-500/50":"border-neutral-200 dark:border-neutral-700/50"};return jsxRuntimeExports.jsxs("div",{className:"rounded-lg sm:rounded-xl bg-neutral-100/50 dark:bg-neutral-900/50 border border-neutral-200/50 dark:border-neutral-800/50 p-2 sm:p-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-1.5 sm:mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-[10px] sm:text-xs text-neutral-500 dark:text-neutral-400",children:"Coin Filter"}),a&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"w-3 h-3 text-blue-500 dark:text-blue-400 animate-spin"}),jsxRuntimeExports.jsx("span",{className:"text-[10px] sm:text-xs text-blue-500 dark:text-blue-400",children:"Analyzing..."})]})]}),jsxRuntimeExports.jsx("div",{className:"flex gap-1.5 sm:gap-2",children:g.map(w=>{const E=s===w.value,C=b(w.color,E),B=w.value==="all"?h.all:w.value==="vested"?h.vested:h.unvested;return jsxRuntimeExports.jsx(motion.button,{onClick:()=>f(w.value),whileHover:{scale:1.02},whileTap:{scale:.98},className:`flex-1 px-2 sm:px-3 py-1.5 sm:py-2 rounded-md sm:rounded-lg border transition-all ${C.bg} ${C.border}`,children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center",children:[jsxRuntimeExports.jsx("span",{className:`text-[10px] sm:text-xs font-medium ${E?C.text:"text-neutral-500 dark:text-neutral-400"}`,children:w.label}),r&&(a?jsxRuntimeExports.jsx(BalanceSkeleton,{}):jsxRuntimeExports.jsx("span",{className:`text-[10px] sm:text-xs mt-0.5 sm:mt-1 font-mono ${E?C.text:"text-neutral-500"}`,children:m(B).split(" ")[0]}))]})},w.value)})})]})}function AnimatedBalance({value:t,show:e}){const[a,r]=reactExports.useState(t),[o,s]=reactExports.useState(!1);return reactExports.useEffect(()=>{if(t===a)return;s(!0);const l=a,c=t,u=600,h=Date.now(),f=()=>{const m=Date.now()-h,g=Math.min(m/u,1),b=1-Math.pow(2,-10*g),w=l+(c-l)*b;r(Math.round(w*100)/100),g<1?requestAnimationFrame(f):(r(c),s(!1))};requestAnimationFrame(f)},[t,a]),e?jsxRuntimeExports.jsxs("span",{className:o?"transition-opacity":"",children:[a," ALPHA"]}):jsxRuntimeExports.jsx("span",{children:""})}function MainWalletView({selectedAddress:t,selectedPrivateKey:e,addresses:a,balance:r,totalBalance:o,showBalances:s,onNewAddress:l,onSelectAddress:c,onShowHistory:u,onSaveWallet:h,onDeleteWallet:f,onSendTransaction:m,txPlan:g,isSending:b,onConfirmSend:w,vestingProgress:E,onVestingModeChange:C,vestingBalances:B}){const[O,P]=reactExports.useState(!1),[q,z]=reactExports.useState(!1),[V,Z]=reactExports.useState(!1),[J,W]=reactExports.useState(!1),[te,G]=reactExports.useState(!1),[D,M]=reactExports.useState(!1),[v,S]=reactExports.useState(!1),[N,R]=reactExports.useState(!1),[k,j]=reactExports.useState(""),[I,A]=reactExports.useState(""),$=async(re,U)=>{j(re),A(U),await m(re,U),Z(!0)},L=async()=>{await w(),Z(!1)},Y=(re,U)=>{h(re,U),W(!1)},le=()=>{f(),G(!1)};return jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-full relative overflow-y-auto",children:[jsxRuntimeExports.jsx(TransactionConfirmationModal,{show:V,txPlan:g,destination:k,amount:I,isSending:b,onConfirm:L,onCancel:()=>Z(!1)}),jsxRuntimeExports.jsx(QRModal,{show:O,address:t,onClose:()=>P(!1)}),jsxRuntimeExports.jsx("div",{className:"px-3 sm:px-4 lg:px-6 mb-2 sm:mb-3",children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>z(re=>!re),className:"flex-1 bg-neutral-100 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-200 px-2 sm:px-3 py-1.5 sm:py-2 rounded-lg border border-neutral-200 dark:border-neutral-700 flex items-center justify-between hover:bg-neutral-200/50 dark:hover:bg-neutral-700/50 transition-colors",children:[jsxRuntimeExports.jsx("span",{className:"font-mono text-xs sm:text-sm",children:t.slice(0,12)+"..."+t.slice(-8)}),jsxRuntimeExports.jsx(ChevronDown,{className:`w-3 h-3 sm:w-4 sm:h-4 text-neutral-500 dark:text-neutral-400 transition-transform ${q?"rotate-180":""}`})]}),jsxRuntimeExports.jsx(motion.button,{onClick:l,whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-1.5 sm:p-2 rounded-lg bg-neutral-100 dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700 hover:bg-neutral-200 dark:hover:bg-neutral-700 text-neutral-600 dark:text-neutral-300 transition-colors",title:"Generate new address",children:jsxRuntimeExports.jsx(Plus,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>{navigator.clipboard.writeText(t),M(!0),setTimeout(()=>M(!1),2e3)},className:`p-1.5 sm:p-2 rounded-lg border transition-colors ${D?"bg-green-600 border-green-500 text-white":"bg-neutral-100 dark:bg-neutral-800 border-neutral-200 dark:border-neutral-700 hover:bg-neutral-200 dark:hover:bg-neutral-700 text-neutral-600 dark:text-neutral-300"}`,title:D?"Copied!":"Copy address",children:D?jsxRuntimeExports.jsx(Check,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}):jsxRuntimeExports.jsx(Copy,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})}),jsxRuntimeExports.jsx("a",{href:`https://www.unicity.network/address/${t}`,target:"_blank",rel:"noopener noreferrer",className:"p-1.5 sm:p-2 rounded-lg bg-neutral-100 dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700 hover:bg-neutral-200 dark:hover:bg-neutral-700 text-neutral-600 dark:text-neutral-300 transition-colors",title:"View in explorer",children:jsxRuntimeExports.jsx(ExternalLink,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})})]}),jsxRuntimeExports.jsx(AnimatePresence,{children:q&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-10",onClick:()=>z(!1)}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute z-20 mt-2 w-full bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-700 rounded-xl shadow-xl max-h-52 overflow-y-auto custom-scrollbar",children:a.map(re=>jsxRuntimeExports.jsxs("div",{className:`flex items-center gap-2 px-3 py-2 hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors cursor-pointer ${re===t?"bg-neutral-100 dark:bg-neutral-800/50":""}`,onClick:()=>{c(re),z(!1)},children:[jsxRuntimeExports.jsx("span",{className:"flex-1 text-left text-xs text-neutral-700 dark:text-neutral-200 font-mono truncate",children:re}),jsxRuntimeExports.jsx("a",{href:`https://www.unicity.network/address/${re}`,target:"_blank",rel:"noopener noreferrer",className:"p-1 text-blue-500 dark:text-blue-400 hover:text-blue-400 dark:hover:text-blue-300 transition-colors",title:"View in explorer",onClick:U=>U.stopPropagation(),children:jsxRuntimeExports.jsx(ExternalLink,{className:"w-3 h-3"})})]},re))})]})})]})}),jsxRuntimeExports.jsxs("div",{className:"px-3 sm:px-4 lg:px-6 mb-2 sm:mb-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-0.5 sm:mb-1",children:[jsxRuntimeExports.jsx("p",{className:"text-[10px] sm:text-xs text-blue-500/70 dark:text-blue-300/70",children:"Mainnet Balance"}),jsxRuntimeExports.jsxs("span",{className:"flex h-1.5 w-1.5 sm:h-2 sm:w-2 relative",children:[jsxRuntimeExports.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"}),jsxRuntimeExports.jsx("span",{className:"relative inline-flex rounded-full h-1.5 w-1.5 sm:h-2 sm:w-2 bg-green-500"})]})]}),jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:jsxRuntimeExports.jsx(motion.h2,{initial:{opacity:0,y:-20,filter:"blur(10px)"},animate:{opacity:1,y:0,filter:"blur(0px)"},exit:{opacity:0,y:20,filter:"blur(10px)"},transition:{type:"spring",duration:.6,bounce:.2},className:"text-2xl sm:text-3xl text-neutral-900 dark:text-white font-bold tracking-tight",children:jsxRuntimeExports.jsx(AnimatedBalance,{value:r,show:s})},t)}),a.length>1&&jsxRuntimeExports.jsxs("p",{className:"text-[10px] sm:text-xs text-neutral-500 dark:text-neutral-400 mt-1",children:["Total (",a.length," addresses):"," ",jsxRuntimeExports.jsx("span",{className:"font-medium text-neutral-700 dark:text-neutral-300",children:s?`${o} ALPHA`:""})]})]}),jsxRuntimeExports.jsx("div",{className:"px-3 sm:px-4 lg:px-6 mb-2 sm:mb-3",children:jsxRuntimeExports.jsx(VestingSelector,{address:t,onModeChange:C,classificationProgress:E,showBalances:s,balances:B})}),jsxRuntimeExports.jsx("div",{className:"px-3 sm:px-4 lg:px-6 mb-2 sm:mb-3",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:gap-3",children:[jsxRuntimeExports.jsxs(motion.button,{onClick:()=>P(!0),whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},className:"relative px-3 sm:px-4 py-2 sm:py-2.5 rounded-lg sm:rounded-xl bg-linear-to-br from-blue-500 to-blue-600 text-white text-xs sm:text-sm shadow-xl shadow-blue-500/20 flex items-center justify-center gap-1.5 sm:gap-2 overflow-hidden group",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-linear-to-r from-transparent via-white/10 to-transparent translate-x-[-200%] group-hover:translate-x-[200%] transition-transform duration-1000"}),jsxRuntimeExports.jsx(ArrowDownLeft,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 relative z-10"}),jsxRuntimeExports.jsx("span",{className:"relative z-10",children:"Receive"})]}),jsxRuntimeExports.jsxs(motion.button,{whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},onClick:()=>S(!0),className:"relative px-3 sm:px-4 py-2 sm:py-2.5 rounded-lg sm:rounded-xl bg-linear-to-br from-green-600 to-green-700 text-white text-xs sm:text-sm shadow-xl shadow-green-500/20 flex items-center justify-center gap-1.5 sm:gap-2 overflow-hidden group",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-linear-to-r from-transparent via-white/10 to-transparent translate-x-[-200%] group-hover:translate-x-[200%] transition-transform duration-1000"}),jsxRuntimeExports.jsx(Send,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 relative z-10"}),jsxRuntimeExports.jsx("span",{className:"relative z-10",children:"Send"})]})]})}),jsxRuntimeExports.jsxs("div",{className:"px-3 sm:px-4 lg:px-6 mb-2 sm:mb-3",children:[jsxRuntimeExports.jsxs(motion.button,{onClick:()=>R(!0),whileHover:{scale:1.01,y:-1},whileTap:{scale:.99},className:"w-full relative px-3 sm:px-4 py-2 sm:py-2.5 rounded-lg sm:rounded-xl bg-linear-to-r from-purple-600/80 to-blue-600/80 text-white text-xs sm:text-sm border border-purple-500/30 flex items-center justify-center gap-1.5 sm:gap-2 overflow-hidden group hover:from-purple-500/80 hover:to-blue-500/80 transition-all",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-linear-to-r from-transparent via-white/5 to-transparent translate-x-[-200%] group-hover:translate-x-[200%] transition-transform duration-1000"}),jsxRuntimeExports.jsx(ArrowRightLeft,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 relative z-10"}),jsxRuntimeExports.jsx("span",{className:"relative z-10 font-medium",children:"Bridge to L3"}),jsxRuntimeExports.jsx("span",{className:"relative z-10 text-[10px] sm:text-xs text-purple-200/70 ml-1",children:"(Demo)"})]}),jsxRuntimeExports.jsx("p",{className:"text-[10px] sm:text-xs text-neutral-500 text-center mt-1",children:"Clone L1 ALPHA tokens to L3 ALPHT for testing"})]}),jsxRuntimeExports.jsx("div",{className:"px-3 sm:px-4 lg:px-6 mb-2 sm:mb-3",children:jsxRuntimeExports.jsxs(motion.button,{onClick:u,whileHover:{scale:1.01},whileTap:{scale:.99},className:"w-full px-3 sm:px-4 py-2 sm:py-2.5 rounded-lg sm:rounded-xl bg-neutral-100/50 dark:bg-neutral-800/50 text-neutral-600 dark:text-neutral-300 text-xs sm:text-sm border border-neutral-200/50 dark:border-neutral-700/50 flex items-center justify-center gap-1.5 sm:gap-2 hover:bg-neutral-200 dark:hover:bg-neutral-800 hover:text-neutral-900 dark:hover:text-white transition-colors",children:[jsxRuntimeExports.jsx(History,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"}),"Transaction History"]})}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"mt-auto px-3 sm:px-4 lg:px-6 pb-3 sm:pb-4 lg:pb-6 pt-2 sm:pt-3 flex items-center justify-between border-t border-neutral-200/50 dark:border-neutral-800/50",children:[jsxRuntimeExports.jsxs(motion.button,{whileHover:{scale:1.05,x:2},whileTap:{scale:.95},onClick:()=>W(!0),className:"flex items-center gap-1.5 sm:gap-2 text-[10px] sm:text-xs text-neutral-500 hover:text-blue-400 transition-colors group",children:[jsxRuntimeExports.jsx(motion.div,{whileHover:{y:-1},transition:{type:"spring",stiffness:300},children:jsxRuntimeExports.jsx(Download,{className:"w-3 h-3 group-hover:drop-shadow-[0_0_4px_rgba(59,130,246,0.5)]"})}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Backup Wallet"})]}),jsxRuntimeExports.jsxs(motion.button,{whileHover:{scale:1.05,x:-2},whileTap:{scale:.95},onClick:()=>G(!0),className:"flex items-center gap-1.5 sm:gap-2 text-[10px] sm:text-xs text-neutral-500 hover:text-red-400 transition-colors group",children:[jsxRuntimeExports.jsx(motion.div,{whileHover:{rotate:[0,-10,10,-10,0]},transition:{duration:.5},children:jsxRuntimeExports.jsx(Trash2,{className:"w-3 h-3 group-hover:drop-shadow-[0_0_4px_rgba(239,68,68,0.5)]"})}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Delete Wallet"})]})]}),jsxRuntimeExports.jsx(SaveWalletModal,{show:J,onConfirm:Y,onCancel:()=>W(!1)}),jsxRuntimeExports.jsx(DeleteConfirmationModal,{show:te,onConfirmDelete:le,onSaveFirst:()=>{G(!1),W(!0)},onCancel:()=>G(!1)}),jsxRuntimeExports.jsx(BridgeModal,{show:N,address:t,privateKey:e,onClose:()=>R(!1)}),jsxRuntimeExports.jsx(SendModal$1,{show:v,selectedAddress:t,onClose:()=>S(!1),onSend:$})]})}const iconMap={success:CircleCheckBig,error:CircleX,warning:TriangleAlert,info:Info},colorMap={success:{bg:"bg-emerald-500/10",text:"text-emerald-500",border:"border-emerald-900/50",button:"bg-emerald-600 hover:bg-emerald-500"},error:{bg:"bg-red-500/10",text:"text-red-500",border:"border-red-900/50",button:"bg-red-600 hover:bg-red-500"},warning:{bg:"bg-amber-500/10",text:"text-amber-500",border:"border-amber-900/50",button:"bg-amber-600 hover:bg-amber-500"},info:{bg:"bg-blue-500/10",text:"text-blue-500",border:"border-blue-900/50",button:"bg-blue-600 hover:bg-blue-500"}};function TxidItem({txid:t}){const[e,a]=reactExports.useState(!1),r=async()=>{await navigator.clipboard.writeText(t),a(!0),setTimeout(()=>a(!1),2e3)},o=`https://www.unicity.network/tx/${t}`;return jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 p-2 bg-neutral-100 dark:bg-neutral-800/50 rounded-lg",children:[jsxRuntimeExports.jsxs("a",{href:o,target:"_blank",rel:"noopener noreferrer",className:"flex-1 text-xs text-blue-500 dark:text-blue-400 hover:text-blue-400 dark:hover:text-blue-300 font-mono truncate",title:t,children:[t.slice(0,12),"...",t.slice(-12)]}),jsxRuntimeExports.jsx("a",{href:o,target:"_blank",rel:"noopener noreferrer",className:"p-1.5 text-neutral-500 dark:text-neutral-400 hover:text-blue-500 dark:hover:text-blue-400 transition-colors",title:"Open in explorer",children:jsxRuntimeExports.jsx(ExternalLink,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{onClick:r,className:"p-1.5 text-neutral-500 dark:text-neutral-400 hover:text-emerald-500 dark:hover:text-emerald-400 transition-colors",title:"Copy TXID",children:e?jsxRuntimeExports.jsx(Check,{className:"w-4 h-4 text-emerald-500 dark:text-emerald-400"}):jsxRuntimeExports.jsx(Copy,{className:"w-4 h-4"})})]})}function MessageModal({show:t,type:e,title:a,message:r,txids:o,onClose:s}){if(!t)return null;const l=iconMap[e],c=colorMap[e];return jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 dark:bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:s,children:jsxRuntimeExports.jsxs(motion.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},transition:{type:"spring",duration:.4},className:"relative w-full max-w-md bg-white dark:bg-[#111] border border-neutral-200 dark:border-white/10 rounded-3xl shadow-2xl p-6 overflow-hidden",onClick:u=>u.stopPropagation(),children:[jsxRuntimeExports.jsx("button",{onClick:s,className:"absolute top-4 right-4 text-neutral-400 dark:text-neutral-500 hover:text-neutral-600 dark:hover:text-neutral-300 transition-colors",children:jsxRuntimeExports.jsx(X,{className:"w-5 h-5"})}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1},className:"flex flex-col items-center text-center mb-6",children:[jsxRuntimeExports.jsx(motion.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:`w-12 h-12 ${c.bg} rounded-full flex items-center justify-center mb-4`,children:jsxRuntimeExports.jsx(motion.div,{initial:{scale:.8},animate:{scale:1},transition:{delay:.3},children:jsxRuntimeExports.jsx(l,{className:`w-6 h-6 ${c.text}`})})}),jsxRuntimeExports.jsx("h3",{className:"text-neutral-900 dark:text-white text-xl font-bold mb-2",children:a}),jsxRuntimeExports.jsx("p",{className:"text-neutral-500 dark:text-neutral-400 text-sm whitespace-pre-wrap",children:r})]}),o&&o.length>0&&jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.25},className:"mb-4 space-y-2",children:[jsxRuntimeExports.jsxs("p",{className:"text-xs text-neutral-500 mb-2",children:["Transaction ID",o.length>1?"s":"",":"]}),o.map(u=>jsxRuntimeExports.jsx(TxidItem,{txid:u},u))]}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},children:jsxRuntimeExports.jsx(motion.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:s,className:`w-full py-3 ${c.button} rounded-xl text-white font-medium transition-colors`,children:"OK"})})]})})}function L1WalletView({showBalances:t}){const[e,a]=reactExports.useState(""),[r,o]=reactExports.useState("main"),[s,l]=reactExports.useState(!1),[c,u]=reactExports.useState(null),[h,f]=reactExports.useState(()=>!isWebSocketConnected()),[m,g]=reactExports.useState(null),[b,w]=reactExports.useState(!1),[E,C]=reactExports.useState({show:!1,type:"info",title:"",message:""}),[B,O]=reactExports.useState(!1),[P,q]=reactExports.useState(!1),[z,V]=reactExports.useState(null),[Z,J]=reactExports.useState(10),{wallet:W,isLoadingWallet:te,balance:G,totalBalance:D,transactions:M,transactionDetails:v,isLoadingTransactions:S,currentBlockHeight:N,vestingBalances:R,isLoadingVesting:k,createWallet:j,importWallet:I,deleteWallet:A,exportWallet:$,analyzeTransaction:L,setVestingMode:Y,invalidateWallet:le}=useL1Wallet(e),re=W?.addresses.map(ye=>ye.address)??[],U=reactExports.useCallback((ye,Fe,qe,oe)=>{C({show:!0,type:ye,title:Fe,message:qe,txids:oe})},[]),K=reactExports.useCallback(()=>{C(ye=>({...ye,show:!1}))},[]);reactExports.useEffect(()=>{if(isWebSocketConnected()){f(!1);return}(async()=>{try{f(!0),await connect()}finally{f(!1)}})()},[]),reactExports.useEffect(()=>{if(W&&W.addresses.length>0){const ye=parseInt(localStorage.getItem("l3_selected_address_index")||"0",10),Fe=Math.min(Math.max(0,ye),W.addresses.length-1),qe=W.addresses[Fe].address;e!==qe&&a(qe)}},[e,W]);const se=k?{current:0,total:1}:null,he=reactExports.useCallback(ye=>{Y(ye)},[Y]),ue=async()=>{try{const ye=await j();ye.addresses.length>0&&a(ye.addresses[0].address)}catch(ye){U("error","Error","Failed to create wallet: "+(ye instanceof Error?ye.message:String(ye)))}},ee=()=>{q(!0)},fe=async(ye,Fe)=>{q(!1);try{if(ye.name.endsWith(".dat")){const oe=await importWallet(ye);if(!oe.success||!oe.wallet)throw new Error(oe.error||"Import failed");V(oe.wallet),J(Fe||100),O(!0);return}const qe=await ye.text();if(qe.includes("ENCRYPTED MASTER KEY"))u(ye),J(Fe||10),l(!0);else if(qe.includes("MASTER CHAIN CODE")||qe.includes("WALLET TYPE: BIP32")||qe.includes("WALLET TYPE: Alpha descriptor")){const Q=await importWallet(ye);if(!Q.success||!Q.wallet)throw new Error(Q.error||"Import failed");V(Q.wallet),J(Fe||10),O(!0)}else{const Q=await I({file:ye});Q.addresses.length>0&&a(Q.addresses[0].address),U("success","Wallet Loaded","Wallet loaded successfully!")}}catch(qe){U("error","Load Error","Error loading wallet: "+(qe instanceof Error?qe.message:String(qe))),console.error(qe)}},ge=ye=>{if(!z)return;const Fe={...z,addresses:[{index:ye.index,address:ye.address,privateKey:ye.privateKey,publicKey:ye.publicKey,path:ye.path,createdAt:new Date().toISOString()}]};saveWalletToStorage("main",Fe),le(),a(ye.address),O(!1),V(null),U("success","Wallet Loaded",`Loaded address with ${ye.balance.toFixed(8)} ALPHA`)},xe=ye=>{if(!z||ye.length===0)return;const Fe={...z,addresses:ye.map(oe=>({index:oe.index,address:oe.address,privateKey:oe.privateKey,publicKey:oe.publicKey,path:oe.path,createdAt:new Date().toISOString(),isChange:oe.isChange}))},qe=ye.reduce((oe,Q)=>oe+Q.balance,0);saveWalletToStorage("main",Fe),le(),a(ye[0].address),O(!1),V(null),U("success","Wallet Loaded",`Loaded ${ye.length} addresses with ${qe.toFixed(8)} ALPHA total`)},_e=()=>{O(!1),V(null)},Ie=async ye=>{if(c)try{const Fe=await importWallet(c,ye);if(!Fe.success||!Fe.wallet)throw new Error(Fe.error||"Import failed");if(l(!1),u(null),Fe.wallet.masterChainCode||Fe.wallet.isImportedAlphaWallet)V(Fe.wallet),O(!0);else{const qe=await I({file:c,password:ye});qe.addresses.length>0&&a(qe.addresses[0].address),U("success","Wallet Loaded","Wallet loaded successfully!")}}catch(Fe){U("error","Load Error","Error loading wallet: "+(Fe instanceof Error?Fe.message:String(Fe)))}},De=async()=>{try{await A(),a("")}catch{U("error","Error","Failed to delete wallet")}},$e=async()=>{if(W)try{const ye=generateAddress(W);loadWalletFromStorage("main")&&(le(),a(ye.address))}catch{U("error","Error","Failed to generate address")}},Ue=(ye,Fe)=>{if(!W){U("warning","No Wallet","No wallet to save");return}const qe=$(W,ye,Fe);qe.success?U("success","Wallet Saved","Wallet saved successfully!"):U("error","Save Error","Error saving wallet: "+qe.error)},Be=async(ye,Fe)=>{if(W)try{const qe=Number(Fe);if(isNaN(qe)||qe<=0){U("error","Invalid Amount","Please enter a valid amount");return}const oe=await createTransactionPlan(W,ye,qe,e);if(!oe.success){U("error","Transaction Failed","Transaction failed: "+oe.error);return}g(oe)}catch(qe){U("error","Transaction Failed","Transaction failed: "+(qe instanceof Error?qe.message:String(qe)))}},Ve=async()=>{if(!(!W||!m)){w(!0);try{const ye=[],Fe=[];for(const qe of m.transactions)try{const oe=createAndSignTransaction(W,qe),Q=await broadcast(oe.raw);ye.push({txid:oe.txid,raw:oe.raw,result:Q})}catch(oe){console.error("Broadcast failed for tx",oe),Fe.push(oe instanceof Error?oe.message:String(oe))}if(g(null),Fe.length>0)if(ye.length>0){const qe=ye.map(oe=>oe.txid);U("warning","Partial Success",`Some transactions failed:
${Fe.join(`
`)}`,qe)}else U("error","Transaction Failed",`Transaction failed:
${Fe.join(`
`)}`);else{const qe=ye.map(oe=>oe.txid);U("success","Transaction Sent",`Sent ${ye.length} transaction(s)!`,qe)}}finally{w(!1)}}},He=()=>{o("history")},Ae=()=>{o("main")},Ce=ye=>{const Fe=W?.addresses.findIndex(qe=>qe.address===ye)??0;localStorage.setItem("l3_selected_address_index",String(Fe)),WalletRepository.getInstance().resetInMemoryState(),window.location.reload()};if(h||te)return jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-full",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"animate-spin text-neutral-400 dark:text-neutral-600"})});if(!W)return jsxRuntimeExports.jsxs("div",{className:"h-full overflow-y-auto",children:[jsxRuntimeExports.jsx(NoWalletView,{onCreateWallet:ue,onImportWallet:ee,showLoadPasswordModal:s,onConfirmLoadWithPassword:Ie,onCancelLoadPassword:()=>{l(!1),u(null)}}),jsxRuntimeExports.jsx(MessageModal,{show:E.show,type:E.type,title:E.title,message:E.message,txids:E.txids,onClose:K}),jsxRuntimeExports.jsx(ImportWalletModal,{show:P,onImport:fe,onCancel:()=>q(!1)}),jsxRuntimeExports.jsx(WalletScanModal,{show:B,wallet:z,initialScanCount:Z,onSelectAddress:ge,onSelectAll:xe,onCancel:_e})]});if(r==="history")return jsxRuntimeExports.jsxs("div",{className:"h-full overflow-y-auto",children:[jsxRuntimeExports.jsx(HistoryView,{wallet:W,selectedAddress:e,transactions:M,loadingTransactions:S,currentBlockHeight:N,transactionDetails:v,analyzeTransaction:L,onBackToMain:Ae}),jsxRuntimeExports.jsx(MessageModal,{show:E.show,type:E.type,title:E.title,message:E.message,txids:E.txids,onClose:K})]});const Te=W?.addresses.find(ye=>ye.address===e)?.privateKey??"";return jsxRuntimeExports.jsxs("div",{className:"h-full",children:[jsxRuntimeExports.jsx(MainWalletView,{selectedAddress:e,selectedPrivateKey:Te,addresses:re,balance:G,totalBalance:D,showBalances:t,onNewAddress:$e,onSelectAddress:Ce,onShowHistory:He,onSaveWallet:Ue,onDeleteWallet:De,onSendTransaction:Be,txPlan:m,isSending:b,onConfirmSend:Ve,vestingProgress:se,onVestingModeChange:he,vestingBalances:R}),jsxRuntimeExports.jsx(MessageModal,{show:E.show,type:E.type,title:E.title,message:E.message,txids:E.txids,onClose:K}),jsxRuntimeExports.jsx(ImportWalletModal,{show:P,onImport:fe,onCancel:()=>q(!1)}),jsxRuntimeExports.jsx(LoadPasswordModal,{show:s,onConfirm:Ie,onCancel:()=>{l(!1),u(null)}}),jsxRuntimeExports.jsx(WalletScanModal,{show:B,wallet:z,initialScanCount:Z,onSelectAddress:ge,onSelectAll:xe,onCancel:_e})]})}function AssetRow({asset:t,showBalances:e,delay:a,onClick:r}){const o=t.change24h>=0?"text-emerald-500 dark:text-emerald-400":"text-red-500 dark:text-red-400",s=t.change24h>=0?"+":"",l=e?`$${t.getTotalFiatValue("USD").toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`:"",c=e?`${t.getFormattedAmount()} ${t.symbol}`:"";return jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:a},layout:!0,whileHover:{x:4,backgroundColor:"var(--color-surface-hover)"},onClick:r,className:"p-3 rounded-xl transition-all cursor-pointer group border border-transparent hover:border-neutral-200/50 dark:hover:border-white/5",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"relative w-10 h-10 rounded-xl flex items-center justify-center overflow-hidden",children:t.iconUrl?jsxRuntimeExports.jsx("img",{src:t.iconUrl,alt:t.symbol,className:"w-full h-full object-cover"}):jsxRuntimeExports.jsx(Box,{className:"w-5 h-5 text-neutral-400 dark:text-neutral-500"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"text-neutral-900 dark:text-white font-medium text-sm",children:t.symbol}),jsxRuntimeExports.jsx("div",{className:"text-xs text-neutral-500 truncate max-w-[120px]",children:t.name})]}),jsxRuntimeExports.jsx("div",{className:"text-xs text-left text-neutral-500",children:c})]})]}),jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsx("div",{className:"text-neutral-900 dark:text-white font-medium text-sm",children:l}),jsxRuntimeExports.jsxs("div",{className:`text-xs ${o} flex justify-end items-center`,children:[s,t.change24h.toFixed(2),"%"]})]})]})})}const CurrencyUtils={toSmallestUnit:(t,e)=>{if(!t)return 0n;try{const[a,r=""]=t.split("."),o=r.padEnd(e,"0").slice(0,e);return BigInt(a+o)}catch(a){return console.error("Invalid amount format",a),0n}},toHumanReadable:(t,e)=>{const a=t.toString().padStart(e+1,"0"),r=a.slice(0,-e),o=a.slice(-e).replace(/0+$/,"");return o?`${r}.${o}`:r}},AmountFormatUtils={formatDisplayAmount:(t,e)=>{try{if(t===void 0||e===void 0)return"";const a=parseFloat(t),s=RegistryService.getInstance().getCoinDefinition(e)?.decimals??6,l=Math.pow(10,s),c=a/l;return new Intl.NumberFormat("en-US",{maximumFractionDigits:6}).format(c)}catch(a){return console.warn("Error formatting amount",a),t||""}}};function TokenRow({token:t,delay:e}){const[a,r]=reactExports.useState(!1),o=AmountFormatUtils.formatDisplayAmount(t.amount,t.coinId),s=l=>{l.stopPropagation(),navigator.clipboard.writeText(t.id),r(!0),setTimeout(()=>r(!1),2e3)};return jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:e},className:"p-3 rounded-xl bg-neutral-50 dark:bg-neutral-800/30 border border-neutral-200/50 dark:border-white/5 hover:border-neutral-300 dark:hover:border-white/10 transition-all group",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"relative w-10 h-10 rounded-lg  flex items-center justify-center overflow-hidden",children:t.iconUrl?jsxRuntimeExports.jsx("img",{src:t.iconUrl,alt:t.symbol,className:"w-full h-full object-cover"}):jsxRuntimeExports.jsx(Box,{className:"w-5 h-5 text-neutral-400 dark:text-neutral-500"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-neutral-900 dark:text-white font-medium text-sm",children:`${o} ${t.symbol}`}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-neutral-500 font-mono cursor-pointer hover:text-orange-500 dark:hover:text-orange-400 transition-colors",onClick:s,children:[jsxRuntimeExports.jsxs("span",{children:["ID: ",t.id.slice(0,8),"..."]}),a?jsxRuntimeExports.jsx(CircleCheck,{className:"w-3 h-3"}):jsxRuntimeExports.jsx(Copy,{className:"w-3 h-3 opacity-0 group-hover:opacity-100"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-end gap-1",children:[jsxRuntimeExports.jsx("span",{className:"text-[10px] font-bold px-2 py-0.5 rounded-md bg-neutral-100 dark:bg-neutral-700/50 text-neutral-500 dark:text-neutral-400 border border-neutral-200 dark:border-neutral-700",children:"Token"}),jsxRuntimeExports.jsx("span",{className:"text-[10px] text-neutral-400 dark:text-neutral-600",children:new Date(t.timestamp).toLocaleDateString()})]})]})})}function SendModal({isOpen:t,onClose:e}){const{assets:a,sendAmount:r}=useWallet(),[o,s]=reactExports.useState("recipient"),[l,c]=reactExports.useState(""),[u,h]=reactExports.useState(!1),[f,m]=reactExports.useState(null),[g,b]=reactExports.useState(null),[w,E]=reactExports.useState(""),[C,B]=reactExports.useState(null),[O,P]=reactExports.useState(!1),q=()=>{s("recipient"),c(""),b(null),E(""),B(null),m(null)},z=()=>{q(),e()},V=async()=>{if(l.trim()){h(!0),m(null);try{const W=IdentityManager.getInstance(),te=NostrService.getInstance(W),G=l.replace("@","").replace("@unicity","").trim();await te.queryPubkeyByNametag(G)?(c(G),s("asset")):m(`User @${G} not found`)}catch{m("Network error")}finally{h(!1)}}},Z=async()=>{if(!g||!w)return;const W=CurrencyUtils.toSmallestUnit(w,g.decimals);if(!(W<=0n)){P(!0);try{const te=new TokenSplitCalculator,D=WalletRepository.getInstance().getTokens(),M=await te.calculateOptimalSplit(D,W,g.coinId);M?(B(M),s("confirm")):m("Insufficient funds or no suitable tokens")}catch(te){console.error(te)}finally{P(!1)}}},J=async()=>{if(!(!g||!w||!l)){s("processing");try{console.log(l),await r({recipientNametag:l,amount:CurrencyUtils.toSmallestUnit(w,g.decimals).toString(),coinId:g.coinId}),s("success")}catch(W){console.error(W),m(W.message||"Transfer failed"),s("confirm")}}};return t?jsxRuntimeExports.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:z,className:"absolute inset-0 bg-black/60 dark:bg-black/80 backdrop-blur-sm"}),jsxRuntimeExports.jsxs(motion.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},className:"relative w-full max-w-md bg-white dark:bg-[#111] border border-neutral-200 dark:border-white/10 rounded-3xl shadow-2xl overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"p-6 border-b border-neutral-200 dark:border-white/5 flex justify-between items-center",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-white",children:[o==="recipient"&&"Send To",o==="asset"&&"Select Asset",o==="amount"&&"Enter Amount",o==="confirm"&&"Confirm Transfer",o==="processing"&&"Processing...",o==="success"&&"Sent!"]}),jsxRuntimeExports.jsx("button",{onClick:z,className:"p-2 hover:bg-neutral-100 dark:hover:bg-white/5 rounded-full transition-colors",children:jsxRuntimeExports.jsx(X,{className:"w-5 h-5 text-neutral-500 dark:text-neutral-400"})})]}),jsxRuntimeExports.jsx("div",{className:"p-6",children:jsxRuntimeExports.jsxs(AnimatePresence,{mode:"wait",children:[o==="recipient"&&jsxRuntimeExports.jsxs(motion.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},exit:{x:-20,opacity:0},children:[jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("label",{className:"text-sm text-neutral-500 dark:text-neutral-400 block mb-2",children:"Unicity Nametag"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-neutral-400 dark:text-neutral-500",children:"@"}),jsxRuntimeExports.jsx("input",{autoFocus:!0,value:l,onChange:W=>c(W.target.value),onKeyDown:W=>W.key==="Enter"&&V(),className:"w-full bg-neutral-100 dark:bg-neutral-900 border border-neutral-200 dark:border-white/10 rounded-xl py-3 pl-8 pr-4 text-neutral-900 dark:text-white focus:border-orange-500 outline-none",placeholder:"Unicity ID"})]}),f&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-2",children:f})]}),jsxRuntimeExports.jsx("button",{onClick:V,disabled:!l||u,className:"w-full py-3 bg-orange-500 hover:bg-orange-600 text-white font-medium rounded-xl flex items-center justify-center gap-2 transition-colors disabled:opacity-50",children:u?jsxRuntimeExports.jsx(LoaderCircle,{className:"animate-spin"}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["Continue ",jsxRuntimeExports.jsx(ArrowRight,{size:18})]})})]},"rec"),o==="asset"&&jsxRuntimeExports.jsx(motion.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},exit:{x:-20,opacity:0},className:"space-y-2",children:a.map(W=>jsxRuntimeExports.jsxs("button",{onClick:()=>{b(W),s("amount")},className:"w-full p-3 flex items-center gap-3 bg-neutral-50 dark:bg-neutral-900/50 hover:bg-neutral-100 dark:hover:bg-neutral-800 border border-neutral-200 dark:border-white/5 rounded-xl transition-colors text-left",children:[jsxRuntimeExports.jsx("img",{src:W.iconUrl||"",className:"w-8 h-8 rounded-full",alt:""}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("div",{className:"text-neutral-900 dark:text-white font-medium",children:W.symbol}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:[W.getFormattedAmount()," available"]})]}),jsxRuntimeExports.jsx(ArrowRight,{className:"w-4 h-4 text-neutral-400 dark:text-neutral-600"})]},W.coinId))},"asset"),o==="amount"&&g&&jsxRuntimeExports.jsxs(motion.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},exit:{x:-20,opacity:0},children:[jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[jsxRuntimeExports.jsx("span",{className:"text-neutral-500 dark:text-neutral-400",children:"Amount"}),jsxRuntimeExports.jsxs("span",{className:"text-neutral-500 dark:text-neutral-400",children:["Available: ",jsxRuntimeExports.jsx("span",{className:"text-neutral-900 dark:text-white",children:g.getFormattedAmount()})]})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{autoFocus:!0,type:"number",value:w,onChange:W=>E(W.target.value),className:"w-full bg-neutral-100 dark:bg-neutral-900 border border-neutral-200 dark:border-white/10 rounded-xl py-3 px-4 text-neutral-900 dark:text-white text-2xl font-mono focus:border-orange-500 outline-none",placeholder:"0.00"}),jsxRuntimeExports.jsx("button",{onClick:()=>E(g.getFormattedAmount()),className:"absolute right-2 top-1/2 -translate-y-1/2 text-xs bg-neutral-200 dark:bg-neutral-800 text-orange-500 dark:text-orange-400 px-2 py-1 rounded hover:bg-neutral-300 dark:hover:bg-neutral-700",children:"MAX"})]}),f&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-2",children:f})]}),jsxRuntimeExports.jsx("button",{onClick:Z,disabled:!w||O,className:"w-full py-3 bg-orange-500 hover:bg-orange-600 text-white font-medium rounded-xl flex items-center justify-center gap-2 transition-colors disabled:opacity-50",children:O?jsxRuntimeExports.jsx(LoaderCircle,{className:"animate-spin"}):"Review"})]},"amt"),o==="confirm"&&g&&C&&jsxRuntimeExports.jsxs(motion.div,{initial:{x:20,opacity:0},animate:{x:0,opacity:1},exit:{x:-20,opacity:0},children:[jsxRuntimeExports.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-900 rounded-2xl p-5 mb-6 border border-neutral-200 dark:border-white/10 text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-neutral-500 dark:text-neutral-400 mb-1",children:"You are sending"}),jsxRuntimeExports.jsxs("div",{className:"text-3xl font-bold text-neutral-900 dark:text-white mb-4",children:[w," ",jsxRuntimeExports.jsx("span",{className:"text-orange-500",children:g.symbol})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm bg-neutral-200 dark:bg-neutral-800/50 p-2 rounded-lg mx-auto max-w-max",children:[jsxRuntimeExports.jsx(User,{className:"w-4 h-4 text-neutral-500 dark:text-neutral-400"}),jsxRuntimeExports.jsxs("span",{className:"text-neutral-700 dark:text-neutral-300",children:["@",l]})]})]}),jsxRuntimeExports.jsxs("div",{className:"mb-6 space-y-2",children:[jsxRuntimeExports.jsx("div",{className:"text-xs font-bold text-neutral-400 dark:text-neutral-500 uppercase tracking-wider ml-1",children:"Strategy"}),C.requiresSplit?jsxRuntimeExports.jsxs("div",{className:"p-3 bg-blue-500/10 border border-blue-500/20 rounded-xl flex items-start gap-3",children:[jsxRuntimeExports.jsx(Scissors,{className:"w-5 h-5 text-blue-500 dark:text-blue-400 mt-0.5"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-blue-600 dark:text-blue-400 text-sm font-medium",children:"Token Split Required"}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-neutral-500 dark:text-neutral-400 mt-1",children:["We will take a token of ",jsxRuntimeExports.jsxs("b",{children:[CurrencyUtils.toHumanReadable(C.tokenToSplit.amount,g.decimals)," ",g.symbol]}),", send exact amount, and keep the change."]})]})]}):jsxRuntimeExports.jsxs("div",{className:"p-3 bg-emerald-500/10 border border-emerald-500/20 rounded-xl flex items-start gap-3",children:[jsxRuntimeExports.jsx(Coins,{className:"w-5 h-5 text-emerald-500 dark:text-emerald-400 mt-0.5"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-emerald-600 dark:text-emerald-400 text-sm font-medium",children:"Direct Transfer"}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-neutral-500 dark:text-neutral-400 mt-1",children:["We found ",C.tokensToTransferDirectly.length," token(s) that match the amount exactly. No split needed."]})]})]})]}),f&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mb-4 text-center",children:f}),jsxRuntimeExports.jsx("button",{onClick:J,className:"w-full py-3 bg-neutral-900 dark:bg-white text-white dark:text-black font-bold rounded-xl hover:bg-neutral-800 dark:hover:bg-neutral-200 transition-colors",children:"Confirm & Send"})]},"conf"),o==="processing"&&jsxRuntimeExports.jsxs(motion.div,{className:"py-10 text-center",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"w-12 h-12 text-orange-500 animate-spin mx-auto mb-4"}),jsxRuntimeExports.jsx("h3",{className:"text-neutral-900 dark:text-white font-medium text-lg",children:"Sending Transaction..."}),jsxRuntimeExports.jsx("p",{className:"text-neutral-500 text-sm mt-2",children:"Processing proofs and broadcasting via Nostr"})]},"proc"),o==="success"&&jsxRuntimeExports.jsxs(motion.div,{className:"py-10 text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-emerald-500/20 rounded-full flex items-center justify-center mx-auto mb-4 border border-emerald-500/50",children:jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-8 h-8 text-emerald-500"})}),jsxRuntimeExports.jsx("h3",{className:"text-neutral-900 dark:text-white font-bold text-2xl mb-2",children:"Success!"}),jsxRuntimeExports.jsxs("p",{className:"text-neutral-500 dark:text-neutral-400",children:["Successfully sent ",jsxRuntimeExports.jsxs("b",{children:[w," ",g?.symbol]})," to ",jsxRuntimeExports.jsxs("b",{children:["@",l]})]}),jsxRuntimeExports.jsx("button",{onClick:z,className:"mt-8 px-8 py-2 bg-neutral-100 dark:bg-neutral-800 rounded-lg hover:bg-neutral-200 dark:hover:bg-neutral-700 text-neutral-900 dark:text-white transition-colors",children:"Close"})]},"done")]})})]})]}):null}const useIncomingPaymentRequests=()=>{const{nostrService:t}=useServices(),[e,a]=reactExports.useState([]);return reactExports.useEffect(()=>{const r=()=>{a([...t.getPaymentRequests()])};return r(),window.addEventListener("payment-requests-updated",r),()=>{window.removeEventListener("payment-requests-updated",r)}},[t]),{requests:e,pendingCount:e.filter(r=>r.status==="PENDING").length,accept:r=>t.acceptPaymentRequest(r),reject:r=>t.rejectPaymentRequest(r),paid:r=>t.paidPaymentRequest(r),clearProcessed:()=>t.clearProcessedPaymentRequests()}};function PaymentRequestsModal({isOpen:t,onClose:e}){const{requests:a,pendingCount:r,reject:o,clearProcessed:s,paid:l}=useIncomingPaymentRequests(),{sendAmount:c}=useWallet(),[u,h]=reactExports.useState(null),[f,m]=reactExports.useState({}),g=a.some(C=>C.status!==PaymentRequestStatus.PENDING),b=!!u,w=()=>{b||(m({}),e())},E=async C=>{h(C.id),m(B=>({...B,[C.id]:""}));try{console.log(`Initiating payment for request ${C.requestId} to @${C.recipientNametag}`),await c({recipientNametag:C.recipientNametag,amount:C.amount.toString(),coinId:C.coinId,eventId:C.id}),l(C)}catch(B){console.error("Failed to execute payment transaction:",B);let O="Transaction failed";B instanceof Error&&(B.message.includes("Insufficient")?O="Insufficient funds":O=B.message),m(P=>({...P,[C.id]:O}))}finally{h(null)}};return jsxRuntimeExports.jsx(AnimatePresence,{children:t&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:w,className:"fixed inset-0 z-100 bg-black/60 dark:bg-black/80 backdrop-blur-sm"}),jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-100 flex items-center justify-center p-4 sm:p-6 pointer-events-none",children:jsxRuntimeExports.jsxs(motion.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},transition:{type:"spring",bounce:.2,duration:.6},className:"relative w-full max-w-md max-h-[600px] bg-white dark:bg-[#111] border border-neutral-200 dark:border-white/10 rounded-3xl shadow-2xl pointer-events-auto flex flex-col overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-orange-500/10 rounded-full blur-3xl pointer-events-none"}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-purple-500/10 rounded-full blur-3xl pointer-events-none"}),jsxRuntimeExports.jsxs("div",{className:"relative shrink-0 px-6 py-4 border-b border-neutral-200/50 dark:border-neutral-700/50 flex justify-between items-center z-20",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(motion.div,{whileHover:{scale:1.05},className:"relative w-11 h-11 rounded-xl bg-linear-to-br from-orange-500 to-orange-600 flex items-center justify-center shadow-lg shadow-orange-500/30",children:jsxRuntimeExports.jsx(Receipt,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold text-neutral-900 dark:text-white leading-tight",children:"Payment Requests"}),r>0&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[jsxRuntimeExports.jsxs("span",{className:"flex h-2 w-2 relative",children:[jsxRuntimeExports.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-orange-400 opacity-75"}),jsxRuntimeExports.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-orange-500"})]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-orange-500 dark:text-orange-400 font-semibold",children:[r," pending"]})]})]})]}),jsxRuntimeExports.jsx(motion.button,{whileHover:{scale:1.1,rotate:90},whileTap:{scale:.9},onClick:w,disabled:b,className:`w-9 h-9 flex items-center justify-center rounded-xl transition-colors ${b?"bg-neutral-200/50 dark:bg-neutral-800/50 text-neutral-400 dark:text-neutral-600 cursor-not-allowed":"bg-neutral-200/80 dark:bg-neutral-800/80 hover:bg-neutral-300/80 dark:hover:bg-neutral-700/80 text-neutral-500 dark:text-neutral-400 hover:text-neutral-700 dark:hover:text-white"}`,children:jsxRuntimeExports.jsx(X,{className:"w-4 h-4"})})]}),jsxRuntimeExports.jsx("div",{className:"relative flex-1 overflow-y-auto custom-scrollbar p-4 space-y-3 z-10 min-h-0",children:a.length===0?jsxRuntimeExports.jsxs("div",{className:"h-full min-h-[300px] flex flex-col items-center justify-center text-center py-12",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:15},className:"relative w-20 h-20 mb-6",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-orange-500/20 rounded-3xl blur-xl"}),jsxRuntimeExports.jsx("div",{className:"relative w-full h-full bg-neutral-200/80 dark:bg-neutral-800/80 rounded-3xl flex items-center justify-center border border-neutral-300/50 dark:border-neutral-700/50",children:jsxRuntimeExports.jsx(Sparkles,{className:"w-10 h-10 text-orange-500 dark:text-orange-400"})})]}),jsxRuntimeExports.jsx("p",{className:"text-neutral-900 dark:text-white font-bold text-lg mb-2",children:"No Requests"}),jsxRuntimeExports.jsx("p",{className:"text-neutral-500 dark:text-neutral-400 text-sm max-w-[220px] leading-relaxed",children:"Incoming payment requests will appear here"})]}):jsxRuntimeExports.jsx(AnimatePresence,{mode:"popLayout",children:a.map(C=>jsxRuntimeExports.jsx(RequestCard,{req:C,error:f[C.id],onPay:()=>E(C),onReject:()=>o(C),isProcessing:u===C.id,isGlobalDisabled:b},C.id))})}),g&&jsxRuntimeExports.jsx("div",{className:"relative shrink-0 p-4 border-t border-neutral-200/50 dark:border-neutral-700/50 backdrop-blur-xl z-20",children:jsxRuntimeExports.jsxs(motion.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:s,disabled:b,className:"w-full py-3 flex items-center justify-center gap-2 text-xs font-bold uppercase tracking-wider text-neutral-500 hover:text-red-500 dark:hover:text-red-400 hover:bg-red-500/10 rounded-xl transition-all disabled:opacity-50 border border-neutral-200/50 dark:border-neutral-700/50 hover:border-red-500/30",children:[jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"})," Clear History"]})})]})})]})})}function RequestCard({req:t,error:e,onPay:a,onReject:r,isProcessing:o,isGlobalDisabled:s}){const l=t.status===PaymentRequestStatus.PENDING,c=AmountFormatUtils.formatDisplayAmount(t.amount.toString(),t.coinId),u=getTimeAgo(t.timestamp),f={[PaymentRequestStatus.ACCEPTED]:{color:"text-emerald-500",bg:"bg-emerald-500/10",border:"border-emerald-500/20",icon:Check,label:"Payment Sent"},[PaymentRequestStatus.PAID]:{color:"text-emerald-500",bg:"bg-emerald-500/10",border:"border-emerald-500/20",icon:Check,label:"Paid Successfully"},[PaymentRequestStatus.REJECTED]:{color:"text-red-500",bg:"bg-red-500/10",border:"border-red-500/20",icon:X,label:"Request Declined"},[PaymentRequestStatus.PENDING]:{color:"text-orange-500",bg:"bg-orange-500/10",border:"border-orange-500/20",icon:Clock,label:"Awaiting Payment"}}[t.status],m=f.icon,g=s&&!o;return jsxRuntimeExports.jsxs(motion.div,{layout:!0,initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,transition:{duration:.2}},className:`relative rounded-2xl overflow-hidden border transition-all duration-300 ${l?"bg-white/60 dark:bg-neutral-800/60 border-neutral-200/60 dark:border-neutral-700/60 shadow-xl shadow-black/10 dark:shadow-black/30 backdrop-blur-xl":"bg-neutral-100/40 dark:bg-neutral-800/40 border-neutral-200/40 dark:border-neutral-700/40 opacity-70"} ${g?"opacity-50 pointer-events-none":""}`,children:[l&&jsxRuntimeExports.jsx("div",{className:"absolute top-0 left-0 right-0 h-1 bg-linear-to-r from-orange-500 via-orange-400 to-orange-600"}),jsxRuntimeExports.jsxs("div",{className:"p-5",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start mb-5",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col",children:[jsxRuntimeExports.jsx("span",{className:"text-[10px] text-neutral-500 font-bold uppercase tracking-wider mb-1.5",children:"From"}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:jsxRuntimeExports.jsxs("span",{className:"text-neutral-900 dark:text-white font-bold text-base",children:["@",t.recipientNametag]})})]}),jsxRuntimeExports.jsx("div",{className:"bg-neutral-200/50 dark:bg-neutral-700/50 px-2.5 py-1 rounded-lg text-[10px] text-neutral-500 dark:text-neutral-400 font-medium",children:u})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center py-3 mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-4xl font-black text-neutral-900 dark:text-white tracking-tight flex items-baseline gap-2",children:[c," ",jsxRuntimeExports.jsx("span",{className:"text-xl text-orange-500 dark:text-orange-400 font-bold",children:t.symbol})]}),t.message&&jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:-5},animate:{opacity:1,y:0},className:"mt-4 text-xs text-neutral-700 dark:text-neutral-300 bg-neutral-200/50 dark:bg-neutral-700/50 px-4 py-2 rounded-xl border border-neutral-300/50 dark:border-neutral-600/50 backdrop-blur-sm max-w-full",children:[jsxRuntimeExports.jsx("span",{className:"text-neutral-500",children:'"'}),t.message,jsxRuntimeExports.jsx("span",{className:"text-neutral-500",children:'"'})]})]})]}),jsxRuntimeExports.jsx("div",{className:"p-4 bg-neutral-100/50 dark:bg-neutral-900/50 border-t border-neutral-200/50 dark:border-neutral-700/50 backdrop-blur-sm",children:l?jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-3",children:[jsxRuntimeExports.jsx(AnimatePresence,{children:e&&jsxRuntimeExports.jsxs(motion.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"flex items-center justify-center gap-2 text-red-400 text-xs font-semibold bg-red-500/10 py-2.5 rounded-xl border border-red-500/30",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"w-3.5 h-3.5"}),e]})}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-[1fr_2fr] gap-3",children:[jsxRuntimeExports.jsx(motion.button,{whileHover:{scale:1.02},whileTap:{scale:.97},onClick:r,disabled:s,className:"py-3 rounded-xl font-bold text-xs bg-neutral-200/80 dark:bg-neutral-800/80 text-neutral-500 dark:text-neutral-400 hover:text-neutral-700 dark:hover:text-white hover:bg-neutral-300/80 dark:hover:bg-neutral-700/80 border border-neutral-300/60 dark:border-neutral-700/60 hover:border-neutral-400 dark:hover:border-neutral-600 transition-all",children:"Decline"}),jsxRuntimeExports.jsxs(motion.button,{whileHover:{scale:1.02},whileTap:{scale:.97},onClick:a,disabled:s,className:"relative py-3 rounded-xl font-bold text-sm text-white bg-linear-to-r from-orange-500 to-orange-600 shadow-xl shadow-orange-500/30 flex items-center justify-center gap-2 transition-all disabled:opacity-50 disabled:shadow-none overflow-hidden group",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-linear-to-r from-orange-400 to-orange-500 opacity-0 group-hover:opacity-100 transition-opacity"}),jsxRuntimeExports.jsx("span",{className:"relative z-10 flex items-center gap-2",children:o?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"})," Processing"]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["Pay Now ",jsxRuntimeExports.jsx(ArrowRight,{className:"w-4 h-4"})]})})]})]})]}):jsxRuntimeExports.jsxs("div",{className:`flex items-center justify-center gap-2 py-2.5 text-xs font-bold uppercase tracking-wider rounded-lg ${f.bg} ${f.color} border ${f.border}`,children:[jsxRuntimeExports.jsx(m,{className:"w-4 h-4"}),f.label]})})]})}const getTimeAgo=t=>{const e=Math.floor((Date.now()-t)/1e3);if(e<60)return"Just now";const a=Math.floor(e/60);if(a<60)return`${a}m ago`;const r=Math.floor(a/60);return r<24?`${r}h ago`:new Date(t).toLocaleDateString(void 0,{month:"short",day:"numeric"})},FAUCET_API_URL="https://faucet.unicity.network/api/v1/faucet/request";class FaucetService{static async requestTokens(e,a,r){console.log(` Requesting ${r} ${a} for @${e}...`);try{const o={unicityId:e,coin:a,amount:r};console.log(" Sending request:",o);const s=await fetch(FAUCET_API_URL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(console.log(` Response status for ${a}:`,s.status,s.statusText),!s.ok){const c=await s.text();throw console.error(` Failed response for ${a}:`,c),new Error(`Failed to request ${a}: ${s.statusText} - ${c}`)}const l=await s.json();return console.log(` Success for ${a}:`,l),{success:!0,coin:a,amount:r,...l}}catch(o){return console.error(` Faucet request failed for ${a}:`,o),{success:!1,message:o instanceof Error?o.message:"Unknown error",coin:a,amount:r}}}static async requestAllCoins(e){const a=[{coin:"unicity",amount:100},{coin:"bitcoin",amount:1},{coin:"solana",amount:1e3},{coin:"ethereum",amount:42}];console.log(` Starting parallel faucet requests for @${e}...`);const r=await Promise.all(a.map(({coin:s,amount:l})=>this.requestTokens(e,s,l)));console.log(" Faucet results:",r);const o=r.filter(s=>s.success).length;return console.log(` ${o}/${r.length} requests successful`),window.dispatchEvent(new Event("wallet-updated")),r}}function SeedPhraseModal({isOpen:t,onClose:e,seedPhrase:a}){const[r,o]=reactExports.useState(!1),[s,l]=reactExports.useState(!1);reactExports.useEffect(()=>{t||(o(!1),l(!1))},[t]);const c=async()=>{try{await navigator.clipboard.writeText(a.join(" ")),l(!0),setTimeout(()=>l(!1),2e3)}catch(u){console.error("Failed to copy seed phrase:",u)}};return jsxRuntimeExports.jsx(AnimatePresence,{children:t&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"fixed inset-0 z-100 bg-black/60 dark:bg-black/80 backdrop-blur-sm"}),jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-100 flex items-center justify-center p-4 pointer-events-none",children:jsxRuntimeExports.jsxs(motion.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},transition:{type:"spring",bounce:.2,duration:.6},className:"relative w-full max-w-md bg-white dark:bg-[#111] border border-neutral-200 dark:border-white/10 rounded-3xl shadow-2xl pointer-events-auto overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"relative px-6 py-4 border-b border-neutral-200/50 dark:border-neutral-700/50 flex justify-between items-center",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold text-neutral-900 dark:text-white",children:"Recovery Phrase"}),jsxRuntimeExports.jsx(motion.button,{whileHover:{scale:1.1,rotate:90},whileTap:{scale:.9},onClick:e,className:"w-9 h-9 flex items-center justify-center rounded-xl bg-neutral-200/80 dark:bg-neutral-800/80 hover:bg-neutral-300/80 dark:hover:bg-neutral-700/80 text-neutral-500 dark:text-neutral-400 hover:text-neutral-700 dark:hover:text-white transition-colors",children:jsxRuntimeExports.jsx(X,{className:"w-4 h-4"})})]}),jsxRuntimeExports.jsxs("div",{className:"p-6",children:[jsxRuntimeExports.jsxs("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500/20 rounded-xl flex items-start gap-3",children:[jsxRuntimeExports.jsx(ShieldAlert,{className:"w-5 h-5 text-red-500 dark:text-red-400 shrink-0 mt-0.5"}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-red-600 dark:text-red-400",children:[jsxRuntimeExports.jsx("p",{className:"font-bold mb-1",children:"Never share your recovery phrase!"}),jsxRuntimeExports.jsx("p",{children:"Anyone with these words can access your wallet and steal your funds."})]})]}),jsxRuntimeExports.jsx("div",{className:"mb-6",children:r?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"grid grid-cols-3 gap-2 mb-4",children:a.map((u,h)=>jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:h*.03},className:"relative",children:[jsxRuntimeExports.jsxs("span",{className:"absolute left-2 top-1/2 -translate-y-1/2 text-[10px] text-neutral-400 dark:text-neutral-600 font-medium z-10",children:[h+1,"."]}),jsxRuntimeExports.jsx("div",{className:"w-full bg-neutral-100 dark:bg-neutral-800/50 border border-neutral-200 dark:border-neutral-700/50 rounded-lg py-2 pl-7 pr-2 text-xs text-neutral-900 dark:text-white font-mono",children:u})]},h))}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsxs(motion.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>o(!1),className:"flex-1 px-4 py-2.5 rounded-xl bg-neutral-100 dark:bg-neutral-800 hover:bg-neutral-200 dark:hover:bg-neutral-700 text-neutral-900 dark:text-white text-sm font-medium flex items-center justify-center gap-2 transition-colors",children:[jsxRuntimeExports.jsx(EyeOff,{className:"w-4 h-4"}),"Hide"]}),jsxRuntimeExports.jsx(motion.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:c,className:"flex-1 px-4 py-2.5 rounded-xl bg-orange-500 hover:bg-orange-600 text-white text-sm font-medium flex items-center justify-center gap-2 transition-colors",children:s?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Check,{className:"w-4 h-4"}),"Copied!"]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Copy,{className:"w-4 h-4"}),"Copy"]})})]})]}):jsxRuntimeExports.jsx("div",{className:"text-center py-12",children:jsxRuntimeExports.jsxs(motion.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>o(!0),className:"px-6 py-3 rounded-xl bg-neutral-100 dark:bg-neutral-800 hover:bg-neutral-200 dark:hover:bg-neutral-700 text-neutral-900 dark:text-white font-medium flex items-center gap-2 mx-auto transition-colors",children:[jsxRuntimeExports.jsx(Eye,{className:"w-4 h-4"}),"Reveal Recovery Phrase"]})})}),jsxRuntimeExports.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400 text-center",children:"Write down these 12 words in order and store them safely. You'll need them to recover your wallet."})]})]})})]})})}const IPFS_STORAGE_KEYS={STATUS:["ipfs","storage","status"],IPNS_NAME:["ipfs","storage","ipnsName"]},SESSION_KEY="user-pin-1234";IdentityManager.getInstance(SESSION_KEY);function useIpfsStorage(){const t=useQueryClient(),[e,a]=reactExports.useState(null),[r,o]=reactExports.useState(!1),s=!1,l=null;reactExports.useEffect(()=>{const E=C=>{a(C.detail),(C.detail.type==="storage:completed"||C.detail.type==="storage:failed")&&t.invalidateQueries({queryKey:IPFS_STORAGE_KEYS.STATUS})};return window.addEventListener("ipfs-storage-event",E),()=>{window.removeEventListener("ipfs-storage-event",E)}},[t]),reactExports.useEffect(()=>{},[l]);const c=useQuery({queryKey:IPFS_STORAGE_KEYS.STATUS,queryFn:()=>l.getStatus(),refetchInterval:3e4,enabled:r&&!1}),u=useQuery({queryKey:IPFS_STORAGE_KEYS.IPNS_NAME,queryFn:()=>l.getIpnsName(),staleTime:1/0,enabled:r&&!1}),h=useMutation({mutationFn:()=>l.syncNow(),onSuccess:()=>{t.invalidateQueries({queryKey:IPFS_STORAGE_KEYS.STATUS})}}),f=useMutation({mutationFn:async E=>{const C=await l.restore(E);if(C.success&&C.tokens){const B=WalletRepository.getInstance();for(const O of C.tokens)B.addToken(O);C.nametag&&B.setNametag(C.nametag)}return C},onSuccess:E=>{E.success&&t.invalidateQueries({queryKey:["wallet"]})}}),m=useMutation({mutationFn:async()=>{const E=await l.restoreFromLastCid();if(E.success&&E.tokens){const C=WalletRepository.getInstance();for(const B of E.tokens)C.addToken(B);E.nametag&&C.setNametag(E.nametag)}return E},onSuccess:E=>{E.success&&t.invalidateQueries({queryKey:["wallet"]})}}),g=useMutation({mutationFn:async()=>{const E=await l.exportAsTxf();if(E.success&&E.data&&E.filename){const C=new Blob([E.data],{type:"application/json"}),B=URL.createObjectURL(C),O=document.createElement("a");O.href=B,O.download=E.filename,document.body.appendChild(O),O.click(),document.body.removeChild(O),URL.revokeObjectURL(B)}return E}}),b=useMutation({mutationFn:async E=>{const C=await l.importFromTxf(E);if(C.success&&C.tokens){const B=WalletRepository.getInstance();for(const O of C.tokens)B.addToken(O)}return C},onSuccess:E=>{E.success&&t.invalidateQueries({queryKey:["wallet"]})}}),w=reactExports.useCallback(E=>()=>{},[l]);return{isEnabled:s,status:c.data,isLoadingStatus:c.isLoading,isServiceReady:s,currentVersion:c.data?.currentVersion??0,lastCid:c.data?.lastCid??null,ipnsName:u.data,isLoadingIpnsName:u.isLoading,sync:h.mutateAsync,isSyncing:h.isPending||!1,syncError:h.error,restore:f.mutateAsync,isRestoring:f.isPending,restoreError:f.error,restoreFromLast:m.mutateAsync,isRestoringFromLast:m.isPending,exportTxf:g.mutateAsync,isExportingTxf:g.isPending,exportTxfError:g.error,importTxf:b.mutateAsync,isImportingTxf:b.isPending,importTxfError:b.error,lastEvent:e,onStorageEvent:w}}const KEYS={TRANSACTION_HISTORY:["wallet","transaction-history"]},walletRepo=WalletRepository.getInstance(),useTransactionHistory=()=>{const t=useQueryClient();reactExports.useEffect(()=>{const a=()=>{console.log(" Wallet update detected! Refreshing transaction history..."),t.refetchQueries({queryKey:KEYS.TRANSACTION_HISTORY})};return window.addEventListener("wallet-updated",a),()=>window.removeEventListener("wallet-updated",a)},[t]);const e=useQuery({queryKey:KEYS.TRANSACTION_HISTORY,queryFn:()=>walletRepo.getTransactionHistory(),staleTime:3e4});return{history:e.data||[],isLoading:e.isLoading}},registryService=RegistryService.getInstance();function TransactionHistoryModal({isOpen:t,onClose:e}){const{history:a,isLoading:r}=useTransactionHistory(),o=reactExports.useMemo(()=>a.map(s=>{const c=registryService.getCoinDefinition(s.coinId)?.decimals||0,u=BigInt(s.amount),h=BigInt(10**c),f=u/h,g=(u%h).toString().padStart(c,"0"),b=c>0?`${f}.${g}`.replace(/\.?0+$/,""):f.toString();return{...s,formattedAmount:b,date:new Date(s.timestamp).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),time:new Date(s.timestamp).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}}),[a]);return jsxRuntimeExports.jsx(AnimatePresence,{children:t&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"fixed inset-0 z-100 bg-black/60 dark:bg-black/80 backdrop-blur-sm"}),jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-100 flex items-center justify-center p-4 sm:p-6 pointer-events-none",children:jsxRuntimeExports.jsxs(motion.div,{initial:{scale:.9,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:20},transition:{type:"spring",bounce:.2,duration:.6},className:"relative w-full max-w-md max-h-[600px] bg-white dark:bg-[#111] border border-neutral-200 dark:border-white/10 rounded-3xl shadow-2xl pointer-events-auto flex flex-col overflow-hidden",onClick:s=>s.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"px-6 py-5 border-b border-neutral-200 dark:border-neutral-800 flex items-center justify-between shrink-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(motion.div,{whileHover:{scale:1.05},className:"relative w-11 h-11 rounded-xl bg-linear-to-br from-orange-500 to-orange-600 flex items-center justify-center shadow-lg shadow-orange-500/30",children:jsxRuntimeExports.jsx(Clock,{className:"w-5 h-5 text-white"})}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold text-neutral-900 dark:text-white leading-tight",children:"Payment Requests"})})]}),jsxRuntimeExports.jsx("button",{onClick:e,className:"p-2 hover:bg-neutral-100 dark:hover:bg-neutral-800 rounded-xl transition-colors",children:jsxRuntimeExports.jsx(X,{className:"w-5 h-5 text-neutral-500 dark:text-neutral-400"})})]}),jsxRuntimeExports.jsx("div",{className:"relative flex-1 overflow-y-auto custom-scrollbar p-4 space-y-3 z-10 min-h-0",children:r?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center py-20",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"w-6 h-6 animate-spin text-orange-500"})}):a.length===0?jsxRuntimeExports.jsxs("div",{className:"h-full min-h-[300px] flex flex-col items-center justify-center text-center py-12",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:15},className:"relative w-20 h-20 mb-6",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-orange-500/20 rounded-3xl blur-xl"}),jsxRuntimeExports.jsx("div",{className:"relative w-full h-full bg-neutral-200/80 dark:bg-neutral-800/80 rounded-3xl flex items-center justify-center border border-neutral-300/50 dark:border-neutral-700/50",children:jsxRuntimeExports.jsx(ArrowUpRight,{className:"w-10 h-10 text-orange-500 dark:text-orange-400"})})]}),jsxRuntimeExports.jsx("p",{className:"text-neutral-900 dark:text-white font-bold text-lg mb-2",children:"No Transactions"}),jsxRuntimeExports.jsx("p",{className:"text-neutral-500 dark:text-neutral-400 text-sm max-w-[220px] leading-relaxed",children:"Your transaction history will appear here"})]}):jsxRuntimeExports.jsx("div",{className:"space-y-2",children:o.map((s,l)=>jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:l*.05},className:"p-4 bg-neutral-50 dark:bg-neutral-800/50 border border-neutral-200 dark:border-neutral-700/50 rounded-xl hover:bg-neutral-100 dark:hover:bg-neutral-800 transition-colors",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${s.type==="RECEIVED"?"bg-emerald-500/10 dark:bg-emerald-500/20":"bg-orange-500/10 dark:bg-orange-500/20"}`,children:s.type==="RECEIVED"?jsxRuntimeExports.jsx(ArrowDownLeft,{className:"w-5 h-5 text-emerald-500"}):jsxRuntimeExports.jsx(ArrowUpRight,{className:"w-5 h-5 text-orange-500"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-baseline gap-2 mb-1",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-neutral-900 dark:text-white",children:s.type==="RECEIVED"?"Received":"Sent"}),s.recipientNametag&&jsxRuntimeExports.jsxs("span",{className:"text-xs text-neutral-500 dark:text-neutral-400 truncate",children:["to @",s.recipientNametag]}),s.senderPubkey&&jsxRuntimeExports.jsxs("span",{className:"text-xs text-neutral-500 dark:text-neutral-400 truncate",children:["from ",s.senderPubkey.slice(0,8),"...",s.senderPubkey.slice(-4)]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-xs text-neutral-500 dark:text-neutral-400",children:[jsxRuntimeExports.jsx("span",{children:s.date}),jsxRuntimeExports.jsx("span",{children:""}),jsxRuntimeExports.jsx("span",{children:s.time})]})]}),jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsxs("div",{className:`text-sm font-semibold ${s.type==="RECEIVED"?"text-emerald-600 dark:text-emerald-400":"text-neutral-900 dark:text-white"}`,children:[s.type==="RECEIVED"?"+":"-",s.formattedAmount]}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-neutral-500 dark:text-neutral-400 flex items-center gap-1.5 justify-end mt-0.5",children:[s.iconUrl&&jsxRuntimeExports.jsx("img",{src:s.iconUrl,className:"w-3 h-3 rounded-full",alt:""}),jsxRuntimeExports.jsx("span",{children:s.symbol})]})]})]})},s.id))})})]})})]})})}function L3WalletView({showBalances:t}){const{identity:e,assets:a,tokens:r,isLoadingAssets:o,isLoadingIdentity:s,nametag:l,getSeedPhrase:c}=useWallet(),{exportTxf:u,importTxf:h,isExportingTxf:f,isImportingTxf:m}=useIpfsStorage(),[g,b]=reactExports.useState("assets"),[w,E]=reactExports.useState(!1),[C,B]=reactExports.useState(!1),[O,P]=reactExports.useState(!1),[q,z]=reactExports.useState(!1),[V,Z]=reactExports.useState([]),[J,W]=reactExports.useState(!1),[te,G]=reactExports.useState(!1),[D,M]=reactExports.useState(null),[v,S]=reactExports.useState(!1),[N,R]=reactExports.useState(null),k=reactExports.useRef(null),{pendingCount:j}=useIncomingPaymentRequests(),I=reactExports.useRef(0);reactExports.useEffect(()=>{j>I.current&&(console.log(" New payment request received! Opening modal..."),B(!0)),I.current=j},[j]);const A=reactExports.useMemo(()=>a.reduce((re,U)=>re+U.getTotalFiatValue("USD"),0),[a]),$=async()=>{if(!l){M("Nametag is required to request tokens");return}W(!0),M(null),G(!1);try{const U=(await FaucetService.requestAllCoins(l)).filter(K=>!K.success);if(U.length>0){const K=U.map(se=>se.coin).join(", ");M(`Failed to request: ${K}`)}else G(!0),setTimeout(()=>G(!1),3e3)}catch(re){M(re instanceof Error?re.message:"Failed to request tokens")}finally{W(!1)}},L=async()=>{const re=await c();re&&(Z(re),P(!0))},Y=reactExports.useCallback(async()=>{try{R(null),await u()}catch(re){console.error("Export failed:",re)}},[u]),le=reactExports.useCallback(async re=>{const U=re.target.files?.[0];if(U){R(null),S(!1);try{const K=await U.text(),se=await h(K);se.success?(S(!0),setTimeout(()=>S(!1),3e3)):R(se.error||"Import failed")}catch(K){R(K instanceof Error?K.message:"Import failed")}k.current&&(k.current.value="")}},[h]);return s?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-full",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"animate-spin text-neutral-400 dark:text-neutral-600"})}):!e||!l?jsxRuntimeExports.jsx(CreateWalletFlow,{}):jsxRuntimeExports.jsxs("div",{className:"flex flex-col h-full",children:[jsxRuntimeExports.jsxs("div",{className:"px-6 mb-6 shrink-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-orange-600/70 dark:text-orange-300/70",children:"AgentSphere Balance"}),jsxRuntimeExports.jsxs("span",{className:"flex h-2 w-2 relative",children:[jsxRuntimeExports.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-orange-400 opacity-75"}),jsxRuntimeExports.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-orange-500"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>z(!0),className:"p-1.5 rounded-lg hover:bg-neutral-200/50 dark:hover:bg-white/10 transition-colors group",title:"Transaction history",children:jsxRuntimeExports.jsx(Clock,{className:"w-5 h-5 text-neutral-400 dark:text-neutral-500 group-hover:text-neutral-900 dark:group-hover:text-white transition-colors"})}),jsxRuntimeExports.jsx("button",{onClick:L,className:"p-1.5 rounded-lg hover:bg-neutral-200/50 dark:hover:bg-white/10 transition-colors group",title:"View recovery phrase",children:jsxRuntimeExports.jsx(Key,{className:"w-5 h-5 text-neutral-400 dark:text-neutral-500 group-hover:text-neutral-900 dark:group-hover:text-white transition-colors"})}),jsxRuntimeExports.jsxs("button",{onClick:()=>B(!0),className:"relative p-1.5 rounded-lg hover:bg-neutral-200/50 dark:hover:bg-white/10 transition-colors group",children:[jsxRuntimeExports.jsx(Bell,{className:`w-5 h-5 ${j>0?"text-neutral-900 dark:text-white":"text-neutral-400 dark:text-neutral-500"}`}),j>0&&jsxRuntimeExports.jsxs("span",{className:"absolute top-0 right-0 flex h-2.5 w-2.5",children:[jsxRuntimeExports.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),jsxRuntimeExports.jsx("span",{className:"relative inline-flex rounded-full h-2.5 w-2.5 bg-red-500 border-2 border-white dark:border-[#0a0a0a]"})]})]})]})]}),jsxRuntimeExports.jsx("h2",{className:"text-3xl text-neutral-900 dark:text-white font-bold tracking-tight mb-4",children:t?`$${A.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`:""}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[jsxRuntimeExports.jsx(motion.button,{whileHover:{scale:J?1:1.02,y:J?0:-2},whileTap:{scale:J?1:.98},onClick:$,disabled:J||!l,className:"relative px-4 py-3 rounded-xl bg-linear-to-br from-orange-500 to-orange-600 text-white text-sm shadow-xl shadow-orange-500/20 flex items-center justify-center gap-2 overflow-hidden disabled:opacity-50 disabled:cursor-not-allowed",children:J?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"w-4 h-4 animate-spin"}),jsxRuntimeExports.jsx("span",{children:"Requesting..."})]}):te?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"Success!"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"Top Up"})]})}),jsxRuntimeExports.jsxs(motion.button,{whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},onClick:()=>E(!0),className:"relative px-4 py-3 rounded-xl bg-neutral-100 dark:bg-neutral-800/80 hover:bg-neutral-200 dark:hover:bg-neutral-700/80 text-neutral-900 dark:text-white text-sm border border-neutral-200 dark:border-neutral-700/50 flex items-center justify-center gap-2",children:[jsxRuntimeExports.jsx(ArrowUpRight,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"Send"})]})]}),jsxRuntimeExports.jsx(AnimatePresence,{children:D&&jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mt-3 flex items-start gap-2 p-3 bg-red-500/10 border border-red-500/20 rounded-xl",children:[jsxRuntimeExports.jsx(CircleX,{className:"w-4 h-4 text-red-500 dark:text-red-400 shrink-0 mt-0.5"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-red-600 dark:text-red-400",children:D})]})})]}),jsxRuntimeExports.jsx("div",{className:"px-6 mb-4 shrink-0",children:jsxRuntimeExports.jsxs("div",{className:"flex p-1 bg-neutral-100 dark:bg-neutral-900/50 rounded-xl border border-neutral-200 dark:border-neutral-800",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>b("assets"),className:`flex-1 flex items-center justify-center gap-2 py-2 text-xs font-medium rounded-lg transition-all relative ${g==="assets"?"text-neutral-900 dark:text-white":"text-neutral-500 hover:text-neutral-700 dark:hover:text-neutral-400"}`,children:[g==="assets"&&jsxRuntimeExports.jsx(motion.div,{layoutId:"activeTab",className:"absolute inset-0 bg-white dark:bg-neutral-800 rounded-lg shadow-sm",transition:{type:"spring",bounce:.2,duration:.6}}),jsxRuntimeExports.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Layers,{className:"w-3 h-3"})," Assets"]})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>b("tokens"),className:`flex-1 flex items-center justify-center gap-2 py-2 text-xs font-medium rounded-lg transition-all relative ${g==="tokens"?"text-neutral-900 dark:text-white":"text-neutral-500 hover:text-neutral-700 dark:hover:text-neutral-400"}`,children:[g==="tokens"&&jsxRuntimeExports.jsx(motion.div,{layoutId:"activeTab",className:"absolute inset-0 bg-white dark:bg-neutral-800 rounded-lg shadow-sm",transition:{type:"spring",bounce:.2,duration:.6}}),jsxRuntimeExports.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Coins,{className:"w-3 h-3"})," Tokens"]})]})]})}),jsxRuntimeExports.jsxs("div",{className:"p-6 pt-0 flex-1 overflow-y-auto custom-scrollbar",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Sparkles,{className:"w-4 h-4 text-orange-500"}),jsxRuntimeExports.jsx("h4",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Network Assets"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{ref:k,type:"file",accept:".txf,.json",onChange:le,className:"hidden"}),jsxRuntimeExports.jsxs("button",{onClick:()=>k.current?.click(),disabled:m,className:"flex items-center gap-1 text-xs text-orange-500 dark:text-orange-400 hover:text-orange-600 dark:hover:text-orange-300 disabled:opacity-50",title:"Import tokens from TXF file",children:[m?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-3 h-3 animate-spin"}):jsxRuntimeExports.jsx(Upload,{className:"w-3 h-3"}),jsxRuntimeExports.jsx("span",{children:"Import"})]}),jsxRuntimeExports.jsxs("button",{onClick:Y,disabled:f,className:"flex items-center gap-1 text-xs text-orange-500 dark:text-orange-400 hover:text-orange-600 dark:hover:text-orange-300 disabled:opacity-50",title:"Export tokens as TXF file",children:[f?jsxRuntimeExports.jsx(LoaderCircle,{className:"w-3 h-3 animate-spin"}):jsxRuntimeExports.jsx(Download,{className:"w-3 h-3"}),jsxRuntimeExports.jsx("span",{children:"Export"})]})]})]}),jsxRuntimeExports.jsxs(AnimatePresence,{children:[v&&jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-4 flex items-center gap-2 p-3 bg-green-500/10 border border-green-500/20 rounded-xl",children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-4 h-4 text-green-500 dark:text-green-400 shrink-0"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-green-600 dark:text-green-400",children:"Tokens imported successfully!"})]}),N&&jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-4 flex items-start gap-2 p-3 bg-red-500/10 border border-red-500/20 rounded-xl",children:[jsxRuntimeExports.jsx(CircleX,{className:"w-4 h-4 text-red-500 dark:text-red-400 shrink-0 mt-0.5"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-red-600 dark:text-red-400",children:N})]})]}),o?jsxRuntimeExports.jsx("div",{className:"py-10 text-center",children:jsxRuntimeExports.jsx(LoaderCircle,{className:"w-6 h-6 text-orange-500 animate-spin mx-auto"})}):jsxRuntimeExports.jsxs(AnimatePresence,{mode:"wait",children:[g==="assets"&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.2},className:"space-y-2",children:a.length===0?jsxRuntimeExports.jsx(EmptyState,{}):a.map((re,U)=>jsxRuntimeExports.jsx(AssetRow,{asset:re,showBalances:t,delay:U*.05},re.coinId))},"assets"),g==="tokens"&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},className:"space-y-2",children:r.filter(re=>re.type!=="Nametag").length===0?jsxRuntimeExports.jsx(EmptyState,{text:"No individual tokens found."}):r.filter(re=>re.type!=="Nametag").sort((re,U)=>U.timestamp-re.timestamp).map((re,U)=>jsxRuntimeExports.jsx(TokenRow,{token:re,delay:U*.05},re.id))},"tokens")]})]}),jsxRuntimeExports.jsx(SendModal,{isOpen:w,onClose:()=>E(!1)}),jsxRuntimeExports.jsx(PaymentRequestsModal,{isOpen:C,onClose:()=>B(!1)}),jsxRuntimeExports.jsx(SeedPhraseModal,{isOpen:O,onClose:()=>P(!1),seedPhrase:V}),jsxRuntimeExports.jsx(TransactionHistoryModal,{isOpen:q,onClose:()=>z(!1)})]})}function EmptyState({text:t}){return jsxRuntimeExports.jsxs("div",{className:"text-center py-10 flex flex-col items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 rounded-full bg-neutral-100 dark:bg-neutral-800 flex items-center justify-center",children:jsxRuntimeExports.jsx(Sparkles,{className:"w-6 h-6 text-neutral-400 dark:text-neutral-600"})}),jsxRuntimeExports.jsx("div",{className:"text-neutral-500 text-sm",children:t||jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["Wallet is empty.",jsxRuntimeExports.jsx("br",{}),"Mint some tokens to start!"]})})]})}const getInitialLayer=()=>localStorage.getItem("wallet-active-layer")==="L1"?"L1":"L3";function WalletPanel(){const[t,e]=reactExports.useState(!0),[a,r]=reactExports.useState(getInitialLayer),o=h=>{r(h),localStorage.setItem("wallet-active-layer",h)},[s,l]=reactExports.useState(!1),{nametag:c}=useWallet(),u=async()=>{if(c)try{await navigator.clipboard.writeText(`${c}`),l(!0),setTimeout(()=>l(!1),2e3)}catch(h){console.error("Failed to copy nametag:",h)}};return reactExports.useEffect(()=>{const h=()=>{console.log(" Payment request received, switching to L3..."),o("L3")};return window.addEventListener("payment-requests-updated",h),()=>{window.removeEventListener("payment-requests-updated",h)}},[]),jsxRuntimeExports.jsxs("div",{className:"bg-white/60 dark:bg-neutral-900/90 backdrop-blur-xl rounded-3xl border border-neutral-200 dark:border-neutral-800/50 overflow-hidden h-full relative lg:shadow-xl dark:lg:shadow-2xl flex flex-col transition-all duration-500 theme-transition",children:[jsxRuntimeExports.jsx("div",{className:`absolute -top-20 -right-20 w-80 h-80 rounded-full blur-3xl transition-colors duration-700 ${a==="L3"?"bg-orange-500/5 dark:bg-orange-500/10":"bg-blue-500/5 dark:bg-blue-500/10"}`}),jsxRuntimeExports.jsx("div",{className:`absolute -bottom-20 -left-20 w-80 h-80 rounded-full blur-3xl transition-colors duration-700 ${a==="L3"?"bg-purple-500/5 dark:bg-purple-500/10":"bg-emerald-500/5 dark:bg-emerald-500/10"}`}),jsxRuntimeExports.jsxs("div",{className:"p-3 sm:p-4 lg:p-6 pb-2 relative z-10 shrink-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-3 lg:mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[jsxRuntimeExports.jsxs(motion.div,{whileHover:{scale:1.05},className:"relative",children:[jsxRuntimeExports.jsx("div",{className:`absolute inset-0 rounded-lg sm:rounded-xl blur-lg opacity-50 transition-colors ${a==="L3"?"bg-orange-500":"bg-blue-500"}`}),jsxRuntimeExports.jsx("div",{className:`relative w-8 h-8 sm:w-10 sm:h-10 rounded-lg sm:rounded-xl bg-linear-to-br flex items-center justify-center shadow-xl transition-colors ${a==="L3"?"from-orange-500 to-orange-600":"from-blue-500 to-blue-600"}`,children:jsxRuntimeExports.jsx(Wallet$1,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col",children:[jsxRuntimeExports.jsx("span",{className:"text-sm sm:text-base text-neutral-900 dark:text-white font-medium tracking-wide",children:"Wallet"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5",children:[jsxRuntimeExports.jsx("span",{className:"text-[10px] sm:text-xs text-neutral-500",children:c?`@${c}`:"AgentSphere"}),c&&jsxRuntimeExports.jsx(motion.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:u,className:"p-1 hover:bg-neutral-100 dark:hover:bg-neutral-800/80 rounded transition-colors",title:"Copy nametag",children:s?jsxRuntimeExports.jsx(Check,{className:"w-3 h-3 text-emerald-500"}):jsxRuntimeExports.jsx(Copy,{className:"w-3 h-3 text-neutral-500 "})})]})]})]}),jsxRuntimeExports.jsx(motion.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>e(!t),className:"p-1.5 sm:p-2 hover:bg-neutral-100 dark:hover:bg-neutral-800/80 rounded-lg transition-colors text-neutral-500 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-white",children:t?jsxRuntimeExports.jsx(Eye,{className:"w-4 h-4"}):jsxRuntimeExports.jsx(EyeOff,{className:"w-4 h-4"})})]}),jsxRuntimeExports.jsxs("div",{className:"bg-neutral-100 dark:bg-neutral-900/50 p-1 rounded-lg sm:rounded-xl border border-neutral-200 dark:border-neutral-800/50 flex relative mb-1",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>o("L1"),className:`flex-1 flex items-center justify-center gap-1.5 sm:gap-2 py-1.5 sm:py-2 text-[10px] sm:text-xs font-bold uppercase tracking-wider rounded-md sm:rounded-lg relative z-10 transition-colors ${a==="L1"?"text-white":"text-neutral-500 hover:text-neutral-700 dark:hover:text-neutral-300"}`,children:[jsxRuntimeExports.jsx(Layers,{className:"w-3 h-3"}),jsxRuntimeExports.jsx("span",{children:"Layer 1"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>o("L3"),className:`flex-1 flex items-center justify-center gap-1.5 sm:gap-2 py-1.5 sm:py-2 text-[10px] sm:text-xs font-bold uppercase tracking-wider rounded-md sm:rounded-lg relative z-10 transition-colors ${a==="L3"?"text-white":"text-neutral-500 hover:text-neutral-700 dark:hover:text-neutral-300"}`,children:[jsxRuntimeExports.jsx(Network,{className:"w-3 h-3"}),jsxRuntimeExports.jsx("span",{children:"Layer 3"})]}),jsxRuntimeExports.jsx(motion.div,{className:`absolute top-1 bottom-1 left-1 rounded-md sm:rounded-lg shadow-lg ${a==="L3"?"bg-linear-to-r from-orange-500 to-orange-600":"bg-linear-to-r from-blue-600 to-blue-700"}`,initial:!1,animate:{x:a==="L1"?"0%":"100%",width:"calc(50% - 0.25rem)"},transition:{type:"spring",stiffness:300,damping:30}})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 relative overflow-hidden",children:[jsxRuntimeExports.jsx(motion.div,{initial:!1,animate:{x:a==="L1"?"0%":"-100%"},transition:{duration:.3,ease:[.4,0,.2,1]},className:"absolute inset-0",style:{pointerEvents:a==="L1"?"auto":"none"},children:jsxRuntimeExports.jsx(L1WalletView,{showBalances:t})}),jsxRuntimeExports.jsx(motion.div,{initial:!1,animate:{x:a==="L3"?"0%":"100%"},transition:{duration:.3,ease:[.4,0,.2,1]},className:"absolute inset-0",style:{pointerEvents:a==="L3"?"auto":"none"},children:jsxRuntimeExports.jsx(L3WalletView,{showBalances:t})})]})]})}const DEFAULT_VISIBLE_AGENTS=7;function AgentPage(){const{agentId:t}=useParams(),e=reactExports.useRef(null),[a,r]=reactExports.useState("chat"),[o,s]=reactExports.useState(!1),[l,c]=reactExports.useState([]),u=agents.length>DEFAULT_VISIBLE_AGENTS;reactExports.useEffect(()=>{t&&c(E=>{if(E[0]===t)return E;const C=E.filter(B=>B!==t);return[t,...C].slice(0,DEFAULT_VISIBLE_AGENTS)})},[t]);const h=(()=>{if(o)return agents;const E=l.map(O=>agents.find(P=>P.id===O)).filter(O=>O!==void 0),C=agents.filter(O=>!l.includes(O.id));return[...E,...C].slice(0,DEFAULT_VISIBLE_AGENTS)})(),f=t?getAgentConfig(t):void 0,m=reactExports.useRef(null),g=()=>{!e.current||window.innerWidth>=1024||(m.current&&clearTimeout(m.current),m.current=setTimeout(()=>{if(!e.current)return;const E=e.current.scrollLeft,C=e.current.offsetWidth;r(E>C/2?"wallet":"chat")},50))},b=E=>{if(!e.current)return;const C=e.current.offsetWidth;e.current.scrollTo({left:E==="wallet"?C:0,behavior:"smooth"}),r(E)};if(reactExports.useEffect(()=>{window.innerWidth<1024&&e.current&&(e.current.scrollTo({left:0,behavior:"instant"}),r("chat"))},[t]),reactExports.useEffect(()=>{const E=()=>{window.innerWidth<1024&&(console.log(" Payment request received, switching to wallet panel..."),b("wallet"))};return window.addEventListener("payment-requests-updated",E),()=>{window.removeEventListener("payment-requests-updated",E)}},[]),!f)return jsxRuntimeExports.jsx(Navigate,{to:"/agents/chat",replace:!0});const w=()=>{switch(f.id){case"chat":return jsxRuntimeExports.jsx(ChatSection,{});case"ai":return jsxRuntimeExports.jsx(AIChat,{agent:f});case"trivia":return jsxRuntimeExports.jsx(TriviaChat,{agent:f});case"games":return jsxRuntimeExports.jsx(GamesChat,{agent:f});case"sport":return jsxRuntimeExports.jsx(SportChat,{agent:f});case"p2p":return jsxRuntimeExports.jsx(P2PChat,{agent:f});case"merch":return jsxRuntimeExports.jsx(MerchChat,{agent:f});default:return jsxRuntimeExports.jsx(ChatSection,{})}};return jsxRuntimeExports.jsxs("div",{className:"h-full flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"hidden lg:block mb-8 relative px-8 pt-8 pb-5 rounded-2xl dark:bg-linear-to-br dark:from-neutral-900/40 dark:to-neutral-800/20 backdrop-blur-sm border border-neutral-200 dark:border-neutral-800/50",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 border-l-2 border-t-2 border-orange-500/50 rounded-tl-2xl"}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 right-0 w-32 h-32 border-r-2 border-b-2 border-orange-500/50 rounded-br-2xl"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-7 gap-4",children:[h.slice(0,DEFAULT_VISIBLE_AGENTS).map(E=>jsxRuntimeExports.jsx(AgentCard,{id:E.id,name:E.name,Icon:E.Icon,category:E.category,color:E.color,isSelected:t===E.id},E.id)),jsxRuntimeExports.jsx(AnimatePresence,{initial:!1,mode:"sync",children:o&&h.slice(DEFAULT_VISIBLE_AGENTS).map((E,C)=>jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9,transition:{duration:.1}},transition:{duration:.15,delay:C*.02},children:jsxRuntimeExports.jsx(AgentCard,{id:E.id,name:E.name,Icon:E.Icon,category:E.category,color:E.color,isSelected:t===E.id})},E.id))})]}),u&&jsxRuntimeExports.jsx("div",{className:"flex justify-center mt-2",children:jsxRuntimeExports.jsx("button",{onClick:()=>s(!o),className:"flex items-center gap-1.5 px-4 pt-2 text-sm font-medium text-neutral-600 dark:text-neutral-400 hover:text-orange-500 dark:hover:text-orange-400 transition-colors duration-200",children:o?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{children:"Hide all"}),jsxRuntimeExports.jsx(ChevronUp,{className:"w-4 h-4"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{children:"View all"}),jsxRuntimeExports.jsx(ChevronDown,{className:"w-4 h-4"})]})})})]})]}),jsxRuntimeExports.jsxs("div",{className:"lg:hidden shrink-0 relative flex p-1 mb-3 bg-neutral-100 dark:bg-neutral-800/50 rounded-2xl backdrop-blur-sm border border-neutral-200 dark:border-neutral-700/30 overflow-hidden",children:[jsxRuntimeExports.jsx(motion.div,{className:"absolute top-1 bottom-1 left-1 bg-linear-to-r from-orange-500 to-orange-600 rounded-xl shadow-lg shadow-orange-500/20",initial:!1,animate:{x:a==="chat"?"0%":"100%",width:"calc(50% - 0.25rem)"},transition:{type:"spring",stiffness:300,damping:30}}),jsxRuntimeExports.jsxs("button",{onClick:()=>b("chat"),className:`relative z-10 flex-1 flex items-center justify-center gap-2 py-2.5 rounded-xl font-medium transition-colors duration-200 ${a==="chat"?"text-white":"text-neutral-500 dark:text-neutral-400"}`,children:[jsxRuntimeExports.jsx(MessageSquare,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"Agents"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>b("wallet"),className:`relative z-10 flex-1 flex items-center justify-center gap-2 py-2.5 rounded-xl font-medium transition-colors duration-200 ${a==="wallet"?"text-white":"text-neutral-500 dark:text-neutral-400"}`,children:[jsxRuntimeExports.jsx(Wallet$1,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{children:"Wallet"})]})]}),jsxRuntimeExports.jsxs("div",{ref:e,onScroll:g,className:"lg:hidden flex-1 min-h-0 flex overflow-x-auto snap-x snap-mandatory scrollbar-hide py-1",children:[jsxRuntimeExports.jsx("div",{className:"w-full shrink-0 snap-center h-full",children:w()}),jsxRuntimeExports.jsx("div",{className:"w-full shrink-0 snap-center h-full",children:jsxRuntimeExports.jsx(WalletPanel,{})})]}),jsxRuntimeExports.jsxs("div",{className:"hidden lg:grid lg:grid-cols-3 lg:gap-8 lg:flex-1 lg:min-h-[650px] lg:py-2",children:[jsxRuntimeExports.jsx("div",{className:"lg:col-span-2 h-full min-h-0",children:w()}),jsxRuntimeExports.jsx("div",{className:"h-full min-h-0",children:jsxRuntimeExports.jsx(WalletPanel,{})})]})]})}function App(){const t=useLocation(),e=t.pathname.startsWith("/agents/")?"/agents":t.pathname;return jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:jsxRuntimeExports.jsxs(Routes,{location:t,children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(IntroPage,{})}),jsxRuntimeExports.jsxs(Route,{element:jsxRuntimeExports.jsx(WalletGate,{children:jsxRuntimeExports.jsx(DashboardLayout,{})}),children:[jsxRuntimeExports.jsx(Route,{path:"/home",element:jsxRuntimeExports.jsx(Navigate,{to:"/agents/chat",replace:!0})}),jsxRuntimeExports.jsx(Route,{path:"/agents/:agentId",element:jsxRuntimeExports.jsx(AgentPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/ai",element:jsxRuntimeExports.jsx(Navigate,{to:"/agents/ai",replace:!0})})]})]},e)})}const ServicesProvider=({children:t})=>{const[e,a]=reactExports.useState(!1),r=IdentityManager.getInstance(),o=NostrService.getInstance(r);return reactExports.useEffect(()=>{let s=!0;const l=async()=>{try{if(!await r.getCurrentIdentity()){console.log(" No identity found. Nostr service on standby.");return}console.log(" Starting Nostr service from ServicesProvider..."),await o.start(),s&&(a(!0),console.log(" Nostr service connected"))}catch(u){console.error(" Failed to start Nostr service:",u)}};l();const c=()=>{console.log(" Wallet loaded, initializing Nostr..."),l()};return window.addEventListener("wallet-loaded",c),()=>{s=!1,window.removeEventListener("wallet-loaded",c),console.log(" ServicesProvider cleanup")}},[r,o]),jsxRuntimeExports.jsx(ServicesContext.Provider,{value:{identityManager:r,nostrService:o,isNostrConnected:e},children:t})};var define_process_env_default={},win;if(typeof window>"u"){var loc={hostname:""};win={crypto:{randomUUID:function(){throw Error("unsupported")}},navigator:{userAgent:"",onLine:!0},document:{createElement:function(){return{}},location:loc,referrer:""},screen:{width:0,height:0},location:loc,addEventListener:function(){},removeEventListener:function(){}}}else win=window;function _array_like_to_array(t,e){(e==null||e>t.length)&&(e=t.length);for(var a=0,r=new Array(e);a<e;a++)r[a]=t[a];return r}function asyncGeneratorStep(t,e,a,r,o,s,l){try{var c=t[s](l),u=c.value}catch(h){a(h);return}c.done?e(u):Promise.resolve(u).then(r,o)}function _async_to_generator(t){return function(){var e=this,a=arguments;return new Promise(function(r,o){var s=t.apply(e,a);function l(u){asyncGeneratorStep(s,r,o,l,c,"next",u)}function c(u){asyncGeneratorStep(s,r,o,l,c,"throw",u)}l(void 0)})}}function _construct(t,e,a){return _is_native_reflect_construct()?_construct=Reflect.construct:_construct=function(o,s,l){var c=[null];c.push.apply(c,s);var u=Function.bind.apply(o,c),h=new u;return l&&_set_prototype_of(h,l.prototype),h},_construct.apply(null,arguments)}function _defineProperties(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _create_class(t,e,a){return e&&_defineProperties(t.prototype,e),t}function _extends(){return _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},_extends.apply(this,arguments)}function _get_prototype_of(t){return _get_prototype_of=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)},_get_prototype_of(t)}function _inherits(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_set_prototype_of(t,e)}function _instanceof(t,e){return e!=null&&typeof Symbol<"u"&&e[Symbol.hasInstance]?!!e[Symbol.hasInstance](t):t instanceof e}function _is_native_function(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function _object_without_properties_loose(t,e){if(t==null)return{};var a={},r=Object.keys(t),o,s;for(s=0;s<r.length;s++)o=r[s],!(e.indexOf(o)>=0)&&(a[o]=t[o]);return a}function _set_prototype_of(t,e){return _set_prototype_of=Object.setPrototypeOf||function(r,o){return r.__proto__=o,r},_set_prototype_of(t,e)}function _type_of(t){"@swc/helpers - typeof";return t&&typeof Symbol<"u"&&t.constructor===Symbol?"symbol":typeof t}function _unsupported_iterable_to_array(t,e){if(t){if(typeof t=="string")return _array_like_to_array(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);if(a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set")return Array.from(a);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _array_like_to_array(t,e)}}function _wrap_native_super(t){var e=typeof Map=="function"?new Map:void 0;return _wrap_native_super=function(r){if(r===null||!_is_native_function(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(r))return e.get(r);e.set(r,o)}function o(){return _construct(r,arguments,_get_prototype_of(this).constructor)}return o.prototype=Object.create(r.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),_set_prototype_of(o,r)},_wrap_native_super(t)}function _is_native_reflect_construct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_is_native_reflect_construct=function(){return!!t})()}function _create_for_of_iterator_helper_loose(t,e){var a=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(a)return(a=a.call(t)).next.bind(a);if(Array.isArray(t)||(a=_unsupported_iterable_to_array(t))||e){a&&(t=a);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _ts_generator(t,e){var a,r,o,s,l={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]};return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(h){return function(f){return u([h,f])}}function u(h){if(a)throw new TypeError("Generator is already executing.");for(;l;)try{if(a=1,r&&(o=h[0]&2?r.return:h[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,h[1])).done)return o;switch(r=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return l.label++,{value:h[1],done:!1};case 5:l.label++,r=h[1],h=[0];continue;case 7:h=l.ops.pop(),l.trys.pop();continue;default:if(o=l.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){l=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){l.label=h[1];break}if(h[0]===6&&l.label<o[1]){l.label=o[1],o=h;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(h);break}o[2]&&l.ops.pop(),l.trys.pop();continue}h=e.call(t,l)}catch(f){h=[6,f],r=0}finally{a=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function _ts_values(t){var e=typeof Symbol=="function"&&Symbol.iterator,a=e&&t[e],r=0;if(a)return a.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var __defProp$1=Object.defineProperty,__defNormalProp$1=function(t,e,a){return e in t?__defProp$1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a},__publicField$1=function(t,e,a){return __defNormalProp$1(t,(typeof e>"u"?"undefined":_type_of(e))!=="symbol"?e+"":e,a)},_a,__defProp$1$1=Object.defineProperty,__defNormalProp$1$1=function(t,e,a){return e in t?__defProp$1$1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a},__publicField$1$1=function(t,e,a){return __defNormalProp$1$1(t,(typeof e>"u"?"undefined":_type_of(e))!=="symbol"?e+"":e,a)},NodeType$3=(function(t){return t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment",t})(NodeType$3||{}),testableAccessors$1={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},testableMethods$1={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},untaintedBasePrototype$1={},isAngularZonePresent$1=function(){return!!globalThis.Zone};function getUntaintedPrototype$1(t){if(untaintedBasePrototype$1[t])return untaintedBasePrototype$1[t];var e=globalThis[t],a=e.prototype,r=t in testableAccessors$1?testableAccessors$1[t]:void 0,o=!!(r&&r.every(function(f){var m,g;return!!((g=(m=Object.getOwnPropertyDescriptor(a,f))==null?void 0:m.get)!=null&&g.toString().includes("[native code]"))})),s=t in testableMethods$1?testableMethods$1[t]:void 0,l=!!(s&&s.every(function(f){var m;return typeof a[f]=="function"&&((m=a[f])==null?void 0:m.toString().includes("[native code]"))}));if(o&&l&&!isAngularZonePresent$1())return untaintedBasePrototype$1[t]=e.prototype,e.prototype;try{var c=document.createElement("iframe");document.body.appendChild(c);var u=c.contentWindow;if(!u)return e.prototype;var h=u[t].prototype;return document.body.removeChild(c),h?untaintedBasePrototype$1[t]=h:a}catch{return a}}var untaintedAccessorCache$1={};function getUntaintedAccessor$1(t,e,a){var r,o=t+"."+String(a);if(untaintedAccessorCache$1[o])return untaintedAccessorCache$1[o].call(e);var s=getUntaintedPrototype$1(t),l=(r=Object.getOwnPropertyDescriptor(s,a))==null?void 0:r.get;return l?(untaintedAccessorCache$1[o]=l,l.call(e)):e[a]}var untaintedMethodCache$1={};function getUntaintedMethod$1(t,e,a){var r=t+"."+String(a);if(untaintedMethodCache$1[r])return untaintedMethodCache$1[r].bind(e);var o=getUntaintedPrototype$1(t),s=o[a];return typeof s!="function"?e[a]:(untaintedMethodCache$1[r]=s,s.bind(e))}function childNodes$1(t){return getUntaintedAccessor$1("Node",t,"childNodes")}function parentNode$1(t){return getUntaintedAccessor$1("Node",t,"parentNode")}function parentElement$1(t){return getUntaintedAccessor$1("Node",t,"parentElement")}function textContent$1(t){return getUntaintedAccessor$1("Node",t,"textContent")}function contains$1(t,e){return getUntaintedMethod$1("Node",t,"contains")(e)}function getRootNode$1(t){return getUntaintedMethod$1("Node",t,"getRootNode")()}function host$1(t){return!t||!("host"in t)?null:getUntaintedAccessor$1("ShadowRoot",t,"host")}function styleSheets$1(t){return t.styleSheets}function shadowRoot$1(t){return!t||!("shadowRoot"in t)?null:getUntaintedAccessor$1("Element",t,"shadowRoot")}function querySelector$1(t,e){return getUntaintedAccessor$1("Element",t,"querySelector")(e)}function querySelectorAll$1(t,e){return getUntaintedAccessor$1("Element",t,"querySelectorAll")(e)}function mutationObserverCtor$1(){return getUntaintedPrototype$1("MutationObserver").constructor}function patch$1(t,e,a){try{if(!(e in t))return function(){};var r=t[e],o=a(r);return typeof o=="function"&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:r}})),t[e]=o,function(){t[e]=r}}catch{return function(){}}}var index$1={childNodes:childNodes$1,parentNode:parentNode$1,parentElement:parentElement$1,textContent:textContent$1,contains:contains$1,getRootNode:getRootNode$1,host:host$1,styleSheets:styleSheets$1,shadowRoot:shadowRoot$1,querySelector:querySelector$1,querySelectorAll:querySelectorAll$1,mutationObserver:mutationObserverCtor$1,patch:patch$1};function isElement(t){return t.nodeType===t.ELEMENT_NODE}function isShadowRoot(t){var e=t&&"host"in t&&"mode"in t&&index$1.host(t)||null;return!!(e&&"shadowRoot"in e&&index$1.shadowRoot(e)===t)}function isNativeShadowDom(t){return Object.prototype.toString.call(t)==="[object ShadowRoot]"}function fixBrowserCompatibilityIssuesInCSS(t){return t.includes(" background-clip: text;")&&!t.includes(" -webkit-background-clip: text;")&&(t=t.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),t}function escapeImportStatement(t){var e=t.cssText;if(e.split('"').length<3)return e;var a=["@import","url("+JSON.stringify(t.href)+")"];return t.layerName===""?a.push("layer"):t.layerName&&a.push("layer("+t.layerName+")"),t.supportsText&&a.push("supports("+t.supportsText+")"),t.media.length&&a.push(t.media.mediaText),a.join(" ")+";"}function stringifyStylesheet(t){try{var e=t.rules||t.cssRules;if(!e)return null;var a=t.href;!a&&t.ownerNode&&t.ownerNode.ownerDocument&&(a=t.ownerNode.ownerDocument.location.href);var r=Array.from(e,function(o){return stringifyRule(o,a)}).join("");return fixBrowserCompatibilityIssuesInCSS(r)}catch{return null}}function stringifyRule(t,e){if(isCSSImportRule(t)){var a;try{a=stringifyStylesheet(t.styleSheet)||escapeImportStatement(t)}catch{a=t.cssText}return t.styleSheet.href?absolutifyURLs(a,t.styleSheet.href):a}else{var r=t.cssText;return isCSSStyleRule(t)&&t.selectorText.includes(":")&&(r=fixSafariColons(r)),e?absolutifyURLs(r,e):r}}function fixSafariColons(t){var e=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return t.replace(e,"$1\\$2")}function isCSSImportRule(t){return"styleSheet"in t}function isCSSStyleRule(t){return"selectorText"in t}var Mirror=(function(){function t(){__publicField$1$1(this,"idNodeMap",new Map),__publicField$1$1(this,"nodeMetaMap",new WeakMap)}var e=t.prototype;return e.getId=function(r){var o;if(!r)return-1;var s=(o=this.getMeta(r))==null?void 0:o.id;return s??-1},e.getNode=function(r){return this.idNodeMap.get(r)||null},e.getIds=function(){return Array.from(this.idNodeMap.keys())},e.getMeta=function(r){return this.nodeMetaMap.get(r)||null},e.removeNodeFromMap=function(r){var o=this,s=this.getId(r);this.idNodeMap.delete(s),r.childNodes&&r.childNodes.forEach(function(l){return o.removeNodeFromMap(l)})},e.has=function(r){return this.idNodeMap.has(r)},e.hasNode=function(r){return this.nodeMetaMap.has(r)},e.add=function(r,o){var s=o.id;this.idNodeMap.set(s,r),this.nodeMetaMap.set(r,o)},e.replace=function(r,o){var s=this.getNode(r);if(s){var l=this.nodeMetaMap.get(s);l&&this.nodeMetaMap.set(o,l)}this.idNodeMap.set(r,o)},e.reset=function(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap},t})();function createMirror$2(){return new Mirror}function maskInputValue(t){var e=t.element,a=t.maskInputOptions,r=t.tagName,o=t.type,s=t.value,l=t.maskInputFn,c=s||"",u=o&&toLowerCase(o);return(a[r.toLowerCase()]||u&&a[u])&&(l?c=l(c,e):c="*".repeat(c.length)),c}function toLowerCase(t){return t.toLowerCase()}var ORIGINAL_ATTRIBUTE_NAME="__rrweb_original__";function is2DCanvasBlank(t){var e=t.getContext("2d");if(!e)return!0;for(var a=50,r=0;r<t.width;r+=a)for(var o=0;o<t.height;o+=a){var s=e.getImageData,l=ORIGINAL_ATTRIBUTE_NAME in s?s[ORIGINAL_ATTRIBUTE_NAME]:s,c=new Uint32Array(l.call(e,r,o,Math.min(a,t.width-r),Math.min(a,t.height-o)).data.buffer);if(c.some(function(u){return u!==0}))return!1}return!0}function getInputType(t){var e=t.type;return t.hasAttribute("data-rr-is-password")?"password":e?toLowerCase(e):null}function extractFileExtension(t,e){var a;try{a=new URL(t,e??window.location.href)}catch{return null}var r=/\.([0-9a-z]+)(?:$)/i,o=a.pathname.match(r),s;return(s=o?.[1])!=null?s:null}function extractOrigin(t){var e="";return t.indexOf("//")>-1?e=t.split("/").slice(0,3).join("/"):e=t.split("/")[0],e=e.split("?")[0],e}var URL_IN_CSS_REF=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,URL_PROTOCOL_MATCH=/^(?:[a-z+]+:)?\/\//i,URL_WWW_MATCH=/^www\..*/i,DATA_URI=/^(data:)([^,]*),(.*)/i;function absolutifyURLs(t,e){return(t||"").replace(URL_IN_CSS_REF,function(a,r,o,s,l,c){var u=o||l||c,h=r||s||"";if(!u)return a;if(URL_PROTOCOL_MATCH.test(u)||URL_WWW_MATCH.test(u)||DATA_URI.test(u))return"url("+h+u+h+")";if(u[0]==="/")return"url("+h+(extractOrigin(e)+u)+h+")";var f=e.split("/"),m=u.split("/");f.pop();for(var g=_create_for_of_iterator_helper_loose(m),b;!(b=g()).done;){var w=b.value;w!=="."&&(w===".."?f.pop():f.push(w))}return"url("+h+f.join("/")+h+")"})}function normalizeCssString(t,e){return e===void 0&&(e=!1),e?t.replace(/(\/\*[^*]*\*\/)|[\s;]/g,""):t.replace(/(\/\*[^*]*\*\/)|[\s;]/g,"").replace(/0px/g,"0")}function splitCssText(t,e,a){a===void 0&&(a=!1);var r=Array.from(e.childNodes),o=[],s=0;if(r.length>1&&t&&typeof t=="string"){for(var l=normalizeCssString(t,a),c=l.length/t.length,u=1;u<r.length;u++)if(r[u].textContent&&typeof r[u].textContent=="string"){for(var h=normalizeCssString(r[u].textContent,a),f=100,m=3;m<h.length&&(h[m].match(/[a-zA-Z0-9]/)||h.indexOf(h.substring(0,m),1)!==-1);m++);for(;m<h.length;m++){var g=h.substring(0,m),b=l.split(g),w=-1;if(b.length===2)w=b[0].length;else if(b.length>2&&b[0]===""&&r[u-1].textContent!=="")w=l.indexOf(g,1);else if(b.length===1){if(g=g.substring(0,g.length-1),b=l.split(g),b.length<=1)return o.push(t),o;m=f+1}else m===h.length-1&&(w=l.indexOf(g));if(b.length>=2&&m>f){var E=r[u-1].textContent;if(E&&typeof E=="string"){var C=normalizeCssString(E).length;w=l.indexOf(g,C)}w===-1&&(w=b[0].length)}if(w!==-1){for(var B=Math.floor(w/c);B>0&&B<t.length;){if(s+=1,s>50*r.length)return o.push(t),o;var O=normalizeCssString(t.substring(0,B),a);if(O.length===w){o.push(t.substring(0,B)),t=t.substring(B),l=l.substring(w);break}else O.length<w?B+=Math.max(1,Math.floor((w-O.length)/c)):B-=Math.max(1,Math.floor((O.length-w)*c))}break}}}}return o.push(t),o}function markCssSplits(t,e){return splitCssText(t,e).join("/* rr_split */")}var _id=1,tagNameRegex=new RegExp("[^a-z0-9-_:]"),IGNORED_NODE=-2;function genId(){return _id++}function getValidTagName$1(t){if(_instanceof(t,HTMLFormElement))return"form";var e=toLowerCase(t.tagName);return tagNameRegex.test(e)?"div":e}var canvasService,canvasCtx,SRCSET_NOT_SPACES=/^[^ \t\n\r\u000c]+/,SRCSET_COMMAS_OR_SPACES=/^[, \t\n\r\u000c]+/;function getAbsoluteSrcsetString(t,e){if(e.trim()==="")return e;var a=0;function r(h){var f,m=h.exec(e.substring(a));return m?(f=m[0],a+=f.length,f):""}for(var o=[];r(SRCSET_COMMAS_OR_SPACES),!(a>=e.length);){var s=r(SRCSET_NOT_SPACES);if(s.slice(-1)===",")s=absoluteToDoc(t,s.substring(0,s.length-1)),o.push(s);else{var l="";s=absoluteToDoc(t,s);for(var c=!1;;){var u=e.charAt(a);if(u===""){o.push((s+l).trim());break}else if(c)u===")"&&(c=!1);else if(u===","){a+=1,o.push((s+l).trim());break}else u==="("&&(c=!0);l+=u,a+=1}}}return o.join(", ")}var cachedDocument=new WeakMap;function absoluteToDoc(t,e){return!e||e.trim()===""?e:getHref(t,e)}function isSVGElement(t){return!!(t.tagName==="svg"||t.ownerSVGElement)}function getHref(t,e){var a=cachedDocument.get(t);if(a||(a=t.createElement("a"),cachedDocument.set(t,a)),!e)e="";else if(e.startsWith("blob:")||e.startsWith("data:"))return e;return a.setAttribute("href",e),a.href}function transformAttribute(t,e,a,r){return r&&(a==="src"||a==="href"&&!(e==="use"&&r[0]==="#")||a==="xlink:href"&&r[0]!=="#"||a==="background"&&(e==="table"||e==="td"||e==="th")?absoluteToDoc(t,r):a==="srcset"?getAbsoluteSrcsetString(t,r):a==="style"?absolutifyURLs(r,getHref(t)):e==="object"&&a==="data"?absoluteToDoc(t,r):r)}function ignoreAttribute(t,e,a){return(t==="video"||t==="audio")&&e==="autoplay"}function _isBlockedElement(t,e,a){try{if(typeof e=="string"){if(t.classList.contains(e))return!0}else for(var r=t.classList.length;r--;){var o=t.classList[r];if(e.test(o))return!0}if(a)return t.matches(a)}catch{}return!1}function classMatchesRegex(t,e,a){if(!t)return!1;if(t.nodeType!==t.ELEMENT_NODE)return a?classMatchesRegex(index$1.parentNode(t),e,a):!1;for(var r=t.classList.length;r--;){var o=t.classList[r];if(e.test(o))return!0}return a?classMatchesRegex(index$1.parentNode(t),e,a):!1}function needMaskingText(t,e,a,r){var o;if(isElement(t)){if(o=t,!index$1.childNodes(o).length)return!1}else{if(index$1.parentElement(t)===null)return!1;o=index$1.parentElement(t)}try{if(typeof e=="string"){if(r){if(o.closest("."+e))return!0}else if(o.classList.contains(e))return!0}else if(classMatchesRegex(o,e,r))return!0;if(a){if(r){if(o.closest(a))return!0}else if(o.matches(a))return!0}}catch{}return!1}function onceIframeLoaded(t,e,a){var r=t.contentWindow;if(r){var o=!1,s;try{s=r.document.readyState}catch{return}if(s!=="complete"){var l=setTimeout(function(){o||(e(),o=!0)},a);t.addEventListener("load",function(){clearTimeout(l),o=!0,e()});return}var c="about:blank";if(r.location.href!==c||t.src===c||t.src==="")return setTimeout(e,0),t.addEventListener("load",e);t.addEventListener("load",e)}}function onceStylesheetLoaded(t,e,a){var r=!1,o;try{o=t.sheet}catch{return}if(!o){var s=setTimeout(function(){r||(e(),r=!0)},a);t.addEventListener("load",function(){clearTimeout(s),r=!0,e()})}}function serializeNode(t,e){var a=e.doc,r=e.mirror,o=e.blockClass,s=e.blockSelector,l=e.needsMask,c=e.inlineStylesheet,u=e.maskInputOptions,h=u===void 0?{}:u,f=e.maskTextFn,m=e.maskInputFn,g=e.dataURLOptions,b=g===void 0?{}:g,w=e.inlineImages,E=e.recordCanvas,C=e.keepIframeSrcFn,B=e.newlyAddedElement,O=B===void 0?!1:B,P=e.cssCaptured,q=P===void 0?!1:P,z=getRootId(a,r);switch(t.nodeType){case t.DOCUMENT_NODE:return t.compatMode!=="CSS1Compat"?{type:NodeType$3.Document,childNodes:[],compatMode:t.compatMode}:{type:NodeType$3.Document,childNodes:[]};case t.DOCUMENT_TYPE_NODE:return{type:NodeType$3.DocumentType,name:t.name,publicId:t.publicId,systemId:t.systemId,rootId:z};case t.ELEMENT_NODE:return serializeElementNode(t,{doc:a,blockClass:o,blockSelector:s,inlineStylesheet:c,maskInputOptions:h,maskInputFn:m,dataURLOptions:b,inlineImages:w,recordCanvas:E,keepIframeSrcFn:C,newlyAddedElement:O,rootId:z});case t.TEXT_NODE:return serializeTextNode(t,{doc:a,needsMask:l,maskTextFn:f,rootId:z,cssCaptured:q});case t.CDATA_SECTION_NODE:return{type:NodeType$3.CDATA,textContent:"",rootId:z};case t.COMMENT_NODE:return{type:NodeType$3.Comment,textContent:index$1.textContent(t)||"",rootId:z};default:return!1}}function getRootId(t,e){if(e.hasNode(t)){var a=e.getId(t);return a===1?void 0:a}}function serializeTextNode(t,e){var a=e.needsMask,r=e.maskTextFn,o=e.rootId,s=e.cssCaptured,l=index$1.parentNode(t),c=l&&l.tagName,u="",h=c==="STYLE"?!0:void 0,f=c==="SCRIPT"?!0:void 0;return f?u="SCRIPT_PLACEHOLDER":s||(u=index$1.textContent(t),h&&u&&(u=absolutifyURLs(u,getHref(e.doc)))),!h&&!f&&u&&a&&(u=r?r(u,index$1.parentElement(t)):u.replace(/[\S]/g,"*")),{type:NodeType$3.Text,textContent:u||"",rootId:o}}function serializeElementNode(t,e){for(var a=e.doc,r=e.blockClass,o=e.blockSelector,s=e.inlineStylesheet,l=e.maskInputOptions,c=l===void 0?{}:l,u=e.maskInputFn,h=e.dataURLOptions,f=h===void 0?{}:h,m=e.inlineImages,g=e.recordCanvas,b=e.keepIframeSrcFn,w=e.newlyAddedElement,E=w===void 0?!1:w,C=e.rootId,B=_isBlockedElement(t,r,o),O=getValidTagName$1(t),P={},q=t.attributes.length,z=0;z<q;z++){var V=t.attributes[z];ignoreAttribute(O,V.name,V.value)||(P[V.name]=transformAttribute(a,O,toLowerCase(V.name),V.value))}if(O==="link"&&s){var Z=Array.from(a.styleSheets).find(function(Y){return Y.href===t.href}),J=null;Z&&(J=stringifyStylesheet(Z)),J&&(delete P.rel,delete P.href,P._cssText=J)}if(O==="style"&&t.sheet){var W=stringifyStylesheet(t.sheet);W&&(t.childNodes.length>1&&(W=markCssSplits(W,t)),P._cssText=W)}if(O==="input"||O==="textarea"||O==="select"){var te=t.value,G=t.checked;P.type!=="radio"&&P.type!=="checkbox"&&P.type!=="submit"&&P.type!=="button"&&te?P.value=maskInputValue({element:t,type:getInputType(t),tagName:O,value:te,maskInputOptions:c,maskInputFn:u}):G&&(P.checked=G)}if(O==="option"&&(t.selected&&!c.select?P.selected=!0:delete P.selected),O==="dialog"&&t.open&&(P.rr_open_mode=t.matches("dialog:modal")?"modal":"non-modal"),O==="canvas"&&g){if(t.__context==="2d")is2DCanvasBlank(t)||(P.rr_dataURL=t.toDataURL(f.type,f.quality));else if(!("__context"in t)){var D=t.toDataURL(f.type,f.quality),M=a.createElement("canvas");M.width=t.width,M.height=t.height;var v=M.toDataURL(f.type,f.quality);D!==v&&(P.rr_dataURL=D)}}if(O==="img"&&m){canvasService||(canvasService=a.createElement("canvas"),canvasCtx=canvasService.getContext("2d"));var S=t,N=S.currentSrc||S.getAttribute("src")||"<unknown-src>",R=S.crossOrigin,k=function(){S.removeEventListener("load",k);try{canvasService.width=S.naturalWidth,canvasService.height=S.naturalHeight,canvasCtx.drawImage(S,0,0),P.rr_dataURL=canvasService.toDataURL(f.type,f.quality)}catch(Y){if(S.crossOrigin!=="anonymous"){S.crossOrigin="anonymous",S.complete&&S.naturalWidth!==0?k():S.addEventListener("load",k);return}else console.warn("Cannot inline img src="+N+"! Error: "+Y)}S.crossOrigin==="anonymous"&&(R?P.crossOrigin=R:S.removeAttribute("crossorigin"))};S.complete&&S.naturalWidth!==0?k():S.addEventListener("load",k)}if(O==="audio"||O==="video"){var j=P;j.rr_mediaState=t.paused?"paused":"played",j.rr_mediaCurrentTime=t.currentTime,j.rr_mediaPlaybackRate=t.playbackRate,j.rr_mediaMuted=t.muted,j.rr_mediaLoop=t.loop,j.rr_mediaVolume=t.volume}if(E||(t.scrollLeft&&(P.rr_scrollLeft=t.scrollLeft),t.scrollTop&&(P.rr_scrollTop=t.scrollTop)),B){var I=t.getBoundingClientRect(),A=I.width,$=I.height;P={class:P.class,rr_width:""+A+"px",rr_height:""+$+"px"}}O==="iframe"&&!b(P.src)&&(t.contentDocument||(P.rr_src=P.src),delete P.src);var L;try{customElements.get(O)&&(L=!0)}catch{}return{type:NodeType$3.Element,tagName:O,attributes:P,childNodes:[],isSVG:isSVGElement(t)||void 0,needBlock:B,rootId:C,isCustom:L}}function lowerIfExists(t){return t==null?"":t.toLowerCase()}function slimDOMExcluded(t,e){if(e.comment&&t.type===NodeType$3.Comment)return!0;if(t.type===NodeType$3.Element){if(e.script&&(t.tagName==="script"||t.tagName==="link"&&(t.attributes.rel==="preload"&&t.attributes.as==="script"||t.attributes.rel==="modulepreload")||t.tagName==="link"&&t.attributes.rel==="prefetch"&&typeof t.attributes.href=="string"&&extractFileExtension(t.attributes.href)==="js"))return!0;if(e.headFavicon&&(t.tagName==="link"&&t.attributes.rel==="shortcut icon"||t.tagName==="meta"&&(lowerIfExists(t.attributes.name).match(/^msapplication-tile(image|color)$/)||lowerIfExists(t.attributes.name)==="application-name"||lowerIfExists(t.attributes.rel)==="icon"||lowerIfExists(t.attributes.rel)==="apple-touch-icon"||lowerIfExists(t.attributes.rel)==="shortcut icon")))return!0;if(t.tagName==="meta"){if(e.headMetaDescKeywords&&lowerIfExists(t.attributes.name).match(/^description|keywords$/))return!0;if(e.headMetaSocial&&(lowerIfExists(t.attributes.property).match(/^(og|twitter|fb):/)||lowerIfExists(t.attributes.name).match(/^(og|twitter):/)||lowerIfExists(t.attributes.name)==="pinterest"))return!0;if(e.headMetaRobots&&(lowerIfExists(t.attributes.name)==="robots"||lowerIfExists(t.attributes.name)==="googlebot"||lowerIfExists(t.attributes.name)==="bingbot"))return!0;if(e.headMetaHttpEquiv&&t.attributes["http-equiv"]!==void 0)return!0;if(e.headMetaAuthorship&&(lowerIfExists(t.attributes.name)==="author"||lowerIfExists(t.attributes.name)==="generator"||lowerIfExists(t.attributes.name)==="framework"||lowerIfExists(t.attributes.name)==="publisher"||lowerIfExists(t.attributes.name)==="progid"||lowerIfExists(t.attributes.property).match(/^article:/)||lowerIfExists(t.attributes.property).match(/^product:/)))return!0;if(e.headMetaVerification&&(lowerIfExists(t.attributes.name)==="google-site-verification"||lowerIfExists(t.attributes.name)==="yandex-verification"||lowerIfExists(t.attributes.name)==="csrf-token"||lowerIfExists(t.attributes.name)==="p:domain_verify"||lowerIfExists(t.attributes.name)==="verify-v1"||lowerIfExists(t.attributes.name)==="verification"||lowerIfExists(t.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function serializeNodeWithId(t,e){var a=e.doc,r=e.mirror,o=e.blockClass,s=e.blockSelector,l=e.maskTextClass,c=e.maskTextSelector,u=e.skipChild,h=u===void 0?!1:u,f=e.inlineStylesheet,m=f===void 0?!0:f,g=e.maskInputOptions,b=g===void 0?{}:g,w=e.maskTextFn,E=e.maskInputFn,C=e.slimDOMOptions,B=e.dataURLOptions,O=B===void 0?{}:B,P=e.inlineImages,q=P===void 0?!1:P,z=e.recordCanvas,V=z===void 0?!1:z,Z=e.onSerialize,J=e.onIframeLoad,W=e.iframeLoadTimeout,te=W===void 0?5e3:W,G=e.onStylesheetLoad,D=e.stylesheetLoadTimeout,M=D===void 0?5e3:D,v=e.keepIframeSrcFn,S=v===void 0?function(){return!1}:v,N=e.newlyAddedElement,R=N===void 0?!1:N,k=e.cssCaptured,j=k===void 0?!1:k,I=e.needsMask,A=e.preserveWhiteSpace,$=A===void 0?!0:A;if(!I){var L=I===void 0;I=needMaskingText(t,l,c,L)}var Y=serializeNode(t,{doc:a,mirror:r,blockClass:o,blockSelector:s,needsMask:I,inlineStylesheet:m,maskInputOptions:b,maskTextFn:w,maskInputFn:E,dataURLOptions:O,inlineImages:q,recordCanvas:V,keepIframeSrcFn:S,newlyAddedElement:R,cssCaptured:j});if(!Y)return console.warn(t,"not serialized"),null;var le;r.hasNode(t)?le=r.getId(t):slimDOMExcluded(Y,C)||!$&&Y.type===NodeType$3.Text&&!Y.textContent.replace(/^\s+|\s+$/gm,"").length?le=IGNORED_NODE:le=genId();var re=Object.assign(Y,{id:le});if(r.add(t,re),le===IGNORED_NODE)return null;Z&&Z(t);var U=!h;if(re.type===NodeType$3.Element){U=U&&!re.needBlock,delete re.needBlock;var K=index$1.shadowRoot(t);K&&isNativeShadowDom(K)&&(re.isShadowHost=!0)}if((re.type===NodeType$3.Document||re.type===NodeType$3.Element)&&U){C.headWhitespace&&re.type===NodeType$3.Element&&re.tagName==="head"&&($=!1);var se={doc:a,mirror:r,blockClass:o,blockSelector:s,needsMask:I,maskTextClass:l,maskTextSelector:c,skipChild:h,inlineStylesheet:m,maskInputOptions:b,maskTextFn:w,maskInputFn:E,slimDOMOptions:C,dataURLOptions:O,inlineImages:q,recordCanvas:V,preserveWhiteSpace:$,onSerialize:Z,onIframeLoad:J,iframeLoadTimeout:te,onStylesheetLoad:G,stylesheetLoadTimeout:M,keepIframeSrcFn:S,cssCaptured:!1};if(!(re.type===NodeType$3.Element&&re.tagName==="textarea"&&re.attributes.value!==void 0)){re.type===NodeType$3.Element&&re.attributes._cssText!==void 0&&typeof re.attributes._cssText=="string"&&(se.cssCaptured=!0);for(var he=_create_for_of_iterator_helper_loose(Array.from(index$1.childNodes(t))),ue;!(ue=he()).done;){var ee=ue.value,fe=serializeNodeWithId(ee,se);fe&&re.childNodes.push(fe)}}var ge=null;if(isElement(t)&&(ge=index$1.shadowRoot(t)))for(var xe=_create_for_of_iterator_helper_loose(Array.from(index$1.childNodes(ge))),_e;!(_e=xe()).done;){var Ie=_e.value,De=serializeNodeWithId(Ie,se);De&&(isNativeShadowDom(ge)&&(De.isShadow=!0),re.childNodes.push(De))}}var $e=index$1.parentNode(t);return $e&&isShadowRoot($e)&&isNativeShadowDom($e)&&(re.isShadow=!0),re.type===NodeType$3.Element&&re.tagName==="iframe"&&onceIframeLoaded(t,function(){var Ue=t.contentDocument;if(Ue&&J){var Be=serializeNodeWithId(Ue,{doc:Ue,mirror:r,blockClass:o,blockSelector:s,needsMask:I,maskTextClass:l,maskTextSelector:c,skipChild:!1,inlineStylesheet:m,maskInputOptions:b,maskTextFn:w,maskInputFn:E,slimDOMOptions:C,dataURLOptions:O,inlineImages:q,recordCanvas:V,preserveWhiteSpace:$,onSerialize:Z,onIframeLoad:J,iframeLoadTimeout:te,onStylesheetLoad:G,stylesheetLoadTimeout:M,keepIframeSrcFn:S});Be&&J(t,Be)}},te),re.type===NodeType$3.Element&&re.tagName==="link"&&typeof re.attributes.rel=="string"&&(re.attributes.rel==="stylesheet"||re.attributes.rel==="preload"&&typeof re.attributes.href=="string"&&extractFileExtension(re.attributes.href)==="css")&&onceStylesheetLoaded(t,function(){if(G){var Ue=serializeNodeWithId(t,{doc:a,mirror:r,blockClass:o,blockSelector:s,needsMask:I,maskTextClass:l,maskTextSelector:c,skipChild:!1,inlineStylesheet:m,maskInputOptions:b,maskTextFn:w,maskInputFn:E,slimDOMOptions:C,dataURLOptions:O,inlineImages:q,recordCanvas:V,preserveWhiteSpace:$,onSerialize:Z,onIframeLoad:J,iframeLoadTimeout:te,onStylesheetLoad:G,stylesheetLoadTimeout:M,keepIframeSrcFn:S});Ue&&G(t,Ue)}},M),re}function snapshot(t,e){var a=e||{},r=a.mirror,o=r===void 0?new Mirror:r,s=a.blockClass,l=s===void 0?"rr-block":s,c=a.blockSelector,u=c===void 0?null:c,h=a.maskTextClass,f=h===void 0?"rr-mask":h,m=a.maskTextSelector,g=m===void 0?null:m,b=a.inlineStylesheet,w=b===void 0?!0:b,E=a.inlineImages,C=E===void 0?!1:E,B=a.recordCanvas,O=B===void 0?!1:B,P=a.maskAllInputs,q=P===void 0?!1:P,z=a.maskTextFn,V=a.maskInputFn,Z=a.slimDOM,J=Z===void 0?!1:Z,W=a.dataURLOptions,te=a.preserveWhiteSpace,G=a.onSerialize,D=a.onIframeLoad,M=a.iframeLoadTimeout,v=a.onStylesheetLoad,S=a.stylesheetLoadTimeout,N=a.keepIframeSrcFn,R=N===void 0?function(){return!1}:N,k=q===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0,hidden:!0}:q===!1?{password:!0}:q,j=J===!0||J==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:J==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:J===!1?{}:J;return serializeNodeWithId(t,{doc:t,mirror:o,blockClass:l,blockSelector:u,maskTextClass:f,maskTextSelector:g,skipChild:!1,inlineStylesheet:w,maskInputOptions:k,maskTextFn:z,maskInputFn:V,slimDOMOptions:j,dataURLOptions:W,inlineImages:C,recordCanvas:O,preserveWhiteSpace:te,onSerialize:G,onIframeLoad:D,iframeLoadTimeout:M,onStylesheetLoad:v,stylesheetLoadTimeout:S,keepIframeSrcFn:R,newlyAddedElement:!1})}function getDefaultExportFromCjs$1(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function getAugmentedNamespace$1(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var a=function r(){return _instanceof(this,r)?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};a.prototype=e.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var o=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(a,r,o.get?o:{enumerable:!0,get:function(){return t[r]}})}),a}var picocolors_browser$1={exports:{}},x$1=String,create$1=function t(){return{isColorSupported:!1,reset:x$1,bold:x$1,dim:x$1,italic:x$1,underline:x$1,inverse:x$1,hidden:x$1,strikethrough:x$1,black:x$1,red:x$1,green:x$1,yellow:x$1,blue:x$1,magenta:x$1,cyan:x$1,white:x$1,gray:x$1,bgBlack:x$1,bgRed:x$1,bgGreen:x$1,bgYellow:x$1,bgBlue:x$1,bgMagenta:x$1,bgCyan:x$1,bgWhite:x$1}};picocolors_browser$1.exports=create$1();picocolors_browser$1.exports.createColors=create$1;var picocolors_browserExports$1=picocolors_browser$1.exports,__viteBrowserExternal$2={},__viteBrowserExternal$1$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal$2},Symbol.toStringTag,{value:"Module"})),require$$2$1=getAugmentedNamespace$1(__viteBrowserExternal$1$1),pico$1=picocolors_browserExports$1,terminalHighlight$1$1=require$$2$1,CssSyntaxError$3$1=(function(t){_inherits(e,t);function e(r,o,s,l,c,u){var h;return h=t.call(this,r)||this,h.name="CssSyntaxError",h.reason=r,c&&(h.file=c),l&&(h.source=l),u&&(h.plugin=u),typeof o<"u"&&typeof s<"u"&&(typeof o=="number"?(h.line=o,h.column=s):(h.line=o.line,h.column=o.column,h.endLine=s.line,h.endColumn=s.column)),h.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(h,e),h}var a=e.prototype;return a.setMessage=function(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line<"u"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason},a.showSourceCode=function(o){var s=this;if(!this.source)return"";var l=this.source;o==null&&(o=pico$1.isColorSupported),terminalHighlight$1$1&&o&&(l=terminalHighlight$1$1(l));var c=l.split(/\r?\n/),u=Math.max(this.line-3,0),h=Math.min(this.line+2,c.length),f=String(h).length,m,g;if(o){var b=pico$1.createColors(!0),w=b.bold,E=b.gray,C=b.red;m=function(B){return w(C(B))},g=function(B){return E(B)}}else m=g=function(B){return B};return c.slice(u,h).map(function(B,O){var P=u+1+O,q=" "+(" "+P).slice(-f)+" | ";if(P===s.line){var z=g(q.replace(/\d/g," "))+B.slice(0,s.column-1).replace(/[^\t]/g," ");return m(">")+g(q)+B+`
 `+z+m("^")}return" "+g(q)+B}).join(`
`)},a.toString=function(){var o=this.showSourceCode();return o&&(o=`

`+o+`
`),this.name+": "+this.message+o},e})(_wrap_native_super(Error)),cssSyntaxError$1=CssSyntaxError$3$1;CssSyntaxError$3$1.default=CssSyntaxError$3$1;var symbols$1={};symbols$1.isClean=Symbol("isClean");symbols$1.my=Symbol("my");var DEFAULT_RAW$1={after:`
`,beforeClose:`
`,beforeComment:`
`,beforeDecl:`
`,beforeOpen:" ",beforeRule:`
`,colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};function capitalize$1(t){return t[0].toUpperCase()+t.slice(1)}var Stringifier$2$1=(function(){function t(a){this.builder=a}var e=t.prototype;return e.atrule=function(r,o){var s="@"+r.name,l=r.params?this.rawValue(r,"params"):"";if(typeof r.raws.afterName<"u"?s+=r.raws.afterName:l&&(s+=" "),r.nodes)this.block(r,s+l);else{var c=(r.raws.between||"")+(o?";":"");this.builder(s+l+c,r)}},e.beforeAfter=function(r,o){var s;r.type==="decl"?s=this.raw(r,null,"beforeDecl"):r.type==="comment"?s=this.raw(r,null,"beforeComment"):o==="before"?s=this.raw(r,null,"beforeRule"):s=this.raw(r,null,"beforeClose");for(var l=r.parent,c=0;l&&l.type!=="root";)c+=1,l=l.parent;if(s.includes(`
`)){var u=this.raw(r,null,"indent");if(u.length)for(var h=0;h<c;h++)s+=u}return s},e.block=function(r,o){var s=this.raw(r,"between","beforeOpen");this.builder(o+s+"{",r,"start");var l;r.nodes&&r.nodes.length?(this.body(r),l=this.raw(r,"after")):l=this.raw(r,"after","emptyBody"),l&&this.builder(l),this.builder("}",r,"end")},e.body=function(r){for(var o=r.nodes.length-1;o>0&&r.nodes[o].type==="comment";)o-=1;for(var s=this.raw(r,"semicolon"),l=0;l<r.nodes.length;l++){var c=r.nodes[l],u=this.raw(c,"before");u&&this.builder(u),this.stringify(c,o!==l||s)}},e.comment=function(r){var o=this.raw(r,"left","commentLeft"),s=this.raw(r,"right","commentRight");this.builder("/*"+o+r.text+s+"*/",r)},e.decl=function(r,o){var s=this.raw(r,"between","colon"),l=r.prop+s+this.rawValue(r,"value");r.important&&(l+=r.raws.important||" !important"),o&&(l+=";"),this.builder(l,r)},e.document=function(r){this.body(r)},e.raw=function(r,o,s){var l;if(s||(s=o),o&&(l=r.raws[o],typeof l<"u"))return l;var c=r.parent;if(s==="before"&&(!c||c.type==="root"&&c.first===r||c&&c.type==="document"))return"";if(!c)return DEFAULT_RAW$1[s];var u=r.root();if(u.rawCache||(u.rawCache={}),typeof u.rawCache[s]<"u")return u.rawCache[s];if(s==="before"||s==="after")return this.beforeAfter(r,s);var h="raw"+capitalize$1(s);return this[h]?l=this[h](u,r):u.walk(function(f){if(l=f.raws[o],typeof l<"u")return!1}),typeof l>"u"&&(l=DEFAULT_RAW$1[s]),u.rawCache[s]=l,l},e.rawBeforeClose=function(r){var o;return r.walk(function(s){if(s.nodes&&s.nodes.length>0&&typeof s.raws.after<"u")return o=s.raws.after,o.includes(`
`)&&(o=o.replace(/[^\n]+$/,"")),!1}),o&&(o=o.replace(/\S/g,"")),o},e.rawBeforeComment=function(r,o){var s;return r.walkComments(function(l){if(typeof l.raws.before<"u")return s=l.raws.before,s.includes(`
`)&&(s=s.replace(/[^\n]+$/,"")),!1}),typeof s>"u"?s=this.raw(o,null,"beforeDecl"):s&&(s=s.replace(/\S/g,"")),s},e.rawBeforeDecl=function(r,o){var s;return r.walkDecls(function(l){if(typeof l.raws.before<"u")return s=l.raws.before,s.includes(`
`)&&(s=s.replace(/[^\n]+$/,"")),!1}),typeof s>"u"?s=this.raw(o,null,"beforeRule"):s&&(s=s.replace(/\S/g,"")),s},e.rawBeforeOpen=function(r){var o;return r.walk(function(s){if(s.type!=="decl"&&(o=s.raws.between,typeof o<"u"))return!1}),o},e.rawBeforeRule=function(r){var o;return r.walk(function(s){if(s.nodes&&(s.parent!==r||r.first!==s)&&typeof s.raws.before<"u")return o=s.raws.before,o.includes(`
`)&&(o=o.replace(/[^\n]+$/,"")),!1}),o&&(o=o.replace(/\S/g,"")),o},e.rawColon=function(r){var o;return r.walkDecls(function(s){if(typeof s.raws.between<"u")return o=s.raws.between.replace(/[^\s:]/g,""),!1}),o},e.rawEmptyBody=function(r){var o;return r.walk(function(s){if(s.nodes&&s.nodes.length===0&&(o=s.raws.after,typeof o<"u"))return!1}),o},e.rawIndent=function(r){if(r.raws.indent)return r.raws.indent;var o;return r.walk(function(s){var l=s.parent;if(l&&l!==r&&l.parent&&l.parent===r&&typeof s.raws.before<"u"){var c=s.raws.before.split(`
`);return o=c[c.length-1],o=o.replace(/\S/g,""),!1}}),o},e.rawSemicolon=function(r){var o;return r.walk(function(s){if(s.nodes&&s.nodes.length&&s.last.type==="decl"&&(o=s.raws.semicolon,typeof o<"u"))return!1}),o},e.rawValue=function(r,o){var s=r[o],l=r.raws[o];return l&&l.value===s?l.raw:s},e.root=function(r){this.body(r),r.raws.after&&this.builder(r.raws.after)},e.rule=function(r){this.block(r,this.rawValue(r,"selector")),r.raws.ownSemicolon&&this.builder(r.raws.ownSemicolon,r,"end")},e.stringify=function(r,o){if(!this[r.type])throw new Error("Unknown AST node type "+r.type+". Maybe you need to change PostCSS stringifier.");this[r.type](r,o)},t})(),stringifier$1=Stringifier$2$1;Stringifier$2$1.default=Stringifier$2$1;var Stringifier$1$1=stringifier$1;function stringify$4$1(t,e){var a=new Stringifier$1$1(e);a.stringify(t)}var stringify_1$1=stringify$4$1;stringify$4$1.default=stringify$4$1;var isClean$2$1=symbols$1.isClean,my$2$1=symbols$1.my,CssSyntaxError$2$1=cssSyntaxError$1,Stringifier2$1=stringifier$1,stringify$3$1=stringify_1$1;function cloneNode$1(t,e){var a=new t.constructor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&r!=="proxyCache"){var o=t[r],s=typeof o>"u"?"undefined":_type_of(o);r==="parent"&&s==="object"?e&&(a[r]=e):r==="source"?a[r]=o:Array.isArray(o)?a[r]=o.map(function(l){return cloneNode$1(l,a)}):(s==="object"&&o!==null&&(o=cloneNode$1(o)),a[r]=o)}return a}var Node$4$1=(function(){function t(a){a===void 0&&(a={}),this.raws={},this[isClean$2$1]=!1,this[my$2$1]=!0;for(var r in a)if(r==="nodes"){this.nodes=[];for(var o=_create_for_of_iterator_helper_loose(a[r]),s;!(s=o()).done;){var l=s.value;typeof l.clone=="function"?this.append(l.clone()):this.append(l)}}else this[r]=a[r]}var e=t.prototype;return e.addToError=function(r){if(r.postcssNode=this,r.stack&&this.source&&/\n\s{4}at /.test(r.stack)){var o=this.source;r.stack=r.stack.replace(/\n\s{4}at /,"$&"+o.input.from+":"+o.start.line+":"+o.start.column+"$&")}return r},e.after=function(r){return this.parent.insertAfter(this,r),this},e.assign=function(r){r===void 0&&(r={});for(var o in r)this[o]=r[o];return this},e.before=function(r){return this.parent.insertBefore(this,r),this},e.cleanRaws=function(r){delete this.raws.before,delete this.raws.after,r||delete this.raws.between},e.clone=function(r){r===void 0&&(r={});var o=cloneNode$1(this);for(var s in r)o[s]=r[s];return o},e.cloneAfter=function(r){r===void 0&&(r={});var o=this.clone(r);return this.parent.insertAfter(this,o),o},e.cloneBefore=function(r){r===void 0&&(r={});var o=this.clone(r);return this.parent.insertBefore(this,o),o},e.error=function(r,o){if(o===void 0&&(o={}),this.source){var s=this.rangeBy(o),l=s.end,c=s.start;return this.source.input.error(r,{column:c.column,line:c.line},{column:l.column,line:l.line},o)}return new CssSyntaxError$2$1(r)},e.getProxyProcessor=function(){return{get:function(o,s){return s==="proxyOf"?o:s==="root"?function(){return o.root().toProxy()}:o[s]},set:function(o,s,l){return o[s]===l||(o[s]=l,(s==="prop"||s==="value"||s==="name"||s==="params"||s==="important"||s==="text")&&o.markDirty()),!0}}},e.markDirty=function(){if(this[isClean$2$1]){this[isClean$2$1]=!1;for(var r=this;r=r.parent;)r[isClean$2$1]=!1}},e.next=function(){if(this.parent){var r=this.parent.index(this);return this.parent.nodes[r+1]}},e.positionBy=function(r,o){var s=this.source.start;if(r.index)s=this.positionInside(r.index,o);else if(r.word){o=this.toString();var l=o.indexOf(r.word);l!==-1&&(s=this.positionInside(l,o))}return s},e.positionInside=function(r,o){for(var s=o||this.toString(),l=this.source.start.column,c=this.source.start.line,u=0;u<r;u++)s[u]===`
`?(l=1,c+=1):l+=1;return{column:l,line:c}},e.prev=function(){if(this.parent){var r=this.parent.index(this);return this.parent.nodes[r-1]}},e.rangeBy=function(r){var o={column:this.source.start.column,line:this.source.start.line},s=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:o.column+1,line:o.line};if(r.word){var l=this.toString(),c=l.indexOf(r.word);c!==-1&&(o=this.positionInside(c,l),s=this.positionInside(c+r.word.length,l))}else r.start?o={column:r.start.column,line:r.start.line}:r.index&&(o=this.positionInside(r.index)),r.end?s={column:r.end.column,line:r.end.line}:typeof r.endIndex=="number"?s=this.positionInside(r.endIndex):r.index&&(s=this.positionInside(r.index+1));return(s.line<o.line||s.line===o.line&&s.column<=o.column)&&(s={column:o.column+1,line:o.line}),{end:s,start:o}},e.raw=function(r,o){var s=new Stringifier2$1;return s.raw(this,r,o)},e.remove=function(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this},e.replaceWith=function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];if(this.parent){for(var l=this,c=!1,u=_create_for_of_iterator_helper_loose(o),h;!(h=u()).done;){var f=h.value;f===this?c=!0:c?(this.parent.insertAfter(l,f),l=f):this.parent.insertBefore(l,f)}c||this.remove()}return this},e.root=function(){for(var r=this;r.parent&&r.parent.type!=="document";)r=r.parent;return r},e.toJSON=function(r,o){var s={},l=o==null;o=o||new Map;var c=0;for(var u in this)if(Object.prototype.hasOwnProperty.call(this,u)&&!(u==="parent"||u==="proxyCache")){var h=this[u];if(Array.isArray(h))s[u]=h.map(function(m){return(typeof m>"u"?"undefined":_type_of(m))==="object"&&m.toJSON?m.toJSON(null,o):m});else if((typeof h>"u"?"undefined":_type_of(h))==="object"&&h.toJSON)s[u]=h.toJSON(null,o);else if(u==="source"){var f=o.get(h.input);f==null&&(f=c,o.set(h.input,c),c++),s[u]={end:h.end,inputId:f,start:h.start}}else s[u]=h}return l&&(s.inputs=[].concat(o.keys()).map(function(m){return m.toJSON()})),s},e.toProxy=function(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache},e.toString=function(r){r===void 0&&(r=stringify$3$1),r.stringify&&(r=r.stringify);var o="";return r(this,function(s){o+=s}),o},e.warn=function(r,o,s){var l={node:this};for(var c in s)l[c]=s[c];return r.warn(o,l)},_create_class(t,[{key:"proxyOf",get:function(){return this}}]),t})(),node$1=Node$4$1;Node$4$1.default=Node$4$1;var Node$3$1=node$1,Declaration$4$1=(function(t){_inherits(e,t);function e(a){var r;return a&&typeof a.value<"u"&&typeof a.value!="string"&&(a=_extends({},a,{value:String(a.value)})),r=t.call(this,a)||this,r.type="decl",r}return _create_class(e,[{key:"variable",get:function(){return this.prop.startsWith("--")||this.prop[0]==="$"}}]),e})(Node$3$1),declaration$1=Declaration$4$1;Declaration$4$1.default=Declaration$4$1;var urlAlphabet$1="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",nanoid$1$1=function(t){t===void 0&&(t=21);for(var e="",a=t;a--;)e+=urlAlphabet$1[Math.random()*64|0];return e},nonSecure$1={nanoid:nanoid$1$1},SourceMapConsumer$2$1=require$$2$1.SourceMapConsumer,SourceMapGenerator$2$1=require$$2$1.SourceMapGenerator,existsSync$1=require$$2$1.existsSync,readFileSync$1=require$$2$1.readFileSync,dirname$1$1=require$$2$1.dirname,join$1=require$$2$1.join;function fromBase64$1(t){return Buffer?Buffer.from(t,"base64").toString():window.atob(t)}var PreviousMap$2$1=(function(){function t(a,r){if(r.map!==!1){this.loadAnnotation(a),this.inline=this.startWith(this.annotation,"data:");var o=r.map?r.map.prev:void 0,s=this.loadMap(r.from,o);!this.mapFile&&r.from&&(this.mapFile=r.from),this.mapFile&&(this.root=dirname$1$1(this.mapFile)),s&&(this.text=s)}}var e=t.prototype;return e.consumer=function(){return this.consumerCache||(this.consumerCache=new SourceMapConsumer$2$1(this.text)),this.consumerCache},e.decodeInline=function(r){var o=/^data:application\/json;charset=utf-?8;base64,/,s=/^data:application\/json;base64,/,l=/^data:application\/json;charset=utf-?8,/,c=/^data:application\/json,/;if(l.test(r)||c.test(r))return decodeURIComponent(r.substr(RegExp.lastMatch.length));if(o.test(r)||s.test(r))return fromBase64$1(r.substr(RegExp.lastMatch.length));var u=r.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+u)},e.getAnnotationURL=function(r){return r.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()},e.isMap=function(r){return(typeof r>"u"?"undefined":_type_of(r))!=="object"?!1:typeof r.mappings=="string"||typeof r._mappings=="string"||Array.isArray(r.sections)},e.loadAnnotation=function(r){var o=r.match(/\/\*\s*# sourceMappingURL=/gm);if(o){var s=r.lastIndexOf(o.pop()),l=r.indexOf("*/",s);s>-1&&l>-1&&(this.annotation=this.getAnnotationURL(r.substring(s,l)))}},e.loadFile=function(r){if(this.root=dirname$1$1(r),existsSync$1(r))return this.mapFile=r,readFileSync$1(r,"utf-8").toString().trim()},e.loadMap=function(r,o){if(o===!1)return!1;if(o){if(typeof o=="string")return o;if(typeof o=="function"){var s=o(r);if(s){var l=this.loadFile(s);if(!l)throw new Error("Unable to load previous source map: "+s.toString());return l}}else{if(_instanceof(o,SourceMapConsumer$2$1))return SourceMapGenerator$2$1.fromSourceMap(o).toString();if(_instanceof(o,SourceMapGenerator$2$1))return o.toString();if(this.isMap(o))return JSON.stringify(o);throw new Error("Unsupported previous source map format: "+o.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){var c=this.annotation;return r&&(c=join$1(dirname$1$1(r),c)),this.loadFile(c)}}},e.startWith=function(r,o){return r?r.substr(0,o.length)===o:!1},e.withContent=function(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)},t})(),previousMap$1=PreviousMap$2$1;PreviousMap$2$1.default=PreviousMap$2$1;var SourceMapConsumer$1$1=require$$2$1.SourceMapConsumer,SourceMapGenerator$1$1=require$$2$1.SourceMapGenerator,fileURLToPath$1=require$$2$1.fileURLToPath,pathToFileURL$1$1=require$$2$1.pathToFileURL,isAbsolute$1=require$$2$1.isAbsolute,resolve$1$1=require$$2$1.resolve,nanoid$2=nonSecure$1.nanoid,terminalHighlight$2=require$$2$1,CssSyntaxError$1$1=cssSyntaxError$1,PreviousMap$1$1=previousMap$1,fromOffsetCache$1=Symbol("fromOffsetCache"),sourceMapAvailable$1$1=!!(SourceMapConsumer$1$1&&SourceMapGenerator$1$1),pathAvailable$1$1=!!(resolve$1$1&&isAbsolute$1),Input$4$1=(function(){function t(a,r){if(r===void 0&&(r={}),a===null||typeof a>"u"||(typeof a>"u"?"undefined":_type_of(a))==="object"&&!a.toString)throw new Error("PostCSS received "+a+" instead of CSS string");if(this.css=a.toString(),this.css[0]==="\uFEFF"||this.css[0]===""?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,r.from&&(!pathAvailable$1$1||/^\w+:\/\//.test(r.from)||isAbsolute$1(r.from)?this.file=r.from:this.file=resolve$1$1(r.from)),pathAvailable$1$1&&sourceMapAvailable$1$1){var o=new PreviousMap$1$1(this.css,r);if(o.text){this.map=o;var s=o.consumer().file;!this.file&&s&&(this.file=this.mapResolve(s))}}this.file||(this.id="<input css "+nanoid$2(6)+">"),this.map&&(this.map.file=this.from)}var e=t.prototype;return e.error=function(r,o,s,l){l===void 0&&(l={});var c,u,h;if(o&&(typeof o>"u"?"undefined":_type_of(o))==="object"){var f=o,m=s;if(typeof f.offset=="number"){var g=this.fromOffset(f.offset);o=g.line,s=g.col}else o=f.line,s=f.column;if(typeof m.offset=="number"){var b=this.fromOffset(m.offset);u=b.line,h=b.col}else u=m.line,h=m.column}else if(!s){var w=this.fromOffset(o);o=w.line,s=w.col}var E=this.origin(o,s,u,h);return E?c=new CssSyntaxError$1$1(r,E.endLine===void 0?E.line:{column:E.column,line:E.line},E.endLine===void 0?E.column:{column:E.endColumn,line:E.endLine},E.source,E.file,l.plugin):c=new CssSyntaxError$1$1(r,u===void 0?o:{column:s,line:o},u===void 0?s:{column:h,line:u},this.css,this.file,l.plugin),c.input={column:s,endColumn:h,endLine:u,line:o,source:this.css},this.file&&(pathToFileURL$1$1&&(c.input.url=pathToFileURL$1$1(this.file).toString()),c.input.file=this.file),c},e.fromOffset=function(r){var o,s;if(this[fromOffsetCache$1])s=this[fromOffsetCache$1];else{var l=this.css.split(`
`);s=new Array(l.length);for(var c=0,u=0,h=l.length;u<h;u++)s[u]=c,c+=l[u].length+1;this[fromOffsetCache$1]=s}o=s[s.length-1];var f=0;if(r>=o)f=s.length-1;else for(var m=s.length-2,g;f<m;)if(g=f+(m-f>>1),r<s[g])m=g-1;else if(r>=s[g+1])f=g+1;else{f=g;break}return{col:r-s[f]+1,line:f+1}},e.mapResolve=function(r){return/^\w+:\/\//.test(r)?r:resolve$1$1(this.map.consumer().sourceRoot||this.map.root||".",r)},e.origin=function(r,o,s,l){if(!this.map)return!1;var c=this.map.consumer(),u=c.originalPositionFor({column:o,line:r});if(!u.source)return!1;var h;typeof s=="number"&&(h=c.originalPositionFor({column:l,line:s}));var f;isAbsolute$1(u.source)?f=pathToFileURL$1$1(u.source):f=new URL(u.source,this.map.consumer().sourceRoot||pathToFileURL$1$1(this.map.mapFile));var m={column:u.column,endColumn:h&&h.column,endLine:h&&h.line,line:u.line,url:f.toString()};if(f.protocol==="file:")if(fileURLToPath$1)m.file=fileURLToPath$1(f);else throw new Error("file: protocol is not available in this PostCSS build");var g=c.sourceContentFor(u.source);return g&&(m.source=g),m},e.toJSON=function(){for(var r={},o=0,s=["hasBOM","css","file","id"];o<s.length;o++){var l=s[o];this[l]!=null&&(r[l]=this[l])}return this.map&&(r.map=_extends({},this.map),r.map.consumerCache&&(r.map.consumerCache=void 0)),r},_create_class(t,[{key:"from",get:function(){return this.file||this.id}}]),t})(),input$1=Input$4$1;Input$4$1.default=Input$4$1;terminalHighlight$2&&terminalHighlight$2.registerInput&&terminalHighlight$2.registerInput(Input$4$1);var SourceMapConsumer$3=require$$2$1.SourceMapConsumer,SourceMapGenerator$3=require$$2$1.SourceMapGenerator,dirname$2=require$$2$1.dirname,relative$1=require$$2$1.relative,resolve$2=require$$2$1.resolve,sep$1=require$$2$1.sep,pathToFileURL$2=require$$2$1.pathToFileURL,Input$3$1=input$1,sourceMapAvailable$2=!!(SourceMapConsumer$3&&SourceMapGenerator$3),pathAvailable$2=!!(dirname$2&&resolve$2&&relative$1&&sep$1),MapGenerator$2$1=(function(){function t(a,r,o,s){this.stringify=a,this.mapOpts=o.map||{},this.root=r,this.opts=o,this.css=s,this.originalCSS=s,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}var e=t.prototype;return e.addAnnotation=function(){var r;this.isInline()?r="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?r=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?r=this.mapOpts.annotation(this.opts.to,this.root):r=this.outputFile()+".map";var o=`
`;this.css.includes(`\r
`)&&(o=`\r
`),this.css+=o+"/*# sourceMappingURL="+r+" */"},e.applyPrevMaps=function(){for(var r=_create_for_of_iterator_helper_loose(this.previous()),o;!(o=r()).done;){var s=o.value,l=this.toUrl(this.path(s.file)),c=s.root||dirname$2(s.file),u=void 0;this.mapOpts.sourcesContent===!1?(u=new SourceMapConsumer$3(s.text),u.sourcesContent&&(u.sourcesContent=null)):u=s.consumer(),this.map.applySourceMap(u,l,this.toUrl(this.path(c)))}},e.clearAnnotation=function(){if(this.mapOpts.annotation!==!1)if(this.root)for(var r,o=this.root.nodes.length-1;o>=0;o--)r=this.root.nodes[o],r.type==="comment"&&r.text.indexOf("# sourceMappingURL=")===0&&this.root.removeChild(o);else this.css&&(this.css=this.css.replace(/\n*?\/\*#[\S\s]*?\*\/$/gm,""))},e.generate=function(){if(this.clearAnnotation(),pathAvailable$2&&sourceMapAvailable$2&&this.isMap())return this.generateMap();var r="";return this.stringify(this.root,function(o){r+=o}),[r]},e.generateMap=function(){if(this.root)this.generateString();else if(this.previous().length===1){var r=this.previous()[0].consumer();r.file=this.outputFile(),this.map=SourceMapGenerator$3.fromSourceMap(r,{ignoreInvalidMapping:!0})}else this.map=new SourceMapGenerator$3({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]},e.generateString=function(){var r=this;this.css="",this.map=new SourceMapGenerator$3({file:this.outputFile(),ignoreInvalidMapping:!0});var o=1,s=1,l="<no source>",c={generated:{column:0,line:0},original:{column:0,line:0},source:""},u,h;this.stringify(this.root,function(f,m,g){if(r.css+=f,m&&g!=="end"&&(c.generated.line=o,c.generated.column=s-1,m.source&&m.source.start?(c.source=r.sourcePath(m),c.original.line=m.source.start.line,c.original.column=m.source.start.column-1,r.map.addMapping(c)):(c.source=l,c.original.line=1,c.original.column=0,r.map.addMapping(c))),u=f.match(/\n/g),u?(o+=u.length,h=f.lastIndexOf(`
`),s=f.length-h):s+=f.length,m&&g!=="start"){var b=m.parent||{raws:{}},w=m.type==="decl"||m.type==="atrule"&&!m.nodes;(!w||m!==b.last||b.raws.semicolon)&&(m.source&&m.source.end?(c.source=r.sourcePath(m),c.original.line=m.source.end.line,c.original.column=m.source.end.column-1,c.generated.line=o,c.generated.column=s-2,r.map.addMapping(c)):(c.source=l,c.original.line=1,c.original.column=0,c.generated.line=o,c.generated.column=s-1,r.map.addMapping(c)))}})},e.isAnnotation=function(){return this.isInline()?!0:typeof this.mapOpts.annotation<"u"?this.mapOpts.annotation:this.previous().length?this.previous().some(function(r){return r.annotation}):!0},e.isInline=function(){if(typeof this.mapOpts.inline<"u")return this.mapOpts.inline;var r=this.mapOpts.annotation;return typeof r<"u"&&r!==!0?!1:this.previous().length?this.previous().some(function(o){return o.inline}):!0},e.isMap=function(){return typeof this.opts.map<"u"?!!this.opts.map:this.previous().length>0},e.isSourcesContent=function(){return typeof this.mapOpts.sourcesContent<"u"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(function(r){return r.withContent()}):!0},e.outputFile=function(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"},e.path=function(r){if(this.mapOpts.absolute||r.charCodeAt(0)===60||/^\w+:\/\//.test(r))return r;var o=this.memoizedPaths.get(r);if(o)return o;var s=this.opts.to?dirname$2(this.opts.to):".";typeof this.mapOpts.annotation=="string"&&(s=dirname$2(resolve$2(s,this.mapOpts.annotation)));var l=relative$1(s,r);return this.memoizedPaths.set(r,l),l},e.previous=function(){var r=this;if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(function(s){if(s.source&&s.source.input.map){var l=s.source.input.map;r.previousMaps.includes(l)||r.previousMaps.push(l)}});else{var o=new Input$3$1(this.originalCSS,this.opts);o.map&&this.previousMaps.push(o.map)}return this.previousMaps},e.setSourcesContent=function(){var r=this,o={};if(this.root)this.root.walk(function(l){if(l.source){var c=l.source.input.from;if(c&&!o[c]){o[c]=!0;var u=r.usesFileUrls?r.toFileUrl(c):r.toUrl(r.path(c));r.map.setSourceContent(u,l.source.input.css)}}});else if(this.css){var s=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(s,this.css)}},e.sourcePath=function(r){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(r.source.input.from):this.toUrl(this.path(r.source.input.from))},e.toBase64=function(r){return Buffer?Buffer.from(r).toString("base64"):window.btoa(unescape(encodeURIComponent(r)))},e.toFileUrl=function(r){var o=this.memoizedFileURLs.get(r);if(o)return o;if(pathToFileURL$2){var s=pathToFileURL$2(r).toString();return this.memoizedFileURLs.set(r,s),s}else throw new Error("`map.absolute` option is not available in this PostCSS build")},e.toUrl=function(r){var o=this.memoizedURLs.get(r);if(o)return o;sep$1==="\\"&&(r=r.replace(/\\/g,"/"));var s=encodeURI(r).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(r,s),s},t})(),mapGenerator$1=MapGenerator$2$1,Node$2$1=node$1,Comment$4$1=(function(t){_inherits(e,t);function e(a){var r;return r=t.call(this,a)||this,r.type="comment",r}return e})(Node$2$1),comment$1=Comment$4$1;Comment$4$1.default=Comment$4$1;var isClean$1$1=symbols$1.isClean,my$1$1=symbols$1.my,Declaration$3$1=declaration$1,Comment$3$1=comment$1,Node$1$1=node$1,parse$4$1,Rule$4$1,AtRule$4$1,Root$6$1;function cleanSource$1(t){return t.map(function(e){return e.nodes&&(e.nodes=cleanSource$1(e.nodes)),delete e.source,e})}function markDirtyUp$1(t){if(t[isClean$1$1]=!1,t.proxyOf.nodes)for(var e=_create_for_of_iterator_helper_loose(t.proxyOf.nodes),a;!(a=e()).done;){var r=a.value;markDirtyUp$1(r)}}var Container$7$1=(function(t){_inherits(e,t);function e(){return t.apply(this,arguments)||this}var a=e.prototype;return a.append=function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];for(var c=_create_for_of_iterator_helper_loose(s),u;!(u=c()).done;)for(var h=u.value,f=this.normalize(h,this.last),m=_create_for_of_iterator_helper_loose(f),g;!(g=m()).done;){var b=g.value;this.proxyOf.nodes.push(b)}return this.markDirty(),this},a.cleanRaws=function(o){if(t.prototype.cleanRaws.call(this,o),this.nodes)for(var s=_create_for_of_iterator_helper_loose(this.nodes),l;!(l=s()).done;){var c=l.value;c.cleanRaws(o)}},a.each=function(o){if(this.proxyOf.nodes){for(var s=this.getIterator(),l,c;this.indexes[s]<this.proxyOf.nodes.length&&(l=this.indexes[s],c=o(this.proxyOf.nodes[l],l),c!==!1);)this.indexes[s]+=1;return delete this.indexes[s],c}},a.every=function(o){return this.nodes.every(o)},a.getIterator=function(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;var o=this.lastEach;return this.indexes[o]=0,o},a.getProxyProcessor=function(){return{get:function(s,l){return l==="proxyOf"?s:s[l]?l==="each"||typeof l=="string"&&l.startsWith("walk")?function(){for(var c=arguments.length,u=new Array(c),h=0;h<c;h++)u[h]=arguments[h];var f;return(f=s)[l].apply(f,[].concat(u.map(function(m){return typeof m=="function"?function(g,b){return m(g.toProxy(),b)}:m})))}:l==="every"||l==="some"?function(c){return s[l](function(u){for(var h=arguments.length,f=new Array(h>1?h-1:0),m=1;m<h;m++)f[m-1]=arguments[m];return c.apply(void 0,[].concat([u.toProxy()],f))})}:l==="root"?function(){return s.root().toProxy()}:l==="nodes"?s.nodes.map(function(c){return c.toProxy()}):l==="first"||l==="last"?s[l].toProxy():s[l]:s[l]},set:function(s,l,c){return s[l]===c||(s[l]=c,(l==="name"||l==="params"||l==="selector")&&s.markDirty()),!0}}},a.index=function(o){return typeof o=="number"?o:(o.proxyOf&&(o=o.proxyOf),this.proxyOf.nodes.indexOf(o))},a.insertAfter=function(o,s){var l=this.index(o),c=this.normalize(s,this.proxyOf.nodes[l]).reverse();l=this.index(o);for(var u=_create_for_of_iterator_helper_loose(c),h;!(h=u()).done;){var f=h.value;this.proxyOf.nodes.splice(l+1,0,f)}var m;for(var g in this.indexes)m=this.indexes[g],l<m&&(this.indexes[g]=m+c.length);return this.markDirty(),this},a.insertBefore=function(o,s){var l=this.index(o),c=l===0?"prepend":!1,u=this.normalize(s,this.proxyOf.nodes[l],c).reverse();l=this.index(o);for(var h=_create_for_of_iterator_helper_loose(u),f;!(f=h()).done;){var m=f.value;this.proxyOf.nodes.splice(l,0,m)}var g;for(var b in this.indexes)g=this.indexes[b],l<=g&&(this.indexes[b]=g+u.length);return this.markDirty(),this},a.normalize=function(o,s){var l=this;if(typeof o=="string")o=cleanSource$1(parse$4$1(o).nodes);else if(typeof o>"u")o=[];else if(Array.isArray(o)){o=o.slice(0);for(var c=_create_for_of_iterator_helper_loose(o),u;!(u=c()).done;){var h=u.value;h.parent&&h.parent.removeChild(h,"ignore")}}else if(o.type==="root"&&this.type!=="document"){o=o.nodes.slice(0);for(var f=_create_for_of_iterator_helper_loose(o),m;!(m=f()).done;){var g=m.value;g.parent&&g.parent.removeChild(g,"ignore")}}else if(o.type)o=[o];else if(o.prop){if(typeof o.value>"u")throw new Error("Value field is missed in node creation");typeof o.value!="string"&&(o.value=String(o.value)),o=[new Declaration$3$1(o)]}else if(o.selector)o=[new Rule$4$1(o)];else if(o.name)o=[new AtRule$4$1(o)];else if(o.text)o=[new Comment$3$1(o)];else throw new Error("Unknown node type in node creation");var b=o.map(function(w){return w[my$1$1]||e.rebuild(w),w=w.proxyOf,w.parent&&w.parent.removeChild(w),w[isClean$1$1]&&markDirtyUp$1(w),typeof w.raws.before>"u"&&s&&typeof s.raws.before<"u"&&(w.raws.before=s.raws.before.replace(/\S/g,"")),w.parent=l.proxyOf,w});return b},a.prepend=function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];s=s.reverse();for(var c=_create_for_of_iterator_helper_loose(s),u;!(u=c()).done;){for(var h=u.value,f=this.normalize(h,this.first,"prepend").reverse(),m=_create_for_of_iterator_helper_loose(f),g;!(g=m()).done;){var b=g.value;this.proxyOf.nodes.unshift(b)}for(var w in this.indexes)this.indexes[w]=this.indexes[w]+f.length}return this.markDirty(),this},a.push=function(o){return o.parent=this,this.proxyOf.nodes.push(o),this},a.removeAll=function(){for(var o=_create_for_of_iterator_helper_loose(this.proxyOf.nodes),s;!(s=o()).done;){var l=s.value;l.parent=void 0}return this.proxyOf.nodes=[],this.markDirty(),this},a.removeChild=function(o){o=this.index(o),this.proxyOf.nodes[o].parent=void 0,this.proxyOf.nodes.splice(o,1);var s;for(var l in this.indexes)s=this.indexes[l],s>=o&&(this.indexes[l]=s-1);return this.markDirty(),this},a.replaceValues=function(o,s,l){return l||(l=s,s={}),this.walkDecls(function(c){s.props&&!s.props.includes(c.prop)||s.fast&&!c.value.includes(s.fast)||(c.value=c.value.replace(o,l))}),this.markDirty(),this},a.some=function(o){return this.nodes.some(o)},a.walk=function(o){return this.each(function(s,l){var c;try{c=o(s,l)}catch(u){throw s.addToError(u)}return c!==!1&&s.walk&&(c=s.walk(o)),c})},a.walkAtRules=function(o,s){return s?_instanceof(o,RegExp)?this.walk(function(l,c){if(l.type==="atrule"&&o.test(l.name))return s(l,c)}):this.walk(function(l,c){if(l.type==="atrule"&&l.name===o)return s(l,c)}):(s=o,this.walk(function(l,c){if(l.type==="atrule")return s(l,c)}))},a.walkComments=function(o){return this.walk(function(s,l){if(s.type==="comment")return o(s,l)})},a.walkDecls=function(o,s){return s?_instanceof(o,RegExp)?this.walk(function(l,c){if(l.type==="decl"&&o.test(l.prop))return s(l,c)}):this.walk(function(l,c){if(l.type==="decl"&&l.prop===o)return s(l,c)}):(s=o,this.walk(function(l,c){if(l.type==="decl")return s(l,c)}))},a.walkRules=function(o,s){return s?_instanceof(o,RegExp)?this.walk(function(l,c){if(l.type==="rule"&&o.test(l.selector))return s(l,c)}):this.walk(function(l,c){if(l.type==="rule"&&l.selector===o)return s(l,c)}):(s=o,this.walk(function(l,c){if(l.type==="rule")return s(l,c)}))},_create_class(e,[{key:"first",get:function(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}},{key:"last",get:function(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}}]),e})(Node$1$1);Container$7$1.registerParse=function(t){parse$4$1=t};Container$7$1.registerRule=function(t){Rule$4$1=t};Container$7$1.registerAtRule=function(t){AtRule$4$1=t};Container$7$1.registerRoot=function(t){Root$6$1=t};var container$1=Container$7$1;Container$7$1.default=Container$7$1;Container$7$1.rebuild=function(t){t.type==="atrule"?Object.setPrototypeOf(t,AtRule$4$1.prototype):t.type==="rule"?Object.setPrototypeOf(t,Rule$4$1.prototype):t.type==="decl"?Object.setPrototypeOf(t,Declaration$3$1.prototype):t.type==="comment"?Object.setPrototypeOf(t,Comment$3$1.prototype):t.type==="root"&&Object.setPrototypeOf(t,Root$6$1.prototype),t[my$1$1]=!0,t.nodes&&t.nodes.forEach(function(e){Container$7$1.rebuild(e)})};var Container$6$1=container$1,LazyResult$4$1,Processor$3$1,Document$3$1=(function(t){_inherits(e,t);function e(r){var o;return o=t.call(this,_extends({type:"document"},r))||this,o.nodes||(o.nodes=[]),o}var a=e.prototype;return a.toResult=function(o){o===void 0&&(o={});var s=new LazyResult$4$1(new Processor$3$1,this,o);return s.stringify()},e})(Container$6$1);Document$3$1.registerLazyResult=function(t){LazyResult$4$1=t};Document$3$1.registerProcessor=function(t){Processor$3$1=t};var document$1$1=Document$3$1;Document$3$1.default=Document$3$1;var Warning$2$1=(function(){function t(a,r){if(r===void 0&&(r={}),this.type="warning",this.text=a,r.node&&r.node.source){var o=r.node.rangeBy(r);this.line=o.start.line,this.column=o.start.column,this.endLine=o.end.line,this.endColumn=o.end.column}for(var s in r)this[s]=r[s]}var e=t.prototype;return e.toString=function(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text},t})(),warning$1=Warning$2$1;Warning$2$1.default=Warning$2$1;var Warning$1$1=warning$1,Result$3$1=(function(){function t(a,r,o){this.processor=a,this.messages=[],this.root=r,this.opts=o,this.css=void 0,this.map=void 0}var e=t.prototype;return e.toString=function(){return this.css},e.warn=function(r,o){o===void 0&&(o={}),o.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(o.plugin=this.lastPlugin.postcssPlugin);var s=new Warning$1$1(r,o);return this.messages.push(s),s},e.warnings=function(){return this.messages.filter(function(r){return r.type==="warning"})},_create_class(t,[{key:"content",get:function(){return this.css}}]),t})(),result$1=Result$3$1;Result$3$1.default=Result$3$1;var SINGLE_QUOTE$1=39,DOUBLE_QUOTE$1=34,BACKSLASH$1=92,SLASH$1=47,NEWLINE$1=10,SPACE$1=32,FEED$1=12,TAB$1=9,CR$1=13,OPEN_SQUARE$1=91,CLOSE_SQUARE$1=93,OPEN_PARENTHESES$1=40,CLOSE_PARENTHESES$1=41,OPEN_CURLY$1=123,CLOSE_CURLY$1=125,SEMICOLON$1=59,ASTERISK$1=42,COLON$1=58,AT$1=64,RE_AT_END$1=/[\t\n\f\r "#'()/;[\\\]{}]/g,RE_WORD_END$1=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,RE_BAD_BRACKET$1=/.[\r\n"'(/\\]/,RE_HEX_ESCAPE$1=/[\da-f]/i,tokenize$1=function t(e,a){a===void 0&&(a={});var r=e.css.valueOf(),o=a.ignoreErrors,s,l,c,u,h,f,m,g,b,w,E=r.length,C=0,B=[],O=[];function P(){return C}function q(J){throw e.error("Unclosed "+J,C)}function z(){return O.length===0&&C>=E}function V(J){if(O.length)return O.pop();if(!(C>=E)){var W=J?J.ignoreUnclosed:!1;switch(s=r.charCodeAt(C),s){case NEWLINE$1:case SPACE$1:case TAB$1:case CR$1:case FEED$1:{l=C;do l+=1,s=r.charCodeAt(l);while(s===SPACE$1||s===NEWLINE$1||s===TAB$1||s===CR$1||s===FEED$1);w=["space",r.slice(C,l)],C=l-1;break}case OPEN_SQUARE$1:case CLOSE_SQUARE$1:case OPEN_CURLY$1:case CLOSE_CURLY$1:case COLON$1:case SEMICOLON$1:case CLOSE_PARENTHESES$1:{var te=String.fromCharCode(s);w=[te,te,C];break}case OPEN_PARENTHESES$1:{if(g=B.length?B.pop()[1]:"",b=r.charCodeAt(C+1),g==="url"&&b!==SINGLE_QUOTE$1&&b!==DOUBLE_QUOTE$1&&b!==SPACE$1&&b!==NEWLINE$1&&b!==TAB$1&&b!==FEED$1&&b!==CR$1){l=C;do{if(f=!1,l=r.indexOf(")",l+1),l===-1)if(o||W){l=C;break}else q("bracket");for(m=l;r.charCodeAt(m-1)===BACKSLASH$1;)m-=1,f=!f}while(f);w=["brackets",r.slice(C,l+1),C,l],C=l}else l=r.indexOf(")",C+1),u=r.slice(C,l+1),l===-1||RE_BAD_BRACKET$1.test(u)?w=["(","(",C]:(w=["brackets",u,C,l],C=l);break}case SINGLE_QUOTE$1:case DOUBLE_QUOTE$1:{c=s===SINGLE_QUOTE$1?"'":'"',l=C;do{if(f=!1,l=r.indexOf(c,l+1),l===-1)if(o||W){l=C+1;break}else q("string");for(m=l;r.charCodeAt(m-1)===BACKSLASH$1;)m-=1,f=!f}while(f);w=["string",r.slice(C,l+1),C,l],C=l;break}case AT$1:{RE_AT_END$1.lastIndex=C+1,RE_AT_END$1.test(r),RE_AT_END$1.lastIndex===0?l=r.length-1:l=RE_AT_END$1.lastIndex-2,w=["at-word",r.slice(C,l+1),C,l],C=l;break}case BACKSLASH$1:{for(l=C,h=!0;r.charCodeAt(l+1)===BACKSLASH$1;)l+=1,h=!h;if(s=r.charCodeAt(l+1),h&&s!==SLASH$1&&s!==SPACE$1&&s!==NEWLINE$1&&s!==TAB$1&&s!==CR$1&&s!==FEED$1&&(l+=1,RE_HEX_ESCAPE$1.test(r.charAt(l)))){for(;RE_HEX_ESCAPE$1.test(r.charAt(l+1));)l+=1;r.charCodeAt(l+1)===SPACE$1&&(l+=1)}w=["word",r.slice(C,l+1),C,l],C=l;break}default:{s===SLASH$1&&r.charCodeAt(C+1)===ASTERISK$1?(l=r.indexOf("*/",C+2)+1,l===0&&(o||W?l=r.length:q("comment")),w=["comment",r.slice(C,l+1),C,l],C=l):(RE_WORD_END$1.lastIndex=C+1,RE_WORD_END$1.test(r),RE_WORD_END$1.lastIndex===0?l=r.length-1:l=RE_WORD_END$1.lastIndex-2,w=["word",r.slice(C,l+1),C,l],B.push(w),C=l);break}}return C++,w}}function Z(J){O.push(J)}return{back:Z,endOfFile:z,nextToken:V,position:P}},Container$5$1=container$1,AtRule$3$1=(function(t){_inherits(e,t);function e(r){var o;return o=t.call(this,r)||this,o.type="atrule",o}var a=e.prototype;return a.append=function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];var c;return this.proxyOf.nodes||(this.nodes=[]),(c=t.prototype.append).call.apply(c,[].concat([this],s))},a.prepend=function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];var c;return this.proxyOf.nodes||(this.nodes=[]),(c=t.prototype.prepend).call.apply(c,[].concat([this],s))},e})(Container$5$1),atRule$1=AtRule$3$1;AtRule$3$1.default=AtRule$3$1;Container$5$1.registerAtRule(AtRule$3$1);var Container$4$1=container$1,LazyResult$3$1,Processor$2$1,Root$5$1=(function(t){_inherits(e,t);function e(r){var o;return o=t.call(this,r)||this,o.type="root",o.nodes||(o.nodes=[]),o}var a=e.prototype;return a.normalize=function(o,s,l){var c=t.prototype.normalize.call(this,o);if(s){if(l==="prepend")this.nodes.length>1?s.raws.before=this.nodes[1].raws.before:delete s.raws.before;else if(this.first!==s)for(var u=_create_for_of_iterator_helper_loose(c),h;!(h=u()).done;){var f=h.value;f.raws.before=s.raws.before}}return c},a.removeChild=function(o,s){var l=this.index(o);return!s&&l===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[l].raws.before),t.prototype.removeChild.call(this,o)},a.toResult=function(o){o===void 0&&(o={});var s=new LazyResult$3$1(new Processor$2$1,this,o);return s.stringify()},e})(Container$4$1);Root$5$1.registerLazyResult=function(t){LazyResult$3$1=t};Root$5$1.registerProcessor=function(t){Processor$2$1=t};var root$1=Root$5$1;Root$5$1.default=Root$5$1;Container$4$1.registerRoot(Root$5$1);var list$2$1={comma:function t(e){return list$2$1.split(e,[","],!0)},space:function t(e){var a=[" ",`
`,"	"];return list$2$1.split(e,a)},split:function t(e,a,r){for(var o=[],s="",l=!1,c=0,u=!1,h="",f=!1,m=_create_for_of_iterator_helper_loose(e),g;!(g=m()).done;){var b=g.value;f?f=!1:b==="\\"?f=!0:u?b===h&&(u=!1):b==='"'||b==="'"?(u=!0,h=b):b==="("?c+=1:b===")"?c>0&&(c-=1):c===0&&a.includes(b)&&(l=!0),l?(s!==""&&o.push(s.trim()),s="",l=!1):s+=b}return(r||s!=="")&&o.push(s.trim()),o}},list_1$1=list$2$1;list$2$1.default=list$2$1;var Container$3$1=container$1,list$1$1=list_1$1,Rule$3$1=(function(t){_inherits(e,t);function e(a){var r;return r=t.call(this,a)||this,r.type="rule",r.nodes||(r.nodes=[]),r}return _create_class(e,[{key:"selectors",get:function(){return list$1$1.comma(this.selector)},set:function(r){var o=this.selector?this.selector.match(/,\s*/):null,s=o?o[0]:","+this.raw("between","beforeOpen");this.selector=r.join(s)}}]),e})(Container$3$1),rule$1=Rule$3$1;Rule$3$1.default=Rule$3$1;Container$3$1.registerRule(Rule$3$1);var Declaration$2$1=declaration$1,tokenizer2$1=tokenize$1,Comment$2$1=comment$1,AtRule$2$1=atRule$1,Root$4$1=root$1,Rule$2$1=rule$1,SAFE_COMMENT_NEIGHBOR$1={empty:!0,space:!0};function findLastWithPosition$1(t){for(var e=t.length-1;e>=0;e--){var a=t[e],r=a[3]||a[2];if(r)return r}}var Parser$1$1=(function(){function t(a){this.input=a,this.root=new Root$4$1,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:a,start:{column:1,line:1,offset:0}}}var e=t.prototype;return e.atrule=function(r){var o=new AtRule$2$1;o.name=r[1].slice(1),o.name===""&&this.unnamedAtrule(o,r),this.init(o,r[2]);for(var s,l,c,u=!1,h=!1,f=[],m=[];!this.tokenizer.endOfFile();){if(r=this.tokenizer.nextToken(),s=r[0],s==="("||s==="["?m.push(s==="("?")":"]"):s==="{"&&m.length>0?m.push("}"):s===m[m.length-1]&&m.pop(),m.length===0)if(s===";"){o.source.end=this.getPosition(r[2]),o.source.end.offset++,this.semicolon=!0;break}else if(s==="{"){h=!0;break}else if(s==="}"){if(f.length>0){for(c=f.length-1,l=f[c];l&&l[0]==="space";)l=f[--c];l&&(o.source.end=this.getPosition(l[3]||l[2]),o.source.end.offset++)}this.end(r);break}else f.push(r);else f.push(r);if(this.tokenizer.endOfFile()){u=!0;break}}o.raws.between=this.spacesAndCommentsFromEnd(f),f.length?(o.raws.afterName=this.spacesAndCommentsFromStart(f),this.raw(o,"params",f),u&&(r=f[f.length-1],o.source.end=this.getPosition(r[3]||r[2]),o.source.end.offset++,this.spaces=o.raws.between,o.raws.between="")):(o.raws.afterName="",o.params=""),h&&(o.nodes=[],this.current=o)},e.checkMissedSemicolon=function(r){var o=this.colon(r);if(o!==!1){for(var s=0,l,c=o-1;c>=0&&(l=r[c],!(l[0]!=="space"&&(s+=1,s===2)));c--);throw this.input.error("Missed semicolon",l[0]==="word"?l[3]+1:l[2])}},e.colon=function(r){for(var o=0,s,l,c,u=_create_for_of_iterator_helper_loose(r.entries()),h;!(h=u()).done;){var f=h.value,m=f[0],g=f[1];if(s=g,l=s[0],l==="("&&(o+=1),l===")"&&(o-=1),o===0&&l===":")if(!c)this.doubleColon(s);else{if(c[0]==="word"&&c[1]==="progid")continue;return m}c=s}return!1},e.comment=function(r){var o=new Comment$2$1;this.init(o,r[2]),o.source.end=this.getPosition(r[3]||r[2]),o.source.end.offset++;var s=r[1].slice(2,-2);if(/^\s*$/.test(s))o.text="",o.raws.left=s,o.raws.right="";else{var l=s.match(/^(\s*)([^]*\S)(\s*)$/);o.text=l[2],o.raws.left=l[1],o.raws.right=l[3]}},e.createTokenizer=function(){this.tokenizer=tokenizer2$1(this.input)},e.decl=function(r,o){var s=new Declaration$2$1;this.init(s,r[0][2]);var l=r[r.length-1];for(l[0]===";"&&(this.semicolon=!0,r.pop()),s.source.end=this.getPosition(l[3]||l[2]||findLastWithPosition$1(r)),s.source.end.offset++;r[0][0]!=="word";)r.length===1&&this.unknownWord(r),s.raws.before+=r.shift()[1];for(s.source.start=this.getPosition(r[0][2]),s.prop="";r.length;){var c=r[0][0];if(c===":"||c==="space"||c==="comment")break;s.prop+=r.shift()[1]}s.raws.between="";for(var u;r.length;)if(u=r.shift(),u[0]===":"){s.raws.between+=u[1];break}else u[0]==="word"&&/\w/.test(u[1])&&this.unknownWord([u]),s.raws.between+=u[1];(s.prop[0]==="_"||s.prop[0]==="*")&&(s.raws.before+=s.prop[0],s.prop=s.prop.slice(1));for(var h=[],f;r.length&&(f=r[0][0],!(f!=="space"&&f!=="comment"));)h.push(r.shift());this.precheckMissedSemicolon(r);for(var m=r.length-1;m>=0;m--){if(u=r[m],u[1].toLowerCase()==="!important"){s.important=!0;var g=this.stringFrom(r,m);g=this.spacesFromEnd(r)+g,g!==" !important"&&(s.raws.important=g);break}else if(u[1].toLowerCase()==="important"){for(var b=r.slice(0),w="",E=m;E>0;E--){var C=b[E][0];if(w.trim().indexOf("!")===0&&C!=="space")break;w=b.pop()[1]+w}w.trim().indexOf("!")===0&&(s.important=!0,s.raws.important=w,r=b)}if(u[0]!=="space"&&u[0]!=="comment")break}var B=r.some(function(O){return O[0]!=="space"&&O[0]!=="comment"});B&&(s.raws.between+=h.map(function(O){return O[1]}).join(""),h=[]),this.raw(s,"value",h.concat(r),o),s.value.includes(":")&&!o&&this.checkMissedSemicolon(r)},e.doubleColon=function(r){throw this.input.error("Double colon",{offset:r[2]},{offset:r[2]+r[1].length})},e.emptyRule=function(r){var o=new Rule$2$1;this.init(o,r[2]),o.selector="",o.raws.between="",this.current=o},e.end=function(r){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(r[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(r)},e.endFile=function(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())},e.freeSemicolon=function(r){if(this.spaces+=r[1],this.current.nodes){var o=this.current.nodes[this.current.nodes.length-1];o&&o.type==="rule"&&!o.raws.ownSemicolon&&(o.raws.ownSemicolon=this.spaces,this.spaces="")}},e.getPosition=function(r){var o=this.input.fromOffset(r);return{column:o.col,line:o.line,offset:r}},e.init=function(r,o){this.current.push(r),r.source={input:this.input,start:this.getPosition(o)},r.raws.before=this.spaces,this.spaces="",r.type!=="comment"&&(this.semicolon=!1)},e.other=function(r){for(var o=!1,s=null,l=!1,c=null,u=[],h=r[1].startsWith("--"),f=[],m=r;m;){if(s=m[0],f.push(m),s==="("||s==="[")c||(c=m),u.push(s==="("?")":"]");else if(h&&l&&s==="{")c||(c=m),u.push("}");else if(u.length===0)if(s===";")if(l){this.decl(f,h);return}else break;else if(s==="{"){this.rule(f);return}else if(s==="}"){this.tokenizer.back(f.pop()),o=!0;break}else s===":"&&(l=!0);else s===u[u.length-1]&&(u.pop(),u.length===0&&(c=null));m=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(o=!0),u.length>0&&this.unclosedBracket(c),o&&l){if(!h)for(;f.length&&(m=f[f.length-1][0],!(m!=="space"&&m!=="comment"));)this.tokenizer.back(f.pop());this.decl(f,h)}else this.unknownWord(f)},e.parse=function(){for(var r;!this.tokenizer.endOfFile();)switch(r=this.tokenizer.nextToken(),r[0]){case"space":this.spaces+=r[1];break;case";":this.freeSemicolon(r);break;case"}":this.end(r);break;case"comment":this.comment(r);break;case"at-word":this.atrule(r);break;case"{":this.emptyRule(r);break;default:this.other(r);break}this.endFile()},e.precheckMissedSemicolon=function(){},e.raw=function(r,o,s,l){for(var c,u,h=s.length,f="",m=!0,g,b,w=0;w<h;w+=1)c=s[w],u=c[0],u==="space"&&w===h-1&&!l?m=!1:u==="comment"?(b=s[w-1]?s[w-1][0]:"empty",g=s[w+1]?s[w+1][0]:"empty",!SAFE_COMMENT_NEIGHBOR$1[b]&&!SAFE_COMMENT_NEIGHBOR$1[g]?f.slice(-1)===","?m=!1:f+=c[1]:m=!1):f+=c[1];if(!m){var E=s.reduce(function(C,B){return C+B[1]},"");r.raws[o]={raw:E,value:f}}r[o]=f},e.rule=function(r){r.pop();var o=new Rule$2$1;this.init(o,r[0][2]),o.raws.between=this.spacesAndCommentsFromEnd(r),this.raw(o,"selector",r),this.current=o},e.spacesAndCommentsFromEnd=function(r){for(var o,s="";r.length&&(o=r[r.length-1][0],!(o!=="space"&&o!=="comment"));)s=r.pop()[1]+s;return s},e.spacesAndCommentsFromStart=function(r){for(var o,s="";r.length&&(o=r[0][0],!(o!=="space"&&o!=="comment"));)s+=r.shift()[1];return s},e.spacesFromEnd=function(r){for(var o,s="";r.length&&(o=r[r.length-1][0],o==="space");)s=r.pop()[1]+s;return s},e.stringFrom=function(r,o){for(var s="",l=o;l<r.length;l++)s+=r[l][1];return r.splice(o,r.length-o),s},e.unclosedBlock=function(){var r=this.current.source.start;throw this.input.error("Unclosed block",r.line,r.column)},e.unclosedBracket=function(r){throw this.input.error("Unclosed bracket",{offset:r[2]},{offset:r[2]+1})},e.unexpectedClose=function(r){throw this.input.error("Unexpected }",{offset:r[2]},{offset:r[2]+1})},e.unknownWord=function(r){throw this.input.error("Unknown word",{offset:r[0][2]},{offset:r[0][2]+r[0][1].length})},e.unnamedAtrule=function(r,o){throw this.input.error("At-rule without name",{offset:o[2]},{offset:o[2]+o[1].length})},t})(),parser$1=Parser$1$1,Container$2$1=container$1,Parser2$1=parser$1,Input$2$1=input$1;function parse$3$1(t,e){var a=new Input$2$1(t,e),r=new Parser2$1(a);try{r.parse()}catch(o){throw o}return r.root}var parse_1$1=parse$3$1;parse$3$1.default=parse$3$1;Container$2$1.registerParse(parse$3$1);var isClean$3=symbols$1.isClean,my$3=symbols$1.my,MapGenerator$1$1=mapGenerator$1,stringify$2$1=stringify_1$1,Container$1$1=container$1,Document$2$1=document$1$1,Result$2$1=result$1,parse$2$1=parse_1$1,Root$3$1=root$1,TYPE_TO_CLASS_NAME$1={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},PLUGIN_PROPS$1={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},NOT_VISITORS$1={Once:!0,postcssPlugin:!0,prepare:!0},CHILDREN$1=0;function isPromise$1(t){return(typeof t>"u"?"undefined":_type_of(t))==="object"&&typeof t.then=="function"}function getEvents$1(t){var e=!1,a=TYPE_TO_CLASS_NAME$1[t.type];return t.type==="decl"?e=t.prop.toLowerCase():t.type==="atrule"&&(e=t.name.toLowerCase()),e&&t.append?[a,a+"-"+e,CHILDREN$1,a+"Exit",a+"Exit-"+e]:e?[a,a+"-"+e,a+"Exit",a+"Exit-"+e]:t.append?[a,CHILDREN$1,a+"Exit"]:[a,a+"Exit"]}function toStack$1(t){var e;return t.type==="document"?e=["Document",CHILDREN$1,"DocumentExit"]:t.type==="root"?e=["Root",CHILDREN$1,"RootExit"]:e=getEvents$1(t),{eventIndex:0,events:e,iterator:0,node:t,visitorIndex:0,visitors:[]}}function cleanMarks$1(t){return t[isClean$3]=!1,t.nodes&&t.nodes.forEach(function(e){return cleanMarks$1(e)}),t}var postcss$2$1={},LazyResult$2$1=(function(){function t(a,r,o){var s=this;this.stringified=!1,this.processed=!1;var l;if((typeof r>"u"?"undefined":_type_of(r))==="object"&&r!==null&&(r.type==="root"||r.type==="document"))l=cleanMarks$1(r);else if(_instanceof(r,t)||_instanceof(r,Result$2$1))l=cleanMarks$1(r.root),r.map&&(typeof o.map>"u"&&(o.map={}),o.map.inline||(o.map.inline=!1),o.map.prev=r.map);else{var c=parse$2$1;o.syntax&&(c=o.syntax.parse),o.parser&&(c=o.parser),c.parse&&(c=c.parse);try{l=c(r,o)}catch(u){this.processed=!0,this.error=u}l&&!l[my$3]&&Container$1$1.rebuild(l)}this.result=new Result$2$1(a,l,o),this.helpers=_extends({},postcss$2$1,{postcss:postcss$2$1,result:this.result}),this.plugins=this.processor.plugins.map(function(u){return(typeof u>"u"?"undefined":_type_of(u))==="object"&&u.prepare?_extends({},u,u.prepare(s.result)):u})}var e=t.prototype;return e.async=function(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)},e.catch=function(r){return this.async().catch(r)},e.finally=function(r){return this.async().then(r,r)},e.getAsyncError=function(){throw new Error("Use process(css).then(cb) to work with async plugins")},e.handleError=function(r,o){var s=this.result.lastPlugin;try{if(o&&o.addToError(r),this.error=r,r.name==="CssSyntaxError"&&!r.plugin)r.plugin=s.postcssPlugin,r.setMessage();else if(s.postcssVersion)var l,c,u,h,f}catch(m){console&&console.error&&console.error(m)}return r},e.prepareVisitors=function(){var r=this;this.listeners={};for(var o=function(f,m,g){r.listeners[m]||(r.listeners[m]=[]),r.listeners[m].push([f,g])},s=_create_for_of_iterator_helper_loose(this.plugins),l;!(l=s()).done;){var c=l.value;if((typeof c>"u"?"undefined":_type_of(c))==="object")for(var u in c){if(!PLUGIN_PROPS$1[u]&&/^[A-Z]/.test(u))throw new Error("Unknown event "+u+" in "+c.postcssPlugin+". Try to update PostCSS ("+this.processor.version+" now).");if(!NOT_VISITORS$1[u])if(_type_of(c[u])==="object")for(var h in c[u])h==="*"?o(c,u,c[u][h]):o(c,u+"-"+h.toLowerCase(),c[u][h]);else typeof c[u]=="function"&&o(c,u,c[u])}}this.hasListener=Object.keys(this.listeners).length>0},e.runAsync=function(){var r=this;return _async_to_generator(function(){var o,s,l,c,u,h,f,m,g,b,w,E;return _ts_generator(this,function(C){switch(C.label){case 0:r.plugin=0,o=0,C.label=1;case 1:if(!(o<r.plugins.length))return[3,6];if(s=r.plugins[o],l=r.runOnRoot(s),!isPromise$1(l))return[3,5];C.label=2;case 2:return C.trys.push([2,4,,5]),[4,l];case 3:return C.sent(),[3,5];case 4:throw c=C.sent(),r.handleError(c);case 5:return o++,[3,1];case 6:if(r.prepareVisitors(),!r.hasListener)return[3,18];u=r.result.root,C.label=7;case 7:if(u[isClean$3])return[3,14];u[isClean$3]=!0,h=[toStack$1(u)],C.label=8;case 8:if(!(h.length>0))return[3,13];if(f=r.visitTick(h),!isPromise$1(f))return[3,12];C.label=9;case 9:return C.trys.push([9,11,,12]),[4,f];case 10:return C.sent(),[3,12];case 11:throw m=C.sent(),g=h[h.length-1].node,r.handleError(m,g);case 12:return[3,8];case 13:return[3,7];case 14:if(!r.listeners.OnceExit)return[3,18];b=function(){var B,O,P,q,z;return _ts_generator(this,function(V){switch(V.label){case 0:B=E.value,O=B[0],P=B[1],r.result.lastPlugin=O,V.label=1;case 1:return V.trys.push([1,6,,7]),u.type!=="document"?[3,3]:(q=u.nodes.map(function(Z){return P(Z,r.helpers)}),[4,Promise.all(q)]);case 2:return V.sent(),[3,5];case 3:return[4,P(u,r.helpers)];case 4:V.sent(),V.label=5;case 5:return[3,7];case 6:throw z=V.sent(),r.handleError(z);case 7:return[2]}})},w=_create_for_of_iterator_helper_loose(r.listeners.OnceExit),C.label=15;case 15:return(E=w()).done?[3,18]:[5,_ts_values(b())];case 16:C.sent(),C.label=17;case 17:return[3,15];case 18:return r.processed=!0,[2,r.stringify()]}})})()},e.runOnRoot=function(r){var o=this;this.result.lastPlugin=r;try{if((typeof r>"u"?"undefined":_type_of(r))==="object"&&r.Once){if(this.result.root.type==="document"){var s=this.result.root.nodes.map(function(l){return r.Once(l,o.helpers)});return isPromise$1(s[0])?Promise.all(s):s}return r.Once(this.result.root,this.helpers)}else if(typeof r=="function")return r(this.result.root,this.result)}catch(l){throw this.handleError(l)}},e.stringify=function(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();var r=this.result.opts,o=stringify$2$1;r.syntax&&(o=r.syntax.stringify),r.stringifier&&(o=r.stringifier),o.stringify&&(o=o.stringify);var s=new MapGenerator$1$1(o,this.result.root,this.result.opts),l=s.generate();return this.result.css=l[0],this.result.map=l[1],this.result},e.sync=function(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(var r=_create_for_of_iterator_helper_loose(this.plugins),o;!(o=r()).done;){var s=o.value,l=this.runOnRoot(s);if(isPromise$1(l))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){for(var c=this.result.root;!c[isClean$3];)c[isClean$3]=!0,this.walkSync(c);if(this.listeners.OnceExit)if(c.type==="document")for(var u=_create_for_of_iterator_helper_loose(c.nodes),h;!(h=u()).done;){var f=h.value;this.visitSync(this.listeners.OnceExit,f)}else this.visitSync(this.listeners.OnceExit,c)}return this.result},e.then=function(r,o){return this.async().then(r,o)},e.toString=function(){return this.css},e.visitSync=function(r,o){for(var s=_create_for_of_iterator_helper_loose(r),l;!(l=s()).done;){var c=l.value,u=c[0],h=c[1];this.result.lastPlugin=u;var f=void 0;try{f=h(o,this.helpers)}catch(m){throw this.handleError(m,o.proxyOf)}if(o.type!=="root"&&o.type!=="document"&&!o.parent)return!0;if(isPromise$1(f))throw this.getAsyncError()}},e.visitTick=function(r){var o=r[r.length-1],s=o.node,l=o.visitors;if(s.type!=="root"&&s.type!=="document"&&!s.parent){r.pop();return}if(l.length>0&&o.visitorIndex<l.length){var c=l[o.visitorIndex],u=c[0],h=c[1];o.visitorIndex+=1,o.visitorIndex===l.length&&(o.visitors=[],o.visitorIndex=0),this.result.lastPlugin=u;try{return h(s.toProxy(),this.helpers)}catch(w){throw this.handleError(w,s)}}if(o.iterator!==0){for(var f=o.iterator,m;m=s.nodes[s.indexes[f]];)if(s.indexes[f]+=1,!m[isClean$3]){m[isClean$3]=!0,r.push(toStack$1(m));return}o.iterator=0,delete s.indexes[f]}for(var g=o.events;o.eventIndex<g.length;){var b=g[o.eventIndex];if(o.eventIndex+=1,b===CHILDREN$1){s.nodes&&s.nodes.length&&(s[isClean$3]=!0,o.iterator=s.getIterator());return}else if(this.listeners[b]){o.visitors=this.listeners[b];return}}r.pop()},e.walkSync=function(r){var o=this;r[isClean$3]=!0;for(var s=getEvents$1(r),l=_create_for_of_iterator_helper_loose(s),c;!(c=l()).done;){var u=c.value;if(u===CHILDREN$1)r.nodes&&r.each(function(f){f[isClean$3]||o.walkSync(f)});else{var h=this.listeners[u];if(h&&this.visitSync(h,r.toProxy()))return}}},e.warnings=function(){return this.sync().warnings()},_create_class(t,[{key:"content",get:function(){return this.stringify().content}},{key:"css",get:function(){return this.stringify().css}},{key:"map",get:function(){return this.stringify().map}},{key:"messages",get:function(){return this.sync().messages}},{key:"opts",get:function(){return this.result.opts}},{key:"processor",get:function(){return this.result.processor}},{key:"root",get:function(){return this.sync().root}},{key:Symbol.toStringTag,get:function(){return"LazyResult"}}]),t})();LazyResult$2$1.registerPostcss=function(t){postcss$2$1=t};var lazyResult$1=LazyResult$2$1;LazyResult$2$1.default=LazyResult$2$1;Root$3$1.registerLazyResult(LazyResult$2$1);Document$2$1.registerLazyResult(LazyResult$2$1);var MapGenerator2$1=mapGenerator$1,stringify$1$1=stringify_1$1,parse$1$1=parse_1$1,Result$1$1=result$1,NoWorkResult$1$1=(function(){function t(a,r,o){r=r.toString(),this.stringified=!1,this._processor=a,this._css=r,this._opts=o,this._map=void 0;var s,l=stringify$1$1;this.result=new Result$1$1(this._processor,s,this._opts),this.result.css=r;var c=this;Object.defineProperty(this.result,"root",{get:function(){return c.root}});var u=new MapGenerator2$1(l,s,this._opts,r);if(u.isMap()){var h=u.generate(),f=h[0],m=h[1];f&&(this.result.css=f),m&&(this.result.map=m)}else u.clearAnnotation(),this.result.css=u.css}var e=t.prototype;return e.async=function(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)},e.catch=function(r){return this.async().catch(r)},e.finally=function(r){return this.async().then(r,r)},e.sync=function(){if(this.error)throw this.error;return this.result},e.then=function(r,o){return this.async().then(r,o)},e.toString=function(){return this._css},e.warnings=function(){return[]},_create_class(t,[{key:"content",get:function(){return this.result.css}},{key:"css",get:function(){return this.result.css}},{key:"map",get:function(){return this.result.map}},{key:"messages",get:function(){return[]}},{key:"opts",get:function(){return this.result.opts}},{key:"processor",get:function(){return this.result.processor}},{key:"root",get:function(){if(this._root)return this._root;var r,o=parse$1$1;try{r=o(this._css,this._opts)}catch(s){this.error=s}if(this.error)throw this.error;return this._root=r,r}},{key:Symbol.toStringTag,get:function(){return"NoWorkResult"}}]),t})(),noWorkResult$1=NoWorkResult$1$1;NoWorkResult$1$1.default=NoWorkResult$1$1;var NoWorkResult2$1=noWorkResult$1,LazyResult$1$1=lazyResult$1,Document$1$1=document$1$1,Root$2$1=root$1,Processor$1$1=(function(){function t(a){a===void 0&&(a=[]),this.version="8.4.38",this.plugins=this.normalize(a)}var e=t.prototype;return e.normalize=function(r){for(var o=[],s=_create_for_of_iterator_helper_loose(r),l;!(l=s()).done;){var c=l.value;if(c.postcss===!0?c=c():c.postcss&&(c=c.postcss),(typeof c>"u"?"undefined":_type_of(c))==="object"&&Array.isArray(c.plugins))o=o.concat(c.plugins);else if((typeof c>"u"?"undefined":_type_of(c))==="object"&&c.postcssPlugin)o.push(c);else if(typeof c=="function")o.push(c);else if(!((typeof c>"u"?"undefined":_type_of(c))==="object"&&(c.parse||c.stringify)))throw new Error(c+" is not a PostCSS plugin")}return o},e.process=function(r,o){return o===void 0&&(o={}),!this.plugins.length&&!o.parser&&!o.stringifier&&!o.syntax?new NoWorkResult2$1(this,r,o):new LazyResult$1$1(this,r,o)},e.use=function(r){return this.plugins=this.plugins.concat(this.normalize([r])),this},t})(),processor$1=Processor$1$1;Processor$1$1.default=Processor$1$1;Root$2$1.registerProcessor(Processor$1$1);Document$1$1.registerProcessor(Processor$1$1);var Declaration$1$1=declaration$1,PreviousMap2$1=previousMap$1,Comment$1$1=comment$1,AtRule$1$1=atRule$1,Input$1$1=input$1,Root$1$1=root$1,Rule$1$1=rule$1;function fromJSON$1$1(t,e){if(Array.isArray(t))return t.map(function(m){return fromJSON$1$1(m)});var a=t.inputs,r=_object_without_properties_loose(t,["inputs"]);if(a){e=[];for(var o=_create_for_of_iterator_helper_loose(a),s;!(s=o()).done;){var l=s.value,c=_extends({},l,{__proto__:Input$1$1.prototype});c.map&&(c.map=_extends({},c.map,{__proto__:PreviousMap2$1.prototype})),e.push(c)}}if(r.nodes&&(r.nodes=t.nodes.map(function(m){return fromJSON$1$1(m,e)})),r.source){var u=r.source,h=u.inputId,f=_object_without_properties_loose(u,["inputId"]);r.source=f,h!=null&&(r.source.input=e[h])}if(r.type==="root")return new Root$1$1(r);if(r.type==="decl")return new Declaration$1$1(r);if(r.type==="rule")return new Rule$1$1(r);if(r.type==="comment")return new Comment$1$1(r);if(r.type==="atrule")return new AtRule$1$1(r);throw new Error("Unknown node type: "+t.type)}var fromJSON_1$1=fromJSON$1$1;fromJSON$1$1.default=fromJSON$1$1;var CssSyntaxError2$1=cssSyntaxError$1,Declaration2$1=declaration$1,LazyResult2$1=lazyResult$1,Container2$1=container$1,Processor2$1=processor$1,stringify$5=stringify_1$1,fromJSON$2=fromJSON_1$1,Document22=document$1$1,Warning2$1=warning$1,Comment2$1=comment$1,AtRule2$1=atRule$1,Result2$1=result$1,Input2$1=input$1,parse$5=parse_1$1,list$3=list_1$1,Rule2$1=rule$1,Root2$1=root$1,Node2$1=node$1;function postcss$3(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];return e.length===1&&Array.isArray(e[0])&&(e=e[0]),new Processor2$1(e)}postcss$3.plugin=function t(e,a){var r=!1;function o(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];console&&console.warn&&!r&&(r=!0,console.warn(e+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),define_process_env_default.LANG&&define_process_env_default.LANG.startsWith("cn")&&console.warn(e+`:  postcss.plugin . :
https://www.w3ctech.com/topic/2226`));var h=a.apply(void 0,[].concat(c));return h.postcssPlugin=e,h.postcssVersion=new Processor2$1().version,h}var s;return Object.defineProperty(o,"postcss",{get:function(){return s||(s=o()),s}}),o.process=function(l,c,u){return postcss$3([o(u)]).process(l,c)},o};postcss$3.stringify=stringify$5;postcss$3.parse=parse$5;postcss$3.fromJSON=fromJSON$2;postcss$3.list=list$3;postcss$3.comment=function(t){return new Comment2$1(t)};postcss$3.atRule=function(t){return new AtRule2$1(t)};postcss$3.decl=function(t){return new Declaration2$1(t)};postcss$3.rule=function(t){return new Rule2$1(t)};postcss$3.root=function(t){return new Root2$1(t)};postcss$3.document=function(t){return new Document22(t)};postcss$3.CssSyntaxError=CssSyntaxError2$1;postcss$3.Declaration=Declaration2$1;postcss$3.Container=Container2$1;postcss$3.Processor=Processor2$1;postcss$3.Document=Document22;postcss$3.Comment=Comment2$1;postcss$3.Warning=Warning2$1;postcss$3.AtRule=AtRule2$1;postcss$3.Result=Result2$1;postcss$3.Input=Input2$1;postcss$3.Rule=Rule2$1;postcss$3.Root=Root2$1;postcss$3.Node=Node2$1;LazyResult2$1.registerPostcss(postcss$3);var postcss_1$1=postcss$3;postcss$3.default=postcss$3;var postcss$1$1=getDefaultExportFromCjs$1(postcss_1$1);postcss$1$1.stringify;postcss$1$1.fromJSON;postcss$1$1.plugin;postcss$1$1.parse;postcss$1$1.list;postcss$1$1.document;postcss$1$1.comment;postcss$1$1.atRule;postcss$1$1.rule;postcss$1$1.decl;postcss$1$1.root;postcss$1$1.CssSyntaxError;postcss$1$1.Declaration;postcss$1$1.Container;postcss$1$1.Processor;postcss$1$1.Document;postcss$1$1.Comment;postcss$1$1.Warning;postcss$1$1.AtRule;postcss$1$1.Result;postcss$1$1.Input;postcss$1$1.Rule;postcss$1$1.Root;postcss$1$1.Node;var __defProp2=Object.defineProperty,__defNormalProp2=function(t,e,a){return e in t?__defProp2(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a},__publicField2=function(t,e,a){return __defNormalProp2(t,(typeof e>"u"?"undefined":_type_of(e))!=="symbol"?e+"":e,a)};function getDefaultExportFromCjs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function getAugmentedNamespace(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var a=function r(){return _instanceof(this,r)?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};a.prototype=e.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var o=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(a,r,o.get?o:{enumerable:!0,get:function(){return t[r]}})}),a}var picocolors_browser={exports:{}},x=String,create=function t(){return{isColorSupported:!1,reset:x,bold:x,dim:x,italic:x,underline:x,inverse:x,hidden:x,strikethrough:x,black:x,red:x,green:x,yellow:x,blue:x,magenta:x,cyan:x,white:x,gray:x,bgBlack:x,bgRed:x,bgGreen:x,bgYellow:x,bgBlue:x,bgMagenta:x,bgCyan:x,bgWhite:x}};picocolors_browser.exports=create();picocolors_browser.exports.createColors=create;var picocolors_browserExports=picocolors_browser.exports,__viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$2=getAugmentedNamespace(__viteBrowserExternal$1),pico=picocolors_browserExports,terminalHighlight$1=require$$2,CssSyntaxError$3=(function(t){_inherits(e,t);function e(r,o,s,l,c,u){var h;return h=t.call(this,r)||this,h.name="CssSyntaxError",h.reason=r,c&&(h.file=c),l&&(h.source=l),u&&(h.plugin=u),typeof o<"u"&&typeof s<"u"&&(typeof o=="number"?(h.line=o,h.column=s):(h.line=o.line,h.column=o.column,h.endLine=s.line,h.endColumn=s.column)),h.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(h,e),h}var a=e.prototype;return a.setMessage=function(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>",typeof this.line<"u"&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason},a.showSourceCode=function(o){var s=this;if(!this.source)return"";var l=this.source;o==null&&(o=pico.isColorSupported),terminalHighlight$1&&o&&(l=terminalHighlight$1(l));var c=l.split(/\r?\n/),u=Math.max(this.line-3,0),h=Math.min(this.line+2,c.length),f=String(h).length,m,g;if(o){var b=pico.createColors(!0),w=b.bold,E=b.gray,C=b.red;m=function(B){return w(C(B))},g=function(B){return E(B)}}else m=g=function(B){return B};return c.slice(u,h).map(function(B,O){var P=u+1+O,q=" "+(" "+P).slice(-f)+" | ";if(P===s.line){var z=g(q.replace(/\d/g," "))+B.slice(0,s.column-1).replace(/[^\t]/g," ");return m(">")+g(q)+B+`
 `+z+m("^")}return" "+g(q)+B}).join(`
`)},a.toString=function(){var o=this.showSourceCode();return o&&(o=`

`+o+`
`),this.name+": "+this.message+o},e})(_wrap_native_super(Error)),cssSyntaxError=CssSyntaxError$3;CssSyntaxError$3.default=CssSyntaxError$3;var symbols={};symbols.isClean=Symbol("isClean");symbols.my=Symbol("my");var DEFAULT_RAW={after:`
`,beforeClose:`
`,beforeComment:`
`,beforeDecl:`
`,beforeOpen:" ",beforeRule:`
`,colon:": ",commentLeft:" ",commentRight:" ",emptyBody:"",indent:"    ",semicolon:!1};function capitalize(t){return t[0].toUpperCase()+t.slice(1)}var Stringifier$2=(function(){function t(a){this.builder=a}var e=t.prototype;return e.atrule=function(r,o){var s="@"+r.name,l=r.params?this.rawValue(r,"params"):"";if(typeof r.raws.afterName<"u"?s+=r.raws.afterName:l&&(s+=" "),r.nodes)this.block(r,s+l);else{var c=(r.raws.between||"")+(o?";":"");this.builder(s+l+c,r)}},e.beforeAfter=function(r,o){var s;r.type==="decl"?s=this.raw(r,null,"beforeDecl"):r.type==="comment"?s=this.raw(r,null,"beforeComment"):o==="before"?s=this.raw(r,null,"beforeRule"):s=this.raw(r,null,"beforeClose");for(var l=r.parent,c=0;l&&l.type!=="root";)c+=1,l=l.parent;if(s.includes(`
`)){var u=this.raw(r,null,"indent");if(u.length)for(var h=0;h<c;h++)s+=u}return s},e.block=function(r,o){var s=this.raw(r,"between","beforeOpen");this.builder(o+s+"{",r,"start");var l;r.nodes&&r.nodes.length?(this.body(r),l=this.raw(r,"after")):l=this.raw(r,"after","emptyBody"),l&&this.builder(l),this.builder("}",r,"end")},e.body=function(r){for(var o=r.nodes.length-1;o>0&&r.nodes[o].type==="comment";)o-=1;for(var s=this.raw(r,"semicolon"),l=0;l<r.nodes.length;l++){var c=r.nodes[l],u=this.raw(c,"before");u&&this.builder(u),this.stringify(c,o!==l||s)}},e.comment=function(r){var o=this.raw(r,"left","commentLeft"),s=this.raw(r,"right","commentRight");this.builder("/*"+o+r.text+s+"*/",r)},e.decl=function(r,o){var s=this.raw(r,"between","colon"),l=r.prop+s+this.rawValue(r,"value");r.important&&(l+=r.raws.important||" !important"),o&&(l+=";"),this.builder(l,r)},e.document=function(r){this.body(r)},e.raw=function(r,o,s){var l;if(s||(s=o),o&&(l=r.raws[o],typeof l<"u"))return l;var c=r.parent;if(s==="before"&&(!c||c.type==="root"&&c.first===r||c&&c.type==="document"))return"";if(!c)return DEFAULT_RAW[s];var u=r.root();if(u.rawCache||(u.rawCache={}),typeof u.rawCache[s]<"u")return u.rawCache[s];if(s==="before"||s==="after")return this.beforeAfter(r,s);var h="raw"+capitalize(s);return this[h]?l=this[h](u,r):u.walk(function(f){if(l=f.raws[o],typeof l<"u")return!1}),typeof l>"u"&&(l=DEFAULT_RAW[s]),u.rawCache[s]=l,l},e.rawBeforeClose=function(r){var o;return r.walk(function(s){if(s.nodes&&s.nodes.length>0&&typeof s.raws.after<"u")return o=s.raws.after,o.includes(`
`)&&(o=o.replace(/[^\n]+$/,"")),!1}),o&&(o=o.replace(/\S/g,"")),o},e.rawBeforeComment=function(r,o){var s;return r.walkComments(function(l){if(typeof l.raws.before<"u")return s=l.raws.before,s.includes(`
`)&&(s=s.replace(/[^\n]+$/,"")),!1}),typeof s>"u"?s=this.raw(o,null,"beforeDecl"):s&&(s=s.replace(/\S/g,"")),s},e.rawBeforeDecl=function(r,o){var s;return r.walkDecls(function(l){if(typeof l.raws.before<"u")return s=l.raws.before,s.includes(`
`)&&(s=s.replace(/[^\n]+$/,"")),!1}),typeof s>"u"?s=this.raw(o,null,"beforeRule"):s&&(s=s.replace(/\S/g,"")),s},e.rawBeforeOpen=function(r){var o;return r.walk(function(s){if(s.type!=="decl"&&(o=s.raws.between,typeof o<"u"))return!1}),o},e.rawBeforeRule=function(r){var o;return r.walk(function(s){if(s.nodes&&(s.parent!==r||r.first!==s)&&typeof s.raws.before<"u")return o=s.raws.before,o.includes(`
`)&&(o=o.replace(/[^\n]+$/,"")),!1}),o&&(o=o.replace(/\S/g,"")),o},e.rawColon=function(r){var o;return r.walkDecls(function(s){if(typeof s.raws.between<"u")return o=s.raws.between.replace(/[^\s:]/g,""),!1}),o},e.rawEmptyBody=function(r){var o;return r.walk(function(s){if(s.nodes&&s.nodes.length===0&&(o=s.raws.after,typeof o<"u"))return!1}),o},e.rawIndent=function(r){if(r.raws.indent)return r.raws.indent;var o;return r.walk(function(s){var l=s.parent;if(l&&l!==r&&l.parent&&l.parent===r&&typeof s.raws.before<"u"){var c=s.raws.before.split(`
`);return o=c[c.length-1],o=o.replace(/\S/g,""),!1}}),o},e.rawSemicolon=function(r){var o;return r.walk(function(s){if(s.nodes&&s.nodes.length&&s.last.type==="decl"&&(o=s.raws.semicolon,typeof o<"u"))return!1}),o},e.rawValue=function(r,o){var s=r[o],l=r.raws[o];return l&&l.value===s?l.raw:s},e.root=function(r){this.body(r),r.raws.after&&this.builder(r.raws.after)},e.rule=function(r){this.block(r,this.rawValue(r,"selector")),r.raws.ownSemicolon&&this.builder(r.raws.ownSemicolon,r,"end")},e.stringify=function(r,o){if(!this[r.type])throw new Error("Unknown AST node type "+r.type+". Maybe you need to change PostCSS stringifier.");this[r.type](r,o)},t})(),stringifier=Stringifier$2;Stringifier$2.default=Stringifier$2;var Stringifier$1=stringifier;function stringify$4(t,e){var a=new Stringifier$1(e);a.stringify(t)}var stringify_1=stringify$4;stringify$4.default=stringify$4;var isClean$2=symbols.isClean,my$2=symbols.my,CssSyntaxError$2=cssSyntaxError,Stringifier22=stringifier,stringify$3=stringify_1;function cloneNode(t,e){var a=new t.constructor;for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&r!=="proxyCache"){var o=t[r],s=typeof o>"u"?"undefined":_type_of(o);r==="parent"&&s==="object"?e&&(a[r]=e):r==="source"?a[r]=o:Array.isArray(o)?a[r]=o.map(function(l){return cloneNode(l,a)}):(s==="object"&&o!==null&&(o=cloneNode(o)),a[r]=o)}return a}var Node$4=(function(){function t(a){a===void 0&&(a={}),this.raws={},this[isClean$2]=!1,this[my$2]=!0;for(var r in a)if(r==="nodes"){this.nodes=[];for(var o=_create_for_of_iterator_helper_loose(a[r]),s;!(s=o()).done;){var l=s.value;typeof l.clone=="function"?this.append(l.clone()):this.append(l)}}else this[r]=a[r]}var e=t.prototype;return e.addToError=function(r){if(r.postcssNode=this,r.stack&&this.source&&/\n\s{4}at /.test(r.stack)){var o=this.source;r.stack=r.stack.replace(/\n\s{4}at /,"$&"+o.input.from+":"+o.start.line+":"+o.start.column+"$&")}return r},e.after=function(r){return this.parent.insertAfter(this,r),this},e.assign=function(r){r===void 0&&(r={});for(var o in r)this[o]=r[o];return this},e.before=function(r){return this.parent.insertBefore(this,r),this},e.cleanRaws=function(r){delete this.raws.before,delete this.raws.after,r||delete this.raws.between},e.clone=function(r){r===void 0&&(r={});var o=cloneNode(this);for(var s in r)o[s]=r[s];return o},e.cloneAfter=function(r){r===void 0&&(r={});var o=this.clone(r);return this.parent.insertAfter(this,o),o},e.cloneBefore=function(r){r===void 0&&(r={});var o=this.clone(r);return this.parent.insertBefore(this,o),o},e.error=function(r,o){if(o===void 0&&(o={}),this.source){var s=this.rangeBy(o),l=s.end,c=s.start;return this.source.input.error(r,{column:c.column,line:c.line},{column:l.column,line:l.line},o)}return new CssSyntaxError$2(r)},e.getProxyProcessor=function(){return{get:function(o,s){return s==="proxyOf"?o:s==="root"?function(){return o.root().toProxy()}:o[s]},set:function(o,s,l){return o[s]===l||(o[s]=l,(s==="prop"||s==="value"||s==="name"||s==="params"||s==="important"||s==="text")&&o.markDirty()),!0}}},e.markDirty=function(){if(this[isClean$2]){this[isClean$2]=!1;for(var r=this;r=r.parent;)r[isClean$2]=!1}},e.next=function(){if(this.parent){var r=this.parent.index(this);return this.parent.nodes[r+1]}},e.positionBy=function(r,o){var s=this.source.start;if(r.index)s=this.positionInside(r.index,o);else if(r.word){o=this.toString();var l=o.indexOf(r.word);l!==-1&&(s=this.positionInside(l,o))}return s},e.positionInside=function(r,o){for(var s=o||this.toString(),l=this.source.start.column,c=this.source.start.line,u=0;u<r;u++)s[u]===`
`?(l=1,c+=1):l+=1;return{column:l,line:c}},e.prev=function(){if(this.parent){var r=this.parent.index(this);return this.parent.nodes[r-1]}},e.rangeBy=function(r){var o={column:this.source.start.column,line:this.source.start.line},s=this.source.end?{column:this.source.end.column+1,line:this.source.end.line}:{column:o.column+1,line:o.line};if(r.word){var l=this.toString(),c=l.indexOf(r.word);c!==-1&&(o=this.positionInside(c,l),s=this.positionInside(c+r.word.length,l))}else r.start?o={column:r.start.column,line:r.start.line}:r.index&&(o=this.positionInside(r.index)),r.end?s={column:r.end.column,line:r.end.line}:typeof r.endIndex=="number"?s=this.positionInside(r.endIndex):r.index&&(s=this.positionInside(r.index+1));return(s.line<o.line||s.line===o.line&&s.column<=o.column)&&(s={column:o.column+1,line:o.line}),{end:s,start:o}},e.raw=function(r,o){var s=new Stringifier22;return s.raw(this,r,o)},e.remove=function(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this},e.replaceWith=function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];if(this.parent){for(var l=this,c=!1,u=_create_for_of_iterator_helper_loose(o),h;!(h=u()).done;){var f=h.value;f===this?c=!0:c?(this.parent.insertAfter(l,f),l=f):this.parent.insertBefore(l,f)}c||this.remove()}return this},e.root=function(){for(var r=this;r.parent&&r.parent.type!=="document";)r=r.parent;return r},e.toJSON=function(r,o){var s={},l=o==null;o=o||new Map;var c=0;for(var u in this)if(Object.prototype.hasOwnProperty.call(this,u)&&!(u==="parent"||u==="proxyCache")){var h=this[u];if(Array.isArray(h))s[u]=h.map(function(m){return(typeof m>"u"?"undefined":_type_of(m))==="object"&&m.toJSON?m.toJSON(null,o):m});else if((typeof h>"u"?"undefined":_type_of(h))==="object"&&h.toJSON)s[u]=h.toJSON(null,o);else if(u==="source"){var f=o.get(h.input);f==null&&(f=c,o.set(h.input,c),c++),s[u]={end:h.end,inputId:f,start:h.start}}else s[u]=h}return l&&(s.inputs=[].concat(o.keys()).map(function(m){return m.toJSON()})),s},e.toProxy=function(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache},e.toString=function(r){r===void 0&&(r=stringify$3),r.stringify&&(r=r.stringify);var o="";return r(this,function(s){o+=s}),o},e.warn=function(r,o,s){var l={node:this};for(var c in s)l[c]=s[c];return r.warn(o,l)},_create_class(t,[{key:"proxyOf",get:function(){return this}}]),t})(),node=Node$4;Node$4.default=Node$4;var Node$3=node,Declaration$4=(function(t){_inherits(e,t);function e(a){var r;return a&&typeof a.value<"u"&&typeof a.value!="string"&&(a=_extends({},a,{value:String(a.value)})),r=t.call(this,a)||this,r.type="decl",r}return _create_class(e,[{key:"variable",get:function(){return this.prop.startsWith("--")||this.prop[0]==="$"}}]),e})(Node$3),declaration=Declaration$4;Declaration$4.default=Declaration$4;var urlAlphabet="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",nanoid$1=function(t){t===void 0&&(t=21);for(var e="",a=t;a--;)e+=urlAlphabet[Math.random()*64|0];return e},nonSecure={nanoid:nanoid$1},SourceMapConsumer$2=require$$2.SourceMapConsumer,SourceMapGenerator$2=require$$2.SourceMapGenerator,existsSync=require$$2.existsSync,readFileSync=require$$2.readFileSync,dirname$1=require$$2.dirname,join=require$$2.join;function fromBase64(t){return Buffer?Buffer.from(t,"base64").toString():window.atob(t)}var PreviousMap$2=(function(){function t(a,r){if(r.map!==!1){this.loadAnnotation(a),this.inline=this.startWith(this.annotation,"data:");var o=r.map?r.map.prev:void 0,s=this.loadMap(r.from,o);!this.mapFile&&r.from&&(this.mapFile=r.from),this.mapFile&&(this.root=dirname$1(this.mapFile)),s&&(this.text=s)}}var e=t.prototype;return e.consumer=function(){return this.consumerCache||(this.consumerCache=new SourceMapConsumer$2(this.text)),this.consumerCache},e.decodeInline=function(r){var o=/^data:application\/json;charset=utf-?8;base64,/,s=/^data:application\/json;base64,/,l=/^data:application\/json;charset=utf-?8,/,c=/^data:application\/json,/;if(l.test(r)||c.test(r))return decodeURIComponent(r.substr(RegExp.lastMatch.length));if(o.test(r)||s.test(r))return fromBase64(r.substr(RegExp.lastMatch.length));var u=r.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+u)},e.getAnnotationURL=function(r){return r.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()},e.isMap=function(r){return(typeof r>"u"?"undefined":_type_of(r))!=="object"?!1:typeof r.mappings=="string"||typeof r._mappings=="string"||Array.isArray(r.sections)},e.loadAnnotation=function(r){var o=r.match(/\/\*\s*# sourceMappingURL=/gm);if(o){var s=r.lastIndexOf(o.pop()),l=r.indexOf("*/",s);s>-1&&l>-1&&(this.annotation=this.getAnnotationURL(r.substring(s,l)))}},e.loadFile=function(r){if(this.root=dirname$1(r),existsSync(r))return this.mapFile=r,readFileSync(r,"utf-8").toString().trim()},e.loadMap=function(r,o){if(o===!1)return!1;if(o){if(typeof o=="string")return o;if(typeof o=="function"){var s=o(r);if(s){var l=this.loadFile(s);if(!l)throw new Error("Unable to load previous source map: "+s.toString());return l}}else{if(_instanceof(o,SourceMapConsumer$2))return SourceMapGenerator$2.fromSourceMap(o).toString();if(_instanceof(o,SourceMapGenerator$2))return o.toString();if(this.isMap(o))return JSON.stringify(o);throw new Error("Unsupported previous source map format: "+o.toString())}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){var c=this.annotation;return r&&(c=join(dirname$1(r),c)),this.loadFile(c)}}},e.startWith=function(r,o){return r?r.substr(0,o.length)===o:!1},e.withContent=function(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)},t})(),previousMap=PreviousMap$2;PreviousMap$2.default=PreviousMap$2;var SourceMapConsumer$1=require$$2.SourceMapConsumer,SourceMapGenerator$1=require$$2.SourceMapGenerator,fileURLToPath=require$$2.fileURLToPath,pathToFileURL$1=require$$2.pathToFileURL,isAbsolute=require$$2.isAbsolute,resolve$1=require$$2.resolve,nanoid=nonSecure.nanoid,terminalHighlight=require$$2,CssSyntaxError$1=cssSyntaxError,PreviousMap$1=previousMap,fromOffsetCache=Symbol("fromOffsetCache"),sourceMapAvailable$1=!!(SourceMapConsumer$1&&SourceMapGenerator$1),pathAvailable$1=!!(resolve$1&&isAbsolute),Input$4=(function(){function t(a,r){if(r===void 0&&(r={}),a===null||typeof a>"u"||(typeof a>"u"?"undefined":_type_of(a))==="object"&&!a.toString)throw new Error("PostCSS received "+a+" instead of CSS string");if(this.css=a.toString(),this.css[0]==="\uFEFF"||this.css[0]===""?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,r.from&&(!pathAvailable$1||/^\w+:\/\//.test(r.from)||isAbsolute(r.from)?this.file=r.from:this.file=resolve$1(r.from)),pathAvailable$1&&sourceMapAvailable$1){var o=new PreviousMap$1(this.css,r);if(o.text){this.map=o;var s=o.consumer().file;!this.file&&s&&(this.file=this.mapResolve(s))}}this.file||(this.id="<input css "+nanoid(6)+">"),this.map&&(this.map.file=this.from)}var e=t.prototype;return e.error=function(r,o,s,l){l===void 0&&(l={});var c,u,h;if(o&&(typeof o>"u"?"undefined":_type_of(o))==="object"){var f=o,m=s;if(typeof f.offset=="number"){var g=this.fromOffset(f.offset);o=g.line,s=g.col}else o=f.line,s=f.column;if(typeof m.offset=="number"){var b=this.fromOffset(m.offset);u=b.line,h=b.col}else u=m.line,h=m.column}else if(!s){var w=this.fromOffset(o);o=w.line,s=w.col}var E=this.origin(o,s,u,h);return E?c=new CssSyntaxError$1(r,E.endLine===void 0?E.line:{column:E.column,line:E.line},E.endLine===void 0?E.column:{column:E.endColumn,line:E.endLine},E.source,E.file,l.plugin):c=new CssSyntaxError$1(r,u===void 0?o:{column:s,line:o},u===void 0?s:{column:h,line:u},this.css,this.file,l.plugin),c.input={column:s,endColumn:h,endLine:u,line:o,source:this.css},this.file&&(pathToFileURL$1&&(c.input.url=pathToFileURL$1(this.file).toString()),c.input.file=this.file),c},e.fromOffset=function(r){var o,s;if(this[fromOffsetCache])s=this[fromOffsetCache];else{var l=this.css.split(`
`);s=new Array(l.length);for(var c=0,u=0,h=l.length;u<h;u++)s[u]=c,c+=l[u].length+1;this[fromOffsetCache]=s}o=s[s.length-1];var f=0;if(r>=o)f=s.length-1;else for(var m=s.length-2,g;f<m;)if(g=f+(m-f>>1),r<s[g])m=g-1;else if(r>=s[g+1])f=g+1;else{f=g;break}return{col:r-s[f]+1,line:f+1}},e.mapResolve=function(r){return/^\w+:\/\//.test(r)?r:resolve$1(this.map.consumer().sourceRoot||this.map.root||".",r)},e.origin=function(r,o,s,l){if(!this.map)return!1;var c=this.map.consumer(),u=c.originalPositionFor({column:o,line:r});if(!u.source)return!1;var h;typeof s=="number"&&(h=c.originalPositionFor({column:l,line:s}));var f;isAbsolute(u.source)?f=pathToFileURL$1(u.source):f=new URL(u.source,this.map.consumer().sourceRoot||pathToFileURL$1(this.map.mapFile));var m={column:u.column,endColumn:h&&h.column,endLine:h&&h.line,line:u.line,url:f.toString()};if(f.protocol==="file:")if(fileURLToPath)m.file=fileURLToPath(f);else throw new Error("file: protocol is not available in this PostCSS build");var g=c.sourceContentFor(u.source);return g&&(m.source=g),m},e.toJSON=function(){for(var r={},o=0,s=["hasBOM","css","file","id"];o<s.length;o++){var l=s[o];this[l]!=null&&(r[l]=this[l])}return this.map&&(r.map=_extends({},this.map),r.map.consumerCache&&(r.map.consumerCache=void 0)),r},_create_class(t,[{key:"from",get:function(){return this.file||this.id}}]),t})(),input=Input$4;Input$4.default=Input$4;terminalHighlight&&terminalHighlight.registerInput&&terminalHighlight.registerInput(Input$4);var SourceMapConsumer=require$$2.SourceMapConsumer,SourceMapGenerator=require$$2.SourceMapGenerator,dirname=require$$2.dirname,relative=require$$2.relative,resolve$3=require$$2.resolve,sep=require$$2.sep,pathToFileURL=require$$2.pathToFileURL,Input$3=input,sourceMapAvailable=!!(SourceMapConsumer&&SourceMapGenerator),pathAvailable=!!(dirname&&resolve$3&&relative&&sep),MapGenerator$2=(function(){function t(a,r,o,s){this.stringify=a,this.mapOpts=o.map||{},this.root=r,this.opts=o,this.css=s,this.originalCSS=s,this.usesFileUrls=!this.mapOpts.from&&this.mapOpts.absolute,this.memoizedFileURLs=new Map,this.memoizedPaths=new Map,this.memoizedURLs=new Map}var e=t.prototype;return e.addAnnotation=function(){var r;this.isInline()?r="data:application/json;base64,"+this.toBase64(this.map.toString()):typeof this.mapOpts.annotation=="string"?r=this.mapOpts.annotation:typeof this.mapOpts.annotation=="function"?r=this.mapOpts.annotation(this.opts.to,this.root):r=this.outputFile()+".map";var o=`
`;this.css.includes(`\r
`)&&(o=`\r
`),this.css+=o+"/*# sourceMappingURL="+r+" */"},e.applyPrevMaps=function(){for(var r=_create_for_of_iterator_helper_loose(this.previous()),o;!(o=r()).done;){var s=o.value,l=this.toUrl(this.path(s.file)),c=s.root||dirname(s.file),u=void 0;this.mapOpts.sourcesContent===!1?(u=new SourceMapConsumer(s.text),u.sourcesContent&&(u.sourcesContent=null)):u=s.consumer(),this.map.applySourceMap(u,l,this.toUrl(this.path(c)))}},e.clearAnnotation=function(){if(this.mapOpts.annotation!==!1)if(this.root)for(var r,o=this.root.nodes.length-1;o>=0;o--)r=this.root.nodes[o],r.type==="comment"&&r.text.indexOf("# sourceMappingURL=")===0&&this.root.removeChild(o);else this.css&&(this.css=this.css.replace(/\n*?\/\*#[\S\s]*?\*\/$/gm,""))},e.generate=function(){if(this.clearAnnotation(),pathAvailable&&sourceMapAvailable&&this.isMap())return this.generateMap();var r="";return this.stringify(this.root,function(o){r+=o}),[r]},e.generateMap=function(){if(this.root)this.generateString();else if(this.previous().length===1){var r=this.previous()[0].consumer();r.file=this.outputFile(),this.map=SourceMapGenerator.fromSourceMap(r,{ignoreInvalidMapping:!0})}else this.map=new SourceMapGenerator({file:this.outputFile(),ignoreInvalidMapping:!0}),this.map.addMapping({generated:{column:0,line:1},original:{column:0,line:1},source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>"});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]},e.generateString=function(){var r=this;this.css="",this.map=new SourceMapGenerator({file:this.outputFile(),ignoreInvalidMapping:!0});var o=1,s=1,l="<no source>",c={generated:{column:0,line:0},original:{column:0,line:0},source:""},u,h;this.stringify(this.root,function(f,m,g){if(r.css+=f,m&&g!=="end"&&(c.generated.line=o,c.generated.column=s-1,m.source&&m.source.start?(c.source=r.sourcePath(m),c.original.line=m.source.start.line,c.original.column=m.source.start.column-1,r.map.addMapping(c)):(c.source=l,c.original.line=1,c.original.column=0,r.map.addMapping(c))),u=f.match(/\n/g),u?(o+=u.length,h=f.lastIndexOf(`
`),s=f.length-h):s+=f.length,m&&g!=="start"){var b=m.parent||{raws:{}},w=m.type==="decl"||m.type==="atrule"&&!m.nodes;(!w||m!==b.last||b.raws.semicolon)&&(m.source&&m.source.end?(c.source=r.sourcePath(m),c.original.line=m.source.end.line,c.original.column=m.source.end.column-1,c.generated.line=o,c.generated.column=s-2,r.map.addMapping(c)):(c.source=l,c.original.line=1,c.original.column=0,c.generated.line=o,c.generated.column=s-1,r.map.addMapping(c)))}})},e.isAnnotation=function(){return this.isInline()?!0:typeof this.mapOpts.annotation<"u"?this.mapOpts.annotation:this.previous().length?this.previous().some(function(r){return r.annotation}):!0},e.isInline=function(){if(typeof this.mapOpts.inline<"u")return this.mapOpts.inline;var r=this.mapOpts.annotation;return typeof r<"u"&&r!==!0?!1:this.previous().length?this.previous().some(function(o){return o.inline}):!0},e.isMap=function(){return typeof this.opts.map<"u"?!!this.opts.map:this.previous().length>0},e.isSourcesContent=function(){return typeof this.mapOpts.sourcesContent<"u"?this.mapOpts.sourcesContent:this.previous().length?this.previous().some(function(r){return r.withContent()}):!0},e.outputFile=function(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"},e.path=function(r){if(this.mapOpts.absolute||r.charCodeAt(0)===60||/^\w+:\/\//.test(r))return r;var o=this.memoizedPaths.get(r);if(o)return o;var s=this.opts.to?dirname(this.opts.to):".";typeof this.mapOpts.annotation=="string"&&(s=dirname(resolve$3(s,this.mapOpts.annotation)));var l=relative(s,r);return this.memoizedPaths.set(r,l),l},e.previous=function(){var r=this;if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk(function(s){if(s.source&&s.source.input.map){var l=s.source.input.map;r.previousMaps.includes(l)||r.previousMaps.push(l)}});else{var o=new Input$3(this.originalCSS,this.opts);o.map&&this.previousMaps.push(o.map)}return this.previousMaps},e.setSourcesContent=function(){var r=this,o={};if(this.root)this.root.walk(function(l){if(l.source){var c=l.source.input.from;if(c&&!o[c]){o[c]=!0;var u=r.usesFileUrls?r.toFileUrl(c):r.toUrl(r.path(c));r.map.setSourceContent(u,l.source.input.css)}}});else if(this.css){var s=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(s,this.css)}},e.sourcePath=function(r){return this.mapOpts.from?this.toUrl(this.mapOpts.from):this.usesFileUrls?this.toFileUrl(r.source.input.from):this.toUrl(this.path(r.source.input.from))},e.toBase64=function(r){return Buffer?Buffer.from(r).toString("base64"):window.btoa(unescape(encodeURIComponent(r)))},e.toFileUrl=function(r){var o=this.memoizedFileURLs.get(r);if(o)return o;if(pathToFileURL){var s=pathToFileURL(r).toString();return this.memoizedFileURLs.set(r,s),s}else throw new Error("`map.absolute` option is not available in this PostCSS build")},e.toUrl=function(r){var o=this.memoizedURLs.get(r);if(o)return o;sep==="\\"&&(r=r.replace(/\\/g,"/"));var s=encodeURI(r).replace(/[#?]/g,encodeURIComponent);return this.memoizedURLs.set(r,s),s},t})(),mapGenerator=MapGenerator$2,Node$2=node,Comment$4=(function(t){_inherits(e,t);function e(a){var r;return r=t.call(this,a)||this,r.type="comment",r}return e})(Node$2),comment=Comment$4;Comment$4.default=Comment$4;var isClean$1=symbols.isClean,my$1=symbols.my,Declaration$3=declaration,Comment$3=comment,Node$1=node,parse$4,Rule$4,AtRule$4,Root$6;function cleanSource(t){return t.map(function(e){return e.nodes&&(e.nodes=cleanSource(e.nodes)),delete e.source,e})}function markDirtyUp(t){if(t[isClean$1]=!1,t.proxyOf.nodes)for(var e=_create_for_of_iterator_helper_loose(t.proxyOf.nodes),a;!(a=e()).done;){var r=a.value;markDirtyUp(r)}}var Container$7=(function(t){_inherits(e,t);function e(){return t.apply(this,arguments)||this}var a=e.prototype;return a.append=function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];for(var c=_create_for_of_iterator_helper_loose(s),u;!(u=c()).done;)for(var h=u.value,f=this.normalize(h,this.last),m=_create_for_of_iterator_helper_loose(f),g;!(g=m()).done;){var b=g.value;this.proxyOf.nodes.push(b)}return this.markDirty(),this},a.cleanRaws=function(o){if(t.prototype.cleanRaws.call(this,o),this.nodes)for(var s=_create_for_of_iterator_helper_loose(this.nodes),l;!(l=s()).done;){var c=l.value;c.cleanRaws(o)}},a.each=function(o){if(this.proxyOf.nodes){for(var s=this.getIterator(),l,c;this.indexes[s]<this.proxyOf.nodes.length&&(l=this.indexes[s],c=o(this.proxyOf.nodes[l],l),c!==!1);)this.indexes[s]+=1;return delete this.indexes[s],c}},a.every=function(o){return this.nodes.every(o)},a.getIterator=function(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;var o=this.lastEach;return this.indexes[o]=0,o},a.getProxyProcessor=function(){return{get:function(s,l){return l==="proxyOf"?s:s[l]?l==="each"||typeof l=="string"&&l.startsWith("walk")?function(){for(var c=arguments.length,u=new Array(c),h=0;h<c;h++)u[h]=arguments[h];var f;return(f=s)[l].apply(f,[].concat(u.map(function(m){return typeof m=="function"?function(g,b){return m(g.toProxy(),b)}:m})))}:l==="every"||l==="some"?function(c){return s[l](function(u){for(var h=arguments.length,f=new Array(h>1?h-1:0),m=1;m<h;m++)f[m-1]=arguments[m];return c.apply(void 0,[].concat([u.toProxy()],f))})}:l==="root"?function(){return s.root().toProxy()}:l==="nodes"?s.nodes.map(function(c){return c.toProxy()}):l==="first"||l==="last"?s[l].toProxy():s[l]:s[l]},set:function(s,l,c){return s[l]===c||(s[l]=c,(l==="name"||l==="params"||l==="selector")&&s.markDirty()),!0}}},a.index=function(o){return typeof o=="number"?o:(o.proxyOf&&(o=o.proxyOf),this.proxyOf.nodes.indexOf(o))},a.insertAfter=function(o,s){var l=this.index(o),c=this.normalize(s,this.proxyOf.nodes[l]).reverse();l=this.index(o);for(var u=_create_for_of_iterator_helper_loose(c),h;!(h=u()).done;){var f=h.value;this.proxyOf.nodes.splice(l+1,0,f)}var m;for(var g in this.indexes)m=this.indexes[g],l<m&&(this.indexes[g]=m+c.length);return this.markDirty(),this},a.insertBefore=function(o,s){var l=this.index(o),c=l===0?"prepend":!1,u=this.normalize(s,this.proxyOf.nodes[l],c).reverse();l=this.index(o);for(var h=_create_for_of_iterator_helper_loose(u),f;!(f=h()).done;){var m=f.value;this.proxyOf.nodes.splice(l,0,m)}var g;for(var b in this.indexes)g=this.indexes[b],l<=g&&(this.indexes[b]=g+u.length);return this.markDirty(),this},a.normalize=function(o,s){var l=this;if(typeof o=="string")o=cleanSource(parse$4(o).nodes);else if(typeof o>"u")o=[];else if(Array.isArray(o)){o=o.slice(0);for(var c=_create_for_of_iterator_helper_loose(o),u;!(u=c()).done;){var h=u.value;h.parent&&h.parent.removeChild(h,"ignore")}}else if(o.type==="root"&&this.type!=="document"){o=o.nodes.slice(0);for(var f=_create_for_of_iterator_helper_loose(o),m;!(m=f()).done;){var g=m.value;g.parent&&g.parent.removeChild(g,"ignore")}}else if(o.type)o=[o];else if(o.prop){if(typeof o.value>"u")throw new Error("Value field is missed in node creation");typeof o.value!="string"&&(o.value=String(o.value)),o=[new Declaration$3(o)]}else if(o.selector)o=[new Rule$4(o)];else if(o.name)o=[new AtRule$4(o)];else if(o.text)o=[new Comment$3(o)];else throw new Error("Unknown node type in node creation");var b=o.map(function(w){return w[my$1]||e.rebuild(w),w=w.proxyOf,w.parent&&w.parent.removeChild(w),w[isClean$1]&&markDirtyUp(w),typeof w.raws.before>"u"&&s&&typeof s.raws.before<"u"&&(w.raws.before=s.raws.before.replace(/\S/g,"")),w.parent=l.proxyOf,w});return b},a.prepend=function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];s=s.reverse();for(var c=_create_for_of_iterator_helper_loose(s),u;!(u=c()).done;){for(var h=u.value,f=this.normalize(h,this.first,"prepend").reverse(),m=_create_for_of_iterator_helper_loose(f),g;!(g=m()).done;){var b=g.value;this.proxyOf.nodes.unshift(b)}for(var w in this.indexes)this.indexes[w]=this.indexes[w]+f.length}return this.markDirty(),this},a.push=function(o){return o.parent=this,this.proxyOf.nodes.push(o),this},a.removeAll=function(){for(var o=_create_for_of_iterator_helper_loose(this.proxyOf.nodes),s;!(s=o()).done;){var l=s.value;l.parent=void 0}return this.proxyOf.nodes=[],this.markDirty(),this},a.removeChild=function(o){o=this.index(o),this.proxyOf.nodes[o].parent=void 0,this.proxyOf.nodes.splice(o,1);var s;for(var l in this.indexes)s=this.indexes[l],s>=o&&(this.indexes[l]=s-1);return this.markDirty(),this},a.replaceValues=function(o,s,l){return l||(l=s,s={}),this.walkDecls(function(c){s.props&&!s.props.includes(c.prop)||s.fast&&!c.value.includes(s.fast)||(c.value=c.value.replace(o,l))}),this.markDirty(),this},a.some=function(o){return this.nodes.some(o)},a.walk=function(o){return this.each(function(s,l){var c;try{c=o(s,l)}catch(u){throw s.addToError(u)}return c!==!1&&s.walk&&(c=s.walk(o)),c})},a.walkAtRules=function(o,s){return s?_instanceof(o,RegExp)?this.walk(function(l,c){if(l.type==="atrule"&&o.test(l.name))return s(l,c)}):this.walk(function(l,c){if(l.type==="atrule"&&l.name===o)return s(l,c)}):(s=o,this.walk(function(l,c){if(l.type==="atrule")return s(l,c)}))},a.walkComments=function(o){return this.walk(function(s,l){if(s.type==="comment")return o(s,l)})},a.walkDecls=function(o,s){return s?_instanceof(o,RegExp)?this.walk(function(l,c){if(l.type==="decl"&&o.test(l.prop))return s(l,c)}):this.walk(function(l,c){if(l.type==="decl"&&l.prop===o)return s(l,c)}):(s=o,this.walk(function(l,c){if(l.type==="decl")return s(l,c)}))},a.walkRules=function(o,s){return s?_instanceof(o,RegExp)?this.walk(function(l,c){if(l.type==="rule"&&o.test(l.selector))return s(l,c)}):this.walk(function(l,c){if(l.type==="rule"&&l.selector===o)return s(l,c)}):(s=o,this.walk(function(l,c){if(l.type==="rule")return s(l,c)}))},_create_class(e,[{key:"first",get:function(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}},{key:"last",get:function(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}}]),e})(Node$1);Container$7.registerParse=function(t){parse$4=t};Container$7.registerRule=function(t){Rule$4=t};Container$7.registerAtRule=function(t){AtRule$4=t};Container$7.registerRoot=function(t){Root$6=t};var container=Container$7;Container$7.default=Container$7;Container$7.rebuild=function(t){t.type==="atrule"?Object.setPrototypeOf(t,AtRule$4.prototype):t.type==="rule"?Object.setPrototypeOf(t,Rule$4.prototype):t.type==="decl"?Object.setPrototypeOf(t,Declaration$3.prototype):t.type==="comment"?Object.setPrototypeOf(t,Comment$3.prototype):t.type==="root"&&Object.setPrototypeOf(t,Root$6.prototype),t[my$1]=!0,t.nodes&&t.nodes.forEach(function(e){Container$7.rebuild(e)})};var Container$6=container,LazyResult$4,Processor$3,Document$3=(function(t){_inherits(e,t);function e(r){var o;return o=t.call(this,_extends({type:"document"},r))||this,o.nodes||(o.nodes=[]),o}var a=e.prototype;return a.toResult=function(o){o===void 0&&(o={});var s=new LazyResult$4(new Processor$3,this,o);return s.stringify()},e})(Container$6);Document$3.registerLazyResult=function(t){LazyResult$4=t};Document$3.registerProcessor=function(t){Processor$3=t};var document$1$2=Document$3;Document$3.default=Document$3;var Warning$2=(function(){function t(a,r){if(r===void 0&&(r={}),this.type="warning",this.text=a,r.node&&r.node.source){var o=r.node.rangeBy(r);this.line=o.start.line,this.column=o.start.column,this.endLine=o.end.line,this.endColumn=o.end.column}for(var s in r)this[s]=r[s]}var e=t.prototype;return e.toString=function(){return this.node?this.node.error(this.text,{index:this.index,plugin:this.plugin,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text},t})(),warning=Warning$2;Warning$2.default=Warning$2;var Warning$1=warning,Result$3=(function(){function t(a,r,o){this.processor=a,this.messages=[],this.root=r,this.opts=o,this.css=void 0,this.map=void 0}var e=t.prototype;return e.toString=function(){return this.css},e.warn=function(r,o){o===void 0&&(o={}),o.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(o.plugin=this.lastPlugin.postcssPlugin);var s=new Warning$1(r,o);return this.messages.push(s),s},e.warnings=function(){return this.messages.filter(function(r){return r.type==="warning"})},_create_class(t,[{key:"content",get:function(){return this.css}}]),t})(),result=Result$3;Result$3.default=Result$3;var SINGLE_QUOTE=39,DOUBLE_QUOTE=34,BACKSLASH=92,SLASH=47,NEWLINE=10,SPACE=32,FEED=12,TAB=9,CR=13,OPEN_SQUARE=91,CLOSE_SQUARE=93,OPEN_PARENTHESES=40,CLOSE_PARENTHESES=41,OPEN_CURLY=123,CLOSE_CURLY=125,SEMICOLON=59,ASTERISK=42,COLON=58,AT=64,RE_AT_END=/[\t\n\f\r "#'()/;[\\\]{}]/g,RE_WORD_END=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,RE_BAD_BRACKET=/.[\r\n"'(/\\]/,RE_HEX_ESCAPE=/[\da-f]/i,tokenize=function t(e,a){a===void 0&&(a={});var r=e.css.valueOf(),o=a.ignoreErrors,s,l,c,u,h,f,m,g,b,w,E=r.length,C=0,B=[],O=[];function P(){return C}function q(J){throw e.error("Unclosed "+J,C)}function z(){return O.length===0&&C>=E}function V(J){if(O.length)return O.pop();if(!(C>=E)){var W=J?J.ignoreUnclosed:!1;switch(s=r.charCodeAt(C),s){case NEWLINE:case SPACE:case TAB:case CR:case FEED:{l=C;do l+=1,s=r.charCodeAt(l);while(s===SPACE||s===NEWLINE||s===TAB||s===CR||s===FEED);w=["space",r.slice(C,l)],C=l-1;break}case OPEN_SQUARE:case CLOSE_SQUARE:case OPEN_CURLY:case CLOSE_CURLY:case COLON:case SEMICOLON:case CLOSE_PARENTHESES:{var te=String.fromCharCode(s);w=[te,te,C];break}case OPEN_PARENTHESES:{if(g=B.length?B.pop()[1]:"",b=r.charCodeAt(C+1),g==="url"&&b!==SINGLE_QUOTE&&b!==DOUBLE_QUOTE&&b!==SPACE&&b!==NEWLINE&&b!==TAB&&b!==FEED&&b!==CR){l=C;do{if(f=!1,l=r.indexOf(")",l+1),l===-1)if(o||W){l=C;break}else q("bracket");for(m=l;r.charCodeAt(m-1)===BACKSLASH;)m-=1,f=!f}while(f);w=["brackets",r.slice(C,l+1),C,l],C=l}else l=r.indexOf(")",C+1),u=r.slice(C,l+1),l===-1||RE_BAD_BRACKET.test(u)?w=["(","(",C]:(w=["brackets",u,C,l],C=l);break}case SINGLE_QUOTE:case DOUBLE_QUOTE:{c=s===SINGLE_QUOTE?"'":'"',l=C;do{if(f=!1,l=r.indexOf(c,l+1),l===-1)if(o||W){l=C+1;break}else q("string");for(m=l;r.charCodeAt(m-1)===BACKSLASH;)m-=1,f=!f}while(f);w=["string",r.slice(C,l+1),C,l],C=l;break}case AT:{RE_AT_END.lastIndex=C+1,RE_AT_END.test(r),RE_AT_END.lastIndex===0?l=r.length-1:l=RE_AT_END.lastIndex-2,w=["at-word",r.slice(C,l+1),C,l],C=l;break}case BACKSLASH:{for(l=C,h=!0;r.charCodeAt(l+1)===BACKSLASH;)l+=1,h=!h;if(s=r.charCodeAt(l+1),h&&s!==SLASH&&s!==SPACE&&s!==NEWLINE&&s!==TAB&&s!==CR&&s!==FEED&&(l+=1,RE_HEX_ESCAPE.test(r.charAt(l)))){for(;RE_HEX_ESCAPE.test(r.charAt(l+1));)l+=1;r.charCodeAt(l+1)===SPACE&&(l+=1)}w=["word",r.slice(C,l+1),C,l],C=l;break}default:{s===SLASH&&r.charCodeAt(C+1)===ASTERISK?(l=r.indexOf("*/",C+2)+1,l===0&&(o||W?l=r.length:q("comment")),w=["comment",r.slice(C,l+1),C,l],C=l):(RE_WORD_END.lastIndex=C+1,RE_WORD_END.test(r),RE_WORD_END.lastIndex===0?l=r.length-1:l=RE_WORD_END.lastIndex-2,w=["word",r.slice(C,l+1),C,l],B.push(w),C=l);break}}return C++,w}}function Z(J){O.push(J)}return{back:Z,endOfFile:z,nextToken:V,position:P}},Container$5=container,AtRule$3=(function(t){_inherits(e,t);function e(r){var o;return o=t.call(this,r)||this,o.type="atrule",o}var a=e.prototype;return a.append=function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];var c;return this.proxyOf.nodes||(this.nodes=[]),(c=t.prototype.append).call.apply(c,[].concat([this],s))},a.prepend=function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];var c;return this.proxyOf.nodes||(this.nodes=[]),(c=t.prototype.prepend).call.apply(c,[].concat([this],s))},e})(Container$5),atRule=AtRule$3;AtRule$3.default=AtRule$3;Container$5.registerAtRule(AtRule$3);var Container$4=container,LazyResult$3,Processor$2,Root$5=(function(t){_inherits(e,t);function e(r){var o;return o=t.call(this,r)||this,o.type="root",o.nodes||(o.nodes=[]),o}var a=e.prototype;return a.normalize=function(o,s,l){var c=t.prototype.normalize.call(this,o);if(s){if(l==="prepend")this.nodes.length>1?s.raws.before=this.nodes[1].raws.before:delete s.raws.before;else if(this.first!==s)for(var u=_create_for_of_iterator_helper_loose(c),h;!(h=u()).done;){var f=h.value;f.raws.before=s.raws.before}}return c},a.removeChild=function(o,s){var l=this.index(o);return!s&&l===0&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[l].raws.before),t.prototype.removeChild.call(this,o)},a.toResult=function(o){o===void 0&&(o={});var s=new LazyResult$3(new Processor$2,this,o);return s.stringify()},e})(Container$4);Root$5.registerLazyResult=function(t){LazyResult$3=t};Root$5.registerProcessor=function(t){Processor$2=t};var root=Root$5;Root$5.default=Root$5;Container$4.registerRoot(Root$5);var list$2={comma:function t(e){return list$2.split(e,[","],!0)},space:function t(e){var a=[" ",`
`,"	"];return list$2.split(e,a)},split:function t(e,a,r){for(var o=[],s="",l=!1,c=0,u=!1,h="",f=!1,m=_create_for_of_iterator_helper_loose(e),g;!(g=m()).done;){var b=g.value;f?f=!1:b==="\\"?f=!0:u?b===h&&(u=!1):b==='"'||b==="'"?(u=!0,h=b):b==="("?c+=1:b===")"?c>0&&(c-=1):c===0&&a.includes(b)&&(l=!0),l?(s!==""&&o.push(s.trim()),s="",l=!1):s+=b}return(r||s!=="")&&o.push(s.trim()),o}},list_1=list$2;list$2.default=list$2;var Container$3=container,list$1=list_1,Rule$3=(function(t){_inherits(e,t);function e(a){var r;return r=t.call(this,a)||this,r.type="rule",r.nodes||(r.nodes=[]),r}return _create_class(e,[{key:"selectors",get:function(){return list$1.comma(this.selector)},set:function(r){var o=this.selector?this.selector.match(/,\s*/):null,s=o?o[0]:","+this.raw("between","beforeOpen");this.selector=r.join(s)}}]),e})(Container$3),rule=Rule$3;Rule$3.default=Rule$3;Container$3.registerRule(Rule$3);var Declaration$2=declaration,tokenizer22=tokenize,Comment$2=comment,AtRule$2=atRule,Root$4=root,Rule$2=rule,SAFE_COMMENT_NEIGHBOR={empty:!0,space:!0};function findLastWithPosition(t){for(var e=t.length-1;e>=0;e--){var a=t[e],r=a[3]||a[2];if(r)return r}}var Parser$1=(function(){function t(a){this.input=a,this.root=new Root$4,this.current=this.root,this.spaces="",this.semicolon=!1,this.createTokenizer(),this.root.source={input:a,start:{column:1,line:1,offset:0}}}var e=t.prototype;return e.atrule=function(r){var o=new AtRule$2;o.name=r[1].slice(1),o.name===""&&this.unnamedAtrule(o,r),this.init(o,r[2]);for(var s,l,c,u=!1,h=!1,f=[],m=[];!this.tokenizer.endOfFile();){if(r=this.tokenizer.nextToken(),s=r[0],s==="("||s==="["?m.push(s==="("?")":"]"):s==="{"&&m.length>0?m.push("}"):s===m[m.length-1]&&m.pop(),m.length===0)if(s===";"){o.source.end=this.getPosition(r[2]),o.source.end.offset++,this.semicolon=!0;break}else if(s==="{"){h=!0;break}else if(s==="}"){if(f.length>0){for(c=f.length-1,l=f[c];l&&l[0]==="space";)l=f[--c];l&&(o.source.end=this.getPosition(l[3]||l[2]),o.source.end.offset++)}this.end(r);break}else f.push(r);else f.push(r);if(this.tokenizer.endOfFile()){u=!0;break}}o.raws.between=this.spacesAndCommentsFromEnd(f),f.length?(o.raws.afterName=this.spacesAndCommentsFromStart(f),this.raw(o,"params",f),u&&(r=f[f.length-1],o.source.end=this.getPosition(r[3]||r[2]),o.source.end.offset++,this.spaces=o.raws.between,o.raws.between="")):(o.raws.afterName="",o.params=""),h&&(o.nodes=[],this.current=o)},e.checkMissedSemicolon=function(r){var o=this.colon(r);if(o!==!1){for(var s=0,l,c=o-1;c>=0&&(l=r[c],!(l[0]!=="space"&&(s+=1,s===2)));c--);throw this.input.error("Missed semicolon",l[0]==="word"?l[3]+1:l[2])}},e.colon=function(r){for(var o=0,s,l,c,u=_create_for_of_iterator_helper_loose(r.entries()),h;!(h=u()).done;){var f=h.value,m=f[0],g=f[1];if(s=g,l=s[0],l==="("&&(o+=1),l===")"&&(o-=1),o===0&&l===":")if(!c)this.doubleColon(s);else{if(c[0]==="word"&&c[1]==="progid")continue;return m}c=s}return!1},e.comment=function(r){var o=new Comment$2;this.init(o,r[2]),o.source.end=this.getPosition(r[3]||r[2]),o.source.end.offset++;var s=r[1].slice(2,-2);if(/^\s*$/.test(s))o.text="",o.raws.left=s,o.raws.right="";else{var l=s.match(/^(\s*)([^]*\S)(\s*)$/);o.text=l[2],o.raws.left=l[1],o.raws.right=l[3]}},e.createTokenizer=function(){this.tokenizer=tokenizer22(this.input)},e.decl=function(r,o){var s=new Declaration$2;this.init(s,r[0][2]);var l=r[r.length-1];for(l[0]===";"&&(this.semicolon=!0,r.pop()),s.source.end=this.getPosition(l[3]||l[2]||findLastWithPosition(r)),s.source.end.offset++;r[0][0]!=="word";)r.length===1&&this.unknownWord(r),s.raws.before+=r.shift()[1];for(s.source.start=this.getPosition(r[0][2]),s.prop="";r.length;){var c=r[0][0];if(c===":"||c==="space"||c==="comment")break;s.prop+=r.shift()[1]}s.raws.between="";for(var u;r.length;)if(u=r.shift(),u[0]===":"){s.raws.between+=u[1];break}else u[0]==="word"&&/\w/.test(u[1])&&this.unknownWord([u]),s.raws.between+=u[1];(s.prop[0]==="_"||s.prop[0]==="*")&&(s.raws.before+=s.prop[0],s.prop=s.prop.slice(1));for(var h=[],f;r.length&&(f=r[0][0],!(f!=="space"&&f!=="comment"));)h.push(r.shift());this.precheckMissedSemicolon(r);for(var m=r.length-1;m>=0;m--){if(u=r[m],u[1].toLowerCase()==="!important"){s.important=!0;var g=this.stringFrom(r,m);g=this.spacesFromEnd(r)+g,g!==" !important"&&(s.raws.important=g);break}else if(u[1].toLowerCase()==="important"){for(var b=r.slice(0),w="",E=m;E>0;E--){var C=b[E][0];if(w.trim().indexOf("!")===0&&C!=="space")break;w=b.pop()[1]+w}w.trim().indexOf("!")===0&&(s.important=!0,s.raws.important=w,r=b)}if(u[0]!=="space"&&u[0]!=="comment")break}var B=r.some(function(O){return O[0]!=="space"&&O[0]!=="comment"});B&&(s.raws.between+=h.map(function(O){return O[1]}).join(""),h=[]),this.raw(s,"value",h.concat(r),o),s.value.includes(":")&&!o&&this.checkMissedSemicolon(r)},e.doubleColon=function(r){throw this.input.error("Double colon",{offset:r[2]},{offset:r[2]+r[1].length})},e.emptyRule=function(r){var o=new Rule$2;this.init(o,r[2]),o.selector="",o.raws.between="",this.current=o},e.end=function(r){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(r[2]),this.current.source.end.offset++,this.current=this.current.parent):this.unexpectedClose(r)},e.endFile=function(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.root.source.end=this.getPosition(this.tokenizer.position())},e.freeSemicolon=function(r){if(this.spaces+=r[1],this.current.nodes){var o=this.current.nodes[this.current.nodes.length-1];o&&o.type==="rule"&&!o.raws.ownSemicolon&&(o.raws.ownSemicolon=this.spaces,this.spaces="")}},e.getPosition=function(r){var o=this.input.fromOffset(r);return{column:o.col,line:o.line,offset:r}},e.init=function(r,o){this.current.push(r),r.source={input:this.input,start:this.getPosition(o)},r.raws.before=this.spaces,this.spaces="",r.type!=="comment"&&(this.semicolon=!1)},e.other=function(r){for(var o=!1,s=null,l=!1,c=null,u=[],h=r[1].startsWith("--"),f=[],m=r;m;){if(s=m[0],f.push(m),s==="("||s==="[")c||(c=m),u.push(s==="("?")":"]");else if(h&&l&&s==="{")c||(c=m),u.push("}");else if(u.length===0)if(s===";")if(l){this.decl(f,h);return}else break;else if(s==="{"){this.rule(f);return}else if(s==="}"){this.tokenizer.back(f.pop()),o=!0;break}else s===":"&&(l=!0);else s===u[u.length-1]&&(u.pop(),u.length===0&&(c=null));m=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(o=!0),u.length>0&&this.unclosedBracket(c),o&&l){if(!h)for(;f.length&&(m=f[f.length-1][0],!(m!=="space"&&m!=="comment"));)this.tokenizer.back(f.pop());this.decl(f,h)}else this.unknownWord(f)},e.parse=function(){for(var r;!this.tokenizer.endOfFile();)switch(r=this.tokenizer.nextToken(),r[0]){case"space":this.spaces+=r[1];break;case";":this.freeSemicolon(r);break;case"}":this.end(r);break;case"comment":this.comment(r);break;case"at-word":this.atrule(r);break;case"{":this.emptyRule(r);break;default:this.other(r);break}this.endFile()},e.precheckMissedSemicolon=function(){},e.raw=function(r,o,s,l){for(var c,u,h=s.length,f="",m=!0,g,b,w=0;w<h;w+=1)c=s[w],u=c[0],u==="space"&&w===h-1&&!l?m=!1:u==="comment"?(b=s[w-1]?s[w-1][0]:"empty",g=s[w+1]?s[w+1][0]:"empty",!SAFE_COMMENT_NEIGHBOR[b]&&!SAFE_COMMENT_NEIGHBOR[g]?f.slice(-1)===","?m=!1:f+=c[1]:m=!1):f+=c[1];if(!m){var E=s.reduce(function(C,B){return C+B[1]},"");r.raws[o]={raw:E,value:f}}r[o]=f},e.rule=function(r){r.pop();var o=new Rule$2;this.init(o,r[0][2]),o.raws.between=this.spacesAndCommentsFromEnd(r),this.raw(o,"selector",r),this.current=o},e.spacesAndCommentsFromEnd=function(r){for(var o,s="";r.length&&(o=r[r.length-1][0],!(o!=="space"&&o!=="comment"));)s=r.pop()[1]+s;return s},e.spacesAndCommentsFromStart=function(r){for(var o,s="";r.length&&(o=r[0][0],!(o!=="space"&&o!=="comment"));)s+=r.shift()[1];return s},e.spacesFromEnd=function(r){for(var o,s="";r.length&&(o=r[r.length-1][0],o==="space");)s=r.pop()[1]+s;return s},e.stringFrom=function(r,o){for(var s="",l=o;l<r.length;l++)s+=r[l][1];return r.splice(o,r.length-o),s},e.unclosedBlock=function(){var r=this.current.source.start;throw this.input.error("Unclosed block",r.line,r.column)},e.unclosedBracket=function(r){throw this.input.error("Unclosed bracket",{offset:r[2]},{offset:r[2]+1})},e.unexpectedClose=function(r){throw this.input.error("Unexpected }",{offset:r[2]},{offset:r[2]+1})},e.unknownWord=function(r){throw this.input.error("Unknown word",{offset:r[0][2]},{offset:r[0][2]+r[0][1].length})},e.unnamedAtrule=function(r,o){throw this.input.error("At-rule without name",{offset:o[2]},{offset:o[2]+o[1].length})},t})(),parser=Parser$1,Container$2=container,Parser22=parser,Input$2=input;function parse$3(t,e){var a=new Input$2(t,e),r=new Parser22(a);try{r.parse()}catch(o){throw o}return r.root}var parse_1=parse$3;parse$3.default=parse$3;Container$2.registerParse(parse$3);var isClean=symbols.isClean,my=symbols.my,MapGenerator$1=mapGenerator,stringify$2=stringify_1,Container$1=container,Document$2=document$1$2,Result$2=result,parse$2=parse_1,Root$3=root,TYPE_TO_CLASS_NAME={atrule:"AtRule",comment:"Comment",decl:"Declaration",document:"Document",root:"Root",rule:"Rule"},PLUGIN_PROPS={AtRule:!0,AtRuleExit:!0,Comment:!0,CommentExit:!0,Declaration:!0,DeclarationExit:!0,Document:!0,DocumentExit:!0,Once:!0,OnceExit:!0,postcssPlugin:!0,prepare:!0,Root:!0,RootExit:!0,Rule:!0,RuleExit:!0},NOT_VISITORS={Once:!0,postcssPlugin:!0,prepare:!0},CHILDREN=0;function isPromise(t){return(typeof t>"u"?"undefined":_type_of(t))==="object"&&typeof t.then=="function"}function getEvents(t){var e=!1,a=TYPE_TO_CLASS_NAME[t.type];return t.type==="decl"?e=t.prop.toLowerCase():t.type==="atrule"&&(e=t.name.toLowerCase()),e&&t.append?[a,a+"-"+e,CHILDREN,a+"Exit",a+"Exit-"+e]:e?[a,a+"-"+e,a+"Exit",a+"Exit-"+e]:t.append?[a,CHILDREN,a+"Exit"]:[a,a+"Exit"]}function toStack(t){var e;return t.type==="document"?e=["Document",CHILDREN,"DocumentExit"]:t.type==="root"?e=["Root",CHILDREN,"RootExit"]:e=getEvents(t),{eventIndex:0,events:e,iterator:0,node:t,visitorIndex:0,visitors:[]}}function cleanMarks(t){return t[isClean]=!1,t.nodes&&t.nodes.forEach(function(e){return cleanMarks(e)}),t}var postcss$2={},LazyResult$2=(function(){function t(a,r,o){var s=this;this.stringified=!1,this.processed=!1;var l;if((typeof r>"u"?"undefined":_type_of(r))==="object"&&r!==null&&(r.type==="root"||r.type==="document"))l=cleanMarks(r);else if(_instanceof(r,t)||_instanceof(r,Result$2))l=cleanMarks(r.root),r.map&&(typeof o.map>"u"&&(o.map={}),o.map.inline||(o.map.inline=!1),o.map.prev=r.map);else{var c=parse$2;o.syntax&&(c=o.syntax.parse),o.parser&&(c=o.parser),c.parse&&(c=c.parse);try{l=c(r,o)}catch(u){this.processed=!0,this.error=u}l&&!l[my]&&Container$1.rebuild(l)}this.result=new Result$2(a,l,o),this.helpers=_extends({},postcss$2,{postcss:postcss$2,result:this.result}),this.plugins=this.processor.plugins.map(function(u){return(typeof u>"u"?"undefined":_type_of(u))==="object"&&u.prepare?_extends({},u,u.prepare(s.result)):u})}var e=t.prototype;return e.async=function(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)},e.catch=function(r){return this.async().catch(r)},e.finally=function(r){return this.async().then(r,r)},e.getAsyncError=function(){throw new Error("Use process(css).then(cb) to work with async plugins")},e.handleError=function(r,o){var s=this.result.lastPlugin;try{if(o&&o.addToError(r),this.error=r,r.name==="CssSyntaxError"&&!r.plugin)r.plugin=s.postcssPlugin,r.setMessage();else if(s.postcssVersion)var l,c,u,h,f}catch(m){console&&console.error&&console.error(m)}return r},e.prepareVisitors=function(){var r=this;this.listeners={};for(var o=function(f,m,g){r.listeners[m]||(r.listeners[m]=[]),r.listeners[m].push([f,g])},s=_create_for_of_iterator_helper_loose(this.plugins),l;!(l=s()).done;){var c=l.value;if((typeof c>"u"?"undefined":_type_of(c))==="object")for(var u in c){if(!PLUGIN_PROPS[u]&&/^[A-Z]/.test(u))throw new Error("Unknown event "+u+" in "+c.postcssPlugin+". Try to update PostCSS ("+this.processor.version+" now).");if(!NOT_VISITORS[u])if(_type_of(c[u])==="object")for(var h in c[u])h==="*"?o(c,u,c[u][h]):o(c,u+"-"+h.toLowerCase(),c[u][h]);else typeof c[u]=="function"&&o(c,u,c[u])}}this.hasListener=Object.keys(this.listeners).length>0},e.runAsync=function(){var r=this;return _async_to_generator(function(){var o,s,l,c,u,h,f,m,g,b,w,E;return _ts_generator(this,function(C){switch(C.label){case 0:r.plugin=0,o=0,C.label=1;case 1:if(!(o<r.plugins.length))return[3,6];if(s=r.plugins[o],l=r.runOnRoot(s),!isPromise(l))return[3,5];C.label=2;case 2:return C.trys.push([2,4,,5]),[4,l];case 3:return C.sent(),[3,5];case 4:throw c=C.sent(),r.handleError(c);case 5:return o++,[3,1];case 6:if(r.prepareVisitors(),!r.hasListener)return[3,18];u=r.result.root,C.label=7;case 7:if(u[isClean])return[3,14];u[isClean]=!0,h=[toStack(u)],C.label=8;case 8:if(!(h.length>0))return[3,13];if(f=r.visitTick(h),!isPromise(f))return[3,12];C.label=9;case 9:return C.trys.push([9,11,,12]),[4,f];case 10:return C.sent(),[3,12];case 11:throw m=C.sent(),g=h[h.length-1].node,r.handleError(m,g);case 12:return[3,8];case 13:return[3,7];case 14:if(!r.listeners.OnceExit)return[3,18];b=function(){var B,O,P,q,z;return _ts_generator(this,function(V){switch(V.label){case 0:B=E.value,O=B[0],P=B[1],r.result.lastPlugin=O,V.label=1;case 1:return V.trys.push([1,6,,7]),u.type!=="document"?[3,3]:(q=u.nodes.map(function(Z){return P(Z,r.helpers)}),[4,Promise.all(q)]);case 2:return V.sent(),[3,5];case 3:return[4,P(u,r.helpers)];case 4:V.sent(),V.label=5;case 5:return[3,7];case 6:throw z=V.sent(),r.handleError(z);case 7:return[2]}})},w=_create_for_of_iterator_helper_loose(r.listeners.OnceExit),C.label=15;case 15:return(E=w()).done?[3,18]:[5,_ts_values(b())];case 16:C.sent(),C.label=17;case 17:return[3,15];case 18:return r.processed=!0,[2,r.stringify()]}})})()},e.runOnRoot=function(r){var o=this;this.result.lastPlugin=r;try{if((typeof r>"u"?"undefined":_type_of(r))==="object"&&r.Once){if(this.result.root.type==="document"){var s=this.result.root.nodes.map(function(l){return r.Once(l,o.helpers)});return isPromise(s[0])?Promise.all(s):s}return r.Once(this.result.root,this.helpers)}else if(typeof r=="function")return r(this.result.root,this.result)}catch(l){throw this.handleError(l)}},e.stringify=function(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();var r=this.result.opts,o=stringify$2;r.syntax&&(o=r.syntax.stringify),r.stringifier&&(o=r.stringifier),o.stringify&&(o=o.stringify);var s=new MapGenerator$1(o,this.result.root,this.result.opts),l=s.generate();return this.result.css=l[0],this.result.map=l[1],this.result},e.sync=function(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(var r=_create_for_of_iterator_helper_loose(this.plugins),o;!(o=r()).done;){var s=o.value,l=this.runOnRoot(s);if(isPromise(l))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){for(var c=this.result.root;!c[isClean];)c[isClean]=!0,this.walkSync(c);if(this.listeners.OnceExit)if(c.type==="document")for(var u=_create_for_of_iterator_helper_loose(c.nodes),h;!(h=u()).done;){var f=h.value;this.visitSync(this.listeners.OnceExit,f)}else this.visitSync(this.listeners.OnceExit,c)}return this.result},e.then=function(r,o){return this.async().then(r,o)},e.toString=function(){return this.css},e.visitSync=function(r,o){for(var s=_create_for_of_iterator_helper_loose(r),l;!(l=s()).done;){var c=l.value,u=c[0],h=c[1];this.result.lastPlugin=u;var f=void 0;try{f=h(o,this.helpers)}catch(m){throw this.handleError(m,o.proxyOf)}if(o.type!=="root"&&o.type!=="document"&&!o.parent)return!0;if(isPromise(f))throw this.getAsyncError()}},e.visitTick=function(r){var o=r[r.length-1],s=o.node,l=o.visitors;if(s.type!=="root"&&s.type!=="document"&&!s.parent){r.pop();return}if(l.length>0&&o.visitorIndex<l.length){var c=l[o.visitorIndex],u=c[0],h=c[1];o.visitorIndex+=1,o.visitorIndex===l.length&&(o.visitors=[],o.visitorIndex=0),this.result.lastPlugin=u;try{return h(s.toProxy(),this.helpers)}catch(w){throw this.handleError(w,s)}}if(o.iterator!==0){for(var f=o.iterator,m;m=s.nodes[s.indexes[f]];)if(s.indexes[f]+=1,!m[isClean]){m[isClean]=!0,r.push(toStack(m));return}o.iterator=0,delete s.indexes[f]}for(var g=o.events;o.eventIndex<g.length;){var b=g[o.eventIndex];if(o.eventIndex+=1,b===CHILDREN){s.nodes&&s.nodes.length&&(s[isClean]=!0,o.iterator=s.getIterator());return}else if(this.listeners[b]){o.visitors=this.listeners[b];return}}r.pop()},e.walkSync=function(r){var o=this;r[isClean]=!0;for(var s=getEvents(r),l=_create_for_of_iterator_helper_loose(s),c;!(c=l()).done;){var u=c.value;if(u===CHILDREN)r.nodes&&r.each(function(f){f[isClean]||o.walkSync(f)});else{var h=this.listeners[u];if(h&&this.visitSync(h,r.toProxy()))return}}},e.warnings=function(){return this.sync().warnings()},_create_class(t,[{key:"content",get:function(){return this.stringify().content}},{key:"css",get:function(){return this.stringify().css}},{key:"map",get:function(){return this.stringify().map}},{key:"messages",get:function(){return this.sync().messages}},{key:"opts",get:function(){return this.result.opts}},{key:"processor",get:function(){return this.result.processor}},{key:"root",get:function(){return this.sync().root}},{key:Symbol.toStringTag,get:function(){return"LazyResult"}}]),t})();LazyResult$2.registerPostcss=function(t){postcss$2=t};var lazyResult=LazyResult$2;LazyResult$2.default=LazyResult$2;Root$3.registerLazyResult(LazyResult$2);Document$2.registerLazyResult(LazyResult$2);var MapGenerator22=mapGenerator,stringify$1=stringify_1,parse$1=parse_1,Result$1=result,NoWorkResult$1=(function(){function t(a,r,o){r=r.toString(),this.stringified=!1,this._processor=a,this._css=r,this._opts=o,this._map=void 0;var s,l=stringify$1;this.result=new Result$1(this._processor,s,this._opts),this.result.css=r;var c=this;Object.defineProperty(this.result,"root",{get:function(){return c.root}});var u=new MapGenerator22(l,s,this._opts,r);if(u.isMap()){var h=u.generate(),f=h[0],m=h[1];f&&(this.result.css=f),m&&(this.result.map=m)}else u.clearAnnotation(),this.result.css=u.css}var e=t.prototype;return e.async=function(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)},e.catch=function(r){return this.async().catch(r)},e.finally=function(r){return this.async().then(r,r)},e.sync=function(){if(this.error)throw this.error;return this.result},e.then=function(r,o){return this.async().then(r,o)},e.toString=function(){return this._css},e.warnings=function(){return[]},_create_class(t,[{key:"content",get:function(){return this.result.css}},{key:"css",get:function(){return this.result.css}},{key:"map",get:function(){return this.result.map}},{key:"messages",get:function(){return[]}},{key:"opts",get:function(){return this.result.opts}},{key:"processor",get:function(){return this.result.processor}},{key:"root",get:function(){if(this._root)return this._root;var r,o=parse$1;try{r=o(this._css,this._opts)}catch(s){this.error=s}if(this.error)throw this.error;return this._root=r,r}},{key:Symbol.toStringTag,get:function(){return"NoWorkResult"}}]),t})(),noWorkResult=NoWorkResult$1;NoWorkResult$1.default=NoWorkResult$1;var NoWorkResult22=noWorkResult,LazyResult$1=lazyResult,Document$1=document$1$2,Root$2=root,Processor$1=(function(){function t(a){a===void 0&&(a=[]),this.version="8.4.38",this.plugins=this.normalize(a)}var e=t.prototype;return e.normalize=function(r){for(var o=[],s=_create_for_of_iterator_helper_loose(r),l;!(l=s()).done;){var c=l.value;if(c.postcss===!0?c=c():c.postcss&&(c=c.postcss),(typeof c>"u"?"undefined":_type_of(c))==="object"&&Array.isArray(c.plugins))o=o.concat(c.plugins);else if((typeof c>"u"?"undefined":_type_of(c))==="object"&&c.postcssPlugin)o.push(c);else if(typeof c=="function")o.push(c);else if(!((typeof c>"u"?"undefined":_type_of(c))==="object"&&(c.parse||c.stringify)))throw new Error(c+" is not a PostCSS plugin")}return o},e.process=function(r,o){return o===void 0&&(o={}),!this.plugins.length&&!o.parser&&!o.stringifier&&!o.syntax?new NoWorkResult22(this,r,o):new LazyResult$1(this,r,o)},e.use=function(r){return this.plugins=this.plugins.concat(this.normalize([r])),this},t})(),processor=Processor$1;Processor$1.default=Processor$1;Root$2.registerProcessor(Processor$1);Document$1.registerProcessor(Processor$1);var Declaration$1=declaration,PreviousMap22=previousMap,Comment$1=comment,AtRule$1=atRule,Input$1=input,Root$1=root,Rule$1=rule;function fromJSON$1(t,e){if(Array.isArray(t))return t.map(function(m){return fromJSON$1(m)});var a=t.inputs,r=_object_without_properties_loose(t,["inputs"]);if(a){e=[];for(var o=_create_for_of_iterator_helper_loose(a),s;!(s=o()).done;){var l=s.value,c=_extends({},l,{__proto__:Input$1.prototype});c.map&&(c.map=_extends({},c.map,{__proto__:PreviousMap22.prototype})),e.push(c)}}if(r.nodes&&(r.nodes=t.nodes.map(function(m){return fromJSON$1(m,e)})),r.source){var u=r.source,h=u.inputId,f=_object_without_properties_loose(u,["inputId"]);r.source=f,h!=null&&(r.source.input=e[h])}if(r.type==="root")return new Root$1(r);if(r.type==="decl")return new Declaration$1(r);if(r.type==="rule")return new Rule$1(r);if(r.type==="comment")return new Comment$1(r);if(r.type==="atrule")return new AtRule$1(r);throw new Error("Unknown node type: "+t.type)}var fromJSON_1=fromJSON$1;fromJSON$1.default=fromJSON$1;var CssSyntaxError22=cssSyntaxError,Declaration22=declaration,LazyResult22=lazyResult,Container22=container,Processor22=processor,stringify$6=stringify_1,fromJSON=fromJSON_1,Document222=document$1$2,Warning22=warning,Comment22=comment,AtRule22=atRule,Result22=result,Input22=input,parse=parse_1,list=list_1,Rule22=rule,Root22=root,Node22=node;function postcss(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];return e.length===1&&Array.isArray(e[0])&&(e=e[0]),new Processor22(e)}postcss.plugin=function t(e,a){var r=!1;function o(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];console&&console.warn&&!r&&(r=!0,console.warn(e+`: postcss.plugin was deprecated. Migration guide:
https://evilmartians.com/chronicles/postcss-8-plugin-migration`),define_process_env_default.LANG&&define_process_env_default.LANG.startsWith("cn")&&console.warn(e+`:  postcss.plugin . :
https://www.w3ctech.com/topic/2226`));var h=a.apply(void 0,[].concat(c));return h.postcssPlugin=e,h.postcssVersion=new Processor22().version,h}var s;return Object.defineProperty(o,"postcss",{get:function(){return s||(s=o()),s}}),o.process=function(l,c,u){return postcss([o(u)]).process(l,c)},o};postcss.stringify=stringify$6;postcss.parse=parse;postcss.fromJSON=fromJSON;postcss.list=list;postcss.comment=function(t){return new Comment22(t)};postcss.atRule=function(t){return new AtRule22(t)};postcss.decl=function(t){return new Declaration22(t)};postcss.rule=function(t){return new Rule22(t)};postcss.root=function(t){return new Root22(t)};postcss.document=function(t){return new Document222(t)};postcss.CssSyntaxError=CssSyntaxError22;postcss.Declaration=Declaration22;postcss.Container=Container22;postcss.Processor=Processor22;postcss.Document=Document222;postcss.Comment=Comment22;postcss.Warning=Warning22;postcss.AtRule=AtRule22;postcss.Result=Result22;postcss.Input=Input22;postcss.Rule=Rule22;postcss.Root=Root22;postcss.Node=Node22;LazyResult22.registerPostcss(postcss);var postcss_1=postcss;postcss.default=postcss;var postcss$1=getDefaultExportFromCjs(postcss_1);postcss$1.stringify;postcss$1.fromJSON;postcss$1.plugin;postcss$1.parse;postcss$1.list;postcss$1.document;postcss$1.comment;postcss$1.atRule;postcss$1.rule;postcss$1.decl;postcss$1.root;postcss$1.CssSyntaxError;postcss$1.Declaration;postcss$1.Container;postcss$1.Processor;postcss$1.Document;postcss$1.Comment;postcss$1.Warning;postcss$1.AtRule;postcss$1.Result;postcss$1.Input;postcss$1.Rule;postcss$1.Root;postcss$1.Node;var BaseRRNode=(function(){function t(){for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];__publicField2(this,"parentElement",null),__publicField2(this,"parentNode",null),__publicField2(this,"ownerDocument"),__publicField2(this,"firstChild",null),__publicField2(this,"lastChild",null),__publicField2(this,"previousSibling",null),__publicField2(this,"nextSibling",null),__publicField2(this,"ELEMENT_NODE",1),__publicField2(this,"TEXT_NODE",3),__publicField2(this,"nodeType"),__publicField2(this,"nodeName"),__publicField2(this,"RRNodeType")}var e=t.prototype;return e.contains=function(r){if(_instanceof(r,t)){if(r.ownerDocument!==this.ownerDocument)return!1;if(r===this)return!0}else return!1;for(;r.parentNode;){if(r.parentNode===this)return!0;r=r.parentNode}return!1},e.appendChild=function(r){throw new Error("RRDomException: Failed to execute 'appendChild' on 'RRNode': This RRNode type does not support this method.")},e.insertBefore=function(r,o){throw new Error("RRDomException: Failed to execute 'insertBefore' on 'RRNode': This RRNode type does not support this method.")},e.removeChild=function(r){throw new Error("RRDomException: Failed to execute 'removeChild' on 'RRNode': This RRNode type does not support this method.")},e.toString=function(){return"RRNode"},_create_class(t,[{key:"childNodes",get:function(){for(var r=[],o=this.firstChild;o;)r.push(o),o=o.nextSibling;return r}}]),t})(),testableAccessors={Node:["childNodes","parentNode","parentElement","textContent"],ShadowRoot:["host","styleSheets"],Element:["shadowRoot","querySelector","querySelectorAll"],MutationObserver:[]},testableMethods={Node:["contains","getRootNode"],ShadowRoot:["getSelection"],Element:[],MutationObserver:["constructor"]},untaintedBasePrototype={},isAngularZonePresent=function(){return!!globalThis.Zone};function getUntaintedPrototype(t){if(untaintedBasePrototype[t])return untaintedBasePrototype[t];var e=globalThis[t],a=e.prototype,r=t in testableAccessors?testableAccessors[t]:void 0,o=!!(r&&r.every(function(f){var m,g;return!!((g=(m=Object.getOwnPropertyDescriptor(a,f))==null?void 0:m.get)!=null&&g.toString().includes("[native code]"))})),s=t in testableMethods?testableMethods[t]:void 0,l=!!(s&&s.every(function(f){var m;return typeof a[f]=="function"&&((m=a[f])==null?void 0:m.toString().includes("[native code]"))}));if(o&&l&&!isAngularZonePresent())return untaintedBasePrototype[t]=e.prototype,e.prototype;try{var c=document.createElement("iframe");document.body.appendChild(c);var u=c.contentWindow;if(!u)return e.prototype;var h=u[t].prototype;return document.body.removeChild(c),h?untaintedBasePrototype[t]=h:a}catch{return a}}var untaintedAccessorCache={};function getUntaintedAccessor(t,e,a){var r,o=t+"."+String(a);if(untaintedAccessorCache[o])return untaintedAccessorCache[o].call(e);var s=getUntaintedPrototype(t),l=(r=Object.getOwnPropertyDescriptor(s,a))==null?void 0:r.get;return l?(untaintedAccessorCache[o]=l,l.call(e)):e[a]}var untaintedMethodCache={};function getUntaintedMethod(t,e,a){var r=t+"."+String(a);if(untaintedMethodCache[r])return untaintedMethodCache[r].bind(e);var o=getUntaintedPrototype(t),s=o[a];return typeof s!="function"?e[a]:(untaintedMethodCache[r]=s,s.bind(e))}function childNodes(t){return getUntaintedAccessor("Node",t,"childNodes")}function parentNode(t){return getUntaintedAccessor("Node",t,"parentNode")}function parentElement(t){return getUntaintedAccessor("Node",t,"parentElement")}function textContent(t){return getUntaintedAccessor("Node",t,"textContent")}function contains(t,e){return getUntaintedMethod("Node",t,"contains")(e)}function getRootNode(t){return getUntaintedMethod("Node",t,"getRootNode")()}function host(t){return!t||!("host"in t)?null:getUntaintedAccessor("ShadowRoot",t,"host")}function styleSheets(t){return t.styleSheets}function shadowRoot(t){return!t||!("shadowRoot"in t)?null:getUntaintedAccessor("Element",t,"shadowRoot")}function querySelector(t,e){return getUntaintedAccessor("Element",t,"querySelector")(e)}function querySelectorAll(t,e){return getUntaintedAccessor("Element",t,"querySelectorAll")(e)}function mutationObserverCtor(){return getUntaintedPrototype("MutationObserver").constructor}function patch$2(t,e,a){try{if(!(e in t))return function(){};var r=t[e],o=a(r);return typeof o=="function"&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:r}})),t[e]=o,function(){t[e]=r}}catch{return function(){}}}var index={childNodes,parentNode,parentElement,textContent,contains,getRootNode,host,styleSheets,shadowRoot,querySelector,querySelectorAll,mutationObserver:mutationObserverCtor,patch:patch$2};function on(t,e,a){a===void 0&&(a=document);var r={capture:!0,passive:!0};return a.addEventListener(t,e,r),function(){return a.removeEventListener(t,e,r)}}var DEPARTED_MIRROR_ACCESS_WARNING=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`,_mirror={map:{},getId:function t(){return console.error(DEPARTED_MIRROR_ACCESS_WARNING),-1},getNode:function t(){return console.error(DEPARTED_MIRROR_ACCESS_WARNING),null},removeNodeFromMap:function t(){console.error(DEPARTED_MIRROR_ACCESS_WARNING)},has:function t(){return console.error(DEPARTED_MIRROR_ACCESS_WARNING),!1},reset:function t(){console.error(DEPARTED_MIRROR_ACCESS_WARNING)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(_mirror=new Proxy(_mirror,{get:function(e,a,r){return a==="map"&&console.error(DEPARTED_MIRROR_ACCESS_WARNING),Reflect.get(e,a,r)}}));function throttle(t,e,a){a===void 0&&(a={});var r=null,o=0;return function(){for(var s=arguments.length,l=new Array(s),c=0;c<s;c++)l[c]=arguments[c];var u=Date.now();!o&&a.leading===!1&&(o=u);var h=e-(u-o),f=this;h<=0||h>e?(r&&(clearTimeout(r),r=null),o=u,t.apply(f,l)):!r&&a.trailing!==!1&&(r=setTimeout(function(){o=a.leading===!1?0:Date.now(),r=null,t.apply(f,l)},h))}}function hookSetter(t,e,a,r,o){o===void 0&&(o=window);var s=o.Object.getOwnPropertyDescriptor(t,e);return o.Object.defineProperty(t,e,r?a:{set:function(c){var u=this;setTimeout(function(){a.set.call(u,c)},0),s&&s.set&&s.set.call(this,c)}}),function(){return hookSetter(t,e,s||{},!0)}}var nowTimestamp=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(nowTimestamp=function(){return new Date().getTime()});function getWindowScroll(t){var e,a,r,o,s=t.document;return{left:s.scrollingElement?s.scrollingElement.scrollLeft:t.pageXOffset!==void 0?t.pageXOffset:s.documentElement.scrollLeft||s?.body&&((e=index.parentElement(s.body))==null?void 0:e.scrollLeft)||((a=s?.body)==null?void 0:a.scrollLeft)||0,top:s.scrollingElement?s.scrollingElement.scrollTop:t.pageYOffset!==void 0?t.pageYOffset:s?.documentElement.scrollTop||s?.body&&((r=index.parentElement(s.body))==null?void 0:r.scrollTop)||((o=s?.body)==null?void 0:o.scrollTop)||0}}function getWindowHeight(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function getWindowWidth(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function closestElementOfNode(t){if(!t)return null;var e=t.nodeType===t.ELEMENT_NODE?t:index.parentElement(t);return e}function isBlocked(t,e,a,r){if(!t)return!1;var o=closestElementOfNode(t);if(!o)return!1;try{if(typeof e=="string"){if(o.classList.contains(e)||r&&o.closest("."+e)!==null)return!0}else if(classMatchesRegex(o,e,r))return!0}catch{}return!!(a&&(o.matches(a)||r&&o.closest(a)!==null))}function isSerialized(t,e){return e.getId(t)!==-1}function isIgnored(t,e,a){return t.tagName==="TITLE"&&a.headTitleMutations?!0:e.getId(t)===IGNORED_NODE}function isAncestorRemoved(t,e){if(isShadowRoot(t))return!1;var a=e.getId(t);if(!e.has(a))return!0;var r=index.parentNode(t);return r&&r.nodeType===t.DOCUMENT_NODE?!1:r?isAncestorRemoved(r,e):!0}function legacy_isTouchEvent(t){return!!t.changedTouches}function polyfill$1(t){t===void 0&&(t=window),"NodeList"in t&&!t.NodeList.prototype.forEach&&(t.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in t&&!t.DOMTokenList.prototype.forEach&&(t.DOMTokenList.prototype.forEach=Array.prototype.forEach)}function isSerializedIframe(t,e){return!!(t.nodeName==="IFRAME"&&e.getMeta(t))}function isSerializedStylesheet(t,e){return!!(t.nodeName==="LINK"&&t.nodeType===t.ELEMENT_NODE&&t.getAttribute&&t.getAttribute("rel")==="stylesheet"&&e.getMeta(t))}function hasShadowRoot(t){return t?_instanceof(t,BaseRRNode)&&"shadowRoot"in t?!!t.shadowRoot:!!index.shadowRoot(t):!1}var StyleSheetMirror=(function(){function t(){__publicField$1(this,"id",1),__publicField$1(this,"styleIDMap",new WeakMap),__publicField$1(this,"idStyleMap",new Map)}var e=t.prototype;return e.getId=function(r){var o;return(o=this.styleIDMap.get(r))!=null?o:-1},e.has=function(r){return this.styleIDMap.has(r)},e.add=function(r,o){if(this.has(r))return this.getId(r);var s;return o===void 0?s=this.id++:s=o,this.styleIDMap.set(r,s),this.idStyleMap.set(s,r),s},e.getStyle=function(r){return this.idStyleMap.get(r)||null},e.reset=function(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1},e.generateId=function(){return this.id++},t})();function getShadowHost(t){var e,a=null;return"getRootNode"in t&&((e=index.getRootNode(t))==null?void 0:e.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&index.host(index.getRootNode(t))&&(a=index.host(index.getRootNode(t))),a}function getRootShadowHost(t){for(var e=t,a;a=getShadowHost(e);)e=a;return e}function shadowHostInDom(t){var e=t.ownerDocument;if(!e)return!1;var a=getRootShadowHost(t);return index.contains(e,a)}function inDom(t){var e=t.ownerDocument;return e?index.contains(e,t)||shadowHostInDom(t):!1}var EventType=(function(t){return t[t.DomContentLoaded=0]="DomContentLoaded",t[t.Load=1]="Load",t[t.FullSnapshot=2]="FullSnapshot",t[t.IncrementalSnapshot=3]="IncrementalSnapshot",t[t.Meta=4]="Meta",t[t.Custom=5]="Custom",t[t.Plugin=6]="Plugin",t})(EventType||{}),IncrementalSource=(function(t){return t[t.Mutation=0]="Mutation",t[t.MouseMove=1]="MouseMove",t[t.MouseInteraction=2]="MouseInteraction",t[t.Scroll=3]="Scroll",t[t.ViewportResize=4]="ViewportResize",t[t.Input=5]="Input",t[t.TouchMove=6]="TouchMove",t[t.MediaInteraction=7]="MediaInteraction",t[t.StyleSheetRule=8]="StyleSheetRule",t[t.CanvasMutation=9]="CanvasMutation",t[t.Font=10]="Font",t[t.Log=11]="Log",t[t.Drag=12]="Drag",t[t.StyleDeclaration=13]="StyleDeclaration",t[t.Selection=14]="Selection",t[t.AdoptedStyleSheet=15]="AdoptedStyleSheet",t[t.CustomElement=16]="CustomElement",t})(IncrementalSource||{}),MouseInteractions=(function(t){return t[t.MouseUp=0]="MouseUp",t[t.MouseDown=1]="MouseDown",t[t.Click=2]="Click",t[t.ContextMenu=3]="ContextMenu",t[t.DblClick=4]="DblClick",t[t.Focus=5]="Focus",t[t.Blur=6]="Blur",t[t.TouchStart=7]="TouchStart",t[t.TouchMove_Departed=8]="TouchMove_Departed",t[t.TouchEnd=9]="TouchEnd",t[t.TouchCancel=10]="TouchCancel",t})(MouseInteractions||{}),PointerTypes=(function(t){return t[t.Mouse=0]="Mouse",t[t.Pen=1]="Pen",t[t.Touch=2]="Touch",t})(PointerTypes||{}),CanvasContext=(function(t){return t[t["2D"]=0]="2D",t[t.WebGL=1]="WebGL",t[t.WebGL2=2]="WebGL2",t})(CanvasContext||{}),MediaInteractions=(function(t){return t[t.Play=0]="Play",t[t.Pause=1]="Pause",t[t.Seeked=2]="Seeked",t[t.VolumeChange=3]="VolumeChange",t[t.RateChange=4]="RateChange",t})(MediaInteractions||{}),NodeType=(function(t){return t[t.Document=0]="Document",t[t.DocumentType=1]="DocumentType",t[t.Element=2]="Element",t[t.Text=3]="Text",t[t.CDATA=4]="CDATA",t[t.Comment=5]="Comment",t})(NodeType||{});function isNodeInLinkedList(t){return"__ln"in t}var DoubleLinkedList=(function(){function t(){__publicField$1(this,"length",0),__publicField$1(this,"head",null),__publicField$1(this,"tail",null)}var e=t.prototype;return e.get=function(r){if(r>=this.length)throw new Error("Position outside of list range");for(var o=this.head,s=0;s<r;s++)o=o?.next||null;return o},e.addNode=function(r){var o={value:r,previous:null,next:null};if(r.__ln=o,r.previousSibling&&isNodeInLinkedList(r.previousSibling)){var s=r.previousSibling.__ln.next;o.next=s,o.previous=r.previousSibling.__ln,r.previousSibling.__ln.next=o,s&&(s.previous=o)}else if(r.nextSibling&&isNodeInLinkedList(r.nextSibling)&&r.nextSibling.__ln.previous){var l=r.nextSibling.__ln.previous;o.previous=l,o.next=r.nextSibling.__ln,r.nextSibling.__ln.previous=o,l&&(l.next=o)}else this.head&&(this.head.previous=o),o.next=this.head,this.head=o;o.next===null&&(this.tail=o),this.length++},e.removeNode=function(r){var o=r.__ln;this.head&&(o.previous?(o.previous.next=o.next,o.next?o.next.previous=o.previous:this.tail=o.previous):(this.head=o.next,this.head?this.head.previous=null:this.tail=null),r.__ln&&delete r.__ln,this.length--)},t})(),moveKey=function(t,e){return t+"@"+e},MutationBuffer=(function(){function t(){var a=this;__publicField$1(this,"frozen",!1),__publicField$1(this,"locked",!1),__publicField$1(this,"texts",[]),__publicField$1(this,"attributes",[]),__publicField$1(this,"attributeMap",new WeakMap),__publicField$1(this,"removes",[]),__publicField$1(this,"mapRemoves",[]),__publicField$1(this,"movedMap",{}),__publicField$1(this,"addedSet",new Set),__publicField$1(this,"movedSet",new Set),__publicField$1(this,"droppedSet",new Set),__publicField$1(this,"removesSubTreeCache",new Set),__publicField$1(this,"mutationCb"),__publicField$1(this,"blockClass"),__publicField$1(this,"blockSelector"),__publicField$1(this,"maskTextClass"),__publicField$1(this,"maskTextSelector"),__publicField$1(this,"inlineStylesheet"),__publicField$1(this,"maskInputOptions"),__publicField$1(this,"maskTextFn"),__publicField$1(this,"maskInputFn"),__publicField$1(this,"keepIframeSrcFn"),__publicField$1(this,"recordCanvas"),__publicField$1(this,"inlineImages"),__publicField$1(this,"slimDOMOptions"),__publicField$1(this,"dataURLOptions"),__publicField$1(this,"doc"),__publicField$1(this,"mirror"),__publicField$1(this,"iframeManager"),__publicField$1(this,"stylesheetManager"),__publicField$1(this,"shadowDomManager"),__publicField$1(this,"canvasManager"),__publicField$1(this,"processedNodeManager"),__publicField$1(this,"unattachedDoc"),__publicField$1(this,"processMutations",function(r){r.forEach(a.processMutation),a.emit()}),__publicField$1(this,"emit",function(){if(!(a.frozen||a.locked)){for(var r=[],o=new Set,s=new DoubleLinkedList,l=function(G){for(var D=G,M=IGNORED_NODE;M===IGNORED_NODE;)D=D&&D.nextSibling,M=D&&a.mirror.getId(D);return M},c=function(G){var D=index.parentNode(G);if(!(!D||!inDom(G))){var M=!1;if(G.nodeType===Node.TEXT_NODE){var v=D.tagName;if(v==="TEXTAREA")return;v==="STYLE"&&a.addedSet.has(D)&&(M=!0)}var S=isShadowRoot(D)?a.mirror.getId(getShadowHost(G)):a.mirror.getId(D),N=l(G);if(S===-1||N===-1)return s.addNode(G);var R=serializeNodeWithId(G,{doc:a.doc,mirror:a.mirror,blockClass:a.blockClass,blockSelector:a.blockSelector,maskTextClass:a.maskTextClass,maskTextSelector:a.maskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:a.inlineStylesheet,maskInputOptions:a.maskInputOptions,maskTextFn:a.maskTextFn,maskInputFn:a.maskInputFn,slimDOMOptions:a.slimDOMOptions,dataURLOptions:a.dataURLOptions,recordCanvas:a.recordCanvas,inlineImages:a.inlineImages,onSerialize:function(k){isSerializedIframe(k,a.mirror)&&a.iframeManager.addIframe(k),isSerializedStylesheet(k,a.mirror)&&a.stylesheetManager.trackLinkElement(k),hasShadowRoot(G)&&a.shadowDomManager.addShadowRoot(index.shadowRoot(G),a.doc)},onIframeLoad:function(k,j){a.iframeManager.attachIframe(k,j),a.shadowDomManager.observeAttachShadow(k)},onStylesheetLoad:function(k,j){a.stylesheetManager.attachLinkElement(k,j)},cssCaptured:M});R&&(r.push({parentId:S,nextId:N,node:R}),o.add(R.id))}};a.mapRemoves.length;)a.mirror.removeNodeFromMap(a.mapRemoves.shift());for(var u=_create_for_of_iterator_helper_loose(a.movedSet),h;!(h=u()).done;){var f=h.value;isParentRemoved(a.removesSubTreeCache,f,a.mirror)&&!a.movedSet.has(index.parentNode(f))||c(f)}for(var m=_create_for_of_iterator_helper_loose(a.addedSet),g;!(g=m()).done;){var b=g.value;!isAncestorInSet(a.droppedSet,b)&&!isParentRemoved(a.removesSubTreeCache,b,a.mirror)||isAncestorInSet(a.movedSet,b)?c(b):a.droppedSet.add(b)}for(var w=null;s.length;){var E=null;if(w){var C=a.mirror.getId(index.parentNode(w.value)),B=l(w.value);C!==-1&&B!==-1&&(E=w)}if(!E)for(var O=s.tail;O;){var P=O;if(O=O.previous,P){var q=a.mirror.getId(index.parentNode(P.value)),z=l(P.value);if(z===-1)continue;if(q!==-1){E=P;break}else{var V=P.value,Z=index.parentNode(V);if(Z&&Z.nodeType===Node.DOCUMENT_FRAGMENT_NODE){var J=index.host(Z),W=a.mirror.getId(J);if(W!==-1){E=P;break}}}}}if(!E){for(;s.head;)s.removeNode(s.head.value);break}w=E.previous,s.removeNode(E.value),c(E.value)}var te={texts:a.texts.map(function(G){var D=G.node,M=index.parentNode(D);return M&&M.tagName==="TEXTAREA"&&a.genTextAreaValueMutation(M),{id:a.mirror.getId(D),value:G.value}}).filter(function(G){return!o.has(G.id)}).filter(function(G){return a.mirror.has(G.id)}),attributes:a.attributes.map(function(G){var D=G.attributes;if(typeof D.style=="string"){var M=JSON.stringify(G.styleDiff),v=JSON.stringify(G._unchangedStyles);M.length<D.style.length&&(M+v).split("var(").length===D.style.split("var(").length&&(D.style=G.styleDiff)}return{id:a.mirror.getId(G.node),attributes:D}}).filter(function(G){return!o.has(G.id)}).filter(function(G){return a.mirror.has(G.id)}),removes:a.removes,adds:r};!te.texts.length&&!te.attributes.length&&!te.removes.length&&!te.adds.length||(a.texts=[],a.attributes=[],a.attributeMap=new WeakMap,a.removes=[],a.addedSet=new Set,a.movedSet=new Set,a.droppedSet=new Set,a.removesSubTreeCache=new Set,a.movedMap={},a.mutationCb(te))}}),__publicField$1(this,"genTextAreaValueMutation",function(r){var o=a.attributeMap.get(r);o||(o={node:r,attributes:{},styleDiff:{},_unchangedStyles:{}},a.attributes.push(o),a.attributeMap.set(r,o));var s=Array.from(index.childNodes(r),function(l){return index.textContent(l)||""}).join("");o.attributes.value=maskInputValue({element:r,maskInputOptions:a.maskInputOptions,tagName:r.tagName,type:getInputType(r),value:s,maskInputFn:a.maskInputFn})}),__publicField$1(this,"processMutation",function(r){if(!isIgnored(r.target,a.mirror,a.slimDOMOptions))switch(r.type){case"characterData":{var o=index.textContent(r.target);!isBlocked(r.target,a.blockClass,a.blockSelector,!1)&&o!==r.oldValue&&a.texts.push({value:needMaskingText(r.target,a.maskTextClass,a.maskTextSelector,!0)&&o?a.maskTextFn?a.maskTextFn(o,closestElementOfNode(r.target)):o.replace(/[\S]/g,"*"):o,node:r.target});break}case"attributes":{var s=r.target,l=r.attributeName,c=r.target.getAttribute(l);if(l==="value"){var u=getInputType(s);c=maskInputValue({element:s,maskInputOptions:a.maskInputOptions,tagName:s.tagName,type:u,value:c,maskInputFn:a.maskInputFn})}if(isBlocked(r.target,a.blockClass,a.blockSelector,!1)||c===r.oldValue)return;var h=a.attributeMap.get(r.target);if(s.tagName==="IFRAME"&&l==="src"&&!a.keepIframeSrcFn(c))if(!s.contentDocument)l="rr_src";else return;if(h||(h={node:r.target,attributes:{},styleDiff:{},_unchangedStyles:{}},a.attributes.push(h),a.attributeMap.set(r.target,h)),l==="type"&&s.tagName==="INPUT"&&(r.oldValue||"").toLowerCase()==="password"&&s.setAttribute("data-rr-is-password","true"),!ignoreAttribute(s.tagName,l))if(h.attributes[l]=transformAttribute(a.doc,toLowerCase(s.tagName),toLowerCase(l),c),l==="style"){if(!a.unattachedDoc)try{a.unattachedDoc=document.implementation.createHTMLDocument()}catch{a.unattachedDoc=a.doc}var f=a.unattachedDoc.createElement("span");r.oldValue&&f.setAttribute("style",r.oldValue);for(var m=_create_for_of_iterator_helper_loose(Array.from(s.style)),g;!(g=m()).done;){var b=g.value,w=s.style.getPropertyValue(b),E=s.style.getPropertyPriority(b);w!==f.style.getPropertyValue(b)||E!==f.style.getPropertyPriority(b)?E===""?h.styleDiff[b]=w:h.styleDiff[b]=[w,E]:h._unchangedStyles[b]=[w,E]}for(var C=_create_for_of_iterator_helper_loose(Array.from(f.style)),B;!(B=C()).done;){var O=B.value;s.style.getPropertyValue(O)===""&&(h.styleDiff[O]=!1)}}else l==="open"&&s.tagName==="DIALOG"&&(s.matches("dialog:modal")?h.attributes.rr_open_mode="modal":h.attributes.rr_open_mode="non-modal");break}case"childList":{if(isBlocked(r.target,a.blockClass,a.blockSelector,!0))return;if(r.target.tagName==="TEXTAREA"){a.genTextAreaValueMutation(r.target);return}r.addedNodes.forEach(function(P){return a.genAdds(P,r.target)}),r.removedNodes.forEach(function(P){var q=a.mirror.getId(P),z=isShadowRoot(r.target)?a.mirror.getId(index.host(r.target)):a.mirror.getId(r.target);isBlocked(r.target,a.blockClass,a.blockSelector,!1)||isIgnored(P,a.mirror,a.slimDOMOptions)||!isSerialized(P,a.mirror)||(a.addedSet.has(P)?(deepDelete(a.addedSet,P),a.droppedSet.add(P)):a.addedSet.has(r.target)&&q===-1||isAncestorRemoved(r.target,a.mirror)||(a.movedSet.has(P)&&a.movedMap[moveKey(q,z)]?deepDelete(a.movedSet,P):(a.removes.push({parentId:z,id:q,isShadow:isShadowRoot(r.target)&&isNativeShadowDom(r.target)?!0:void 0}),processRemoves(P,a.removesSubTreeCache))),a.mapRemoves.push(P))});break}}}),__publicField$1(this,"genAdds",function(r,o){if(!a.processedNodeManager.inOtherBuffer(r,a)&&!(a.addedSet.has(r)||a.movedSet.has(r))){if(a.mirror.hasNode(r)){if(isIgnored(r,a.mirror,a.slimDOMOptions))return;a.movedSet.add(r);var s=null;o&&a.mirror.hasNode(o)&&(s=a.mirror.getId(o)),s&&s!==-1&&(a.movedMap[moveKey(a.mirror.getId(r),s)]=!0)}else a.addedSet.add(r),a.droppedSet.delete(r);isBlocked(r,a.blockClass,a.blockSelector,!1)||(index.childNodes(r).forEach(function(l){return a.genAdds(l)}),hasShadowRoot(r)&&index.childNodes(index.shadowRoot(r)).forEach(function(l){a.processedNodeManager.add(l,a),a.genAdds(l,r)}))}})}var e=t.prototype;return e.init=function(r){var o=this;["mutationCb","blockClass","blockSelector","maskTextClass","maskTextSelector","inlineStylesheet","maskInputOptions","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(function(s){o[s]=r[s]})},e.freeze=function(){this.frozen=!0,this.canvasManager.freeze()},e.unfreeze=function(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()},e.isFrozen=function(){return this.frozen},e.lock=function(){this.locked=!0,this.canvasManager.lock()},e.unlock=function(){this.locked=!1,this.canvasManager.unlock(),this.emit()},e.reset=function(){this.shadowDomManager.reset(),this.canvasManager.reset()},t})();function deepDelete(t,e){t.delete(e),index.childNodes(e).forEach(function(a){return deepDelete(t,a)})}function processRemoves(t,e){for(var a=[t];a.length;){var r=a.pop();e.has(r)||(e.add(r),index.childNodes(r).forEach(function(o){return a.push(o)}))}}function isParentRemoved(t,e,a){return t.size===0?!1:_isParentRemoved(t,e)}function _isParentRemoved(t,e,a){var r=index.parentNode(e);return r?t.has(r):!1}function isAncestorInSet(t,e){return t.size===0?!1:_isAncestorInSet(t,e)}function _isAncestorInSet(t,e){var a=index.parentNode(e);return a?t.has(a)?!0:_isAncestorInSet(t,a):!1}var errorHandler;function registerErrorHandler(t){errorHandler=t}function unregisterErrorHandler(){errorHandler=void 0}var callbackWrapper=function(t){if(!errorHandler)return t;var e=function(){for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];try{return t.apply(void 0,[].concat(r))}catch(s){if(errorHandler&&errorHandler(s)===!0)return;throw s}};return e},mutationBuffers=[];function getEventTarget(t){try{if("composedPath"in t){var e=t.composedPath();if(e.length)return e[0]}else if("path"in t&&t.path.length)return t.path[0]}catch{}return t&&t.target}function initMutationObserver(t,e){var a=new MutationBuffer;mutationBuffers.push(a),a.init(t);var r=new(mutationObserverCtor())(callbackWrapper(a.processMutations.bind(a)));return r.observe(e,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),r}function initMoveObserver(t){var e=t.mousemoveCb,a=t.sampling,r=t.doc,o=t.mirror;if(a.mousemove===!1)return function(){};var s=typeof a.mousemove=="number"?a.mousemove:50,l=typeof a.mousemoveCallback=="number"?a.mousemoveCallback:500,c=[],u,h=throttle(callbackWrapper(function(g){var b=Date.now()-u;e(c.map(function(w){return w.timeOffset-=b,w}),g),c=[],u=null}),l),f=callbackWrapper(throttle(callbackWrapper(function(g){var b=getEventTarget(g),w=legacy_isTouchEvent(g)?g.changedTouches[0]:g,E=w.clientX,C=w.clientY;u||(u=nowTimestamp()),c.push({x:E,y:C,id:o.getId(b),timeOffset:nowTimestamp()-u}),h(typeof DragEvent<"u"&&_instanceof(g,DragEvent)?IncrementalSource.Drag:_instanceof(g,MouseEvent)?IncrementalSource.MouseMove:IncrementalSource.TouchMove)}),s,{trailing:!1})),m=[on("mousemove",f,r),on("touchmove",f,r),on("drag",f,r)];return callbackWrapper(function(){m.forEach(function(g){return g()})})}function initMouseInteractionObserver(t){var e=t.mouseInteractionCb,a=t.doc,r=t.mirror,o=t.blockClass,s=t.blockSelector,l=t.sampling;if(l.mouseInteraction===!1)return function(){};var c=l.mouseInteraction===!0||l.mouseInteraction===void 0?{}:l.mouseInteraction,u=[],h=null,f=function(m){return function(g){var b=getEventTarget(g);if(!isBlocked(b,o,s,!0)){var w=null,E=m;if("pointerType"in g){switch(g.pointerType){case"mouse":w=PointerTypes.Mouse;break;case"touch":w=PointerTypes.Touch;break;case"pen":w=PointerTypes.Pen;break}w===PointerTypes.Touch?MouseInteractions[m]===MouseInteractions.MouseDown?E="TouchStart":MouseInteractions[m]===MouseInteractions.MouseUp&&(E="TouchEnd"):PointerTypes.Pen}else legacy_isTouchEvent(g)&&(w=PointerTypes.Touch);w!==null?(h=w,(E.startsWith("Touch")&&w===PointerTypes.Touch||E.startsWith("Mouse")&&w===PointerTypes.Mouse)&&(w=null)):MouseInteractions[m]===MouseInteractions.Click&&(w=h,h=null);var C=legacy_isTouchEvent(g)?g.changedTouches[0]:g;if(C){var B=r.getId(b),O=C.clientX,P=C.clientY;callbackWrapper(e)(_extends({type:MouseInteractions[E],id:B,x:O,y:P},w!==null&&{pointerType:w}))}}}};return Object.keys(MouseInteractions).filter(function(m){return Number.isNaN(Number(m))&&!m.endsWith("_Departed")&&c[m]!==!1}).forEach(function(m){var g=toLowerCase(m),b=f(m);if(window.PointerEvent)switch(MouseInteractions[m]){case MouseInteractions.MouseDown:case MouseInteractions.MouseUp:g=g.replace("mouse","pointer");break;case MouseInteractions.TouchStart:case MouseInteractions.TouchEnd:return}u.push(on(g,b,a))}),callbackWrapper(function(){u.forEach(function(m){return m()})})}function initScrollObserver(t){var e=t.scrollCb,a=t.doc,r=t.mirror,o=t.blockClass,s=t.blockSelector,l=t.sampling,c=callbackWrapper(throttle(callbackWrapper(function(u){var h=getEventTarget(u);if(!(!h||isBlocked(h,o,s,!0))){var f=r.getId(h);if(h===a&&a.defaultView){var m=getWindowScroll(a.defaultView);e({id:f,x:m.left,y:m.top})}else e({id:f,x:h.scrollLeft,y:h.scrollTop})}}),l.scroll||100));return on("scroll",c,a)}function initViewportResizeObserver(t,e){var a=t.viewportResizeCb,r=e.win,o=-1,s=-1,l=callbackWrapper(throttle(callbackWrapper(function(){var c=getWindowHeight(),u=getWindowWidth();(o!==c||s!==u)&&(a({width:Number(u),height:Number(c)}),o=c,s=u)}),200));return on("resize",l,r)}var INPUT_TAGS=["INPUT","TEXTAREA","SELECT"],lastInputValueMap=new WeakMap;function initInputObserver(t){var e=t.inputCb,a=t.doc,r=t.mirror,o=t.blockClass,s=t.blockSelector,l=t.ignoreClass,c=t.ignoreSelector,u=t.maskInputOptions,h=t.maskInputFn,f=t.sampling,m=t.userTriggeredOnInput;function g(q){var z=getEventTarget(q),V=q.isTrusted,Z=z&&z.tagName;if(z&&Z==="OPTION"&&(z=index.parentElement(z)),!(!z||!Z||INPUT_TAGS.indexOf(Z)<0||isBlocked(z,o,s,!0))&&!(z.classList.contains(l)||c&&z.matches(c))){var J=z.value,W=!1,te=getInputType(z)||"";te==="radio"||te==="checkbox"?W=z.checked:(u[Z.toLowerCase()]||u[te])&&(J=maskInputValue({element:z,maskInputOptions:u,tagName:Z,type:te,value:J,maskInputFn:h})),b(z,m?{text:J,isChecked:W,userTriggered:V}:{text:J,isChecked:W});var G=z.name;te==="radio"&&G&&W&&a.querySelectorAll('input[type="radio"][name="'+G+'"]').forEach(function(D){if(D!==z){var M=D.value;b(D,m?{text:M,isChecked:!W,userTriggered:!1}:{text:M,isChecked:!W})}})}}function b(q,z){var V=lastInputValueMap.get(q);if(!V||V.text!==z.text||V.isChecked!==z.isChecked){lastInputValueMap.set(q,z);var Z=r.getId(q);callbackWrapper(e)(_extends({},z,{id:Z}))}}var w=f.input==="last"?["change"]:["input","change"],E=w.map(function(q){return on(q,callbackWrapper(g),a)}),C=a.defaultView;if(!C)return function(){E.forEach(function(q){return q()})};var B=C.Object.getOwnPropertyDescriptor(C.HTMLInputElement.prototype,"value"),O=[[C.HTMLInputElement.prototype,"value"],[C.HTMLInputElement.prototype,"checked"],[C.HTMLSelectElement.prototype,"value"],[C.HTMLTextAreaElement.prototype,"value"],[C.HTMLSelectElement.prototype,"selectedIndex"],[C.HTMLOptionElement.prototype,"selected"]];if(B&&B.set){var P;(P=E).push.apply(P,[].concat(O.map(function(q){return hookSetter(q[0],q[1],{set:function(){callbackWrapper(g)({target:this,isTrusted:!1})}},!1,C)})))}return callbackWrapper(function(){E.forEach(function(q){return q()})})}function getNestedCSSRulePositions(t){var e=[];function a(r,o){if(hasNestedCSSRule("CSSGroupingRule")&&_instanceof(r.parentRule,CSSGroupingRule)||hasNestedCSSRule("CSSMediaRule")&&_instanceof(r.parentRule,CSSMediaRule)||hasNestedCSSRule("CSSSupportsRule")&&_instanceof(r.parentRule,CSSSupportsRule)||hasNestedCSSRule("CSSConditionRule")&&_instanceof(r.parentRule,CSSConditionRule)){var s=Array.from(r.parentRule.cssRules),l=s.indexOf(r);o.unshift(l)}else if(r.parentStyleSheet){var c=Array.from(r.parentStyleSheet.cssRules),u=c.indexOf(r);o.unshift(u)}return o}return a(t,e)}function getIdAndStyleId(t,e,a){var r,o;return t?(t.ownerNode?r=e.getId(t.ownerNode):o=a.getId(t),{styleId:o,id:r}):{}}function initStyleSheetObserver(t,e){var a=t.styleSheetRuleCb,r=t.mirror,o=t.stylesheetManager,s=e.win;if(!s.CSSStyleSheet||!s.CSSStyleSheet.prototype)return function(){};var l=s.CSSStyleSheet.prototype.insertRule;s.CSSStyleSheet.prototype.insertRule=new Proxy(l,{apply:callbackWrapper(function(g,b,w){var E=w[0],C=w[1],B=getIdAndStyleId(b,r,o.styleMirror),O=B.id,P=B.styleId;return(O&&O!==-1||P&&P!==-1)&&a({id:O,styleId:P,adds:[{rule:E,index:C}]}),g.apply(b,w)})}),s.CSSStyleSheet.prototype.addRule=function(g,b,w){w===void 0&&(w=this.cssRules.length);var E=g+" { "+b+" }";return s.CSSStyleSheet.prototype.insertRule.apply(this,[E,w])};var c=s.CSSStyleSheet.prototype.deleteRule;s.CSSStyleSheet.prototype.deleteRule=new Proxy(c,{apply:callbackWrapper(function(g,b,w){var E=w[0],C=getIdAndStyleId(b,r,o.styleMirror),B=C.id,O=C.styleId;return(B&&B!==-1||O&&O!==-1)&&a({id:B,styleId:O,removes:[{index:E}]}),g.apply(b,w)})}),s.CSSStyleSheet.prototype.removeRule=function(g){return s.CSSStyleSheet.prototype.deleteRule.apply(this,[g])};var u;s.CSSStyleSheet.prototype.replace&&(u=s.CSSStyleSheet.prototype.replace,s.CSSStyleSheet.prototype.replace=new Proxy(u,{apply:callbackWrapper(function(g,b,w){var E=w[0],C=getIdAndStyleId(b,r,o.styleMirror),B=C.id,O=C.styleId;return(B&&B!==-1||O&&O!==-1)&&a({id:B,styleId:O,replace:E}),g.apply(b,w)})}));var h;s.CSSStyleSheet.prototype.replaceSync&&(h=s.CSSStyleSheet.prototype.replaceSync,s.CSSStyleSheet.prototype.replaceSync=new Proxy(h,{apply:callbackWrapper(function(g,b,w){var E=w[0],C=getIdAndStyleId(b,r,o.styleMirror),B=C.id,O=C.styleId;return(B&&B!==-1||O&&O!==-1)&&a({id:B,styleId:O,replaceSync:E}),g.apply(b,w)})}));var f={};canMonkeyPatchNestedCSSRule("CSSGroupingRule")?f.CSSGroupingRule=s.CSSGroupingRule:(canMonkeyPatchNestedCSSRule("CSSMediaRule")&&(f.CSSMediaRule=s.CSSMediaRule),canMonkeyPatchNestedCSSRule("CSSConditionRule")&&(f.CSSConditionRule=s.CSSConditionRule),canMonkeyPatchNestedCSSRule("CSSSupportsRule")&&(f.CSSSupportsRule=s.CSSSupportsRule));var m={};return Object.entries(f).forEach(function(g){var b=g[0],w=g[1];m[b]={insertRule:w.prototype.insertRule,deleteRule:w.prototype.deleteRule},w.prototype.insertRule=new Proxy(m[b].insertRule,{apply:callbackWrapper(function(E,C,B){var O=B[0],P=B[1],q=getIdAndStyleId(C.parentStyleSheet,r,o.styleMirror),z=q.id,V=q.styleId;return(z&&z!==-1||V&&V!==-1)&&a({id:z,styleId:V,adds:[{rule:O,index:[].concat(getNestedCSSRulePositions(C),[P||0])}]}),E.apply(C,B)})}),w.prototype.deleteRule=new Proxy(m[b].deleteRule,{apply:callbackWrapper(function(E,C,B){var O=B[0],P=getIdAndStyleId(C.parentStyleSheet,r,o.styleMirror),q=P.id,z=P.styleId;return(q&&q!==-1||z&&z!==-1)&&a({id:q,styleId:z,removes:[{index:[].concat(getNestedCSSRulePositions(C),[O])}]}),E.apply(C,B)})})}),callbackWrapper(function(){s.CSSStyleSheet.prototype.insertRule=l,s.CSSStyleSheet.prototype.deleteRule=c,u&&(s.CSSStyleSheet.prototype.replace=u),h&&(s.CSSStyleSheet.prototype.replaceSync=h),Object.entries(f).forEach(function(g){var b=g[0],w=g[1];w.prototype.insertRule=m[b].insertRule,w.prototype.deleteRule=m[b].deleteRule})})}function initAdoptedStyleSheetObserver(t,e){var a=t.mirror,r=t.stylesheetManager,o,s,l,c=null;e.nodeName==="#document"?c=a.getId(e):c=a.getId(index.host(e));var u=e.nodeName==="#document"?(o=e.defaultView)==null?void 0:o.Document:(l=(s=e.ownerDocument)==null?void 0:s.defaultView)==null?void 0:l.ShadowRoot,h=u?.prototype?Object.getOwnPropertyDescriptor(u?.prototype,"adoptedStyleSheets"):void 0;return c===null||c===-1||!u||!h?function(){}:(Object.defineProperty(e,"adoptedStyleSheets",{configurable:h.configurable,enumerable:h.enumerable,get:function(){var m;return(m=h.get)==null?void 0:m.call(this)},set:function(m){var g,b=(g=h.set)==null?void 0:g.call(this,m);if(c!==null&&c!==-1)try{r.adoptStyleSheets(m,c)}catch{}return b}}),callbackWrapper(function(){Object.defineProperty(e,"adoptedStyleSheets",{configurable:h.configurable,enumerable:h.enumerable,get:h.get,set:h.set})}))}function initStyleDeclarationObserver(t,e){var a=t.styleDeclarationCb,r=t.mirror,o=t.ignoreCSSAttributes,s=t.stylesheetManager,l=e.win,c=l.CSSStyleDeclaration.prototype.setProperty;l.CSSStyleDeclaration.prototype.setProperty=new Proxy(c,{apply:callbackWrapper(function(h,f,m){var g,b=m[0],w=m[1],E=m[2];if(o.has(b))return c.apply(f,[b,w,E]);var C=getIdAndStyleId((g=f.parentRule)==null?void 0:g.parentStyleSheet,r,s.styleMirror),B=C.id,O=C.styleId;return(B&&B!==-1||O&&O!==-1)&&a({id:B,styleId:O,set:{property:b,value:w,priority:E},index:getNestedCSSRulePositions(f.parentRule)}),h.apply(f,m)})});var u=l.CSSStyleDeclaration.prototype.removeProperty;return l.CSSStyleDeclaration.prototype.removeProperty=new Proxy(u,{apply:callbackWrapper(function(h,f,m){var g,b=m[0];if(o.has(b))return u.apply(f,[b]);var w=getIdAndStyleId((g=f.parentRule)==null?void 0:g.parentStyleSheet,r,s.styleMirror),E=w.id,C=w.styleId;return(E&&E!==-1||C&&C!==-1)&&a({id:E,styleId:C,remove:{property:b},index:getNestedCSSRulePositions(f.parentRule)}),h.apply(f,m)})}),callbackWrapper(function(){l.CSSStyleDeclaration.prototype.setProperty=c,l.CSSStyleDeclaration.prototype.removeProperty=u})}function initMediaInteractionObserver(t){var e=t.mediaInteractionCb,a=t.blockClass,r=t.blockSelector,o=t.mirror,s=t.sampling,l=t.doc,c=callbackWrapper(function(h){return throttle(callbackWrapper(function(f){var m=getEventTarget(f);if(!(!m||isBlocked(m,a,r,!0))){var g=m.currentTime,b=m.volume,w=m.muted,E=m.playbackRate,C=m.loop;e({type:h,id:o.getId(m),currentTime:g,volume:b,muted:w,playbackRate:E,loop:C})}}),s.media||500)}),u=[on("play",c(MediaInteractions.Play),l),on("pause",c(MediaInteractions.Pause),l),on("seeked",c(MediaInteractions.Seeked),l),on("volumechange",c(MediaInteractions.VolumeChange),l),on("ratechange",c(MediaInteractions.RateChange),l)];return callbackWrapper(function(){u.forEach(function(h){return h()})})}function initFontObserver(t){var e=t.fontCb,a=t.doc,r=a.defaultView;if(!r)return function(){};var o=[],s=new WeakMap,l=r.FontFace;r.FontFace=function(h,f,m){var g=new l(h,f,m);return s.set(g,{family:h,buffer:typeof f!="string",descriptors:m,fontSource:typeof f=="string"?f:JSON.stringify(Array.from(new Uint8Array(f)))}),g};var c=patch$2(a.fonts,"add",function(u){return function(h){return setTimeout(callbackWrapper(function(){var f=s.get(h);f&&(e(f),s.delete(h))}),0),u.apply(this,[h])}});return o.push(function(){r.FontFace=l}),o.push(c),callbackWrapper(function(){o.forEach(function(u){return u()})})}function initSelectionObserver(t){var e=t.doc,a=t.mirror,r=t.blockClass,o=t.blockSelector,s=t.selectionCb,l=!0,c=callbackWrapper(function(){var u=e.getSelection();if(!(!u||l&&u?.isCollapsed)){l=u.isCollapsed||!1;for(var h=[],f=u.rangeCount||0,m=0;m<f;m++){var g=u.getRangeAt(m),b=g.startContainer,w=g.startOffset,E=g.endContainer,C=g.endOffset,B=isBlocked(b,r,o,!0)||isBlocked(E,r,o,!0);B||h.push({start:a.getId(b),startOffset:w,end:a.getId(E),endOffset:C})}s({ranges:h})}});return c(),on("selectionchange",c)}function initCustomElementObserver(t){var e=t.doc,a=t.customElementCb,r=e.defaultView;if(!r||!r.customElements)return function(){};var o=patch$2(r.customElements,"define",function(s){return function(l,c,u){try{a({define:{name:l}})}catch{console.warn("Custom element callback failed for "+l)}return s.apply(this,[l,c,u])}});return o}function mergeHooks(t,e){var a=t.mutationCb,r=t.mousemoveCb,o=t.mouseInteractionCb,s=t.scrollCb,l=t.viewportResizeCb,c=t.inputCb,u=t.mediaInteractionCb,h=t.styleSheetRuleCb,f=t.styleDeclarationCb,m=t.canvasMutationCb,g=t.fontCb,b=t.selectionCb,w=t.customElementCb;t.mutationCb=function(){for(var E=arguments.length,C=new Array(E),B=0;B<E;B++)C[B]=arguments[B];if(e.mutation){var O;(O=e).mutation.apply(O,[].concat(C))}a.apply(void 0,[].concat(C))},t.mousemoveCb=function(){for(var E=arguments.length,C=new Array(E),B=0;B<E;B++)C[B]=arguments[B];if(e.mousemove){var O;(O=e).mousemove.apply(O,[].concat(C))}r.apply(void 0,[].concat(C))},t.mouseInteractionCb=function(){for(var E=arguments.length,C=new Array(E),B=0;B<E;B++)C[B]=arguments[B];if(e.mouseInteraction){var O;(O=e).mouseInteraction.apply(O,[].concat(C))}o.apply(void 0,[].concat(C))},t.scrollCb=function(){for(var E=arguments.length,C=new Array(E),B=0;B<E;B++)C[B]=arguments[B];if(e.scroll){var O;(O=e).scroll.apply(O,[].concat(C))}s.apply(void 0,[].concat(C))},t.viewportResizeCb=function(){for(var E=arguments.length,C=new Array(E),B=0;B<E;B++)C[B]=arguments[B];if(e.viewportResize){var O;(O=e).viewportResize.apply(O,[].concat(C))}l.apply(void 0,[].concat(C))},t.inputCb=function(){for(var E=arguments.length,C=new Array(E),B=0;B<E;B++)C[B]=arguments[B];if(e.input){var O;(O=e).input.apply(O,[].concat(C))}c.apply(void 0,[].concat(C))},t.mediaInteractionCb=function(){for(var E=arguments.length,C=new Array(E),B=0;B<E;B++)C[B]=arguments[B];if(e.mediaInteaction){var O;(O=e).mediaInteaction.apply(O,[].concat(C))}u.apply(void 0,[].concat(C))},t.styleSheetRuleCb=function(){for(var E=arguments.length,C=new Array(E),B=0;B<E;B++)C[B]=arguments[B];if(e.styleSheetRule){var O;(O=e).styleSheetRule.apply(O,[].concat(C))}h.apply(void 0,[].concat(C))},t.styleDeclarationCb=function(){for(var E=arguments.length,C=new Array(E),B=0;B<E;B++)C[B]=arguments[B];if(e.styleDeclaration){var O;(O=e).styleDeclaration.apply(O,[].concat(C))}f.apply(void 0,[].concat(C))},t.canvasMutationCb=function(){for(var E=arguments.length,C=new Array(E),B=0;B<E;B++)C[B]=arguments[B];if(e.canvasMutation){var O;(O=e).canvasMutation.apply(O,[].concat(C))}m.apply(void 0,[].concat(C))},t.fontCb=function(){for(var E=arguments.length,C=new Array(E),B=0;B<E;B++)C[B]=arguments[B];if(e.font){var O;(O=e).font.apply(O,[].concat(C))}g.apply(void 0,[].concat(C))},t.selectionCb=function(){for(var E=arguments.length,C=new Array(E),B=0;B<E;B++)C[B]=arguments[B];if(e.selection){var O;(O=e).selection.apply(O,[].concat(C))}b.apply(void 0,[].concat(C))},t.customElementCb=function(){for(var E=arguments.length,C=new Array(E),B=0;B<E;B++)C[B]=arguments[B];if(e.customElement){var O;(O=e).customElement.apply(O,[].concat(C))}w.apply(void 0,[].concat(C))}}function initObservers(t,e){e===void 0&&(e={});var a=t.doc.defaultView;if(!a)return function(){};mergeHooks(t,e);var r;t.recordDOM&&(r=initMutationObserver(t,t.doc));var o=initMoveObserver(t),s=initMouseInteractionObserver(t),l=initScrollObserver(t),c=initViewportResizeObserver(t,{win:a}),u=initInputObserver(t),h=initMediaInteractionObserver(t),f=function(){},m=function(){},g=function(){},b=function(){};t.recordDOM&&(f=initStyleSheetObserver(t,{win:a}),m=initAdoptedStyleSheetObserver(t,t.doc),g=initStyleDeclarationObserver(t,{win:a}),t.collectFonts&&(b=initFontObserver(t)));for(var w=initSelectionObserver(t),E=initCustomElementObserver(t),C=[],B=_create_for_of_iterator_helper_loose(t.plugins),O;!(O=B()).done;){var P=O.value;C.push(P.observer(P.callback,a,P.options))}return callbackWrapper(function(){mutationBuffers.forEach(function(q){return q.reset()}),r?.disconnect(),o(),s(),l(),c(),u(),h(),f(),m(),g(),b(),w(),E(),C.forEach(function(q){return q()})})}function hasNestedCSSRule(t){return typeof window[t]<"u"}function canMonkeyPatchNestedCSSRule(t){return!!(typeof window[t]<"u"&&window[t].prototype&&"insertRule"in window[t].prototype&&"deleteRule"in window[t].prototype)}var CrossOriginIframeMirror=(function(){function t(a){__publicField$1(this,"iframeIdToRemoteIdMap",new WeakMap),__publicField$1(this,"iframeRemoteIdToIdMap",new WeakMap),this.generateIdFn=a}var e=t.prototype;return e.getId=function(r,o,s,l){var c=s||this.getIdToRemoteIdMap(r),u=l||this.getRemoteIdToIdMap(r),h=c.get(o);return h||(h=this.generateIdFn(),c.set(o,h),u.set(h,o)),h},e.getIds=function(r,o){var s=this,l=this.getIdToRemoteIdMap(r),c=this.getRemoteIdToIdMap(r);return o.map(function(u){return s.getId(r,u,l,c)})},e.getRemoteId=function(r,o,s){var l=s||this.getRemoteIdToIdMap(r);if(typeof o!="number")return o;var c=l.get(o);return c||-1},e.getRemoteIds=function(r,o){var s=this,l=this.getRemoteIdToIdMap(r);return o.map(function(c){return s.getRemoteId(r,c,l)})},e.reset=function(r){if(!r){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(r),this.iframeRemoteIdToIdMap.delete(r)},e.getIdToRemoteIdMap=function(r){var o=this.iframeIdToRemoteIdMap.get(r);return o||(o=new Map,this.iframeIdToRemoteIdMap.set(r,o)),o},e.getRemoteIdToIdMap=function(r){var o=this.iframeRemoteIdToIdMap.get(r);return o||(o=new Map,this.iframeRemoteIdToIdMap.set(r,o)),o},t})(),IframeManager=(function(){function t(a){__publicField$1(this,"iframes",new WeakMap),__publicField$1(this,"crossOriginIframeMap",new WeakMap),__publicField$1(this,"crossOriginIframeMirror",new CrossOriginIframeMirror(genId)),__publicField$1(this,"crossOriginIframeStyleMirror"),__publicField$1(this,"crossOriginIframeRootIdMap",new WeakMap),__publicField$1(this,"mirror"),__publicField$1(this,"mutationCb"),__publicField$1(this,"wrappedEmit"),__publicField$1(this,"loadListener"),__publicField$1(this,"stylesheetManager"),__publicField$1(this,"recordCrossOriginIframes"),this.mutationCb=a.mutationCb,this.wrappedEmit=a.wrappedEmit,this.stylesheetManager=a.stylesheetManager,this.recordCrossOriginIframes=a.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new CrossOriginIframeMirror(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=a.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}var e=t.prototype;return e.addIframe=function(r){this.iframes.set(r,!0),r.contentWindow&&this.crossOriginIframeMap.set(r.contentWindow,r)},e.addLoadListener=function(r){this.loadListener=r},e.attachIframe=function(r,o){var s,l;this.mutationCb({adds:[{parentId:this.mirror.getId(r),nextId:null,node:o}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&((s=r.contentWindow)==null||s.addEventListener("message",this.handleMessage.bind(this))),(l=this.loadListener)==null||l.call(this,r),r.contentDocument&&r.contentDocument.adoptedStyleSheets&&r.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(r.contentDocument.adoptedStyleSheets,this.mirror.getId(r.contentDocument))},e.handleMessage=function(r){var o=r;if(!(o.data.type!=="rrweb"||o.origin!==o.data.origin)){var s=r.source;if(s){var l=this.crossOriginIframeMap.get(r.source);if(l){var c=this.transformCrossOriginEvent(l,o.data.event);c&&this.wrappedEmit(c,o.data.isCheckout)}}}},e.transformCrossOriginEvent=function(r,o){var s=this,l;switch(o.type){case EventType.FullSnapshot:{this.crossOriginIframeMirror.reset(r),this.crossOriginIframeStyleMirror.reset(r),this.replaceIdOnNode(o.data.node,r);var c=o.data.node.id;return this.crossOriginIframeRootIdMap.set(r,c),this.patchRootIdOnNode(o.data.node,c),{timestamp:o.timestamp,type:EventType.IncrementalSnapshot,data:{source:IncrementalSource.Mutation,adds:[{parentId:this.mirror.getId(r),nextId:null,node:o.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case EventType.Meta:case EventType.Load:case EventType.DomContentLoaded:return!1;case EventType.Plugin:return o;case EventType.Custom:return this.replaceIds(o.data.payload,r,["id","parentId","previousId","nextId"]),o;case EventType.IncrementalSnapshot:switch(o.data.source){case IncrementalSource.Mutation:return o.data.adds.forEach(function(u){s.replaceIds(u,r,["parentId","nextId","previousId"]),s.replaceIdOnNode(u.node,r);var h=s.crossOriginIframeRootIdMap.get(r);h&&s.patchRootIdOnNode(u.node,h)}),o.data.removes.forEach(function(u){s.replaceIds(u,r,["parentId","id"])}),o.data.attributes.forEach(function(u){s.replaceIds(u,r,["id"])}),o.data.texts.forEach(function(u){s.replaceIds(u,r,["id"])}),o;case IncrementalSource.Drag:case IncrementalSource.TouchMove:case IncrementalSource.MouseMove:return o.data.positions.forEach(function(u){s.replaceIds(u,r,["id"])}),o;case IncrementalSource.ViewportResize:return!1;case IncrementalSource.MediaInteraction:case IncrementalSource.MouseInteraction:case IncrementalSource.Scroll:case IncrementalSource.CanvasMutation:case IncrementalSource.Input:return this.replaceIds(o.data,r,["id"]),o;case IncrementalSource.StyleSheetRule:case IncrementalSource.StyleDeclaration:return this.replaceIds(o.data,r,["id"]),this.replaceStyleIds(o.data,r,["styleId"]),o;case IncrementalSource.Font:return o;case IncrementalSource.Selection:return o.data.ranges.forEach(function(u){s.replaceIds(u,r,["start","end"])}),o;case IncrementalSource.AdoptedStyleSheet:return this.replaceIds(o.data,r,["id"]),this.replaceStyleIds(o.data,r,["styleIds"]),(l=o.data.styles)==null||l.forEach(function(u){s.replaceStyleIds(u,r,["styleId"])}),o}}return!1},e.replace=function(r,o,s,l){for(var c=_create_for_of_iterator_helper_loose(l),u;!(u=c()).done;){var h=u.value;!Array.isArray(o[h])&&typeof o[h]!="number"||(Array.isArray(o[h])?o[h]=r.getIds(s,o[h]):o[h]=r.getId(s,o[h]))}return o},e.replaceIds=function(r,o,s){return this.replace(this.crossOriginIframeMirror,r,o,s)},e.replaceStyleIds=function(r,o,s){return this.replace(this.crossOriginIframeStyleMirror,r,o,s)},e.replaceIdOnNode=function(r,o){var s=this;this.replaceIds(r,o,["id","rootId"]),"childNodes"in r&&r.childNodes.forEach(function(l){s.replaceIdOnNode(l,o)})},e.patchRootIdOnNode=function(r,o){var s=this;r.type!==NodeType.Document&&!r.rootId&&(r.rootId=o),"childNodes"in r&&r.childNodes.forEach(function(l){s.patchRootIdOnNode(l,o)})},t})(),ShadowDomManager=(function(){function t(a){__publicField$1(this,"shadowDoms",new WeakSet),__publicField$1(this,"mutationCb"),__publicField$1(this,"scrollCb"),__publicField$1(this,"bypassOptions"),__publicField$1(this,"mirror"),__publicField$1(this,"restoreHandlers",[]),this.mutationCb=a.mutationCb,this.scrollCb=a.scrollCb,this.bypassOptions=a.bypassOptions,this.mirror=a.mirror,this.init()}var e=t.prototype;return e.init=function(){this.reset(),this.patchAttachShadow(Element,document)},e.addShadowRoot=function(r,o){var s=this;if(isNativeShadowDom(r)&&!this.shadowDoms.has(r)){this.shadowDoms.add(r);var l=initMutationObserver(_extends({},this.bypassOptions,{doc:o,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this}),r);this.restoreHandlers.push(function(){return l.disconnect()}),this.restoreHandlers.push(initScrollObserver(_extends({},this.bypassOptions,{scrollCb:this.scrollCb,doc:r,mirror:this.mirror}))),setTimeout(function(){r.adoptedStyleSheets&&r.adoptedStyleSheets.length>0&&s.bypassOptions.stylesheetManager.adoptStyleSheets(r.adoptedStyleSheets,s.mirror.getId(index.host(r))),s.restoreHandlers.push(initAdoptedStyleSheetObserver({mirror:s.mirror,stylesheetManager:s.bypassOptions.stylesheetManager},r))},0)}},e.observeAttachShadow=function(r){!r.contentWindow||!r.contentDocument||this.patchAttachShadow(r.contentWindow.Element,r.contentDocument)},e.patchAttachShadow=function(r,o){var s=this;this.restoreHandlers.push(patch$2(r.prototype,"attachShadow",function(l){return function(c){var u=l.call(this,c),h=index.shadowRoot(this);return h&&inDom(this)&&s.addShadowRoot(h,o),u}}))},e.reset=function(){this.restoreHandlers.forEach(function(r){try{r()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet},t})(),chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var i$1=0;i$1<chars.length;i$1++)lookup[chars.charCodeAt(i$1)]=i$1;var encode=function t(e){var a=new Uint8Array(e),r,o=a.length,s="";for(r=0;r<o;r+=3)s+=chars[a[r]>>2],s+=chars[(a[r]&3)<<4|a[r+1]>>4],s+=chars[(a[r+1]&15)<<2|a[r+2]>>6],s+=chars[a[r+2]&63];return o%3===2?s=s.substring(0,s.length-1)+"=":o%3===1&&(s=s.substring(0,s.length-2)+"=="),s},canvasVarMap=new Map;function variableListFor$1(t,e){var a=canvasVarMap.get(t);return a||(a=new Map,canvasVarMap.set(t,a)),a.has(e)||a.set(e,[]),a.get(e)}var saveWebGLVar=function(t,e,a){if(!(!t||!(isInstanceOfWebGLObject(t,e)||(typeof t>"u"?"undefined":_type_of(t))==="object"))){var r=t.constructor.name,o=variableListFor$1(a,r),s=o.indexOf(t);return s===-1&&(s=o.length,o.push(t)),s}};function serializeArg(t,e,a){if(_instanceof(t,Array))return t.map(function(w){return serializeArg(w,e,a)});if(t===null)return t;if(_instanceof(t,Float32Array)||_instanceof(t,Float64Array)||_instanceof(t,Int32Array)||_instanceof(t,Uint32Array)||_instanceof(t,Uint8Array)||_instanceof(t,Uint16Array)||_instanceof(t,Int16Array)||_instanceof(t,Int8Array)||_instanceof(t,Uint8ClampedArray)){var r=t.constructor.name;return{rr_type:r,args:[Object.values(t)]}}else if(_instanceof(t,ArrayBuffer)){var o=t.constructor.name,s=encode(t);return{rr_type:o,base64:s}}else if(_instanceof(t,DataView)){var l=t.constructor.name;return{rr_type:l,args:[serializeArg(t.buffer,e,a),t.byteOffset,t.byteLength]}}else if(_instanceof(t,HTMLImageElement)){var c=t.constructor.name,u=t.src;return{rr_type:c,src:u}}else if(_instanceof(t,HTMLCanvasElement)){var h="HTMLImageElement",f=t.toDataURL();return{rr_type:h,src:f}}else if(_instanceof(t,ImageData)){var m=t.constructor.name;return{rr_type:m,args:[serializeArg(t.data,e,a),t.width,t.height]}}else if(isInstanceOfWebGLObject(t,e)||(typeof t>"u"?"undefined":_type_of(t))==="object"){var g=t.constructor.name,b=saveWebGLVar(t,e,a);return{rr_type:g,index:b}}return t}var serializeArgs=function(t,e,a){return t.map(function(r){return serializeArg(r,e,a)})},isInstanceOfWebGLObject=function(t,e){var a=["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"],r=a.filter(function(o){return typeof e[o]=="function"});return!!r.find(function(o){return _instanceof(t,e[o])})};function initCanvas2DMutationObserver(t,e,a,r){for(var o=function(){var h=u.value;try{if(typeof e.CanvasRenderingContext2D.prototype[h]!="function")return"continue";var f=patch$2(e.CanvasRenderingContext2D.prototype,h,function(g){return function(){for(var b=this,w=arguments.length,E=new Array(w),C=0;C<w;C++)E[C]=arguments[C];return isBlocked(this.canvas,a,r,!0)||setTimeout(function(){var B=serializeArgs(E,e,b);t(b.canvas,{type:CanvasContext["2D"],property:h,args:B})},0),g.apply(this,E)}});s.push(f)}catch{var m=hookSetter(e.CanvasRenderingContext2D.prototype,h,{set:function(w){t(this.canvas,{type:CanvasContext["2D"],property:h,args:[w],setter:!0})}});s.push(m)}},s=[],l=Object.getOwnPropertyNames(e.CanvasRenderingContext2D.prototype),c=_create_for_of_iterator_helper_loose(l),u;!(u=c()).done;)o();return function(){s.forEach(function(h){return h()})}}function getNormalizedContextName(t){return t==="experimental-webgl"?"webgl":t}function initCanvasContextObserver(t,e,a,r){var o=[];try{var s=patch$2(t.HTMLCanvasElement.prototype,"getContext",function(l){return function(c){for(var u=arguments.length,h=new Array(u>1?u-1:0),f=1;f<u;f++)h[f-1]=arguments[f];if(!isBlocked(this,e,a,!0)){var m=getNormalizedContextName(c);if("__context"in this||(this.__context=m),r&&["webgl","webgl2"].includes(m))if(h[0]&&_type_of(h[0])==="object"){var g=h[0];g.preserveDrawingBuffer||(g.preserveDrawingBuffer=!0)}else h.splice(0,1,{preserveDrawingBuffer:!0})}return l.apply(this,[].concat([c],h))}});o.push(s)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return function(){o.forEach(function(l){return l()})}}function patchGLPrototype(t,e,a,r,o,s){for(var l=function(){var m=f.value;if(["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(m))return"continue";try{if(typeof t[m]!="function")return"continue";var g=patch$2(t,m,function(w){return function(){for(var E=arguments.length,C=new Array(E),B=0;B<E;B++)C[B]=arguments[B];var O=w.apply(this,C);if(saveWebGLVar(O,s,this),"tagName"in this.canvas&&!isBlocked(this.canvas,r,o,!0)){var P=serializeArgs(C,s,this),q={type:e,property:m,args:P};a(this.canvas,q)}return O}});c.push(g)}catch{var b=hookSetter(t,m,{set:function(C){a(this.canvas,{type:e,property:m,args:[C],setter:!0})}});c.push(b)}},c=[],u=Object.getOwnPropertyNames(t),h=_create_for_of_iterator_helper_loose(u),f;!(f=h()).done;)l();return c}function initCanvasWebGLMutationObserver(t,e,a,r){var o,s=[];if((o=s).push.apply(o,[].concat(patchGLPrototype(e.WebGLRenderingContext.prototype,CanvasContext.WebGL,t,a,r,e))),typeof e.WebGL2RenderingContext<"u"){var l;(l=s).push.apply(l,[].concat(patchGLPrototype(e.WebGL2RenderingContext.prototype,CanvasContext.WebGL2,t,a,r,e)))}return function(){s.forEach(function(c){return c()})}}var encodedJs="KGZ1bmN0aW9uKCkgewogICJ1c2Ugc3RyaWN0IjsKICB2YXIgY2hhcnMgPSAiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLyI7CiAgdmFyIGxvb2t1cCA9IHR5cGVvZiBVaW50OEFycmF5ID09PSAidW5kZWZpbmVkIiA/IFtdIDogbmV3IFVpbnQ4QXJyYXkoMjU2KTsKICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJzLmxlbmd0aDsgaSsrKSB7CiAgICBsb29rdXBbY2hhcnMuY2hhckNvZGVBdChpKV0gPSBpOwogIH0KICB2YXIgZW5jb2RlID0gZnVuY3Rpb24oYXJyYXlidWZmZXIpIHsKICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGFycmF5YnVmZmVyKSwgaTIsIGxlbiA9IGJ5dGVzLmxlbmd0aCwgYmFzZTY0ID0gIiI7CiAgICBmb3IgKGkyID0gMDsgaTIgPCBsZW47IGkyICs9IDMpIHsKICAgICAgYmFzZTY0ICs9IGNoYXJzW2J5dGVzW2kyXSA+PiAyXTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMl0gJiAzKSA8PCA0IHwgYnl0ZXNbaTIgKyAxXSA+PiA0XTsKICAgICAgYmFzZTY0ICs9IGNoYXJzWyhieXRlc1tpMiArIDFdICYgMTUpIDw8IDIgfCBieXRlc1tpMiArIDJdID4+IDZdOwogICAgICBiYXNlNjQgKz0gY2hhcnNbYnl0ZXNbaTIgKyAyXSAmIDYzXTsKICAgIH0KICAgIGlmIChsZW4gJSAzID09PSAyKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDEpICsgIj0iOwogICAgfSBlbHNlIGlmIChsZW4gJSAzID09PSAxKSB7CiAgICAgIGJhc2U2NCA9IGJhc2U2NC5zdWJzdHJpbmcoMCwgYmFzZTY0Lmxlbmd0aCAtIDIpICsgIj09IjsKICAgIH0KICAgIHJldHVybiBiYXNlNjQ7CiAgfTsKICBjb25zdCBsYXN0QmxvYk1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7CiAgY29uc3QgdHJhbnNwYXJlbnRCbG9iTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTsKICBhc3luYyBmdW5jdGlvbiBnZXRUcmFuc3BhcmVudEJsb2JGb3Iod2lkdGgsIGhlaWdodCwgZGF0YVVSTE9wdGlvbnMpIHsKICAgIGNvbnN0IGlkID0gYCR7d2lkdGh9LSR7aGVpZ2h0fWA7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBpZiAodHJhbnNwYXJlbnRCbG9iTWFwLmhhcyhpZCkpIHJldHVybiB0cmFuc3BhcmVudEJsb2JNYXAuZ2V0KGlkKTsKICAgICAgY29uc3Qgb2Zmc2NyZWVuID0gbmV3IE9mZnNjcmVlbkNhbnZhcyh3aWR0aCwgaGVpZ2h0KTsKICAgICAgb2Zmc2NyZWVuLmdldENvbnRleHQoIjJkIik7CiAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCBvZmZzY3JlZW4uY29udmVydFRvQmxvYihkYXRhVVJMT3B0aW9ucyk7CiAgICAgIGNvbnN0IGFycmF5QnVmZmVyID0gYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpOwogICAgICBjb25zdCBiYXNlNjQgPSBlbmNvZGUoYXJyYXlCdWZmZXIpOwogICAgICB0cmFuc3BhcmVudEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICByZXR1cm4gYmFzZTY0OwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuICIiOwogICAgfQogIH0KICBjb25zdCB3b3JrZXIgPSBzZWxmOwogIHdvcmtlci5vbm1lc3NhZ2UgPSBhc3luYyBmdW5jdGlvbihlKSB7CiAgICBpZiAoIk9mZnNjcmVlbkNhbnZhcyIgaW4gZ2xvYmFsVGhpcykgewogICAgICBjb25zdCB7IGlkLCBiaXRtYXAsIHdpZHRoLCBoZWlnaHQsIGRhdGFVUkxPcHRpb25zIH0gPSBlLmRhdGE7CiAgICAgIGNvbnN0IHRyYW5zcGFyZW50QmFzZTY0ID0gZ2V0VHJhbnNwYXJlbnRCbG9iRm9yKAogICAgICAgIHdpZHRoLAogICAgICAgIGhlaWdodCwKICAgICAgICBkYXRhVVJMT3B0aW9ucwogICAgICApOwogICAgICBjb25zdCBvZmZzY3JlZW4gPSBuZXcgT2Zmc2NyZWVuQ2FudmFzKHdpZHRoLCBoZWlnaHQpOwogICAgICBjb25zdCBjdHggPSBvZmZzY3JlZW4uZ2V0Q29udGV4dCgiMmQiKTsKICAgICAgY3R4LmRyYXdJbWFnZShiaXRtYXAsIDAsIDApOwogICAgICBiaXRtYXAuY2xvc2UoKTsKICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IG9mZnNjcmVlbi5jb252ZXJ0VG9CbG9iKGRhdGFVUkxPcHRpb25zKTsKICAgICAgY29uc3QgdHlwZSA9IGJsb2IudHlwZTsKICAgICAgY29uc3QgYXJyYXlCdWZmZXIgPSBhd2FpdCBibG9iLmFycmF5QnVmZmVyKCk7CiAgICAgIGNvbnN0IGJhc2U2NCA9IGVuY29kZShhcnJheUJ1ZmZlcik7CiAgICAgIGlmICghbGFzdEJsb2JNYXAuaGFzKGlkKSAmJiBhd2FpdCB0cmFuc3BhcmVudEJhc2U2NCA9PT0gYmFzZTY0KSB7CiAgICAgICAgbGFzdEJsb2JNYXAuc2V0KGlkLCBiYXNlNjQpOwogICAgICAgIHJldHVybiB3b3JrZXIucG9zdE1lc3NhZ2UoeyBpZCB9KTsKICAgICAgfQogICAgICBpZiAobGFzdEJsb2JNYXAuZ2V0KGlkKSA9PT0gYmFzZTY0KSByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQgfSk7CiAgICAgIHdvcmtlci5wb3N0TWVzc2FnZSh7CiAgICAgICAgaWQsCiAgICAgICAgdHlwZSwKICAgICAgICBiYXNlNjQsCiAgICAgICAgd2lkdGgsCiAgICAgICAgaGVpZ2h0CiAgICAgIH0pOwogICAgICBsYXN0QmxvYk1hcC5zZXQoaWQsIGJhc2U2NCk7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gd29ya2VyLnBvc3RNZXNzYWdlKHsgaWQ6IGUuZGF0YS5pZCB9KTsKICAgIH0KICB9Owp9KSgpOwovLyMgc291cmNlTWFwcGluZ1VSTD1pbWFnZS1iaXRtYXAtZGF0YS11cmwtd29ya2VyLUlKcEM3Z19iLmpzLm1hcAo=",decodeBase64=function(t){return Uint8Array.from(atob(t),function(e){return e.charCodeAt(0)})},blob=typeof window<"u"&&window.Blob&&new Blob([decodeBase64(encodedJs)],{type:"text/javascript;charset=utf-8"});function WorkerWrapper(t){var e;try{if(e=blob&&(window.URL||window.webkitURL).createObjectURL(blob),!e)throw"";var a=new Worker(e,{name:t?.name});return a.addEventListener("error",function(){(window.URL||window.webkitURL).revokeObjectURL(e)}),a}catch{return new Worker("data:text/javascript;base64,"+encodedJs,{name:t?.name})}finally{e&&(window.URL||window.webkitURL).revokeObjectURL(e)}}var CanvasManager=(function(){function t(a){var r=this;__publicField$1(this,"pendingCanvasMutations",new Map),__publicField$1(this,"rafStamps",{latestId:0,invokeId:null}),__publicField$1(this,"mirror"),__publicField$1(this,"mutationCb"),__publicField$1(this,"resetObservers"),__publicField$1(this,"frozen",!1),__publicField$1(this,"locked",!1),__publicField$1(this,"processMutation",function(m,g){var b=r.rafStamps.invokeId&&r.rafStamps.latestId!==r.rafStamps.invokeId;(b||!r.rafStamps.invokeId)&&(r.rafStamps.invokeId=r.rafStamps.latestId),r.pendingCanvasMutations.has(m)||r.pendingCanvasMutations.set(m,[]),r.pendingCanvasMutations.get(m).push(g)});var o=a.sampling,s=o===void 0?"all":o,l=a.win,c=a.blockClass,u=a.blockSelector,h=a.recordCanvas,f=a.dataURLOptions;this.mutationCb=a.mutationCb,this.mirror=a.mirror,h&&s==="all"&&this.initCanvasMutationObserver(l,c,u),h&&typeof s=="number"&&this.initCanvasFPSObserver(s,l,c,u,{dataURLOptions:f})}var e=t.prototype;return e.reset=function(){this.pendingCanvasMutations.clear(),this.resetObservers&&this.resetObservers()},e.freeze=function(){this.frozen=!0},e.unfreeze=function(){this.frozen=!1},e.lock=function(){this.locked=!0},e.unlock=function(){this.locked=!1},e.initCanvasFPSObserver=function(r,o,s,l,c){var u=this,h=initCanvasContextObserver(o,s,l,!0),f=new Map,m=new WorkerWrapper;m.onmessage=function(B){var O=B.data.id;if(f.set(O,!1),"base64"in B.data){var P=B.data,q=P.base64,z=P.type,V=P.width,Z=P.height;u.mutationCb({id:O,type:CanvasContext["2D"],commands:[{property:"clearRect",args:[0,0,V,Z]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:q}],type:z}]},0,0]}]})}};var g=1e3/r,b=0,w,E=function(){var B=[];return o.document.querySelectorAll("canvas").forEach(function(O){isBlocked(O,s,l,!0)||B.push(O)}),B},C=function(B){if(b&&B-b<g){w=requestAnimationFrame(C);return}b=B;var O=u;E().forEach(_async_to_generator(function(P){var q,z,V,Z;return _ts_generator(this,function(J){switch(J.label){case 0:return z=O.mirror.getId(P),f.get(z)?[2]:P.width===0||P.height===0?[2]:(f.set(z,!0),["webgl","webgl2"].includes(P.__context)&&(V=P.getContext(P.__context),((q=V?.getContextAttributes())==null?void 0:q.preserveDrawingBuffer)===!1&&V.clear(V.COLOR_BUFFER_BIT)),[4,createImageBitmap(P)]);case 1:return Z=J.sent(),m.postMessage({id:z,bitmap:Z,width:P.width,height:P.height,dataURLOptions:c.dataURLOptions},[Z]),[2]}})})),w=requestAnimationFrame(C)};w=requestAnimationFrame(C),this.resetObservers=function(){h(),cancelAnimationFrame(w)}},e.initCanvasMutationObserver=function(r,o,s){this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher();var l=initCanvasContextObserver(r,o,s,!1),c=initCanvas2DMutationObserver(this.processMutation.bind(this),r,o,s),u=initCanvasWebGLMutationObserver(this.processMutation.bind(this),r,o,s);this.resetObservers=function(){l(),c(),u()}},e.startPendingCanvasMutationFlusher=function(){var r=this;requestAnimationFrame(function(){return r.flushPendingCanvasMutations()})},e.startRAFTimestamping=function(){var r=this,o=function(s){r.rafStamps.latestId=s,requestAnimationFrame(o)};requestAnimationFrame(o)},e.flushPendingCanvasMutations=function(){var r=this;this.pendingCanvasMutations.forEach(function(o,s){var l=r.mirror.getId(s);r.flushPendingCanvasMutationFor(s,l)}),requestAnimationFrame(function(){return r.flushPendingCanvasMutations()})},e.flushPendingCanvasMutationFor=function(r,o){if(!(this.frozen||this.locked)){var s=this.pendingCanvasMutations.get(r);if(!(!s||o===-1)){var l=s.map(function(u){u.type;var h=_object_without_properties_loose(u,["type"]);return h}),c=s[0].type;this.mutationCb({id:o,type:c,commands:l}),this.pendingCanvasMutations.delete(r)}}},t})(),StylesheetManager=(function(){function t(a){__publicField$1(this,"trackedLinkElements",new WeakSet),__publicField$1(this,"mutationCb"),__publicField$1(this,"adoptedStyleSheetCb"),__publicField$1(this,"styleMirror",new StyleSheetMirror),this.mutationCb=a.mutationCb,this.adoptedStyleSheetCb=a.adoptedStyleSheetCb}var e=t.prototype;return e.attachLinkElement=function(r,o){"_cssText"in o.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:o.id,attributes:o.attributes}]}),this.trackLinkElement(r)},e.trackLinkElement=function(r){this.trackedLinkElements.has(r)||(this.trackedLinkElements.add(r),this.trackStylesheetInLinkElement(r))},e.adoptStyleSheets=function(r,o){var s,l=function(){var m=f.value,g=void 0;s.styleMirror.has(m)?g=s.styleMirror.getId(m):(g=s.styleMirror.add(m),u.push({styleId:g,rules:Array.from(m.rules||CSSRule,function(b,w){return{rule:stringifyRule(b,m.href),index:w}})})),c.styleIds.push(g)};if(r.length!==0){for(var c={id:o,styleIds:[]},u=[],h=_create_for_of_iterator_helper_loose(r),f;!(f=h()).done;)s=this,l();u.length>0&&(c.styles=u),this.adoptedStyleSheetCb(c)}},e.reset=function(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet},e.trackStylesheetInLinkElement=function(r){},t})(),ProcessedNodeManager=(function(){function t(){__publicField$1(this,"nodeMap",new WeakMap),__publicField$1(this,"active",!1)}var e=t.prototype;return e.inOtherBuffer=function(r,o){var s=this.nodeMap.get(r);return s&&Array.from(s).some(function(l){return l!==o})},e.add=function(r,o){var s=this;this.active||(this.active=!0,requestAnimationFrame(function(){s.nodeMap=new WeakMap,s.active=!1})),this.nodeMap.set(r,(this.nodeMap.get(r)||new Set).add(o))},e.destroy=function(){},t})(),wrappedEmit,takeFullSnapshot$1,canvasManager,recording=!1;try{if(Array.from([1],function(t){return t*2})[0]!==2){var cleanFrame=document.createElement("iframe");document.body.appendChild(cleanFrame),Array.from=((_a=cleanFrame.contentWindow)==null?void 0:_a.Array.from)||Array.from,document.body.removeChild(cleanFrame)}}catch(t){console.debug("Unable to override Array.from",t)}var mirror=createMirror$2();function record(t){t===void 0&&(t={});var e=t.emit,a=t.checkoutEveryNms,r=t.checkoutEveryNth,o=t.blockClass,s=o===void 0?"rr-block":o,l=t.blockSelector,c=l===void 0?null:l,u=t.ignoreClass,h=u===void 0?"rr-ignore":u,f=t.ignoreSelector,m=f===void 0?null:f,g=t.maskTextClass,b=g===void 0?"rr-mask":g,w=t.maskTextSelector,E=w===void 0?null:w,C=t.inlineStylesheet,B=C===void 0?!0:C,O=t.maskAllInputs,P=t.maskInputOptions,q=t.slimDOMOptions,z=t.maskInputFn,V=t.maskTextFn,Z=t.hooks,J=t.packFn,W=t.sampling,te=W===void 0?{}:W,G=t.dataURLOptions,D=G===void 0?{}:G,M=t.mousemoveWait,v=t.recordDOM,S=v===void 0?!0:v,N=t.recordCanvas,R=N===void 0?!1:N,k=t.recordCrossOriginIframes,j=k===void 0?!1:k,I=t.recordAfter,A=I===void 0?t.recordAfter==="DOMContentLoaded"?t.recordAfter:"load":I,$=t.userTriggeredOnInput,L=$===void 0?!1:$,Y=t.collectFonts,le=Y===void 0?!1:Y,re=t.inlineImages,U=re===void 0?!1:re,K=t.plugins,se=t.keepIframeSrcFn,he=se===void 0?function(){return!1}:se,ue=t.ignoreCSSAttributes,ee=ue===void 0?new Set([]):ue,fe=t.errorHandler;registerErrorHandler(fe);var ge=j?window.parent===window:!0,xe=!1;if(!ge)try{window.parent.document&&(xe=!1)}catch{xe=!0}if(ge&&!e)throw new Error("emit function is required");if(!ge&&!xe)return function(){};M!==void 0&&te.mousemove===void 0&&(te.mousemove=M),mirror.reset();var _e=O===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0,hidden:!0}:P!==void 0?P:{password:!0},Ie=q===!0||q==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:q==="all",headMetaDescKeywords:q==="all",headTitleMutations:q==="all"}:q||{};polyfill$1();var De,$e=0,Ue=function(we){for(var Re=_create_for_of_iterator_helper_loose(K||[]),Ge;!(Ge=Re()).done;){var Ye=Ge.value;Ye.eventProcessor&&(we=Ye.eventProcessor(we))}return J&&!xe&&(we=J(we)),we};wrappedEmit=function(we,Re){var Ge,Ye=we;if(Ye.timestamp=nowTimestamp(),(Ge=mutationBuffers[0])!=null&&Ge.isFrozen()&&Ye.type!==EventType.FullSnapshot&&!(Ye.type===EventType.IncrementalSnapshot&&Ye.data.source===IncrementalSource.Mutation)&&mutationBuffers.forEach(function(tt){return tt.unfreeze()}),ge)e?.(Ue(Ye),Re);else if(xe){var Je={type:"rrweb",event:Ue(Ye),origin:window.location.origin,isCheckout:Re};window.parent.postMessage(Je,"*")}if(Ye.type===EventType.FullSnapshot)De=Ye,$e=0;else if(Ye.type===EventType.IncrementalSnapshot){if(Ye.data.source===IncrementalSource.Mutation&&Ye.data.isAttachIframe)return;$e++;var st=r&&$e>=r,et=a&&Ye.timestamp-De.timestamp>a;(st||et)&&takeFullSnapshot$1(!0)}};for(var Be=function(we){wrappedEmit({type:EventType.IncrementalSnapshot,data:_extends({source:IncrementalSource.Mutation},we)})},Ve=function(we){return wrappedEmit({type:EventType.IncrementalSnapshot,data:_extends({source:IncrementalSource.Scroll},we)})},He=function(we){return wrappedEmit({type:EventType.IncrementalSnapshot,data:_extends({source:IncrementalSource.CanvasMutation},we)})},Ae=function(we){return wrappedEmit({type:EventType.IncrementalSnapshot,data:_extends({source:IncrementalSource.AdoptedStyleSheet},we)})},Ce=new StylesheetManager({mutationCb:Be,adoptedStyleSheetCb:Ae}),Te=new IframeManager({mirror,mutationCb:Be,stylesheetManager:Ce,recordCrossOriginIframes:j,wrappedEmit}),ye=_create_for_of_iterator_helper_loose(K||[]),Fe;!(Fe=ye()).done;){var qe=Fe.value;qe.getMirror&&qe.getMirror({nodeMirror:mirror,crossOriginIframeMirror:Te.crossOriginIframeMirror,crossOriginIframeStyleMirror:Te.crossOriginIframeStyleMirror})}var oe=new ProcessedNodeManager;canvasManager=new CanvasManager({recordCanvas:R,mutationCb:He,win:window,blockClass:s,blockSelector:c,mirror,sampling:te.canvas,dataURLOptions:D});var Q=new ShadowDomManager({mutationCb:Be,scrollCb:Ve,bypassOptions:{blockClass:s,blockSelector:c,maskTextClass:b,maskTextSelector:E,inlineStylesheet:B,maskInputOptions:_e,dataURLOptions:D,maskTextFn:V,maskInputFn:z,recordCanvas:R,inlineImages:U,sampling:te,slimDOMOptions:Ie,iframeManager:Te,stylesheetManager:Ce,canvasManager,keepIframeSrcFn:he,processedNodeManager:oe},mirror});takeFullSnapshot$1=function(we){if(we===void 0&&(we=!1),!!S){wrappedEmit({type:EventType.Meta,data:{href:window.location.href,width:getWindowWidth(),height:getWindowHeight()}},we),Ce.reset(),Q.init(),mutationBuffers.forEach(function(Ge){return Ge.lock()});var Re=snapshot(document,{mirror,blockClass:s,blockSelector:c,maskTextClass:b,maskTextSelector:E,inlineStylesheet:B,maskAllInputs:_e,maskTextFn:V,maskInputFn:z,slimDOM:Ie,dataURLOptions:D,recordCanvas:R,inlineImages:U,onSerialize:function(Ge){isSerializedIframe(Ge,mirror)&&Te.addIframe(Ge),isSerializedStylesheet(Ge,mirror)&&Ce.trackLinkElement(Ge),hasShadowRoot(Ge)&&Q.addShadowRoot(index.shadowRoot(Ge),document)},onIframeLoad:function(Ge,Ye){Te.attachIframe(Ge,Ye),Q.observeAttachShadow(Ge)},onStylesheetLoad:function(Ge,Ye){Ce.attachLinkElement(Ge,Ye)},keepIframeSrcFn:he});if(!Re)return console.warn("Failed to snapshot the document");wrappedEmit({type:EventType.FullSnapshot,data:{node:Re,initialOffset:getWindowScroll(window)}},we),mutationBuffers.forEach(function(Ge){return Ge.unlock()}),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&Ce.adoptStyleSheets(document.adoptedStyleSheets,mirror.getId(document))}};try{var ie=[],pe=function(we){var Re;return callbackWrapper(initObservers)({mutationCb:Be,mousemoveCb:function(Ge,Ye){return wrappedEmit({type:EventType.IncrementalSnapshot,data:{source:Ye,positions:Ge}})},mouseInteractionCb:function(Ge){return wrappedEmit({type:EventType.IncrementalSnapshot,data:_extends({source:IncrementalSource.MouseInteraction},Ge)})},scrollCb:Ve,viewportResizeCb:function(Ge){return wrappedEmit({type:EventType.IncrementalSnapshot,data:_extends({source:IncrementalSource.ViewportResize},Ge)})},inputCb:function(Ge){return wrappedEmit({type:EventType.IncrementalSnapshot,data:_extends({source:IncrementalSource.Input},Ge)})},mediaInteractionCb:function(Ge){return wrappedEmit({type:EventType.IncrementalSnapshot,data:_extends({source:IncrementalSource.MediaInteraction},Ge)})},styleSheetRuleCb:function(Ge){return wrappedEmit({type:EventType.IncrementalSnapshot,data:_extends({source:IncrementalSource.StyleSheetRule},Ge)})},styleDeclarationCb:function(Ge){return wrappedEmit({type:EventType.IncrementalSnapshot,data:_extends({source:IncrementalSource.StyleDeclaration},Ge)})},canvasMutationCb:He,fontCb:function(Ge){return wrappedEmit({type:EventType.IncrementalSnapshot,data:_extends({source:IncrementalSource.Font},Ge)})},selectionCb:function(Ge){wrappedEmit({type:EventType.IncrementalSnapshot,data:_extends({source:IncrementalSource.Selection},Ge)})},customElementCb:function(Ge){wrappedEmit({type:EventType.IncrementalSnapshot,data:_extends({source:IncrementalSource.CustomElement},Ge)})},blockClass:s,ignoreClass:h,ignoreSelector:m,maskTextClass:b,maskTextSelector:E,maskInputOptions:_e,inlineStylesheet:B,sampling:te,recordDOM:S,recordCanvas:R,inlineImages:U,userTriggeredOnInput:L,collectFonts:le,doc:we,maskInputFn:z,maskTextFn:V,keepIframeSrcFn:he,blockSelector:c,slimDOMOptions:Ie,dataURLOptions:D,mirror,iframeManager:Te,stylesheetManager:Ce,shadowDomManager:Q,processedNodeManager:oe,canvasManager,ignoreCSSAttributes:ee,plugins:((Re=K?.filter(function(Ge){return Ge.observer}))==null?void 0:Re.map(function(Ge){return{observer:Ge.observer,options:Ge.options,callback:function(Ye){return wrappedEmit({type:EventType.Plugin,data:{plugin:Ge.name,payload:Ye}})}}}))||[]},Z)};Te.addLoadListener(function(we){try{ie.push(pe(we.contentDocument))}catch(Re){console.warn(Re)}});var be=function(){takeFullSnapshot$1(),ie.push(pe(document)),recording=!0};return document.readyState==="interactive"||document.readyState==="complete"?be():(ie.push(on("DOMContentLoaded",function(){wrappedEmit({type:EventType.DomContentLoaded,data:{}}),A==="DOMContentLoaded"&&be()})),ie.push(on("load",function(){wrappedEmit({type:EventType.Load,data:{}}),A==="load"&&be()},window))),function(){ie.forEach(function(we){try{we()}catch(Ge){var Re=String(Ge).toLowerCase();Re.includes("cross-origin")||console.warn(Ge)}}),oe.destroy(),recording=!1,unregisterErrorHandler()}}catch(we){console.warn(we)}}record.addCustomEvent=function(t,e){if(!recording)throw new Error("please add custom event after start recording");wrappedEmit({type:EventType.Custom,data:{tag:t,payload:e}})};record.freezePage=function(){mutationBuffers.forEach(function(t){return t.freeze()})};record.takeFullSnapshot=function(t){if(!recording)throw new Error("please take full snapshot after start recording");takeFullSnapshot$1(t)};record.mirror=mirror;var n;(function(t){t[t.NotStarted=0]="NotStarted",t[t.Running=1]="Running",t[t.Stopped=2]="Stopped"})(n||(n={}));record.addCustomEvent;record.freezePage;record.takeFullSnapshot;var __defProp=Object.defineProperty,__defNormalProp=function(t,e,a){return e in t?__defProp(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a},__publicField=function(t,e,a){return __defNormalProp(t,(typeof e>"u"?"undefined":_type_of(e))!=="symbol"?e+"":e,a)};function patch(t,e,a){try{if(!(e in t))return function(){};var r=t[e],o=a(r);return typeof o=="function"&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:r}})),t[e]=o,function(){t[e]=r}}catch{return function(){}}}var StackFrame=(function(){function t(a){__publicField(this,"fileName"),__publicField(this,"functionName"),__publicField(this,"lineNumber"),__publicField(this,"columnNumber"),this.fileName=a.fileName||"",this.functionName=a.functionName||"",this.lineNumber=a.lineNumber,this.columnNumber=a.columnNumber}var e=t.prototype;return e.toString=function(){var r=this.lineNumber||"",o=this.columnNumber||"";return this.functionName?this.functionName+" ("+this.fileName+":"+r+":"+o+")":this.fileName+":"+r+":"+o},t})(),FIREFOX_SAFARI_STACK_REGEXP=/(^|@)\S+:\d+/,CHROME_IE_STACK_REGEXP=/^\s*at .*(\S+:\d+|\(native\))/m,SAFARI_NATIVE_CODE_REGEXP=/^(eval@)?(\[native code])?$/,ErrorStackParser={parse:function t(e){return e?typeof e.stacktrace<"u"||typeof e["opera#sourceloc"]<"u"?this.parseOpera(e):e.stack&&e.stack.match(CHROME_IE_STACK_REGEXP)?this.parseV8OrIE(e):e.stack?this.parseFFOrSafari(e):(console.warn("[console-record-plugin]: Failed to parse error object:",e),[]):[]},extractLocation:function t(e){if(e.indexOf(":")===-1)return[e];var a=/(.+?)(?::(\d+))?(?::(\d+))?$/,r=a.exec(e.replace(/[()]/g,""));if(!r)throw new Error("Cannot parse given url: "+e);return[r[1],r[2]||void 0,r[3]||void 0]},parseV8OrIE:function t(e){var a=e.stack.split(`
`).filter(function(r){return!!r.match(CHROME_IE_STACK_REGEXP)},this);return a.map(function(r){r.indexOf("(eval ")>-1&&(r=r.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var o=r.replace(/^\s+/,"").replace(/\(eval code/g,"("),s=o.match(/ (\((.+):(\d+):(\d+)\)$)/);o=s?o.replace(s[0],""):o;var l=o.split(/\s+/).slice(1),c=this.extractLocation(s?s[1]:l.pop()),u=l.join(" ")||void 0,h=["eval","<anonymous>"].indexOf(c[0])>-1?void 0:c[0];return new StackFrame({functionName:u,fileName:h,lineNumber:c[1],columnNumber:c[2]})},this)},parseFFOrSafari:function t(e){var a=e.stack.split(`
`).filter(function(r){return!r.match(SAFARI_NATIVE_CODE_REGEXP)},this);return a.map(function(r){if(r.indexOf(" > eval")>-1&&(r=r.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),r.indexOf("@")===-1&&r.indexOf(":")===-1)return new StackFrame({functionName:r});var o=/((.*".+"[^@]*)?[^@]*)(?:@)/,s=r.match(o),l=s&&s[1]?s[1]:void 0,c=this.extractLocation(r.replace(o,""));return new StackFrame({functionName:l,fileName:c[0],lineNumber:c[1],columnNumber:c[2]})},this)},parseOpera:function t(e){return!e.stacktrace||e.message.indexOf(`
`)>-1&&e.message.split(`
`).length>e.stacktrace.split(`
`).length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function t(e){for(var a=/Line (\d+).*script (?:in )?(\S+)/i,r=e.message.split(`
`),o=[],s=2,l=r.length;s<l;s+=2){var c=a.exec(r[s]);c&&o.push(new StackFrame({fileName:c[2],lineNumber:parseFloat(c[1])}))}return o},parseOpera10:function t(e){for(var a=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,r=e.stacktrace.split(`
`),o=[],s=0,l=r.length;s<l;s+=2){var c=a.exec(r[s]);c&&o.push(new StackFrame({functionName:c[3]||void 0,fileName:c[2],lineNumber:parseFloat(c[1])}))}return o},parseOpera11:function t(e){var a=e.stack.split(`
`).filter(function(r){return!!r.match(FIREFOX_SAFARI_STACK_REGEXP)&&!r.match(/^Error created at/)},this);return a.map(function(r){var o=r.split("@"),s=this.extractLocation(o.pop()),l=o.shift()||"",c=l.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;return new StackFrame({functionName:c,fileName:s[0],lineNumber:s[1],columnNumber:s[2]})},this)}};function pathToSelector(t){if(!t||!t.outerHTML)return"";for(var e="";t.parentElement;){var a=t.localName;if(!a)break;a=a.toLowerCase();var r=t.parentElement,o=[];if(r.children&&r.children.length>0)for(var s=0;s<r.children.length;s++){var l=r.children[s];l.localName&&l.localName.toLowerCase&&l.localName.toLowerCase()===a&&o.push(l)}o.length>1&&(a+=":eq("+o.indexOf(t)+")"),e=a+(e?">"+e:""),t=r}return e}function isObject(t){return Object.prototype.toString.call(t)==="[object Object]"}function isObjTooDeep(t,e){if(e===0)return!0;for(var a=Object.keys(t),r=_create_for_of_iterator_helper_loose(a),o;!(o=r()).done;){var s=o.value;if(isObject(t[s])&&isObjTooDeep(t[s],e-1))return!0}return!1}function stringify(t,e){var a={numOfKeysLimit:50,depthOfLimit:4};Object.assign(a,e);var r=[],o=[];return JSON.stringify(t,function(c,u){if(r.length>0){var h=r.indexOf(this);~h?r.splice(h+1):r.push(this),~h?o.splice(h,1/0,c):o.push(c),~r.indexOf(u)&&(r[0]===u?u="[Circular ~]":u="[Circular ~."+o.slice(0,r.indexOf(u)).join(".")+"]")}else r.push(u);if(u===null)return u;if(u===void 0)return"undefined";if(s(u))return l(u);if((typeof u>"u"?"undefined":_type_of(u))==="bigint")return u.toString()+"n";if(_instanceof(u,Event)){var f={};for(var m in u){var g=u[m];Array.isArray(g)?f[m]=pathToSelector(g.length?g[0]:null):f[m]=g}return f}else{if(_instanceof(u,Node))return _instanceof(u,HTMLElement)?u?u.outerHTML:"":u.nodeName;if(_instanceof(u,Error))return u.stack?u.stack+`
End of stack for Error object`:u.name+": "+u.message}return u});function s(c){return!!(isObject(c)&&Object.keys(c).length>a.numOfKeysLimit||typeof c=="function"||isObject(c)&&isObjTooDeep(c,a.depthOfLimit))}function l(c){var u=c.toString();return a.stringLengthLimit&&u.length>a.stringLengthLimit&&(u=""+u.slice(0,a.stringLengthLimit)+"..."),u}}var defaultLogOptions={level:["assert","clear","count","countReset","debug","dir","dirxml","error","group","groupCollapsed","groupEnd","info","log","table","time","timeEnd","timeLog","trace","warn"],lengthThreshold:1e3,logger:"console"};function initLogObserver(t,e,a){var r=a?Object.assign({},defaultLogOptions,a):defaultLogOptions,o=r.logger;if(!o)return function(){};var s;typeof o=="string"?s=e[o]:s=o;var l=0,c=!1,u=[];if(r.level.includes("error")){var h=function(E){var C=E.message,B=E.error,O=ErrorStackParser.parse(B).map(function(q){return q.toString()}),P=[stringify(C,r.stringifyOptions)];t({level:"error",trace:O,payload:P})};e.addEventListener("error",h),u.push(function(){e.removeEventListener("error",h)});var f=function(E){var C,B;_instanceof(E.reason,Error)?(C=E.reason,B=[stringify("Uncaught (in promise) "+C.name+": "+C.message,r.stringifyOptions)]):(C=new Error,B=[stringify("Uncaught (in promise)",r.stringifyOptions),stringify(E.reason,r.stringifyOptions)]);var O=ErrorStackParser.parse(C).map(function(P){return P.toString()});t({level:"error",trace:O,payload:B})};e.addEventListener("unhandledrejection",f),u.push(function(){e.removeEventListener("unhandledrejection",f)})}for(var m=_create_for_of_iterator_helper_loose(r.level),g;!(g=m()).done;){var b=g.value;u.push(w(s,b))}return function(){u.forEach(function(E){return E()})};function w(E,C){var B=this;return E[C]?patch(E,C,function(O){var P=B;return function(){for(var q=arguments.length,z=new Array(q),V=0;V<q;V++)z[V]=arguments[V];if(O.apply(P,z),!(C==="assert"&&z[0])&&!c){c=!0;try{var Z=ErrorStackParser.parse(new Error).map(function(te){return te.toString()}).splice(1),J=C==="assert"?z.slice(1):z,W=J.map(function(te){return stringify(te,r.stringifyOptions)});l++,l<r.lengthThreshold?t({level:C,trace:Z,payload:W}):l===r.lengthThreshold&&t({level:"warn",trace:[],payload:[stringify("The number of log records reached the threshold.")]})}catch(te){O.apply(void 0,[].concat(["rrweb logger error:",te],z))}finally{c=!1}}}}):function(){}}}var PLUGIN_NAME="rrweb/console@1",getRecordConsolePlugin=function(t){return{name:PLUGIN_NAME,observer:initLogObserver,options:t}},setImmediate$1=win.setImmediate,builtInProp,cycle,schedulingQueue,ToString=Object.prototype.toString,timer=typeof setImmediate$1<"u"?function t(e){return setImmediate$1(e)}:setTimeout;try{Object.defineProperty({},"x",{}),builtInProp=function(e,a,r,o){return Object.defineProperty(e,a,{value:r,writable:!0,configurable:o!==!1})}}catch(t){builtInProp=function(a,r,o){return a[r]=o,a}}schedulingQueue=(function t(){var e,a,r;function o(s,l){this.fn=s,this.self=l,this.next=void 0}return{add:function(l,c){r=new o(l,c),a?a.next=r:e=r,a=r,r=void 0},drain:function(){var l=e;for(e=a=cycle=void 0;l;)l.fn.call(l.self),l=l.next}}})();function schedule(t,e){schedulingQueue.add(t,e),cycle||(cycle=timer(schedulingQueue.drain))}function isThenable(t){var e,a=typeof t;return t!==null&&(a==="object"||a==="function")&&(e=t.then),typeof e=="function"?e:!1}function notify(){for(var t=0;t<this.chain.length;t++)notifyIsolated(this,this.state===1?this.chain[t].success:this.chain[t].failure,this.chain[t]);this.chain.length=0}function notifyIsolated(t,e,a){var r,o;try{e===!1?a.reject(t.msg):(e===!0?r=t.msg:r=e.call(void 0,t.msg),r===a.promise?a.reject(TypeError("Promise-chain cycle")):(o=isThenable(r))?o.call(r,a.resolve,a.reject):a.resolve(r))}catch(s){a.reject(s)}}function resolve(t){var e,a=this;if(!a.triggered){a.triggered=!0,a.def&&(a=a.def);try{(e=isThenable(t))?schedule(function(){var r=new MakeDefWrapper(a);try{e.call(t,function(){resolve.apply(r,arguments)},function(){reject.apply(r,arguments)})}catch(o){reject.call(r,o)}}):(a.msg=t,a.state=1,a.chain.length>0&&schedule(notify,a))}catch(r){reject.call(new MakeDefWrapper(a),r)}}}function reject(t){var e=this;e.triggered||(e.triggered=!0,e.def&&(e=e.def),e.msg=t,e.state=2,e.chain.length>0&&schedule(notify,e))}function iteratePromises(t,e,a,r){for(var o=0;o<e.length;o++)(function(l){t.resolve(e[l]).then(function(u){a(l,u)},r)})(o)}function MakeDefWrapper(t){this.def=t,this.triggered=!1}function MakeDef(t){this.promise=t,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function NpoPromise(t){if(typeof t!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var e=new MakeDef(this);this.then=function(r,o){var s={success:typeof r=="function"?r:!0,failure:typeof o=="function"?o:!1};return s.promise=new this.constructor(function(c,u){if(typeof c!="function"||typeof u!="function")throw TypeError("Not a function");s.resolve=c,s.reject=u}),e.chain.push(s),e.state!==0&&schedule(notify,e),s.promise},this.catch=function(r){return this.then(void 0,r)};try{t.call(void 0,function(r){resolve.call(e,r)},function(r){reject.call(e,r)})}catch(a){reject.call(e,a)}}var PromisePrototype=builtInProp({},"constructor",NpoPromise,!1);NpoPromise.prototype=PromisePrototype;builtInProp(PromisePrototype,"__NPO__",0,!1);builtInProp(NpoPromise,"resolve",function t(e){var a=this;return e&&typeof e=="object"&&e.__NPO__===1?e:new a(function(o,s){if(typeof o!="function"||typeof s!="function")throw TypeError("Not a function");o(e)})});builtInProp(NpoPromise,"reject",function t(e){return new this(function(r,o){if(typeof r!="function"||typeof o!="function")throw TypeError("Not a function");o(e)})});builtInProp(NpoPromise,"all",function t(e){var a=this;return ToString.call(e)!=="[object Array]"?a.reject(TypeError("Not an array")):e.length===0?a.resolve([]):new a(function(o,s){if(typeof o!="function"||typeof s!="function")throw TypeError("Not a function");var l=e.length,c=Array(l),u=0;iteratePromises(a,e,function(f,m){c[f]=m,++u===l&&o(c)},s)})});builtInProp(NpoPromise,"race",function t(e){var a=this;return ToString.call(e)!=="[object Array]"?a.reject(TypeError("Not an array")):new a(function(o,s){if(typeof o!="function"||typeof s!="function")throw TypeError("Not a function");iteratePromises(a,e,function(c,u){o(u)},s)})});var PromisePolyfill;typeof Promise<"u"&&Promise.toString().indexOf("[native code]")!==-1?PromisePolyfill=Promise:PromisePolyfill=NpoPromise;var Config={DEBUG:!1,LIB_VERSION:"2.72.0"},MAX_RECORDING_MS=1440*60*1e3,MAX_VALUE_FOR_MIN_RECORDING_MS=8*1e3,ArrayProto=Array.prototype,FuncProto=Function.prototype,ObjProto=Object.prototype,slice=ArrayProto.slice,toString=ObjProto.toString,hasOwnProperty=ObjProto.hasOwnProperty,windowConsole=win.console,navigator$1=win.navigator,document$1=win.document,windowOpera=win.opera,screen=win.screen,userAgent=navigator$1.userAgent,nativeBind=FuncProto.bind,nativeForEach=ArrayProto.forEach,nativeIndexOf=ArrayProto.indexOf,nativeMap=ArrayProto.map,nativeIsArray=Array.isArray,breaker={},_={trim:function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},console$1={log:function(){if(Config.DEBUG&&!_.isUndefined(windowConsole)&&windowConsole)try{windowConsole.log.apply(windowConsole,arguments)}catch{_.each(arguments,function(e){windowConsole.log(e)})}},warn:function(){if(Config.DEBUG&&!_.isUndefined(windowConsole)&&windowConsole){var t=["Mixpanel warning:"].concat(_.toArray(arguments));try{windowConsole.warn.apply(windowConsole,t)}catch{_.each(t,function(a){windowConsole.warn(a)})}}},error:function(){if(Config.DEBUG&&!_.isUndefined(windowConsole)&&windowConsole){var t=["Mixpanel error:"].concat(_.toArray(arguments));try{windowConsole.error.apply(windowConsole,t)}catch{_.each(t,function(a){windowConsole.error(a)})}}},critical:function(){if(!_.isUndefined(windowConsole)&&windowConsole){var t=["Mixpanel error:"].concat(_.toArray(arguments));try{windowConsole.error.apply(windowConsole,t)}catch{_.each(t,function(a){windowConsole.error(a)})}}}},log_func_with_prefix=function(t,e){return function(){return arguments[0]="["+e+"] "+arguments[0],t.apply(console$1,arguments)}},console_with_prefix=function(t){return{log:log_func_with_prefix(console$1.log,t),error:log_func_with_prefix(console$1.error,t),critical:log_func_with_prefix(console$1.critical,t)}},safewrap=function(t){return function(){try{return t.apply(this,arguments)}catch(e){console$1.critical("Implementation error. Please turn on debug and contact support@mixpanel.com."),Config.DEBUG&&console$1.critical(e)}}},safewrapClass=function(t){var e=t.prototype;for(var a in e)typeof e[a]=="function"&&(e[a]=safewrap(e[a]))};_.bind=function(t,e){var a,r;if(nativeBind&&t.bind===nativeBind)return nativeBind.apply(t,slice.call(arguments,1));if(!_.isFunction(t))throw new TypeError;return a=slice.call(arguments,2),r=function(){if(!(this instanceof r))return t.apply(e,a.concat(slice.call(arguments)));var o={};o.prototype=t.prototype;var s=new o;o.prototype=null;var l=t.apply(s,a.concat(slice.call(arguments)));return Object(l)===l?l:s},r};_.each=function(t,e,a){if(t!=null){if(nativeForEach&&t.forEach===nativeForEach)t.forEach(e,a);else if(t.length===+t.length){for(var r=0,o=t.length;r<o;r++)if(r in t&&e.call(a,t[r],r,t)===breaker)return}else for(var s in t)if(hasOwnProperty.call(t,s)&&e.call(a,t[s],s,t)===breaker)return}};_.extend=function(t){return _.each(slice.call(arguments,1),function(e){for(var a in e)e[a]!==void 0&&(t[a]=e[a])}),t};_.isArray=nativeIsArray||function(t){return toString.call(t)==="[object Array]"};_.isFunction=function(t){try{return/^\s*\bfunction\b/.test(t)}catch{return!1}};_.isArguments=function(t){return!!(t&&hasOwnProperty.call(t,"callee"))};_.toArray=function(t){return t?t.toArray?t.toArray():_.isArray(t)||_.isArguments(t)?slice.call(t):_.values(t):[]};_.map=function(t,e,a){if(nativeMap&&t.map===nativeMap)return t.map(e,a);var r=[];return _.each(t,function(o){r.push(e.call(a,o))}),r};_.keys=function(t){var e=[];return t===null||_.each(t,function(a,r){e[e.length]=r}),e};_.values=function(t){var e=[];return t===null||_.each(t,function(a){e[e.length]=a}),e};_.include=function(t,e){var a=!1;return t===null?a:nativeIndexOf&&t.indexOf===nativeIndexOf?t.indexOf(e)!=-1:(_.each(t,function(r){if(a||(a=r===e))return breaker}),a)};_.includes=function(t,e){return t.indexOf(e)!==-1};_.inherit=function(t,e){return t.prototype=new e,t.prototype.constructor=t,t.superclass=e.prototype,t};_.isObject=function(t){return t===Object(t)&&!_.isArray(t)};_.isEmptyObject=function(t){if(_.isObject(t)){for(var e in t)if(hasOwnProperty.call(t,e))return!1;return!0}return!1};_.isUndefined=function(t){return t===void 0};_.isString=function(t){return toString.call(t)=="[object String]"};_.isDate=function(t){return toString.call(t)=="[object Date]"};_.isNumber=function(t){return toString.call(t)=="[object Number]"};_.isElement=function(t){return!!(t&&t.nodeType===1)};_.encodeDates=function(t){return _.each(t,function(e,a){_.isDate(e)?t[a]=_.formatDate(e):_.isObject(e)&&(t[a]=_.encodeDates(e))}),t};_.timestamp=function(){return Date.now=Date.now||function(){return+new Date},Date.now()};_.formatDate=function(t){function e(a){return a<10?"0"+a:a}return t.getUTCFullYear()+"-"+e(t.getUTCMonth()+1)+"-"+e(t.getUTCDate())+"T"+e(t.getUTCHours())+":"+e(t.getUTCMinutes())+":"+e(t.getUTCSeconds())};_.strip_empty_properties=function(t){var e={};return _.each(t,function(a,r){_.isString(a)&&a.length>0&&(e[r]=a)}),e};_.truncate=function(t,e){var a;return typeof t=="string"?a=t.slice(0,e):_.isArray(t)?(a=[],_.each(t,function(r){a.push(_.truncate(r,e))})):_.isObject(t)?(a={},_.each(t,function(r,o){a[o]=_.truncate(r,e)})):a=t,a};_.JSONEncode=(function(){return function(t){var e=t,a=function(o){var s=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,l={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return s.lastIndex=0,s.test(o)?'"'+o.replace(s,function(c){var u=l[c];return typeof u=="string"?u:"\\u"+("0000"+c.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+o+'"'},r=function(o,s){var l="",c="    ",u=0,h="",f="",m=0,g=l,b=[],w=s[o];switch(w&&typeof w=="object"&&typeof w.toJSON=="function"&&(w=w.toJSON(o)),typeof w){case"string":return a(w);case"number":return isFinite(w)?String(w):"null";case"boolean":case"null":return String(w);case"object":if(!w)return"null";if(l+=c,b=[],toString.apply(w)==="[object Array]"){for(m=w.length,u=0;u<m;u+=1)b[u]=r(u,w)||"null";return f=b.length===0?"[]":l?`[
`+l+b.join(`,
`+l)+`
`+g+"]":"["+b.join(",")+"]",l=g,f}for(h in w)hasOwnProperty.call(w,h)&&(f=r(h,w),f&&b.push(a(h)+(l?": ":":")+f));return f=b.length===0?"{}":l?"{"+b.join(",")+g+"}":"{"+b.join(",")+"}",l=g,f}};return r("",{"":e})}})();_.JSONDecode=(function(){var t,e,a={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},r,o=function(b){var w=new SyntaxError(b);throw w.at=t,w.text=r,w},s=function(b){return b&&b!==e&&o("Expected '"+b+"' instead of '"+e+"'"),e=r.charAt(t),t+=1,e},l=function(){var b,w="";for(e==="-"&&(w="-",s("-"));e>="0"&&e<="9";)w+=e,s();if(e===".")for(w+=".";s()&&e>="0"&&e<="9";)w+=e;if(e==="e"||e==="E")for(w+=e,s(),(e==="-"||e==="+")&&(w+=e,s());e>="0"&&e<="9";)w+=e,s();if(b=+w,!isFinite(b))o("Bad number");else return b},c=function(){var b,w,E="",C;if(e==='"')for(;s();){if(e==='"')return s(),E;if(e==="\\")if(s(),e==="u"){for(C=0,w=0;w<4&&(b=parseInt(s(),16),!!isFinite(b));w+=1)C=C*16+b;E+=String.fromCharCode(C)}else if(typeof a[e]=="string")E+=a[e];else break;else E+=e}o("Bad string")},u=function(){for(;e&&e<=" ";)s()},h=function(){switch(e){case"t":return s("t"),s("r"),s("u"),s("e"),!0;case"f":return s("f"),s("a"),s("l"),s("s"),s("e"),!1;case"n":return s("n"),s("u"),s("l"),s("l"),null}o('Unexpected "'+e+'"')},f,m=function(){var b=[];if(e==="["){if(s("["),u(),e==="]")return s("]"),b;for(;e;){if(b.push(f()),u(),e==="]")return s("]"),b;s(","),u()}}o("Bad array")},g=function(){var b,w={};if(e==="{"){if(s("{"),u(),e==="}")return s("}"),w;for(;e;){if(b=c(),u(),s(":"),Object.hasOwnProperty.call(w,b)&&o('Duplicate key "'+b+'"'),w[b]=f(),u(),e==="}")return s("}"),w;s(","),u()}}o("Bad object")};return f=function(){switch(u(),e){case"{":return g();case"[":return m();case'"':return c();case"-":return l();default:return e>="0"&&e<="9"?l():h()}},function(b){var w;return r=b,t=0,e=" ",w=f(),u(),e&&o("Syntax error"),w}})();_.base64Encode=function(t){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a,r,o,s,l,c,u,h,f=0,m=0,g="",b=[];if(!t)return t;t=_.utf8Encode(t);do a=t.charCodeAt(f++),r=t.charCodeAt(f++),o=t.charCodeAt(f++),h=a<<16|r<<8|o,s=h>>18&63,l=h>>12&63,c=h>>6&63,u=h&63,b[m++]=e.charAt(s)+e.charAt(l)+e.charAt(c)+e.charAt(u);while(f<t.length);switch(g=b.join(""),t.length%3){case 1:g=g.slice(0,-2)+"==";break;case 2:g=g.slice(0,-1)+"=";break}return g};_.utf8Encode=function(t){t=(t+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`);var e="",a,r,o=0,s;for(a=r=0,o=t.length,s=0;s<o;s++){var l=t.charCodeAt(s),c=null;l<128?r++:l>127&&l<2048?c=String.fromCharCode(l>>6|192,l&63|128):c=String.fromCharCode(l>>12|224,l>>6&63|128,l&63|128),c!==null&&(r>a&&(e+=t.substring(a,r)),e+=c,a=r=s+1)}return r>a&&(e+=t.substring(a,t.length)),e};_.UUID=function(){try{return win.crypto.randomUUID()}catch{for(var t=new Array(36),e=0;e<36;e++)t[e]=Math.floor(Math.random()*16);return t[14]=4,t[19]=t[19]&=-5,t[19]=t[19]|=8,t[8]=t[13]=t[18]=t[23]="-",_.map(t,function(r){return r.toString(16)}).join("")}};var BLOCKED_UA_STRS=["ahrefsbot","ahrefssiteaudit","amazonbot","baiduspider","bingbot","bingpreview","chrome-lighthouse","facebookexternal","petalbot","pinterest","screaming frog","yahoo! slurp","yandex","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google"];_.isBlockedUA=function(t){var e;for(t=t.toLowerCase(),e=0;e<BLOCKED_UA_STRS.length;e++)if(t.indexOf(BLOCKED_UA_STRS[e])!==-1)return!0;return!1};_.HTTPBuildQuery=function(t,e){var a,r,o=[];return _.isUndefined(e)&&(e="&"),_.each(t,function(s,l){a=encodeURIComponent(s.toString()),r=encodeURIComponent(l),o[o.length]=r+"="+a}),o.join(e)};_.getQueryParam=function(t,e){e=e.replace(/[[]/g,"\\[").replace(/[\]]/g,"\\]");var a="[\\?&]"+e+"=([^&#]*)",r=new RegExp(a),o=r.exec(t);if(o===null||o&&typeof o[1]!="string"&&o[1].length)return"";var s=o[1];try{s=decodeURIComponent(s)}catch{console$1.error("Skipping decoding for malformed query param: "+s)}return s.replace(/\+/g," ")};_.cookie={get:function(t){for(var e=t+"=",a=document$1.cookie.split(";"),r=0;r<a.length;r++){for(var o=a[r];o.charAt(0)==" ";)o=o.substring(1,o.length);if(o.indexOf(e)===0)return decodeURIComponent(o.substring(e.length,o.length))}return null},parse:function(t){var e;try{e=_.JSONDecode(_.cookie.get(t))||{}}catch{}return e},set_seconds:function(t,e,a,r,o,s,l){var c="",u="",h="";if(l)c="; domain="+l;else if(r){var f=extract_domain(document$1.location.hostname);c=f?"; domain=."+f:""}if(a){var m=new Date;m.setTime(m.getTime()+a*1e3),u="; expires="+m.toGMTString()}s&&(o=!0,h="; SameSite=None"),o&&(h+="; secure"),document$1.cookie=t+"="+encodeURIComponent(e)+u+"; path=/"+c+h},set:function(t,e,a,r,o,s,l){var c="",u="",h="";if(l)c="; domain="+l;else if(r){var f=extract_domain(document$1.location.hostname);c=f?"; domain=."+f:""}if(a){var m=new Date;m.setTime(m.getTime()+a*24*60*60*1e3),u="; expires="+m.toGMTString()}s&&(o=!0,h="; SameSite=None"),o&&(h+="; secure");var g=t+"="+encodeURIComponent(e)+u+"; path=/"+c+h;return document$1.cookie=g,g},remove:function(t,e,a){_.cookie.set(t,"",-1,e,!1,!1,a)}};var _testStorageSupported=function(t){var e=!0;try{var a="__mplss_"+cheap_guid(8),r="xyz";t.setItem(a,r),t.getItem(a)!==r&&(e=!1),t.removeItem(a)}catch{e=!1}return e},_localStorageSupported=null,localStorageSupported=function(t,e){return _localStorageSupported!==null&&!e?_localStorageSupported:_localStorageSupported=_testStorageSupported(t||win.localStorage)},_sessionStorageSupported=null,sessionStorageSupported=function(t,e){return _sessionStorageSupported!==null&&!e?_sessionStorageSupported:_sessionStorageSupported=_testStorageSupported(t||win.sessionStorage)};function _storageWrapper(t,e,a){var r=function(o){console$1.error(e+" error: "+o)};return{is_supported:function(o){var s=a(t,o);return s||console$1.error(e+" unsupported"),s},error:r,get:function(o){try{return t.getItem(o)}catch(s){r(s)}return null},parse:function(o){try{return _.JSONDecode(t.getItem(o))||{}}catch{}return null},set:function(o,s){try{t.setItem(o,s)}catch(l){r(l)}},remove:function(o){try{t.removeItem(o)}catch(s){r(s)}}}}_.localStorage=_storageWrapper(win.localStorage,"localStorage",localStorageSupported);_.sessionStorage=_storageWrapper(win.sessionStorage,"sessionStorage",sessionStorageSupported);_.register_event=(function(){var t=function(r,o,s,l,c){if(!r){console$1.error("No valid element provided to register_event");return}if(r.addEventListener&&!l)r.addEventListener(o,s,!!c);else{var u="on"+o,h=r[u];r[u]=e(r,s,h)}};function e(r,o,s){var l=function(c){if(c=c||a(win.event),!!c){var u=!0,h,f;return _.isFunction(s)&&(h=s(c)),f=o.call(r,c),(h===!1||f===!1)&&(u=!1),u}};return l}function a(r){return r&&(r.preventDefault=a.preventDefault,r.stopPropagation=a.stopPropagation),r}return a.preventDefault=function(){this.returnValue=!1},a.stopPropagation=function(){this.cancelBubble=!0},t})();var TOKEN_MATCH_REGEX=new RegExp('^(\\w*)\\[(\\w+)([=~\\|\\^\\$\\*]?)=?"?([^\\]"]*)"?\\]$');_.dom_query=(function(){function t(o){return o.all?o.all:o.getElementsByTagName("*")}var e=/[\t\r\n]/g;function a(o,s){var l=" "+s+" ";return(" "+o.className+" ").replace(e," ").indexOf(l)>=0}function r(o){if(!document$1.getElementsByTagName)return[];var s=o.split(" "),l,c,u,h,f,m,g,b,w,E,C=[document$1];for(m=0;m<s.length;m++){if(l=s[m].replace(/^\s+/,"").replace(/\s+$/,""),l.indexOf("#")>-1){c=l.split("#"),u=c[0];var B=c[1],O=document$1.getElementById(B);if(!O||u&&O.nodeName.toLowerCase()!=u)return[];C=[O];continue}if(l.indexOf(".")>-1){c=l.split("."),u=c[0];var P=c[1];for(u||(u="*"),h=[],f=0,g=0;g<C.length;g++)for(u=="*"?w=t(C[g]):w=C[g].getElementsByTagName(u),b=0;b<w.length;b++)h[f++]=w[b];for(C=[],E=0,g=0;g<h.length;g++)h[g].className&&_.isString(h[g].className)&&a(h[g],P)&&(C[E++]=h[g]);continue}var q=l.match(TOKEN_MATCH_REGEX);if(q){u=q[1];var z=q[2],V=q[3],Z=q[4];for(u||(u="*"),h=[],f=0,g=0;g<C.length;g++)for(u=="*"?w=t(C[g]):w=C[g].getElementsByTagName(u),b=0;b<w.length;b++)h[f++]=w[b];C=[],E=0;var J;switch(V){case"=":J=function(W){return W.getAttribute(z)==Z};break;case"~":J=function(W){return W.getAttribute(z).match(new RegExp("\\b"+Z+"\\b"))};break;case"|":J=function(W){return W.getAttribute(z).match(new RegExp("^"+Z+"-?"))};break;case"^":J=function(W){return W.getAttribute(z).indexOf(Z)===0};break;case"$":J=function(W){return W.getAttribute(z).lastIndexOf(Z)==W.getAttribute(z).length-Z.length};break;case"*":J=function(W){return W.getAttribute(z).indexOf(Z)>-1};break;default:J=function(W){return W.getAttribute(z)}}for(C=[],E=0,g=0;g<h.length;g++)J(h[g])&&(C[E++]=h[g]);continue}for(u=l,h=[],f=0,g=0;g<C.length;g++)for(w=C[g].getElementsByTagName(u),b=0;b<w.length;b++)h[f++]=w[b];C=h}return C}return function(o){return _.isElement(o)?[o]:_.isObject(o)&&!_.isUndefined(o.length)?o:r.call(this,o)}})();var CAMPAIGN_KEYWORDS=["utm_source","utm_medium","utm_campaign","utm_content","utm_term","utm_id","utm_source_platform","utm_campaign_id","utm_creative_format","utm_marketing_tactic"],CLICK_IDS=["dclid","fbclid","gclid","ko_click_id","li_fat_id","msclkid","sccid","ttclid","twclid","wbraid"];_.info={campaignParams:function(t){var e="",a={};return _.each(CAMPAIGN_KEYWORDS,function(r){e=_.getQueryParam(document$1.URL,r),e.length?a[r]=e:t!==void 0&&(a[r]=t)}),a},clickParams:function(){var t="",e={};return _.each(CLICK_IDS,function(a){t=_.getQueryParam(document$1.URL,a),t.length&&(e[a]=t)}),e},marketingParams:function(){return _.extend(_.info.campaignParams(),_.info.clickParams())},searchEngine:function(t){return t.search("https?://(.*)google.([^/?]*)")===0?"google":t.search("https?://(.*)bing.com")===0?"bing":t.search("https?://(.*)yahoo.com")===0?"yahoo":t.search("https?://(.*)duckduckgo.com")===0?"duckduckgo":null},searchInfo:function(t){var e=_.info.searchEngine(t),a=e!="yahoo"?"q":"p",r={};if(e!==null){r.$search_engine=e;var o=_.getQueryParam(t,a);o.length&&(r.mp_keyword=o)}return r},browser:function(t,e,a){return e=e||"",a||_.includes(t," OPR/")?_.includes(t,"Mini")?"Opera Mini":"Opera":/(BlackBerry|PlayBook|BB10)/i.test(t)?"BlackBerry":_.includes(t,"IEMobile")||_.includes(t,"WPDesktop")?"Internet Explorer Mobile":_.includes(t,"SamsungBrowser/")?"Samsung Internet":_.includes(t,"Edge")||_.includes(t,"Edg/")?"Microsoft Edge":_.includes(t,"FBIOS")?"Facebook Mobile":_.includes(t,"Whale/")?"Whale Browser":_.includes(t,"Chrome")?"Chrome":_.includes(t,"CriOS")?"Chrome iOS":_.includes(t,"UCWEB")||_.includes(t,"UCBrowser")?"UC Browser":_.includes(t,"FxiOS")?"Firefox iOS":_.includes(e,"Apple")?_.includes(t,"Mobile")?"Mobile Safari":"Safari":_.includes(t,"Android")?"Android Mobile":_.includes(t,"Konqueror")?"Konqueror":_.includes(t,"Firefox")?"Firefox":_.includes(t,"MSIE")||_.includes(t,"Trident/")?"Internet Explorer":_.includes(t,"Gecko")?"Mozilla":""},browserVersion:function(t,e,a){var r=_.info.browser(t,e,a),o={"Internet Explorer Mobile":/rv:(\d+(\.\d+)?)/,"Microsoft Edge":/Edge?\/(\d+(\.\d+)?)/,Chrome:/Chrome\/(\d+(\.\d+)?)/,"Chrome iOS":/CriOS\/(\d+(\.\d+)?)/,"UC Browser":/(UCBrowser|UCWEB)\/(\d+(\.\d+)?)/,Safari:/Version\/(\d+(\.\d+)?)/,"Mobile Safari":/Version\/(\d+(\.\d+)?)/,Opera:/(Opera|OPR)\/(\d+(\.\d+)?)/,Firefox:/Firefox\/(\d+(\.\d+)?)/,"Firefox iOS":/FxiOS\/(\d+(\.\d+)?)/,Konqueror:/Konqueror:(\d+(\.\d+)?)/,BlackBerry:/BlackBerry (\d+(\.\d+)?)/,"Android Mobile":/android\s(\d+(\.\d+)?)/,"Samsung Internet":/SamsungBrowser\/(\d+(\.\d+)?)/,"Internet Explorer":/(rv:|MSIE )(\d+(\.\d+)?)/,Mozilla:/rv:(\d+(\.\d+)?)/,"Whale Browser":/Whale\/(\d+(\.\d+)?)/},s=o[r];if(s===void 0)return null;var l=t.match(s);return l?parseFloat(l[l.length-2]):null},os:function(){var t=userAgent;return/Windows/i.test(t)?/Phone/.test(t)||/WPDesktop/.test(t)?"Windows Phone":"Windows":/(iPhone|iPad|iPod)/.test(t)?"iOS":/Android/.test(t)?"Android":/(BlackBerry|PlayBook|BB10)/i.test(t)?"BlackBerry":/Mac/i.test(t)?"Mac OS X":/Linux/.test(t)?"Linux":/CrOS/.test(t)?"Chrome OS":""},device:function(t){return/Windows Phone/i.test(t)||/WPDesktop/.test(t)?"Windows Phone":/iPad/.test(t)?"iPad":/iPod/.test(t)?"iPod Touch":/iPhone/.test(t)?"iPhone":/(BlackBerry|PlayBook|BB10)/i.test(t)?"BlackBerry":/Android/.test(t)?"Android":""},referringDomain:function(t){var e=t.split("/");return e.length>=3?e[2]:""},currentUrl:function(){return win.location.href},properties:function(t){return typeof t!="object"&&(t={}),_.extend(_.strip_empty_properties({$os:_.info.os(),$browser:_.info.browser(userAgent,navigator$1.vendor,windowOpera),$referrer:document$1.referrer,$referring_domain:_.info.referringDomain(document$1.referrer),$device:_.info.device(userAgent)}),{$current_url:_.info.currentUrl(),$browser_version:_.info.browserVersion(userAgent,navigator$1.vendor,windowOpera),$screen_height:screen.height,$screen_width:screen.width,mp_lib:"web",$lib_version:Config.LIB_VERSION,$insert_id:cheap_guid(),time:_.timestamp()/1e3},_.strip_empty_properties(t))},people_properties:function(){return _.extend(_.strip_empty_properties({$os:_.info.os(),$browser:_.info.browser(userAgent,navigator$1.vendor,windowOpera)}),{$browser_version:_.info.browserVersion(userAgent,navigator$1.vendor,windowOpera)})},mpPageViewProperties:function(){return _.strip_empty_properties({current_page_title:document$1.title,current_domain:win.location.hostname,current_url_path:win.location.pathname,current_url_protocol:win.location.protocol,current_url_search:win.location.search})}};var batchedThrottle=function(t,e){var a=null,r=[];return function(o){var s=this;return r.push(o),a||(a=new PromisePolyfill(function(l){setTimeout(function(){var c=t.apply(s,[r]);a=null,r=[],l(c)},e)})),a}},cheap_guid=function(t){var e=Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10);return t?e.substring(0,t):e},generateTraceparent=function(){var t=_.UUID().replace(/-/g,""),e=_.UUID().replace(/-/g,"").substring(0,16),a="01";return"00-"+t+"-"+e+"-"+a},SIMPLE_DOMAIN_MATCH_REGEX=/[a-z0-9][a-z0-9-]*\.[a-z]+$/i,DOMAIN_MATCH_REGEX=/[a-z0-9][a-z0-9-]+\.[a-z.]{2,6}$/i,extract_domain=function(t){var e=DOMAIN_MATCH_REGEX,a=t.split("."),r=a[a.length-1];(r.length>4||r==="com"||r==="org")&&(e=SIMPLE_DOMAIN_MATCH_REGEX);var o=t.match(e);return o?o[0]:""},isOnline=function(){var t=win.navigator.onLine;return _.isUndefined(t)||t},NOOP_FUNC=function(){},JSONStringify=null,JSONParse=null;typeof JSON<"u"&&(JSONStringify=JSON.stringify,JSONParse=JSON.parse);JSONStringify=JSONStringify||_.JSONEncode;JSONParse=JSONParse||_.JSONDecode;var canUseCompressionStream=function(t,e,a){if(!win.CompressionStream)return!1;var r=_.info.browser(t,e,a),o=_.info.browserVersion(t,e,a);return!((r==="Safari"||r==="Mobile Safari")&&o>=16.4&&o<16.6)};_.info=_.info;_.info.browser=_.info.browser;_.info.browserVersion=_.info.browserVersion;_.info.device=_.info.device;_.info.properties=_.info.properties;_.isBlockedUA=_.isBlockedUA;_.isEmptyObject=_.isEmptyObject;_.isObject=_.isObject;_.JSONDecode=_.JSONDecode;_.JSONEncode=_.JSONEncode;_.toArray=_.toArray;_.NPO=NpoPromise;var MIXPANEL_DB_NAME="mixpanelBrowserDb",RECORDING_EVENTS_STORE_NAME="mixpanelRecordingEvents",RECORDING_REGISTRY_STORE_NAME="mixpanelRecordingRegistry",DB_VERSION=1,OBJECT_STORES=[RECORDING_EVENTS_STORE_NAME,RECORDING_REGISTRY_STORE_NAME],IDBStorageWrapper=function(t){this.dbPromise=null,this.storeName=t};IDBStorageWrapper.prototype._openDb=function(){return new PromisePolyfill(function(t,e){var a=win.indexedDB.open(MIXPANEL_DB_NAME,DB_VERSION);a.onerror=function(){e(a.error)},a.onsuccess=function(){t(a.result)},a.onupgradeneeded=function(r){var o=r.target.result;OBJECT_STORES.forEach(function(s){o.createObjectStore(s)})}})};IDBStorageWrapper.prototype.init=function(){return win.indexedDB?(this.dbPromise||(this.dbPromise=this._openDb()),this.dbPromise.then(function(t){return t instanceof win.IDBDatabase?PromisePolyfill.resolve():PromisePolyfill.reject(t)})):PromisePolyfill.reject("indexedDB is not supported in this browser")};IDBStorageWrapper.prototype.isInitialized=function(){return!!this.dbPromise};IDBStorageWrapper.prototype.makeTransaction=function(t,e){var a=this.storeName,r=function(o){return new PromisePolyfill(function(s,l){var c=o.transaction(a,t);c.oncomplete=function(){s(c)},c.onabort=c.onerror=function(){l(c.error)},e(c.objectStore(a))})};return this.dbPromise.then(r).catch((function(o){return o&&o.name==="InvalidStateError"?(this.dbPromise=this._openDb(),this.dbPromise.then(r)):PromisePolyfill.reject(o)}).bind(this))};IDBStorageWrapper.prototype.setItem=function(t,e){return this.makeTransaction("readwrite",function(a){a.put(e,t)})};IDBStorageWrapper.prototype.getItem=function(t){var e;return this.makeTransaction("readonly",function(a){e=a.get(t)}).then(function(){return e.result})};IDBStorageWrapper.prototype.removeItem=function(t){return this.makeTransaction("readwrite",function(e){e.delete(t)})};IDBStorageWrapper.prototype.getAll=function(){var t;return this.makeTransaction("readonly",function(e){t=e.getAll()}).then(function(){return t.result})};var GDPR_DEFAULT_PERSISTENCE_PREFIX="__mp_opt_in_out_";function optIn(t,e){_optInOut(!0,t,e)}function optOut(t,e){_optInOut(!1,t,e)}function hasOptedIn(t,e){return _getStorageValue(t,e)==="1"}function hasOptedOut(t,e){if(_hasDoNotTrackFlagOn(e))return console$1.warn('This browser has "Do Not Track" enabled. This will prevent the Mixpanel SDK from sending any data. To ignore the "Do Not Track" browser setting, initialize the Mixpanel instance with the config "ignore_dnt: true"'),!0;var a=_getStorageValue(t,e)==="0";return a&&console$1.warn("You are opted out of Mixpanel tracking. This will prevent the Mixpanel SDK from sending any data."),a}function addOptOutCheckMixpanelLib(t){return _addOptOutCheck(t,function(e){return this.get_config(e)})}function addOptOutCheckMixpanelPeople(t){return _addOptOutCheck(t,function(e){return this._get_config(e)})}function addOptOutCheckMixpanelGroup(t){return _addOptOutCheck(t,function(e){return this._get_config(e)})}function clearOptInOut(t,e){e=e||{},_getStorage(e).remove(_getStorageKey(t,e),!!e.crossSubdomainCookie,e.cookieDomain)}function _getStorage(t){return t=t||{},t.persistenceType==="localStorage"?_.localStorage:_.cookie}function _getStorageKey(t,e){return e=e||{},(e.persistencePrefix||GDPR_DEFAULT_PERSISTENCE_PREFIX)+t}function _getStorageValue(t,e){return _getStorage(e).get(_getStorageKey(t,e))}function _hasDoNotTrackFlagOn(t){if(t&&t.ignoreDnt)return!1;var e=t&&t.window||win,a=e.navigator||{},r=!1;return _.each([a.doNotTrack,a.msDoNotTrack,e.doNotTrack],function(o){_.includes([!0,1,"1","yes"],o)&&(r=!0)}),r}function _optInOut(t,e,a){if(!_.isString(e)||!e.length){console$1.error("gdpr."+(t?"optIn":"optOut")+" called with an invalid token");return}a=a||{},_getStorage(a).set(_getStorageKey(e,a),t?1:0,_.isNumber(a.cookieExpiration)?a.cookieExpiration:null,!!a.crossSubdomainCookie,!!a.secureCookie,!!a.crossSiteCookie,a.cookieDomain),a.track&&t&&a.track(a.trackEventName||"$opt_in",a.trackProperties,{send_immediately:!0})}function _addOptOutCheck(t,e){return function(){var a=!1;try{var r=e.call(this,"token"),o=e.call(this,"ignore_dnt"),s=e.call(this,"opt_out_tracking_persistence_type"),l=e.call(this,"opt_out_tracking_cookie_prefix"),c=e.call(this,"window");r&&(a=hasOptedOut(r,{ignoreDnt:o,persistenceType:s,persistencePrefix:l,window:c}))}catch(h){console$1.error("Unexpected error when checking tracking opt-out status: "+h)}if(!a)return t.apply(this,arguments);var u=arguments[arguments.length-1];typeof u=="function"&&u(0)}}var logger$6=console_with_prefix("lock"),SharedLock=function(t,e){e=e||{},this.storageKey=t,this.storage=e.storage||win.localStorage,this.pollIntervalMS=e.pollIntervalMS||100,this.timeoutMS=e.timeoutMS||2e3,this.promiseImpl=e.promiseImpl||PromisePolyfill};SharedLock.prototype.withLock=function(t,e){var a=this.promiseImpl;return new a(_.bind(function(r,o){var s=e||new Date().getTime()+"|"+Math.random(),l=new Date().getTime(),c=this.storageKey,u=this.pollIntervalMS,h=this.timeoutMS,f=this.storage,m=c+":X",g=c+":Y",b=c+":Z",w=function(P){if(new Date().getTime()-l>h){logger$6.error("Timeout waiting for mutex on "+c+"; clearing lock. ["+s+"]"),f.removeItem(b),f.removeItem(g),B();return}setTimeout(function(){try{P()}catch(q){o(q)}},u*(Math.random()+.1))},E=function(P,q){P()?q():w(function(){E(P,q)})},C=function(){var P=f.getItem(g);return P&&P!==s?!1:(f.setItem(g,s),f.getItem(g)===s?!0:(localStorageSupported(f,!0)||o(new Error("localStorage support dropped while acquiring lock")),!1))},B=function(){f.setItem(m,s),E(C,function(){if(f.getItem(m)===s){O();return}w(function(){if(f.getItem(g)!==s){B();return}E(function(){return!f.getItem(b)},O)})})},O=function(){f.setItem(b,"1");var P=function(){f.removeItem(b),f.getItem(g)===s&&f.removeItem(g),f.getItem(m)===s&&f.removeItem(m)};t().then(function(q){P(),r(q)}).catch(function(q){P(),o(q)})};try{if(localStorageSupported(f,!0))B();else throw new Error("localStorage support check failed")}catch(P){o(P)}},this))};var LocalStorageWrapper=function(t){this.storage=t||win.localStorage};LocalStorageWrapper.prototype.init=function(){return PromisePolyfill.resolve()};LocalStorageWrapper.prototype.isInitialized=function(){return!0};LocalStorageWrapper.prototype.setItem=function(t,e){return new PromisePolyfill(_.bind(function(a,r){try{this.storage.setItem(t,JSONStringify(e))}catch(o){r(o)}a()},this))};LocalStorageWrapper.prototype.getItem=function(t){return new PromisePolyfill(_.bind(function(e,a){var r;try{r=JSONParse(this.storage.getItem(t))}catch(o){a(o)}e(r)},this))};LocalStorageWrapper.prototype.removeItem=function(t){return new PromisePolyfill(_.bind(function(e,a){try{this.storage.removeItem(t)}catch(r){a(r)}e()},this))};var logger$5=console_with_prefix("batch"),RequestQueue=function(t,e){e=e||{},this.storageKey=t,this.usePersistence=e.usePersistence,this.usePersistence&&(this.queueStorage=e.queueStorage||new LocalStorageWrapper,this.lock=new SharedLock(t,{storage:e.sharedLockStorage||win.localStorage,timeoutMS:e.sharedLockTimeoutMS})),this.reportError=e.errorReporter||_.bind(logger$5.error,logger$5),this.pid=e.pid||null,this.memQueue=[],this.initialized=!1,e.enqueueThrottleMs?this.enqueuePersisted=batchedThrottle(_.bind(this._enqueuePersisted,this),e.enqueueThrottleMs):this.enqueuePersisted=_.bind(function(a){return this._enqueuePersisted([a])},this)};RequestQueue.prototype.ensureInit=function(){return this.initialized||!this.usePersistence?PromisePolyfill.resolve():this.queueStorage.init().then(_.bind(function(){this.initialized=!0},this)).catch(_.bind(function(t){this.reportError("Error initializing queue persistence. Disabling persistence",t),this.initialized=!0,this.usePersistence=!1},this))};RequestQueue.prototype.enqueue=function(t,e){var a={id:cheap_guid(),flushAfter:new Date().getTime()+e*2,payload:t};return this.usePersistence?this.enqueuePersisted(a):(this.memQueue.push(a),PromisePolyfill.resolve(!0))};RequestQueue.prototype._enqueuePersisted=function(t){var e=_.bind(function(){return this.ensureInit().then(_.bind(function(){return this.readFromStorage()},this)).then(_.bind(function(a){return this.saveToStorage(a.concat(t))},this)).then(_.bind(function(a){return a&&(this.memQueue=this.memQueue.concat(t)),a},this)).catch(_.bind(function(a){return this.reportError("Error enqueueing items",a,t),!1},this))},this);return this.lock.withLock(e,this.pid).catch(_.bind(function(a){return this.reportError("Error acquiring storage lock",a),!1},this))};RequestQueue.prototype.fillBatch=function(t){var e=this.memQueue.slice(0,t);return this.usePersistence&&e.length<t?this.ensureInit().then(_.bind(function(){return this.readFromStorage()},this)).then(_.bind(function(a){if(a.length){var r={};_.each(e,function(l){r[l.id]=!0});for(var o=0;o<a.length;o++){var s=a[o];if(new Date().getTime()>s.flushAfter&&!r[s.id]&&(s.orphaned=!0,e.push(s),e.length>=t))break}}return e},this)):PromisePolyfill.resolve(e)};var filterOutIDsAndInvalid=function(t,e){var a=[];return _.each(t,function(r){r.id&&!e[r.id]&&a.push(r)}),a};RequestQueue.prototype.removeItemsByID=function(t){var e={};if(_.each(t,function(r){e[r]=!0}),this.memQueue=filterOutIDsAndInvalid(this.memQueue,e),this.usePersistence){var a=_.bind(function(){return this.ensureInit().then(_.bind(function(){return this.readFromStorage()},this)).then(_.bind(function(r){return r=filterOutIDsAndInvalid(r,e),this.saveToStorage(r)},this)).then(_.bind(function(){return this.readFromStorage()},this)).then(_.bind(function(r){for(var o=0;o<r.length;o++){var s=r[o];if(s.id&&e[s.id])throw new Error("Item not removed from storage")}return!0},this)).catch(_.bind(function(r){return this.reportError("Error removing items",r,t),!1},this))},this);return this.lock.withLock(a,this.pid).catch(_.bind(function(r){return this.reportError("Error acquiring storage lock",r),localStorageSupported(this.lock.storage,!0)?!1:a().then(_.bind(function(o){return o||this.queueStorage.removeItem(this.storageKey).then(function(){return o})},this)).catch(_.bind(function(o){return this.reportError("Error clearing queue",o),!1},this))},this))}else return PromisePolyfill.resolve(!0)};var updatePayloads=function(t,e){var a=[];return _.each(t,function(r){var o=r.id;if(o in e){var s=e[o];s!==null&&(r.payload=s,a.push(r))}else a.push(r)}),a};RequestQueue.prototype.updatePayloads=function(t){return this.memQueue=updatePayloads(this.memQueue,t),this.usePersistence?this.lock.withLock(_.bind(function(){return this.ensureInit().then(_.bind(function(){return this.readFromStorage()},this)).then(_.bind(function(a){return a=updatePayloads(a,t),this.saveToStorage(a)},this)).catch(_.bind(function(a){return this.reportError("Error updating items",t,a),!1},this))},this),this.pid).catch(_.bind(function(e){return this.reportError("Error acquiring storage lock",e),!1},this)):PromisePolyfill.resolve(!0)};RequestQueue.prototype.readFromStorage=function(){return this.ensureInit().then(_.bind(function(){return this.queueStorage.getItem(this.storageKey)},this)).then(_.bind(function(t){return t&&(_.isArray(t)||(this.reportError("Invalid storage entry:",t),t=null)),t||[]},this)).catch(_.bind(function(t){return this.reportError("Error retrieving queue",t),[]},this))};RequestQueue.prototype.saveToStorage=function(t){return this.ensureInit().then(_.bind(function(){return this.queueStorage.setItem(this.storageKey,t)},this)).then(function(){return!0}).catch(_.bind(function(e){return this.reportError("Error saving queue",e),!1},this))};RequestQueue.prototype.clear=function(){return this.memQueue=[],this.usePersistence?this.ensureInit().then(_.bind(function(){return this.queueStorage.removeItem(this.storageKey)},this)):PromisePolyfill.resolve()};var MAX_RETRY_INTERVAL_MS=600*1e3,logger$4=console_with_prefix("batch"),RequestBatcher=function(t,e){this.errorReporter=e.errorReporter,this.queue=new RequestQueue(t,{errorReporter:_.bind(this.reportError,this),queueStorage:e.queueStorage,sharedLockStorage:e.sharedLockStorage,sharedLockTimeoutMS:e.sharedLockTimeoutMS,usePersistence:e.usePersistence,enqueueThrottleMs:e.enqueueThrottleMs}),this.libConfig=e.libConfig,this.sendRequest=e.sendRequestFunc,this.beforeSendHook=e.beforeSendHook,this.stopAllBatching=e.stopAllBatchingFunc,this.batchSize=this.libConfig.batch_size,this.flushInterval=this.libConfig.batch_flush_interval_ms,this.stopped=!this.libConfig.batch_autostart,this.consecutiveRemovalFailures=0,this.itemIdsSentSuccessfully={},this.flushOnlyOnInterval=e.flushOnlyOnInterval||!1,this._flushPromise=null};RequestBatcher.prototype.enqueue=function(t){return this.queue.enqueue(t,this.flushInterval)};RequestBatcher.prototype.start=function(){return this.stopped=!1,this.consecutiveRemovalFailures=0,this.flush()};RequestBatcher.prototype.stop=function(){this.stopped=!0,this.timeoutID&&(clearTimeout(this.timeoutID),this.timeoutID=null)};RequestBatcher.prototype.clear=function(){return this.queue.clear()};RequestBatcher.prototype.resetBatchSize=function(){this.batchSize=this.libConfig.batch_size};RequestBatcher.prototype.resetFlush=function(){this.scheduleFlush(this.libConfig.batch_flush_interval_ms)};RequestBatcher.prototype.scheduleFlush=function(t){this.flushInterval=t,this.stopped||(this.timeoutID=setTimeout(_.bind(function(){this.stopped||(this._flushPromise=this.flush())},this),this.flushInterval))};RequestBatcher.prototype.sendRequestPromise=function(t,e){return new PromisePolyfill(_.bind(function(a){this.sendRequest(t,e,a)},this))};RequestBatcher.prototype.flush=function(t){if(this.requestInProgress)return logger$4.log("Flush: Request already in progress"),PromisePolyfill.resolve();this.requestInProgress=!0,t=t||{};var e=this.libConfig.batch_request_timeout_ms,a=new Date().getTime(),r=this.batchSize;return this.queue.fillBatch(r).then(_.bind(function(o){var s=o.length===r,l=[],c={};if(_.each(o,function(m){var g=m.payload;if(this.beforeSendHook&&!m.orphaned&&(g=this.beforeSendHook(g)),g){g.event&&g.properties&&(g.properties=_.extend({},g.properties,{mp_sent_by_lib_version:Config.LIB_VERSION}));var b=!0,w=m.id;w?(this.itemIdsSentSuccessfully[w]||0)>5&&(this.reportError("[dupe] item ID sent too many times, not sending",{item:m,batchSize:o.length,timesSent:this.itemIdsSentSuccessfully[w]}),b=!1):this.reportError("[dupe] found item with no ID",{item:m}),b&&l.push(g)}c[m.id]=g},this),l.length<1)return this.requestInProgress=!1,this.resetFlush(),PromisePolyfill.resolve();var u=_.bind(function(){return this.queue.removeItemsByID(_.map(o,function(m){return m.id})).then(_.bind(function(m){return _.each(o,_.bind(function(g){var b=g.id;b?(this.itemIdsSentSuccessfully[b]=this.itemIdsSentSuccessfully[b]||0,this.itemIdsSentSuccessfully[b]++,this.itemIdsSentSuccessfully[b]>5&&this.reportError("[dupe] item ID sent too many times",{item:g,batchSize:o.length,timesSent:this.itemIdsSentSuccessfully[b]})):this.reportError("[dupe] found item with no ID while removing",{item:g})},this)),m?(this.consecutiveRemovalFailures=0,this.flushOnlyOnInterval&&!s?(this.resetFlush(),PromisePolyfill.resolve()):this.flush()):(++this.consecutiveRemovalFailures>5?(this.reportError("Too many queue failures; disabling batching system."),this.stopAllBatching()):this.resetFlush(),PromisePolyfill.resolve())},this))},this),h=_.bind(function(m){this.requestInProgress=!1;try{if(t.unloading)return this.queue.updatePayloads(c);if(_.isObject(m)&&m.error==="timeout"&&new Date().getTime()-a>=e)return this.reportError("Network timeout; retrying"),this.flush();if(_.isObject(m)&&(m.httpStatusCode>=500||m.httpStatusCode===429||m.httpStatusCode<=0&&!isOnline()||m.error==="timeout")){var g=this.flushInterval*2;return m.retryAfter&&(g=parseInt(m.retryAfter,10)*1e3||g),g=Math.min(MAX_RETRY_INTERVAL_MS,g),this.reportError("Error; retry in "+g+" ms"),this.scheduleFlush(g),PromisePolyfill.resolve()}else if(_.isObject(m)&&m.httpStatusCode===413)if(o.length>1){var b=Math.max(1,Math.floor(r/2));return this.batchSize=Math.min(this.batchSize,b,o.length-1),this.reportError("413 response; reducing batch size to "+this.batchSize),this.resetFlush(),PromisePolyfill.resolve()}else return this.reportError("Single-event request too large; dropping",o),this.resetBatchSize(),u();else return u()}catch(w){this.reportError("Error handling API response",w),this.resetFlush()}},this),f={method:"POST",verbose:!0,ignore_json_errors:!0,timeout_ms:e};return t.unloading&&(f.transport="sendBeacon"),logger$4.log("MIXPANEL REQUEST:",l),this.sendRequestPromise(l,f).then(h)},this)).catch(_.bind(function(o){this.reportError("Error flushing request queue",o),this.resetFlush()},this))};RequestBatcher.prototype.reportError=function(t,e){if(logger$4.error.apply(logger$4.error,arguments),this.errorReporter)try{e instanceof Error||(e=new Error(t)),this.errorReporter(t,e)}catch(a){logger$4.error(a)}};var isRecordingExpired=function(t){var e=Date.now();return!t||e>t.maxExpires||e>t.idleExpires},RECORD_ENQUEUE_THROTTLE_MS=250,logger$3=console_with_prefix("recorder"),CompressionStream$1=win.CompressionStream,RECORDER_BATCHER_LIB_CONFIG={batch_size:1e3,batch_flush_interval_ms:10*1e3,batch_request_timeout_ms:90*1e3,batch_autostart:!0},ACTIVE_SOURCES=new Set([IncrementalSource.MouseMove,IncrementalSource.MouseInteraction,IncrementalSource.Scroll,IncrementalSource.ViewportResize,IncrementalSource.Input,IncrementalSource.TouchMove,IncrementalSource.MediaInteraction,IncrementalSource.Drag,IncrementalSource.Selection]);function isUserEvent(t){return t.type===EventType.IncrementalSnapshot&&ACTIVE_SOURCES.has(t.data.source)}var SessionRecording=function(t){this._mixpanel=t.mixpanelInstance,this._onIdleTimeout=t.onIdleTimeout||NOOP_FUNC,this._onMaxLengthReached=t.onMaxLengthReached||NOOP_FUNC,this._onBatchSent=t.onBatchSent||NOOP_FUNC,this._rrwebRecord=t.rrwebRecord||null,this._stopRecording=null,this.replayId=t.replayId,this.batchStartUrl=t.batchStartUrl||null,this.replayStartUrl=t.replayStartUrl||null,this.idleExpires=t.idleExpires||null,this.maxExpires=t.maxExpires||null,this.replayStartTime=t.replayStartTime||null,this.lastEventTimestamp=t.lastEventTimestamp||null,this.seqNo=t.seqNo||0,this.idleTimeoutId=null,this.maxTimeoutId=null,this.recordMaxMs=MAX_RECORDING_MS,this.recordMinMs=0;var e=localStorageSupported(t.sharedLockStorage,!0)&&!this.getConfig("disable_persistence");this.batcherKey="__mprec_"+this.getConfig("name")+"_"+this.getConfig("token")+"_"+this.replayId,this.queueStorage=new IDBStorageWrapper(RECORDING_EVENTS_STORE_NAME),this.batcher=new RequestBatcher(this.batcherKey,{errorReporter:this.reportError.bind(this),flushOnlyOnInterval:!0,libConfig:RECORDER_BATCHER_LIB_CONFIG,sendRequestFunc:this.flushEventsWithOptOut.bind(this),queueStorage:this.queueStorage,sharedLockStorage:t.sharedLockStorage,usePersistence:e,stopAllBatchingFunc:this.stopRecording.bind(this),enqueueThrottleMs:RECORD_ENQUEUE_THROTTLE_MS,sharedLockTimeoutMS:10*1e3})};SessionRecording.prototype.getUserIdInfo=function(){if(this.finalFlushUserIdInfo)return this.finalFlushUserIdInfo;var t={distinct_id:String(this._mixpanel.get_distinct_id())},e=this._mixpanel.get_property("$device_id");e&&(t.$device_id=e);var a=this._mixpanel.get_property("$user_id");return a&&(t.$user_id=a),t};SessionRecording.prototype.unloadPersistedData=function(){return this.batcher.stop(),this.queueStorage.init().catch((function(){this.reportError("Error initializing IndexedDB storage for unloading persisted data.")}).bind(this)).then((function(){return this.getDurationMs()<this._getRecordMinMs()?this.queueStorage.removeItem(this.batcherKey):this.batcher.flush().then((function(){return this.queueStorage.removeItem(this.batcherKey)}).bind(this))}).bind(this))};SessionRecording.prototype.getConfig=function(t){return this._mixpanel.get_config(t)};SessionRecording.prototype.get_config=function(t){return this.getConfig(t)};SessionRecording.prototype.startRecording=function(t){if(this._rrwebRecord===null){this.reportError("rrweb record function not provided. ");return}if(this._stopRecording!==null){logger$3.log("Recording already in progress, skipping startRecording.");return}this.recordMaxMs=this.getConfig("record_max_ms"),this.recordMaxMs>MAX_RECORDING_MS&&(this.recordMaxMs=MAX_RECORDING_MS,logger$3.critical("record_max_ms cannot be greater than "+MAX_RECORDING_MS+"ms. Capping value.")),this.maxExpires||(this.maxExpires=new Date().getTime()+this.recordMaxMs),this.recordMinMs=this._getRecordMinMs(),this.replayStartTime||(this.replayStartTime=new Date().getTime(),this.batchStartUrl=_.info.currentUrl(),this.replayStartUrl=_.info.currentUrl()),t||this.recordMinMs>0?this.batcher.stop():this.batcher.start();var e=(function(){clearTimeout(this.idleTimeoutId);var o=this.getConfig("record_idle_timeout_ms");this.idleTimeoutId=setTimeout(this._onIdleTimeout,o),this.idleExpires=new Date().getTime()+o}).bind(this);e();var a=this.getConfig("record_block_selector");(a===""||a===null)&&(a=void 0);try{this._stopRecording=this._rrwebRecord({emit:(function(o){if(this.idleExpires&&this.idleExpires<o.timestamp){this._onIdleTimeout();return}isUserEvent(o)&&(this.batcher.stopped&&new Date().getTime()-this.replayStartTime>=this.recordMinMs&&this.batcher.start(),e()),this.__enqueuePromise=this.batcher.enqueue(o),(this.lastEventTimestamp===null||o.timestamp>this.lastEventTimestamp)&&(this.lastEventTimestamp=o.timestamp)}).bind(this),blockClass:this.getConfig("record_block_class"),blockSelector:a,collectFonts:this.getConfig("record_collect_fonts"),dataURLOptions:{type:"image/webp",quality:.6},maskAllInputs:!0,maskTextClass:this.getConfig("record_mask_text_class"),maskTextSelector:this.getConfig("record_mask_text_selector"),recordCanvas:this.getConfig("record_canvas"),sampling:{canvas:15},plugins:this.getConfig("record_console")?[getRecordConsolePlugin({stringifyOptions:{stringLengthLimit:1e3,numOfKeysLimit:50,depthOfLimit:2}})]:[]})}catch(o){this.reportError("Unexpected error when starting rrweb recording.",o)}if(typeof this._stopRecording!="function"){this.reportError("rrweb failed to start, skipping this recording."),this._stopRecording=null,this.stopRecording();return}var r=this.maxExpires-new Date().getTime();this.maxTimeoutId=setTimeout(this._onMaxLengthReached.bind(this),r)};SessionRecording.prototype.stopRecording=function(t){if(this.finalFlushUserIdInfo=this.getUserIdInfo(),!this.isRrwebStopped()){try{this._stopRecording()}catch(a){this.reportError("Error with rrweb stopRecording",a)}this._stopRecording=null}var e;return this.batcher.stopped?e=this.batcher.clear():t||(e=this.batcher.flush()),this.batcher.stop(),clearTimeout(this.idleTimeoutId),clearTimeout(this.maxTimeoutId),e};SessionRecording.prototype.isRrwebStopped=function(){return this._stopRecording===null};SessionRecording.prototype.flushEventsWithOptOut=function(t,e,a){var r=(function(o){o===0&&(this.stopRecording(),a({error:"Tracking has been opted out, stopping recording."}))}).bind(this);this._flushEvents(t,e,a,r)};SessionRecording.prototype.serialize=function(){var t;try{t=this._mixpanel.get_tab_id()}catch(e){this.reportError("Error getting tab ID for serialization ",e),t=null}return{replayId:this.replayId,seqNo:this.seqNo,replayStartTime:this.replayStartTime,batchStartUrl:this.batchStartUrl,replayStartUrl:this.replayStartUrl,lastEventTimestamp:this.lastEventTimestamp,idleExpires:this.idleExpires,maxExpires:this.maxExpires,tabId:t}};SessionRecording.deserialize=function(t,e){var a=new SessionRecording(_.extend({},e,{replayId:t.replayId,batchStartUrl:t.batchStartUrl,replayStartUrl:t.replayStartUrl,idleExpires:t.idleExpires,maxExpires:t.maxExpires,replayStartTime:t.replayStartTime,lastEventTimestamp:t.lastEventTimestamp,seqNo:t.seqNo,sharedLockStorage:e.sharedLockStorage}));return a};SessionRecording.prototype._sendRequest=function(t,e,a,r){var o=(function(l,c){l.status===200&&this.replayId===t&&(this.seqNo++,this.batchStartUrl=_.info.currentUrl()),this._onBatchSent(),r({status:0,httpStatusCode:l.status,responseBody:c,retryAfter:l.headers.get("Retry-After")})}).bind(this),s=this._mixpanel.get_api_host&&this._mixpanel.get_api_host("record")||this.getConfig("api_host");win.fetch(s+"/"+this.getConfig("api_routes").record+"?"+new URLSearchParams(e),{method:"POST",headers:{Authorization:"Basic "+btoa(this.getConfig("token")+":"),"Content-Type":"application/octet-stream"},body:a}).then(function(l){l.json().then(function(c){o(l,c)}).catch(function(c){r({error:c})})}).catch(function(l){r({error:l,httpStatusCode:0})})};SessionRecording.prototype._flushEvents=addOptOutCheckMixpanelLib(function(t,e,a){var r=t.length;if(r>0){for(var o=this.replayId,s=1/0,l=-1/0,c=!1,u=0;u<r;u++)s=Math.min(s,t[u].timestamp),l=Math.max(l,t[u].timestamp),t[u].type===EventType.FullSnapshot&&(c=!0);if(this.seqNo===0){if(!c){a({error:"First batch does not contain a full snapshot. Aborting recording."}),this.stopRecording(!0);return}this.replayStartTime=s}else this.replayStartTime||(this.reportError("Replay start time not set but seqNo is not 0. Using current batch start time as a fallback."),this.replayStartTime=s);var h=l-this.replayStartTime,f={$current_url:this.batchStartUrl,$lib_version:Config.LIB_VERSION,batch_start_time:s/1e3,mp_lib:"web",replay_id:o,replay_length_ms:h,replay_start_time:this.replayStartTime/1e3,replay_start_url:this.replayStartUrl,seq:this.seqNo},m=JSON.stringify(t);if(Object.assign(f,this.getUserIdInfo()),canUseCompressionStream(userAgent,navigator$1.vendor,windowOpera)){var g=new Blob([m],{type:"application/json"}).stream(),b=g.pipeThrough(new CompressionStream$1("gzip"));new Response(b).blob().then((function(w){f.format="gzip",this._sendRequest(o,f,w,a)}).bind(this))}else f.format="body",this._sendRequest(o,f,m,a)}});SessionRecording.prototype.reportError=function(t,e){logger$3.error.apply(logger$3.error,arguments);try{!e&&!(t instanceof Error)&&(t=new Error(t)),this.getConfig("error_reporter")(t,e)}catch(a){logger$3.error(a)}};SessionRecording.prototype.getDurationMs=function(){return this.replayStartTime===null?0:this.lastEventTimestamp===null?new Date().getTime()-this.replayStartTime:this.lastEventTimestamp-this.replayStartTime};SessionRecording.prototype._getRecordMinMs=function(){var t=this.getConfig("record_min_ms");return t>MAX_VALUE_FOR_MIN_RECORDING_MS?(logger$3.critical("record_min_ms cannot be greater than "+MAX_VALUE_FOR_MIN_RECORDING_MS+"ms. Capping value."),MAX_VALUE_FOR_MIN_RECORDING_MS):t};var RecordingRegistry=function(t){this.idb=new IDBStorageWrapper(RECORDING_REGISTRY_STORE_NAME),this.errorReporter=t.errorReporter,this.mixpanelInstance=t.mixpanelInstance,this.sharedLockStorage=t.sharedLockStorage};RecordingRegistry.prototype.isPersistenceEnabled=function(){return!this.mixpanelInstance.get_config("disable_persistence")};RecordingRegistry.prototype.handleError=function(t){this.errorReporter("IndexedDB error: ",t)};RecordingRegistry.prototype.setActiveRecording=function(t){if(!this.isPersistenceEnabled())return PromisePolyfill.resolve();var e=t.tabId;return e?this.idb.init().then((function(){return this.idb.setItem(e,t)}).bind(this)).catch(this.handleError.bind(this)):(console.warn("No tab ID is set, cannot persist recording metadata."),PromisePolyfill.resolve())};RecordingRegistry.prototype.getActiveRecording=function(){return this.isPersistenceEnabled()?this.idb.init().then((function(){return this.idb.getItem(this.mixpanelInstance.get_tab_id())}).bind(this)).then((function(t){return isRecordingExpired(t)?null:t}).bind(this)).catch(this.handleError.bind(this)):PromisePolyfill.resolve(null)};RecordingRegistry.prototype.clearActiveRecording=function(){return this.isPersistenceEnabled()?this.markActiveRecordingExpired():this.deleteActiveRecording()};RecordingRegistry.prototype.markActiveRecordingExpired=function(){return this.getActiveRecording().then((function(t){if(t)return t.maxExpires=0,this.setActiveRecording(t)}).bind(this)).catch(this.handleError.bind(this))};RecordingRegistry.prototype.deleteActiveRecording=function(){return this.idb.isInitialized()?this.idb.removeItem(this.mixpanelInstance.get_tab_id()).catch(this.handleError.bind(this)):PromisePolyfill.resolve()};RecordingRegistry.prototype.flushInactiveRecordings=function(){return this.isPersistenceEnabled()?this.idb.init().then((function(){return this.idb.getAll()}).bind(this)).then((function(t){var e=t.filter(function(a){return isRecordingExpired(a)}).map((function(a){var r=SessionRecording.deserialize(a,{mixpanelInstance:this.mixpanelInstance,sharedLockStorage:this.sharedLockStorage});return r.unloadPersistedData().then((function(){return this.idb.removeItem(a.tabId)}).bind(this)).catch(this.handleError.bind(this))}).bind(this));return PromisePolyfill.all(e)}).bind(this)).catch(this.handleError.bind(this)):PromisePolyfill.resolve([])};var logger$2=console_with_prefix("recorder"),MixpanelRecorder=function(t,e,a){this.mixpanelInstance=t,this.rrwebRecord=e||record,this.sharedLockStorage=a,this.recordingRegistry=new RecordingRegistry({mixpanelInstance:this.mixpanelInstance,errorReporter:logger$2.error,sharedLockStorage:a}),this._flushInactivePromise=this.recordingRegistry.flushInactiveRecordings(),this.activeRecording=null,this.stopRecordingInProgress=!1};MixpanelRecorder.prototype.startRecording=function(t){if(t=t||{},this.activeRecording&&!this.activeRecording.isRrwebStopped()){logger$2.log("Recording already in progress, skipping startRecording.");return}var e=(function(){logger$2.log("Idle timeout reached, restarting recording."),this.resetRecording()}).bind(this),a=(function(){logger$2.log("Max recording length reached, stopping recording."),this.resetRecording()}).bind(this),r=(function(){this.recordingRegistry.setActiveRecording(this.activeRecording.serialize()),this.__flushPromise=this.activeRecording.batcher._flushPromise}).bind(this),o={mixpanelInstance:this.mixpanelInstance,onBatchSent:r,onIdleTimeout:e,onMaxLengthReached:a,replayId:_.UUID(),rrwebRecord:this.rrwebRecord,sharedLockStorage:this.sharedLockStorage};return t.activeSerializedRecording?this.activeRecording=SessionRecording.deserialize(t.activeSerializedRecording,o):this.activeRecording=new SessionRecording(o),this.activeRecording.startRecording(t.shouldStopBatcher),this.recordingRegistry.setActiveRecording(this.activeRecording.serialize())};MixpanelRecorder.prototype.stopRecording=function(){return this.stopRecordingInProgress=!0,this._stopCurrentRecording(!1,!0).then((function(){return this.recordingRegistry.clearActiveRecording()}).bind(this)).then((function(){this.stopRecordingInProgress=!1}).bind(this))};MixpanelRecorder.prototype.pauseRecording=function(){return this._stopCurrentRecording(!1)};MixpanelRecorder.prototype._stopCurrentRecording=function(t,e){if(this.activeRecording){var a=this.activeRecording.stopRecording(t);return e&&(this.activeRecording=null),a}return PromisePolyfill.resolve()};MixpanelRecorder.prototype.resumeRecording=function(t){return this.activeRecording&&this.activeRecording.isRrwebStopped()?(this.activeRecording.startRecording(!1),PromisePolyfill.resolve(null)):this.recordingRegistry.getActiveRecording().then((function(e){return e&&!this.stopRecordingInProgress?this.startRecording({activeSerializedRecording:e}):t?this.startRecording({shouldStopBatcher:!1}):(logger$2.log("No resumable recording found."),null)}).bind(this))};MixpanelRecorder.prototype.resetRecording=function(){this.stopRecording(),this.startRecording({shouldStopBatcher:!0})};MixpanelRecorder.prototype.getActiveReplayId=function(){return this.activeRecording&&!this.activeRecording.isRrwebStopped()?this.activeRecording.replayId:null};Object.defineProperty(MixpanelRecorder.prototype,"replayId",{get:function(){return this.getActiveReplayId()}});win.__mp_recorder=MixpanelRecorder;var EV_CHANGE="change",EV_CLICK="click",EV_HASHCHANGE="hashchange",EV_INPUT="input",EV_LOAD="load",EV_MP_LOCATION_CHANGE="mp_locationchange",EV_POPSTATE="popstate",EV_SCROLLEND="scrollend",EV_SCROLL="scroll",EV_SELECT="select",EV_SUBMIT="submit",EV_TOGGLE="toggle",EV_VISIBILITYCHANGE="visibilitychange",CLICK_EVENT_PROPS=["clientX","clientY","offsetX","offsetY","pageX","pageY","screenX","screenY","x","y"],OPT_IN_CLASSES=["mp-include"],OPT_OUT_CLASSES=["mp-no-track"],SENSITIVE_DATA_CLASSES=OPT_OUT_CLASSES.concat(["mp-sensitive"]),TRACKED_ATTRS=["aria-label","aria-labelledby","aria-describedby","href","name","role","title","type"],INTERACTIVE_ARIA_ROLES={button:!0,checkbox:!0,combobox:!0,grid:!0,link:!0,listbox:!0,menu:!0,menubar:!0,menuitem:!0,menuitemcheckbox:!0,menuitemradio:!0,navigation:!0,option:!0,radio:!0,radiogroup:!0,searchbox:!0,slider:!0,spinbutton:!0,switch:!0,tab:!0,tablist:!0,textbox:!0,tree:!0,treegrid:!0,treeitem:!0},ALWAYS_NON_INTERACTIVE_TAGS={base:!0,head:!0,html:!0,link:!0,meta:!0,script:!0,style:!0,title:!0,br:!0,hr:!0,wbr:!0,noscript:!0,picture:!0,source:!0,template:!0,track:!0},TEXT_CONTAINER_TAGS={article:!0,div:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,p:!0,section:!0,span:!0},EVENT_HANDLER_ATTRIBUTES=["onclick","onmousedown","onmouseup","onpointerdown","onpointerup","ontouchend","ontouchstart"],MAX_DEPTH=5,logger$1=console_with_prefix("autocapture");function getClasses(t){for(var e={},a=getClassName(t).split(" "),r=0;r<a.length;r++){var o=a[r];o&&(e[o]=!0)}return e}function getClassName(t){switch(typeof t.className){case"string":return t.className;case"object":return t.className.baseVal||t.getAttribute("class")||"";default:return""}}function getPreviousElementSibling(t){if(t.previousElementSibling)return t.previousElementSibling;do t=t.previousSibling;while(t&&!isElementNode(t));return t}function getPropertiesFromElement(t,e,a,r,o,s){var l={$classes:getClassName(t).split(" "),$tag_name:t.tagName.toLowerCase()},c=t.id;c&&(l.$id=c),shouldTrackElementDetails(t,e,o,s)&&_.each(TRACKED_ATTRS.concat(r),function(m){if(t.hasAttribute(m)&&!a[m]){var g=t.getAttribute(m);shouldTrackValue(g)&&(l["$attr-"+m]=g)}});for(var u=1,h=1,f=t;f=getPreviousElementSibling(f);)u++,f.tagName===t.tagName&&h++;return l.$nth_child=u,l.$nth_of_type=h,l}function getPropsForDOMEvent(t,e){var a=e.allowElementCallback,r=e.allowSelectors||[],o=e.blockAttrs||[],s=e.blockElementCallback,l=e.blockSelectors||[],c=e.captureTextContent||!1,u=e.captureExtraAttrs||[],h=e.capturedForHeatMap||!1,f={};_.each(o,function(z){f[z]=!0});var m=null,g=typeof t.target>"u"?t.srcElement:t.target;if(isTextNode(g)&&(g=g.parentNode),shouldTrackDomEvent(g,t)&&isElementAllowed(g,t,a,r)&&!isElementBlocked(g,t,s,l)){for(var b=[g],w=g;w.parentNode&&!isTag(w,"body");)b.push(w.parentNode),w=w.parentNode;var E=[],C,B=!1;if(_.each(b,function(z){var V=shouldTrackElementDetails(z,t,a,r);!f.href&&z.tagName.toLowerCase()==="a"&&(C=z.getAttribute("href"),C=V&&shouldTrackValue(C)&&C),isElementBlocked(z,t,s,l)&&(B=!0),E.push(getPropertiesFromElement(z,t,f,u,a,r))},this),!B){var O=document$1.documentElement;if(m={$event_type:t.type,$host:win.location.host,$pathname:win.location.pathname,$elements:E,$el_attr__href:C,$viewportHeight:Math.max(O.clientHeight,win.innerHeight||0),$viewportWidth:Math.max(O.clientWidth,win.innerWidth||0),$pageHeight:document$1.body.offsetHeight||0,$pageWidth:document$1.body.offsetWidth||0},_.each(u,function(z){if(!f[z]&&g.hasAttribute(z)){var V=g.getAttribute(z);shouldTrackValue(V)&&(m["$el_attr__"+z]=V)}}),c&&(P=getSafeText(g,t,a,r),P&&P.length&&(m.$el_text=P)),t.type===EV_CLICK&&(_.each(CLICK_EVENT_PROPS,function(z){z in t&&(m["$"+z]=t[z])}),h&&(m.$captured_for_heatmap=!0),g=guessRealClickTarget(t)),c){var P=getSafeText(g,t,a,r);P&&P.length&&(m.$el_text=P)}if(g){if(!isElementAllowed(g,t,a,r)||isElementBlocked(g,t,s,l))return null;var q=getPropertiesFromElement(g,t,f,u,a,r);m.$target=q,m.$el_classes=q.$classes,_.extend(m,_.strip_empty_properties({$el_id:q.$id,$el_tag_name:q.$tag_name}))}}}return m}function getSafeText(t,e,a,r){var o="";return shouldTrackElementDetails(t,e,a,r)&&t.childNodes&&t.childNodes.length&&_.each(t.childNodes,function(s){isTextNode(s)&&s.textContent&&(o+=_.trim(s.textContent).split(/(\s+)/).filter(shouldTrackValue).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255))}),_.trim(o)}function guessRealClickTarget(t){for(var e=t.target,a=t.composedPath(),r=0;r<a.length;r++){var o=a[r];if(isTag(o,"a")||isTag(o,"button")||isTag(o,"input")||isTag(o,"select")||o.getAttribute&&o.getAttribute("role")==="button"){e=o;break}if(o===e)break}return e}function isElementAllowed(t,e,a,r){if(a)try{if(!a(t,e))return!1}catch(l){return logger$1.critical("Error while checking element in allowElementCallback",l),!1}if(!r.length)return!0;for(var o=0;o<r.length;o++){var s=r[o];try{if(t.matches(s))return!0}catch(l){logger$1.critical("Error while checking selector: "+s,l)}}return!1}function isElementBlocked(t,e,a,r){var o;if(a)try{if(a(t,e))return!0}catch(c){return logger$1.critical("Error while checking element in blockElementCallback",c),!0}if(r&&r.length)for(o=0;o<r.length;o++){var s=r[o];try{if(t.matches(s))return!0}catch(c){logger$1.critical("Error while checking selector: "+s,c)}}var l=getClasses(t);for(o=0;o<OPT_OUT_CLASSES.length;o++)if(l[OPT_OUT_CLASSES[o]])return!0;return!1}function isElementNode(t){return t&&t.nodeType===1}function isTag(t,e){return t&&t.tagName&&t.tagName.toLowerCase()===e.toLowerCase()}function isTextNode(t){return t&&t.nodeType===3}function minDOMApisSupported(){try{var t=document$1.createElement("div");return!!t.matches}catch{return!1}}function weakSetSupported(){return typeof WeakSet<"u"}function shouldTrackDomEvent(t,e){if(!t||isTag(t,"html")||!isElementNode(t))return!1;var a=t.tagName.toLowerCase();switch(a){case"form":return e.type===EV_SUBMIT;case"input":return["button","submit"].indexOf(t.getAttribute("type"))===-1?e.type===EV_CHANGE:e.type===EV_CLICK;case"select":case"textarea":return e.type===EV_CHANGE;default:return e.type===EV_CLICK}}function shouldTrackElementDetails(t,e,a,r){var o;if(!isElementAllowed(t,e,a,r))return!1;for(var s=t;s.parentNode&&!isTag(s,"body");s=s.parentNode){var l=getClasses(s);for(o=0;o<SENSITIVE_DATA_CLASSES.length;o++)if(l[SENSITIVE_DATA_CLASSES[o]])return!1}var c=getClasses(t);for(o=0;o<OPT_IN_CLASSES.length;o++)if(c[OPT_IN_CLASSES[o]])return!0;if(isTag(t,"input")||isTag(t,"select")||isTag(t,"textarea")||t.getAttribute("contenteditable")==="true")return!1;var u=t.type||"";if(typeof u=="string")switch(u.toLowerCase()){case"hidden":return!1;case"password":return!1}var h=t.name||t.id||"";if(typeof h=="string"){var f=/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i;if(f.test(h.replace(/[^a-zA-Z0-9]/g,"")))return!1}return!0}function shouldTrackValue(t){if(t===null||_.isUndefined(t))return!1;if(typeof t=="string"){t=_.trim(t);var e=/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/;if(e.test((t||"").replace(/[- ]/g,"")))return!1;var a=/(^\d{3}-?\d{2}-?\d{4}$)/;if(a.test(t))return!1}return!0}function getPolyfillScrollEndFunction(t){var e="onscrollend"in win,a=safewrap(t),r=EV_SCROLLEND;if(!e){var o=null,s=100;a=safewrap(function(){clearTimeout(o),o=setTimeout(t,s)}),r=EV_SCROLL}return{listener:a,eventType:r}}function hasInlineEventHandlers(t){for(var e=0;e<EVENT_HANDLER_ATTRIBUTES.length;e++)if(t.hasAttribute(EVENT_HANDLER_ATTRIBUTES[e]))return!0;return!1}function hasInteractiveAriaRole(t){var e=t.getAttribute("role");if(!e)return!1;var a=e.trim().split(/\s+/)[0].toLowerCase();return INTERACTIVE_ARIA_ROLES[a]}function hasAnyInteractivityIndicators(t){var e=t.tagName.toLowerCase();return!!(e==="button"||e==="input"||e==="select"||e==="textarea"||e==="details"||e==="dialog"||t.isContentEditable||t.onclick||t.onmousedown||t.onmouseup||t.ontouchstart||t.ontouchend||hasInlineEventHandlers(t)||hasInteractiveAriaRole(t)||e==="a"&&t.hasAttribute("href")||t.hasAttribute("tabindex"))}function isDefinitelyNonInteractive(t){if(!t||!t.tagName)return!0;var e=t.tagName.toLowerCase();if(ALWAYS_NON_INTERACTIVE_TAGS[e])return!0;if(hasAnyInteractivityIndicators(t))return!1;for(var a=t.parentElement,r=0;a&&r<MAX_DEPTH;){if(hasAnyInteractivityIndicators(a))return!1;if(a.getRootNode&&a.getRootNode()!==document$1){var o=a.getRootNode();if(o.host&&hasAnyInteractivityIndicators(o.host))return!1}a=a.parentElement,r++}return!!TEXT_CONTAINER_TAGS[e]}function getClickEventComposedPath(t){return"composedPath"in t?t.composedPath():[]}function getClickEventTargetElement(t){var e=getClickEventComposedPath(t);return e&&e.length>0?e[0]:t.target||t.srcElement}var DEFAULT_RAGE_CLICK_THRESHOLD_PX=30,DEFAULT_RAGE_CLICK_TIMEOUT_MS=1e3,DEFAULT_RAGE_CLICK_CLICK_COUNT=4,DEFAULT_RAGE_CLICK_INTERACTIVE_ELEMENTS_ONLY=!1;function RageClickTracker(){this.clicks=[]}RageClickTracker.prototype.isRageClick=function(t,e){e=e||{};var a=e.threshold_px||DEFAULT_RAGE_CLICK_THRESHOLD_PX,r=e.timeout_ms||DEFAULT_RAGE_CLICK_TIMEOUT_MS,o=e.click_count||DEFAULT_RAGE_CLICK_CLICK_COUNT,s=e.interactive_elements_only||DEFAULT_RAGE_CLICK_INTERACTIVE_ELEMENTS_ONLY;if(s){var l=getClickEventTargetElement(t);if(!l||isDefinitelyNonInteractive(l))return!1}var c=Date.now(),u=t.pageX,h=t.pageY,f=this.clicks[this.clicks.length-1];if(f&&c-f.timestamp<r&&Math.sqrt(Math.pow(u-f.x,2)+Math.pow(h-f.y,2))<a){if(this.clicks.push({x:u,y:h,timestamp:c}),this.clicks.length>=o)return this.clicks=[],!0}else this.clicks=[{x:u,y:h,timestamp:c}];return!1};function ShadowDOMObserver(t,e){this.changeCallback=t||function(){},this.observerConfig=e,this.observedShadowRoots=null,this.shadowObservers=[]}ShadowDOMObserver.prototype.getEventTarget=function(t){if(this.observedShadowRoots)return getClickEventTargetElement(t)};ShadowDOMObserver.prototype.observeFromEvent=function(t){if(this.observedShadowRoots)for(var e=getClickEventComposedPath(t),a=0;a<e.length;a++){var r=e[a];r&&r.shadowRoot&&this.observeShadowRoot(r.shadowRoot)}};ShadowDOMObserver.prototype.observeShadowRoot=function(t){if(!(!this.observedShadowRoots||this.observedShadowRoots.has(t))){var e=this;try{this.observedShadowRoots.add(t);var a=new window.MutationObserver(function(){e.changeCallback()});a.observe(t,this.observerConfig),this.shadowObservers.push(a)}catch(r){logger$1.critical("Error while observing shadow root",r)}}};ShadowDOMObserver.prototype.start=function(){if(!this.observedShadowRoots){if(!weakSetSupported()){logger$1.critical("Shadow DOM observation unavailable: WeakSet not supported");return}this.observedShadowRoots=new WeakSet}};ShadowDOMObserver.prototype.stop=function(){if(this.observedShadowRoots){for(var t=0;t<this.shadowObservers.length;t++)try{this.shadowObservers[t].disconnect()}catch(e){logger$1.critical("Error while disconnecting shadow DOM observer",e)}this.shadowObservers=[],this.observedShadowRoots=null}};var DEFAULT_DEAD_CLICK_TIMEOUT_MS=500,INTERACTION_EVENTS=[EV_CHANGE,EV_INPUT,EV_SUBMIT,EV_SELECT,EV_TOGGLE],LAYOUT_EVENTS=[EV_SCROLLEND],NAVIGATION_EVENTS=[EV_HASHCHANGE],MUTATION_OBSERVER_CONFIG={characterData:!0,childList:!0,subtree:!0,attributes:!0,attributeFilter:["style","class","hidden","checked","selected","value","display","visibility"]};function DeadClickTracker(t){this.eventListeners=[],this.mutationObserver=null,this.shadowDOMObserver=null,this.isTracking=!1,this.lastChangeEventTimestamp=0,this.pendingClicks=[],this.onDeadClickCallback=t,this.processingActive=!1,this.processingTimeout=null}DeadClickTracker.prototype.addClick=function(t){var e=this.shadowDOMObserver&&this.shadowDOMObserver.getEventTarget(t);return e||(e=t.target||t.srcElement),!e||isDefinitelyNonInteractive(e)?!1:(this.shadowDOMObserver&&this.shadowDOMObserver.observeFromEvent(t),this.pendingClicks.push({element:e,event:t,timestamp:Date.now()}),!0)};DeadClickTracker.prototype.trackClick=function(t,e){if(!this.isTracking)return!1;var a=this.addClick(t);return a&&this.triggerProcessing(e),a};DeadClickTracker.prototype.getDeadClicks=function(t){if(this.pendingClicks.length===0)return[];var e=t.timeout_ms,a=Date.now(),r=this.pendingClicks.slice();this.pendingClicks=[];for(var o=[],s=0;s<r.length;s++){var l=r[s];a-l.timestamp>=e?this.hasChangesAfter(l.timestamp)||o.push(l):this.pendingClicks.push(l)}return o};DeadClickTracker.prototype.hasChangesAfter=function(t){return this.lastChangeEventTimestamp>=t-100};DeadClickTracker.prototype.recordChangeEvent=function(){this.lastChangeEventTimestamp=Date.now()};DeadClickTracker.prototype.triggerProcessing=function(t){this.processingActive||(this.processingActive=!0,this.processRecursively(t))};DeadClickTracker.prototype.processRecursively=function(t){if(!this.isTracking||!this.onDeadClickCallback){this.processingActive=!1;return}var e=t.timeout_ms,a=this;this.processingTimeout=setTimeout(function(){if(a.processingActive){for(var r=a.getDeadClicks(t),o=0;o<r.length;o++)a.onDeadClickCallback(r[o].event);a.pendingClicks.length>0?a.processRecursively(t):a.processingActive=!1}},e)};DeadClickTracker.prototype.startTracking=function(){if(!this.isTracking){this.isTracking=!0;var t=this;INTERACTION_EVENTS.forEach(function(a){var r=function(){t.recordChangeEvent()};document.addEventListener(a,r,{capture:!0,passive:!0}),t.eventListeners.push({target:document,event:a,handler:r,options:{capture:!0,passive:!0}})}),NAVIGATION_EVENTS.forEach(function(a){var r=function(){t.recordChangeEvent()};window.addEventListener(a,r),t.eventListeners.push({target:window,event:a,handler:r})}),LAYOUT_EVENTS.forEach(function(a){var r=function(){t.recordChangeEvent()};window.addEventListener(a,r,{passive:!0}),t.eventListeners.push({target:window,event:a,handler:r,options:{passive:!0}})});var e=function(){t.recordChangeEvent()};if(document.addEventListener("selectionchange",e),t.eventListeners.push({target:document,event:"selectionchange",handler:e}),window.MutationObserver)try{this.mutationObserver=new window.MutationObserver(function(){t.recordChangeEvent()}),this.mutationObserver.observe(document.body||document.documentElement,MUTATION_OBSERVER_CONFIG)}catch(a){logger$1.critical("Error while setting up mutation observer",a)}if(window.customElements)try{this.shadowDOMObserver=new ShadowDOMObserver(function(){t.recordChangeEvent()},MUTATION_OBSERVER_CONFIG),this.shadowDOMObserver.start()}catch(a){logger$1.critical("Error while setting up shadow DOM observer",a),this.shadowDOMObserver=null}}};DeadClickTracker.prototype.stopTracking=function(){if(this.isTracking){this.isTracking=!1,this.pendingClicks=[],this.lastChangeEventTimestamp=0,this.processingActive=!1,this.processingTimeout&&(clearTimeout(this.processingTimeout),this.processingTimeout=null);for(var t=0;t<this.eventListeners.length;t++){var e=this.eventListeners[t];try{e.target.removeEventListener(e.event,e.handler,e.options)}catch(a){logger$1.critical("Error while removing event listener",a)}}if(this.eventListeners=[],this.mutationObserver){try{this.mutationObserver.disconnect()}catch(a){logger$1.critical("Error while disconnecting mutation observer",a)}this.mutationObserver=null}if(this.shadowDOMObserver){try{this.shadowDOMObserver.stop()}catch(a){logger$1.critical("Error while stopping shadow DOM observer",a)}this.shadowDOMObserver=null}}};var AUTOCAPTURE_CONFIG_KEY="autocapture",LEGACY_PAGEVIEW_CONFIG_KEY="track_pageview",PAGEVIEW_OPTION_FULL_URL="full-url",PAGEVIEW_OPTION_URL_WITH_PATH_AND_QUERY_STRING="url-with-path-and-query-string",PAGEVIEW_OPTION_URL_WITH_PATH="url-with-path",CONFIG_ALLOW_ELEMENT_CALLBACK="allow_element_callback",CONFIG_ALLOW_SELECTORS="allow_selectors",CONFIG_ALLOW_URL_REGEXES="allow_url_regexes",CONFIG_BLOCK_ATTRS="block_attrs",CONFIG_BLOCK_ELEMENT_CALLBACK="block_element_callback",CONFIG_BLOCK_SELECTORS="block_selectors",CONFIG_BLOCK_URL_REGEXES="block_url_regexes",CONFIG_CAPTURE_EXTRA_ATTRS="capture_extra_attrs",CONFIG_CAPTURE_TEXT_CONTENT="capture_text_content",CONFIG_SCROLL_CAPTURE_ALL="scroll_capture_all",CONFIG_SCROLL_CHECKPOINTS="scroll_depth_percent_checkpoints",CONFIG_TRACK_CLICK="click",CONFIG_TRACK_DEAD_CLICK="dead_click",CONFIG_TRACK_INPUT="input",CONFIG_TRACK_PAGEVIEW="pageview",CONFIG_TRACK_RAGE_CLICK="rage_click",CONFIG_TRACK_SCROLL="scroll",CONFIG_TRACK_PAGE_LEAVE="page_leave",CONFIG_TRACK_SUBMIT="submit",CONFIG_DEFAULTS$1={};CONFIG_DEFAULTS$1[CONFIG_ALLOW_SELECTORS]=[];CONFIG_DEFAULTS$1[CONFIG_ALLOW_URL_REGEXES]=[];CONFIG_DEFAULTS$1[CONFIG_BLOCK_ATTRS]=[];CONFIG_DEFAULTS$1[CONFIG_BLOCK_ELEMENT_CALLBACK]=null;CONFIG_DEFAULTS$1[CONFIG_BLOCK_SELECTORS]=[];CONFIG_DEFAULTS$1[CONFIG_BLOCK_URL_REGEXES]=[];CONFIG_DEFAULTS$1[CONFIG_CAPTURE_EXTRA_ATTRS]=[];CONFIG_DEFAULTS$1[CONFIG_CAPTURE_TEXT_CONTENT]=!1;CONFIG_DEFAULTS$1[CONFIG_SCROLL_CAPTURE_ALL]=!1;CONFIG_DEFAULTS$1[CONFIG_SCROLL_CHECKPOINTS]=[25,50,75,100];CONFIG_DEFAULTS$1[CONFIG_TRACK_CLICK]=!0;CONFIG_DEFAULTS$1[CONFIG_TRACK_DEAD_CLICK]=!0;CONFIG_DEFAULTS$1[CONFIG_TRACK_INPUT]=!0;CONFIG_DEFAULTS$1[CONFIG_TRACK_PAGEVIEW]=PAGEVIEW_OPTION_FULL_URL;CONFIG_DEFAULTS$1[CONFIG_TRACK_RAGE_CLICK]=!0;CONFIG_DEFAULTS$1[CONFIG_TRACK_SCROLL]=!0;CONFIG_DEFAULTS$1[CONFIG_TRACK_PAGE_LEAVE]=!1;CONFIG_DEFAULTS$1[CONFIG_TRACK_SUBMIT]=!0;var DEFAULT_PROPS={$mp_autocapture:!0},MP_EV_CLICK="$mp_click",MP_EV_DEAD_CLICK="$mp_dead_click",MP_EV_INPUT="$mp_input_change",MP_EV_RAGE_CLICK="$mp_rage_click",MP_EV_SCROLL="$mp_scroll",MP_EV_SUBMIT="$mp_submit",MP_EV_PAGE_LEAVE="$mp_page_leave",Autocapture=function(t){this.mp=t,this.maxScrollViewDepth=0,this.hasTrackedScrollSession=!1,this.previousScrollHeight=0};Autocapture.prototype.init=function(){if(!minDOMApisSupported()){logger$1.critical("Autocapture unavailable: missing required DOM APIs");return}this.initPageListeners(),this.initPageviewTracking(),this.initClickTracking(),this.initDeadClickTracking(),this.initInputTracking(),this.initScrollTracking(),this.initSubmitTracking(),this.initRageClickTracking(),this.initPageLeaveTracking()};Autocapture.prototype.getFullConfig=function(){var t=this.mp.get_config(AUTOCAPTURE_CONFIG_KEY);return t?_.isObject(t)?_.extend({},CONFIG_DEFAULTS$1,t):CONFIG_DEFAULTS$1:{}};Autocapture.prototype.getConfig=function(t){return this.getFullConfig()[t]};Autocapture.prototype.currentUrlBlocked=function(){var t,e=_.info.currentUrl(),a=this.getConfig(CONFIG_ALLOW_URL_REGEXES)||[];if(a.length){var r=!1;for(t=0;t<a.length;t++){var o=a[t];try{if(e.match(o)){r=!0;break}}catch(l){return logger$1.critical("Error while checking block URL regex: "+o,l),!0}}if(!r)return!0}var s=this.getConfig(CONFIG_BLOCK_URL_REGEXES)||[];if(!s||!s.length)return!1;for(t=0;t<s.length;t++)try{if(e.match(s[t]))return!0}catch(l){return logger$1.critical("Error while checking block URL regex: "+s[t],l),!0}return!1};Autocapture.prototype.pageviewTrackingConfig=function(){return this.mp.get_config(AUTOCAPTURE_CONFIG_KEY)?this.getConfig(CONFIG_TRACK_PAGEVIEW):this.mp.get_config(LEGACY_PAGEVIEW_CONFIG_KEY)};Autocapture.prototype.trackDomEvent=function(t,e){if(!this.currentUrlBlocked()){var a=this.mp.is_recording_heatmap_data()&&(e===MP_EV_CLICK&&!this.getConfig(CONFIG_TRACK_CLICK)||e===MP_EV_RAGE_CLICK&&!this._getClickTrackingConfig(CONFIG_TRACK_RAGE_CLICK)||e===MP_EV_DEAD_CLICK&&!this._getClickTrackingConfig(CONFIG_TRACK_DEAD_CLICK)),r=getPropsForDOMEvent(t,{allowElementCallback:this.getConfig(CONFIG_ALLOW_ELEMENT_CALLBACK),allowSelectors:this.getConfig(CONFIG_ALLOW_SELECTORS),blockAttrs:this.getConfig(CONFIG_BLOCK_ATTRS),blockElementCallback:this.getConfig(CONFIG_BLOCK_ELEMENT_CALLBACK),blockSelectors:this.getConfig(CONFIG_BLOCK_SELECTORS),captureExtraAttrs:this.getConfig(CONFIG_CAPTURE_EXTRA_ATTRS),captureTextContent:this.getConfig(CONFIG_CAPTURE_TEXT_CONTENT),capturedForHeatMap:a});r&&(_.extend(r,DEFAULT_PROPS),this.mp.track(e,r))}};Autocapture.prototype.initPageListeners=function(){if(win.removeEventListener(EV_POPSTATE,this.listenerPopstate),win.removeEventListener(EV_HASHCHANGE,this.listenerHashchange),!(!this.pageviewTrackingConfig()&&!this.getConfig(CONFIG_TRACK_PAGE_LEAVE)&&!this.mp.get_config("record_heatmap_data"))){this.listenerPopstate=function(){win.dispatchEvent(new Event(EV_MP_LOCATION_CHANGE))},this.listenerHashchange=function(){win.dispatchEvent(new Event(EV_MP_LOCATION_CHANGE))},win.addEventListener(EV_POPSTATE,this.listenerPopstate),win.addEventListener(EV_HASHCHANGE,this.listenerHashchange);var t=win.history.pushState;typeof t=="function"&&(win.history.pushState=function(a,r,o){t.call(win.history,a,r,o),win.dispatchEvent(new Event(EV_MP_LOCATION_CHANGE))});var e=win.history.replaceState;typeof e=="function"&&(win.history.replaceState=function(a,r,o){e.call(win.history,a,r,o),win.dispatchEvent(new Event(EV_MP_LOCATION_CHANGE))})}};Autocapture.prototype._getClickTrackingConfig=function(t){var e=this.getConfig(t);return e?e===!0?{}:typeof e=="object"?e:{}:null};Autocapture.prototype._trackPageLeave=function(t,e,a){if(!this.hasTrackedScrollSession&&!(!this.getConfig(CONFIG_TRACK_PAGE_LEAVE)&&!this.mp.is_recording_heatmap_data())){this.hasTrackedScrollSession=!0;var r=Math.max(document$1.documentElement.clientHeight,win.innerHeight||0),o=Math.round(Math.max(this.maxScrollViewDepth-r,0)/(a-r)*100),s=Math.round(r/a*100);a<=r&&(o=100,s=100);var l=_.extend({$max_scroll_view_depth:this.maxScrollViewDepth,$max_scroll_percentage:o,$fold_line_percentage:s,$scroll_height:a,$event_type:t.type,$current_url:e||_.info.currentUrl(),$viewportHeight:r,$viewportWidth:Math.max(document$1.documentElement.clientWidth,win.innerWidth||0),$captured_for_heatmap:this.mp.is_recording_heatmap_data()},DEFAULT_PROPS);this.mp.track(MP_EV_PAGE_LEAVE,l,{transport:"sendBeacon"})}};Autocapture.prototype._initScrollDepthTracking=function(){if(win.removeEventListener(EV_SCROLL,this.listenerScrollDepth),win.removeEventListener(EV_SCROLLEND,this.listenerScrollDepth),!!this.mp.get_config("record_heatmap_data")){logger$1.log("Initializing scroll depth tracking"),this.maxScrollViewDepth=Math.max(document$1.documentElement.clientHeight,win.innerHeight||0);var t=(function(){if(!this.currentUrlBlocked()){var a=Math.max(document$1.documentElement.clientHeight,win.innerHeight||0)+win.scrollY;a>this.maxScrollViewDepth&&(this.maxScrollViewDepth=a),this.previousScrollHeight=document$1.body.scrollHeight}}).bind(this),e=getPolyfillScrollEndFunction(t);this.listenerScrollDepth=e.listener,win.addEventListener(e.eventType,this.listenerScrollDepth)}};Autocapture.prototype.initClickTracking=function(){win.removeEventListener(EV_CLICK,this.listenerClick),!(!this.getConfig(CONFIG_TRACK_CLICK)&&!this.mp.get_config("record_heatmap_data"))&&(logger$1.log("Initializing click tracking"),this.listenerClick=(function(t){!this.getConfig(CONFIG_TRACK_CLICK)&&!this.mp.is_recording_heatmap_data()||this.trackDomEvent(t,MP_EV_CLICK)}).bind(this),win.addEventListener(EV_CLICK,this.listenerClick))};Autocapture.prototype.initDeadClickTracking=function(){var t=this._getClickTrackingConfig(CONFIG_TRACK_DEAD_CLICK);if(!t&&!this.mp.get_config("record_heatmap_data")){this.stopDeadClickTracking();return}logger$1.log("Initializing dead click tracking"),this._deadClickTracker||(this._deadClickTracker=new DeadClickTracker((function(e){this.trackDomEvent(e,MP_EV_DEAD_CLICK)}).bind(this)),this._deadClickTracker.startTracking()),this.listenerDeadClick||(this.listenerDeadClick=(function(e){var a=this._getClickTrackingConfig(CONFIG_TRACK_DEAD_CLICK);if(!(!a&&!this.mp.is_recording_heatmap_data())&&!this.currentUrlBlocked()){var r=a||{};r.timeout_ms||(r.timeout_ms=DEFAULT_DEAD_CLICK_TIMEOUT_MS),this._deadClickTracker.trackClick(e,r)}}).bind(this),win.addEventListener(EV_CLICK,this.listenerDeadClick))};Autocapture.prototype.initInputTracking=function(){win.removeEventListener(EV_CHANGE,this.listenerChange),this.getConfig(CONFIG_TRACK_INPUT)&&(logger$1.log("Initializing input tracking"),this.listenerChange=(function(t){this.getConfig(CONFIG_TRACK_INPUT)&&this.trackDomEvent(t,MP_EV_INPUT)}).bind(this),win.addEventListener(EV_CHANGE,this.listenerChange))};Autocapture.prototype.initPageviewTracking=function(){if(win.removeEventListener(EV_MP_LOCATION_CHANGE,this.listenerLocationchange),!!this.pageviewTrackingConfig()){logger$1.log("Initializing pageview tracking");var t="",e=!1;this.currentUrlBlocked()||(e=this.mp.track_pageview(DEFAULT_PROPS)),e&&(t=_.info.currentUrl()),this.listenerLocationchange=safewrap((function(){if(!this.currentUrlBlocked()){var a=_.info.currentUrl(),r=!1,o=a.split("#")[0].split("?")[0]!==t.split("#")[0].split("?")[0],s=this.pageviewTrackingConfig();if(s===PAGEVIEW_OPTION_FULL_URL?r=a!==t:s===PAGEVIEW_OPTION_URL_WITH_PATH_AND_QUERY_STRING?r=a.split("#")[0]!==t.split("#")[0]:s===PAGEVIEW_OPTION_URL_WITH_PATH&&(r=o),r){var l=this.mp.track_pageview(DEFAULT_PROPS);l&&(t=a),o&&(this.lastScrollCheckpoint=0,logger$1.log("Path change: re-initializing scroll depth checkpoints"))}}}).bind(this)),win.addEventListener(EV_MP_LOCATION_CHANGE,this.listenerLocationchange)}};Autocapture.prototype.initRageClickTracking=function(){win.removeEventListener(EV_CLICK,this.listenerRageClick);var t=this._getClickTrackingConfig(CONFIG_TRACK_RAGE_CLICK);!t&&!this.mp.get_config("record_heatmap_data")||(logger$1.log("Initializing rage click tracking"),this._rageClickTracker||(this._rageClickTracker=new RageClickTracker),this.listenerRageClick=(function(e){var a=this._getClickTrackingConfig(CONFIG_TRACK_RAGE_CLICK);!a&&!this.mp.is_recording_heatmap_data()||this.currentUrlBlocked()||this._rageClickTracker.isRageClick(e,a)&&this.trackDomEvent(e,MP_EV_RAGE_CLICK)}).bind(this),win.addEventListener(EV_CLICK,this.listenerRageClick))};Autocapture.prototype.initScrollTracking=function(){if(win.removeEventListener(EV_SCROLLEND,this.listenerScroll),win.removeEventListener(EV_SCROLL,this.listenerScroll),!!this.getConfig(CONFIG_TRACK_SCROLL)){logger$1.log("Initializing scroll tracking"),this.lastScrollCheckpoint=0;var t=(function(){if(this.getConfig(CONFIG_TRACK_SCROLL)&&!this.currentUrlBlocked()){var a=this.getConfig(CONFIG_SCROLL_CAPTURE_ALL),r=(this.getConfig(CONFIG_SCROLL_CHECKPOINTS)||[]).slice().sort(function(f,m){return f-m}),o=win.scrollY,s=_.extend({$scroll_top:o},DEFAULT_PROPS);try{var l=document$1.body.scrollHeight,c=Math.round(o/(l-win.innerHeight)*100);if(s.$scroll_height=l,s.$scroll_percentage=c,c>this.lastScrollCheckpoint)for(var u=0;u<r.length;u++){var h=r[u];c>=h&&this.lastScrollCheckpoint<h&&(s.$scroll_checkpoint=h,this.lastScrollCheckpoint=h,a=!0)}}catch(f){logger$1.critical("Error while calculating scroll percentage",f)}a&&this.mp.track(MP_EV_SCROLL,s)}}).bind(this),e=getPolyfillScrollEndFunction(t);this.listenerScroll=e.listener,win.addEventListener(e.eventType,this.listenerScroll)}};Autocapture.prototype.initSubmitTracking=function(){win.removeEventListener(EV_SUBMIT,this.listenerSubmit),this.getConfig(CONFIG_TRACK_SUBMIT)&&(logger$1.log("Initializing submit tracking"),this.listenerSubmit=(function(t){this.getConfig(CONFIG_TRACK_SUBMIT)&&this.trackDomEvent(t,MP_EV_SUBMIT)}).bind(this),win.addEventListener(EV_SUBMIT,this.listenerSubmit))};Autocapture.prototype.initPageLeaveTracking=function(){if(document$1.removeEventListener(EV_VISIBILITYCHANGE,this.listenerPageLeaveVisibilitychange),win.removeEventListener(EV_MP_LOCATION_CHANGE,this.listenerPageLeaveLocationchange),win.removeEventListener(EV_LOAD,this.listenerPageLoad),!(!this.getConfig(CONFIG_TRACK_PAGE_LEAVE)&&!this.mp.get_config("record_heatmap_data"))){logger$1.log("Initializing page visibility tracking."),this._initScrollDepthTracking();var t=_.info.currentUrl();this.listenerPageLoad=(function(){this.previousScrollHeight=document$1.body.scrollHeight}).bind(this),win.addEventListener(EV_LOAD,this.listenerPageLoad),this.listenerPageLeaveLocationchange=safewrap((function(e){if(!this.currentUrlBlocked()){var a=_.info.currentUrl(),r=a!==t;r&&(this._trackPageLeave(e,t,this.previousScrollHeight),t=a,this.maxScrollViewDepth=Math.max(document$1.documentElement.clientHeight,win.innerHeight||0),this.previousScrollHeight=document$1.body.scrollHeight,this.hasTrackedScrollSession=!1)}}).bind(this)),win.addEventListener(EV_MP_LOCATION_CHANGE,this.listenerPageLeaveLocationchange),this.listenerPageLeaveVisibilitychange=(function(e){document$1.hidden&&this._trackPageLeave(e,t,this.previousScrollHeight)}).bind(this),document$1.addEventListener(EV_VISIBILITYCHANGE,this.listenerPageLeaveVisibilitychange)}};Autocapture.prototype.stopDeadClickTracking=function(){this.listenerDeadClick&&(win.removeEventListener(EV_CLICK,this.listenerDeadClick),this.listenerDeadClick=null),this._deadClickTracker&&(this._deadClickTracker.stopTracking(),this._deadClickTracker=null)};safewrapClass(Autocapture);var logger=console_with_prefix("flags"),FLAGS_CONFIG_KEY="flags",CONFIG_CONTEXT="context",CONFIG_DEFAULTS={};CONFIG_DEFAULTS[CONFIG_CONTEXT]={};var FeatureFlagManager=function(t){this.fetch=win.fetch,this.getFullApiRoute=t.getFullApiRoute,this.getMpConfig=t.getConfigFunc,this.setMpConfig=t.setConfigFunc,this.getMpProperty=t.getPropertyFunc,this.track=t.trackingFunc};FeatureFlagManager.prototype.init=function(){if(!this.minApisSupported()){logger.critical("Feature Flags unavailable: missing minimum required APIs");return}this.flags=null,this.fetchFlags(),this.trackedFeatures=new Set};FeatureFlagManager.prototype.getFullConfig=function(){var t=this.getMpConfig(FLAGS_CONFIG_KEY);return t?_.isObject(t)?_.extend({},CONFIG_DEFAULTS,t):CONFIG_DEFAULTS:{}};FeatureFlagManager.prototype.getConfig=function(t){return this.getFullConfig()[t]};FeatureFlagManager.prototype.isSystemEnabled=function(){return!!this.getMpConfig(FLAGS_CONFIG_KEY)};FeatureFlagManager.prototype.updateContext=function(t,e){if(!this.isSystemEnabled())return logger.critical("Feature Flags not enabled, cannot update context"),Promise.resolve();var a=this.getMpConfig(FLAGS_CONFIG_KEY);_.isObject(a)||(a={});var r=e&&e.replace?{}:this.getConfig(CONFIG_CONTEXT);return a[CONFIG_CONTEXT]=_.extend({},r,t),this.setMpConfig(FLAGS_CONFIG_KEY,a),this.fetchFlags()};FeatureFlagManager.prototype.areFlagsReady=function(){return this.isSystemEnabled()||logger.error("Feature Flags not enabled"),!!this.flags};FeatureFlagManager.prototype.fetchFlags=function(){if(!this.isSystemEnabled())return Promise.resolve();var t=this.getMpProperty("distinct_id"),e=this.getMpProperty("$device_id"),a=generateTraceparent();logger.log("Fetching flags for distinct ID: "+t);var r=_.extend({distinct_id:t,device_id:e},this.getConfig(CONFIG_CONTEXT)),o=new URLSearchParams;o.set("context",JSON.stringify(r)),o.set("token",this.getMpConfig("token")),o.set("mp_lib","web"),o.set("$lib_version",Config.LIB_VERSION);var s=this.getFullApiRoute()+"?"+o.toString();return this._fetchInProgressStartTime=Date.now(),this.fetchPromise=this.fetch.call(win,s,{method:"GET",headers:{Authorization:"Basic "+btoa(this.getMpConfig("token")+":"),traceparent:a}}).then((function(l){return this.markFetchComplete(),l.json().then((function(c){var u=c.flags;if(!u)throw new Error("No flags in API response");var h=new Map;_.each(u,function(f,m){h.set(m,{key:f.variant_key,value:f.variant_value,experiment_id:f.experiment_id,is_experiment_active:f.is_experiment_active,is_qa_tester:f.is_qa_tester})}),this.flags=h,this._traceparent=a}).bind(this)).catch((function(c){this.markFetchComplete(),logger.error(c)}).bind(this))}).bind(this)).catch((function(l){this.markFetchComplete(),logger.error(l)}).bind(this)),this.fetchPromise};FeatureFlagManager.prototype.markFetchComplete=function(){if(!this._fetchInProgressStartTime){logger.error("Fetch in progress started time not set, cannot mark fetch complete");return}this._fetchStartTime=this._fetchInProgressStartTime,this._fetchCompleteTime=Date.now(),this._fetchLatency=this._fetchCompleteTime-this._fetchStartTime,this._fetchInProgressStartTime=null};FeatureFlagManager.prototype.getVariant=function(t,e){return this.fetchPromise?this.fetchPromise.then((function(){return this.getVariantSync(t,e)}).bind(this)).catch(function(a){return logger.error(a),e}):new Promise(function(a){logger.critical("Feature Flags not initialized"),a(e)})};FeatureFlagManager.prototype.getVariantSync=function(t,e){if(!this.areFlagsReady())return logger.log("Flags not loaded yet"),e;var a=this.flags.get(t);return a?(this.trackFeatureCheck(t,a),a):(logger.log('No flag found: "'+t+'"'),e)};FeatureFlagManager.prototype.getVariantValue=function(t,e){return this.getVariant(t,{value:e}).then(function(a){return a.value}).catch(function(a){return logger.error(a),e})};FeatureFlagManager.prototype.getFeatureData=function(t,e){return logger.critical("mixpanel.flags.get_feature_data() is deprecated and will be removed in a future release. Use mixpanel.flags.get_variant_value() instead."),this.getVariantValue(t,e)};FeatureFlagManager.prototype.getVariantValueSync=function(t,e){return this.getVariantSync(t,{value:e}).value};FeatureFlagManager.prototype.isEnabled=function(t,e){return this.getVariantValue(t).then((function(){return this.isEnabledSync(t,e)}).bind(this)).catch(function(a){return logger.error(a),e})};FeatureFlagManager.prototype.isEnabledSync=function(t,e){e=e||!1;var a=this.getVariantValueSync(t,e);return a!==!0&&a!==!1&&(logger.error('Feature flag "'+t+'" value: '+a+" is not a boolean; returning fallback value: "+e),a=e),a};FeatureFlagManager.prototype.trackFeatureCheck=function(t,e){if(!this.trackedFeatures.has(t)){this.trackedFeatures.add(t);var a={"Experiment name":t,"Variant name":e.key,$experiment_type:"feature_flag","Variant fetch start time":new Date(this._fetchStartTime).toISOString(),"Variant fetch complete time":new Date(this._fetchCompleteTime).toISOString(),"Variant fetch latency (ms)":this._fetchLatency,"Variant fetch traceparent":this._traceparent};e.experiment_id!=="undefined"&&(a.$experiment_id=e.experiment_id),e.is_experiment_active!=="undefined"&&(a.$is_experiment_active=e.is_experiment_active),e.is_qa_tester!=="undefined"&&(a.$is_qa_tester=e.is_qa_tester),this.track("$experiment_started",a)}};FeatureFlagManager.prototype.minApisSupported=function(){return!!this.fetch&&typeof Promise<"u"&&typeof Map<"u"&&typeof Set<"u"};safewrapClass(FeatureFlagManager);FeatureFlagManager.prototype.are_flags_ready=FeatureFlagManager.prototype.areFlagsReady;FeatureFlagManager.prototype.get_variant=FeatureFlagManager.prototype.getVariant;FeatureFlagManager.prototype.get_variant_sync=FeatureFlagManager.prototype.getVariantSync;FeatureFlagManager.prototype.get_variant_value=FeatureFlagManager.prototype.getVariantValue;FeatureFlagManager.prototype.get_variant_value_sync=FeatureFlagManager.prototype.getVariantValueSync;FeatureFlagManager.prototype.is_enabled=FeatureFlagManager.prototype.isEnabled;FeatureFlagManager.prototype.is_enabled_sync=FeatureFlagManager.prototype.isEnabledSync;FeatureFlagManager.prototype.update_context=FeatureFlagManager.prototype.updateContext;FeatureFlagManager.prototype.get_feature_data=FeatureFlagManager.prototype.getFeatureData;var DomTracker=function(){};DomTracker.prototype.create_properties=function(){};DomTracker.prototype.event_handler=function(){};DomTracker.prototype.after_track_handler=function(){};DomTracker.prototype.init=function(t){return this.mp=t,this};DomTracker.prototype.track=function(t,e,a,r){var o=this,s=_.dom_query(t);if(s.length===0){console$1.error("The DOM query ("+t+") returned 0 elements");return}return _.each(s,function(l){_.register_event(l,this.override_event,function(c){var u={},h=o.create_properties(a,this),f=o.mp.get_config("track_links_timeout");o.event_handler(c,this,u),window.setTimeout(o.track_callback(r,h,u,!0),f),o.mp.track(e,h,o.track_callback(r,h,u))})},this),!0};DomTracker.prototype.track_callback=function(t,e,a,r){r=r||!1;var o=this;return function(){a.callback_fired||(a.callback_fired=!0,!(t&&t(r,e)===!1)&&o.after_track_handler(e,a,r))}};DomTracker.prototype.create_properties=function(t,e){var a;return typeof t=="function"?a=t(e):a=_.extend({},t),a};var LinkTracker=function(){this.override_event="click"};_.inherit(LinkTracker,DomTracker);LinkTracker.prototype.create_properties=function(t,e){var a=LinkTracker.superclass.create_properties.apply(this,arguments);return e.href&&(a.url=e.href),a};LinkTracker.prototype.event_handler=function(t,e,a){a.new_tab=t.which===2||t.metaKey||t.ctrlKey||e.target==="_blank",a.href=e.href,a.new_tab||t.preventDefault()};LinkTracker.prototype.after_track_handler=function(t,e){e.new_tab||setTimeout(function(){window.location=e.href},0)};var FormTracker=function(){this.override_event="submit"};_.inherit(FormTracker,DomTracker);FormTracker.prototype.event_handler=function(t,e,a){a.element=e,t.preventDefault()};FormTracker.prototype.after_track_handler=function(t,e){setTimeout(function(){e.element.submit()},0)};var SET_ACTION="$set",SET_ONCE_ACTION="$set_once",UNSET_ACTION="$unset",ADD_ACTION="$add",APPEND_ACTION="$append",UNION_ACTION="$union",REMOVE_ACTION="$remove",DELETE_ACTION="$delete",apiActions={set_action:function(t,e){var a={},r={};return _.isObject(t)?_.each(t,function(o,s){this._is_reserved_property(s)||(r[s]=o)},this):r[t]=e,a[SET_ACTION]=r,a},unset_action:function(t){var e={},a=[];return _.isArray(t)||(t=[t]),_.each(t,function(r){this._is_reserved_property(r)||a.push(r)},this),e[UNSET_ACTION]=a,e},set_once_action:function(t,e){var a={},r={};return _.isObject(t)?_.each(t,function(o,s){this._is_reserved_property(s)||(r[s]=o)},this):r[t]=e,a[SET_ONCE_ACTION]=r,a},union_action:function(t,e){var a={},r={};return _.isObject(t)?_.each(t,function(o,s){this._is_reserved_property(s)||(r[s]=_.isArray(o)?o:[o])},this):r[t]=_.isArray(e)?e:[e],a[UNION_ACTION]=r,a},append_action:function(t,e){var a={},r={};return _.isObject(t)?_.each(t,function(o,s){this._is_reserved_property(s)||(r[s]=o)},this):r[t]=e,a[APPEND_ACTION]=r,a},remove_action:function(t,e){var a={},r={};return _.isObject(t)?_.each(t,function(o,s){this._is_reserved_property(s)||(r[s]=o)},this):r[t]=e,a[REMOVE_ACTION]=r,a},delete_action:function(){var t={};return t[DELETE_ACTION]="",t}},MixpanelGroup=function(){};_.extend(MixpanelGroup.prototype,apiActions);MixpanelGroup.prototype._init=function(t,e,a){this._mixpanel=t,this._group_key=e,this._group_id=a};MixpanelGroup.prototype.set=addOptOutCheckMixpanelGroup(function(t,e,a){var r=this.set_action(t,e);return _.isObject(t)&&(a=e),this._send_request(r,a)});MixpanelGroup.prototype.set_once=addOptOutCheckMixpanelGroup(function(t,e,a){var r=this.set_once_action(t,e);return _.isObject(t)&&(a=e),this._send_request(r,a)});MixpanelGroup.prototype.unset=addOptOutCheckMixpanelGroup(function(t,e){var a=this.unset_action(t);return this._send_request(a,e)});MixpanelGroup.prototype.union=addOptOutCheckMixpanelGroup(function(t,e,a){_.isObject(t)&&(a=e);var r=this.union_action(t,e);return this._send_request(r,a)});MixpanelGroup.prototype.delete=addOptOutCheckMixpanelGroup(function(t){var e=this.delete_action();return this._send_request(e,t)});MixpanelGroup.prototype.remove=addOptOutCheckMixpanelGroup(function(t,e,a){var r=this.remove_action(t,e);return this._send_request(r,a)});MixpanelGroup.prototype._send_request=function(t,e){t.$group_key=this._group_key,t.$group_id=this._group_id,t.$token=this._get_config("token");var a=_.encodeDates(t);return this._mixpanel._track_or_batch({type:"groups",data:a,endpoint:this._mixpanel.get_api_host("groups")+"/"+this._get_config("api_routes").groups,batcher:this._mixpanel.request_batchers.groups},e)};MixpanelGroup.prototype._is_reserved_property=function(t){return t==="$group_key"||t==="$group_id"};MixpanelGroup.prototype._get_config=function(t){return this._mixpanel.get_config(t)};MixpanelGroup.prototype.toString=function(){return this._mixpanel.toString()+".group."+this._group_key+"."+this._group_id};MixpanelGroup.prototype.remove=MixpanelGroup.prototype.remove;MixpanelGroup.prototype.set=MixpanelGroup.prototype.set;MixpanelGroup.prototype.set_once=MixpanelGroup.prototype.set_once;MixpanelGroup.prototype.union=MixpanelGroup.prototype.union;MixpanelGroup.prototype.unset=MixpanelGroup.prototype.unset;MixpanelGroup.prototype.toString=MixpanelGroup.prototype.toString;var MixpanelPeople=function(){};_.extend(MixpanelPeople.prototype,apiActions);MixpanelPeople.prototype._init=function(t){this._mixpanel=t};MixpanelPeople.prototype.set=addOptOutCheckMixpanelPeople(function(t,e,a){var r=this.set_action(t,e);return _.isObject(t)&&(a=e),this._get_config("save_referrer")&&this._mixpanel.persistence.update_referrer_info(document.referrer),r[SET_ACTION]=_.extend({},_.info.people_properties(),r[SET_ACTION]),this._send_request(r,a)});MixpanelPeople.prototype.set_once=addOptOutCheckMixpanelPeople(function(t,e,a){var r=this.set_once_action(t,e);return _.isObject(t)&&(a=e),this._send_request(r,a)});MixpanelPeople.prototype.unset=addOptOutCheckMixpanelPeople(function(t,e){var a=this.unset_action(t);return this._send_request(a,e)});MixpanelPeople.prototype.increment=addOptOutCheckMixpanelPeople(function(t,e,a){var r={},o={};return _.isObject(t)?(_.each(t,function(s,l){if(!this._is_reserved_property(l))if(isNaN(parseFloat(s))){console$1.error("Invalid increment value passed to mixpanel.people.increment - must be a number");return}else o[l]=s},this),a=e):(_.isUndefined(e)&&(e=1),o[t]=e),r[ADD_ACTION]=o,this._send_request(r,a)});MixpanelPeople.prototype.append=addOptOutCheckMixpanelPeople(function(t,e,a){_.isObject(t)&&(a=e);var r=this.append_action(t,e);return this._send_request(r,a)});MixpanelPeople.prototype.remove=addOptOutCheckMixpanelPeople(function(t,e,a){_.isObject(t)&&(a=e);var r=this.remove_action(t,e);return this._send_request(r,a)});MixpanelPeople.prototype.union=addOptOutCheckMixpanelPeople(function(t,e,a){_.isObject(t)&&(a=e);var r=this.union_action(t,e);return this._send_request(r,a)});MixpanelPeople.prototype.track_charge=addOptOutCheckMixpanelPeople(function(){console$1.error("mixpanel.people.track_charge() is deprecated and no longer has any effect.")});MixpanelPeople.prototype.clear_charges=function(t){return this.set("$transactions",[],t)};MixpanelPeople.prototype.delete_user=function(){if(!this._identify_called()){console$1.error("mixpanel.people.delete_user() requires you to call identify() first");return}var t={$delete:this._mixpanel.get_distinct_id()};return this._send_request(t)};MixpanelPeople.prototype.toString=function(){return this._mixpanel.toString()+".people"};MixpanelPeople.prototype._send_request=function(t,e){t.$token=this._get_config("token"),t.$distinct_id=this._mixpanel.get_distinct_id();var a=this._mixpanel.get_property("$device_id"),r=this._mixpanel.get_property("$user_id"),o=this._mixpanel.get_property("$had_persisted_distinct_id");a&&(t.$device_id=a),r&&(t.$user_id=r),o&&(t.$had_persisted_distinct_id=o);var s=_.encodeDates(t);return this._identify_called()?this._mixpanel._track_or_batch({type:"people",data:s,endpoint:this._mixpanel.get_api_host("people")+"/"+this._get_config("api_routes").engage,batcher:this._mixpanel.request_batchers.people},e):(this._enqueue(t),_.isUndefined(e)||(this._get_config("verbose")?e({status:-1,error:null}):e(-1)),_.truncate(s,255))};MixpanelPeople.prototype._get_config=function(t){return this._mixpanel.get_config(t)};MixpanelPeople.prototype._identify_called=function(){return this._mixpanel._flags.identify_called===!0};MixpanelPeople.prototype._enqueue=function(t){SET_ACTION in t?this._mixpanel.persistence._add_to_people_queue(SET_ACTION,t):SET_ONCE_ACTION in t?this._mixpanel.persistence._add_to_people_queue(SET_ONCE_ACTION,t):UNSET_ACTION in t?this._mixpanel.persistence._add_to_people_queue(UNSET_ACTION,t):ADD_ACTION in t?this._mixpanel.persistence._add_to_people_queue(ADD_ACTION,t):APPEND_ACTION in t?this._mixpanel.persistence._add_to_people_queue(APPEND_ACTION,t):REMOVE_ACTION in t?this._mixpanel.persistence._add_to_people_queue(REMOVE_ACTION,t):UNION_ACTION in t?this._mixpanel.persistence._add_to_people_queue(UNION_ACTION,t):console$1.error("Invalid call to _enqueue():",t)};MixpanelPeople.prototype._flush_one_queue=function(t,e,a,r){var o=this,s=_.extend({},this._mixpanel.persistence.load_queue(t)),l=s;!_.isUndefined(s)&&_.isObject(s)&&!_.isEmptyObject(s)&&(o._mixpanel.persistence._pop_from_people_queue(t,s),o._mixpanel.persistence.save(),r&&(l=r(s)),e.call(o,l,function(c,u){c===0&&o._mixpanel.persistence._add_to_people_queue(t,s),_.isUndefined(a)||a(c,u)}))};MixpanelPeople.prototype._flush=function(t,e,a,r,o,s,l){var c=this;this._flush_one_queue(SET_ACTION,this.set,t),this._flush_one_queue(SET_ONCE_ACTION,this.set_once,r),this._flush_one_queue(UNSET_ACTION,this.unset,s,function(C){return _.keys(C)}),this._flush_one_queue(ADD_ACTION,this.increment,e),this._flush_one_queue(UNION_ACTION,this.union,o);var u=this._mixpanel.persistence.load_queue(APPEND_ACTION);if(!_.isUndefined(u)&&_.isArray(u)&&u.length)for(var h,f=function(C,B){C===0&&c._mixpanel.persistence._add_to_people_queue(APPEND_ACTION,h),_.isUndefined(a)||a(C,B)},m=u.length-1;m>=0;m--)u=this._mixpanel.persistence.load_queue(APPEND_ACTION),h=u.pop(),c._mixpanel.persistence.save(),_.isEmptyObject(h)||c.append(h,f);var g=this._mixpanel.persistence.load_queue(REMOVE_ACTION);if(!_.isUndefined(g)&&_.isArray(g)&&g.length)for(var b,w=function(C,B){C===0&&c._mixpanel.persistence._add_to_people_queue(REMOVE_ACTION,b),_.isUndefined(l)||l(C,B)},E=g.length-1;E>=0;E--)g=this._mixpanel.persistence.load_queue(REMOVE_ACTION),b=g.pop(),c._mixpanel.persistence.save(),_.isEmptyObject(b)||c.remove(b,w)};MixpanelPeople.prototype._is_reserved_property=function(t){return t==="$distinct_id"||t==="$token"||t==="$device_id"||t==="$user_id"||t==="$had_persisted_distinct_id"};MixpanelPeople.prototype.set=MixpanelPeople.prototype.set;MixpanelPeople.prototype.set_once=MixpanelPeople.prototype.set_once;MixpanelPeople.prototype.unset=MixpanelPeople.prototype.unset;MixpanelPeople.prototype.increment=MixpanelPeople.prototype.increment;MixpanelPeople.prototype.append=MixpanelPeople.prototype.append;MixpanelPeople.prototype.remove=MixpanelPeople.prototype.remove;MixpanelPeople.prototype.union=MixpanelPeople.prototype.union;MixpanelPeople.prototype.track_charge=MixpanelPeople.prototype.track_charge;MixpanelPeople.prototype.clear_charges=MixpanelPeople.prototype.clear_charges;MixpanelPeople.prototype.delete_user=MixpanelPeople.prototype.delete_user;MixpanelPeople.prototype.toString=MixpanelPeople.prototype.toString;var SET_QUEUE_KEY="__mps",SET_ONCE_QUEUE_KEY="__mpso",UNSET_QUEUE_KEY="__mpus",ADD_QUEUE_KEY="__mpa",APPEND_QUEUE_KEY="__mpap",REMOVE_QUEUE_KEY="__mpr",UNION_QUEUE_KEY="__mpu",PEOPLE_DISTINCT_ID_KEY="$people_distinct_id",ALIAS_ID_KEY="__alias",EVENT_TIMERS_KEY="__timers",RESERVED_PROPERTIES=[SET_QUEUE_KEY,SET_ONCE_QUEUE_KEY,UNSET_QUEUE_KEY,ADD_QUEUE_KEY,APPEND_QUEUE_KEY,REMOVE_QUEUE_KEY,UNION_QUEUE_KEY,PEOPLE_DISTINCT_ID_KEY,ALIAS_ID_KEY,EVENT_TIMERS_KEY],MixpanelPersistence=function(t){this.props={},this.campaign_params_saved=!1,t.persistence_name?this.name="mp_"+t.persistence_name:this.name="mp_"+t.token+"_mixpanel";var e=t.persistence;e!=="cookie"&&e!=="localStorage"&&(console$1.critical("Unknown persistence type "+e+"; falling back to cookie"),e=t.persistence="cookie"),e==="localStorage"&&_.localStorage.is_supported()?this.storage=_.localStorage:this.storage=_.cookie,this.load(),this.update_config(t),this.upgrade(),this.save()};MixpanelPersistence.prototype.properties=function(){var t={};return this.load(),_.each(this.props,function(e,a){_.include(RESERVED_PROPERTIES,a)||(t[a]=e)}),t};MixpanelPersistence.prototype.load=function(){if(!this.disabled){var t=this.storage.parse(this.name);t&&(this.props=_.extend({},t))}};MixpanelPersistence.prototype.upgrade=function(){var t,e;this.storage===_.localStorage?(t=_.cookie.parse(this.name),_.cookie.remove(this.name),_.cookie.remove(this.name,!0),t&&this.register_once(t)):this.storage===_.cookie&&(e=_.localStorage.parse(this.name),_.localStorage.remove(this.name),e&&this.register_once(e))};MixpanelPersistence.prototype.save=function(){this.disabled||this.storage.set(this.name,JSONStringify(this.props),this.expire_days,this.cross_subdomain,this.secure,this.cross_site,this.cookie_domain)};MixpanelPersistence.prototype.load_prop=function(t){return this.load(),this.props[t]};MixpanelPersistence.prototype.remove=function(){this.storage.remove(this.name,!1,this.cookie_domain),this.storage.remove(this.name,!0,this.cookie_domain)};MixpanelPersistence.prototype.clear=function(){this.remove(),this.props={}};MixpanelPersistence.prototype.register_once=function(t,e,a){return _.isObject(t)?(typeof e>"u"&&(e="None"),this.expire_days=typeof a>"u"?this.default_expiry:a,this.load(),_.each(t,function(r,o){(!this.props.hasOwnProperty(o)||this.props[o]===e)&&(this.props[o]=r)},this),this.save(),!0):!1};MixpanelPersistence.prototype.register=function(t,e){return _.isObject(t)?(this.expire_days=typeof e>"u"?this.default_expiry:e,this.load(),_.extend(this.props,t),this.save(),!0):!1};MixpanelPersistence.prototype.unregister=function(t){this.load(),t in this.props&&(delete this.props[t],this.save())};MixpanelPersistence.prototype.update_search_keyword=function(t){this.register(_.info.searchInfo(t))};MixpanelPersistence.prototype.update_referrer_info=function(t){this.register_once({$initial_referrer:t||"$direct",$initial_referring_domain:_.info.referringDomain(t)||"$direct"},"")};MixpanelPersistence.prototype.get_referrer_info=function(){return _.strip_empty_properties({$initial_referrer:this.props.$initial_referrer,$initial_referring_domain:this.props.$initial_referring_domain})};MixpanelPersistence.prototype.update_config=function(t){this.default_expiry=this.expire_days=t.cookie_expiration,this.set_disabled(t.disable_persistence),this.set_cookie_domain(t.cookie_domain),this.set_cross_site(t.cross_site_cookie),this.set_cross_subdomain(t.cross_subdomain_cookie),this.set_secure(t.secure_cookie)};MixpanelPersistence.prototype.set_disabled=function(t){this.disabled=t,this.disabled?this.remove():this.save()};MixpanelPersistence.prototype.set_cookie_domain=function(t){t!==this.cookie_domain&&(this.remove(),this.cookie_domain=t,this.save())};MixpanelPersistence.prototype.set_cross_site=function(t){t!==this.cross_site&&(this.cross_site=t,this.remove(),this.save())};MixpanelPersistence.prototype.set_cross_subdomain=function(t){t!==this.cross_subdomain&&(this.cross_subdomain=t,this.remove(),this.save())};MixpanelPersistence.prototype.get_cross_subdomain=function(){return this.cross_subdomain};MixpanelPersistence.prototype.set_secure=function(t){t!==this.secure&&(this.secure=!!t,this.remove(),this.save())};MixpanelPersistence.prototype._add_to_people_queue=function(t,e){var a=this._get_queue_key(t),r=e[t],o=this._get_or_create_queue(SET_ACTION),s=this._get_or_create_queue(SET_ONCE_ACTION),l=this._get_or_create_queue(UNSET_ACTION),c=this._get_or_create_queue(ADD_ACTION),u=this._get_or_create_queue(UNION_ACTION),h=this._get_or_create_queue(REMOVE_ACTION,[]),f=this._get_or_create_queue(APPEND_ACTION,[]);a===SET_QUEUE_KEY?(_.extend(o,r),this._pop_from_people_queue(ADD_ACTION,r),this._pop_from_people_queue(UNION_ACTION,r),this._pop_from_people_queue(UNSET_ACTION,r)):a===SET_ONCE_QUEUE_KEY?(_.each(r,function(m,g){g in s||(s[g]=m)}),this._pop_from_people_queue(UNSET_ACTION,r)):a===UNSET_QUEUE_KEY?_.each(r,function(m){_.each([o,s,c,u],function(g){m in g&&delete g[m]}),_.each(f,function(g){m in g&&delete g[m]}),l[m]=!0}):a===ADD_QUEUE_KEY?(_.each(r,function(m,g){g in o?o[g]+=m:(g in c||(c[g]=0),c[g]+=m)},this),this._pop_from_people_queue(UNSET_ACTION,r)):a===UNION_QUEUE_KEY?(_.each(r,function(m,g){_.isArray(m)&&(g in u||(u[g]=[]),_.each(m,function(b){_.include(u[g],b)||u[g].push(b)}))}),this._pop_from_people_queue(UNSET_ACTION,r)):a===REMOVE_QUEUE_KEY?(h.push(r),this._pop_from_people_queue(APPEND_ACTION,r)):a===APPEND_QUEUE_KEY&&(f.push(r),this._pop_from_people_queue(UNSET_ACTION,r)),console$1.log("MIXPANEL PEOPLE REQUEST (QUEUED, PENDING IDENTIFY):"),console$1.log(e),this.save()};MixpanelPersistence.prototype._pop_from_people_queue=function(t,e){var a=this.props[this._get_queue_key(t)];_.isUndefined(a)||_.each(e,function(r,o){t===APPEND_ACTION||t===REMOVE_ACTION?_.each(a,function(s){s[o]===r&&delete s[o]}):delete a[o]},this)};MixpanelPersistence.prototype.load_queue=function(t){return this.load_prop(this._get_queue_key(t))};MixpanelPersistence.prototype._get_queue_key=function(t){if(t===SET_ACTION)return SET_QUEUE_KEY;if(t===SET_ONCE_ACTION)return SET_ONCE_QUEUE_KEY;if(t===UNSET_ACTION)return UNSET_QUEUE_KEY;if(t===ADD_ACTION)return ADD_QUEUE_KEY;if(t===APPEND_ACTION)return APPEND_QUEUE_KEY;if(t===REMOVE_ACTION)return REMOVE_QUEUE_KEY;if(t===UNION_ACTION)return UNION_QUEUE_KEY;console$1.error("Invalid queue:",t)};MixpanelPersistence.prototype._get_or_create_queue=function(t,e){var a=this._get_queue_key(t);return e=_.isUndefined(e)?{}:e,this.props[a]||(this.props[a]=e)};MixpanelPersistence.prototype.set_event_timer=function(t,e){var a=this.load_prop(EVENT_TIMERS_KEY)||{};a[t]=e,this.props[EVENT_TIMERS_KEY]=a,this.save()};MixpanelPersistence.prototype.remove_event_timer=function(t){var e=this.load_prop(EVENT_TIMERS_KEY)||{},a=e[t];return _.isUndefined(a)||(delete this.props[EVENT_TIMERS_KEY][t],this.save()),a};var init_type,load_extra_bundle=function(t,e){throw new Error(t+" not available in this build.")},mixpanel_master,INIT_MODULE=0,INIT_SNIPPET=1,IDENTITY_FUNC=function(t){return t},PRIMARY_INSTANCE_NAME="mixpanel",PAYLOAD_TYPE_BASE64="base64",PAYLOAD_TYPE_JSON="json",DEVICE_ID_PREFIX="$device:",USE_XHR=win.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest,ENQUEUE_REQUESTS=!USE_XHR&&userAgent.indexOf("MSIE")===-1&&userAgent.indexOf("Mozilla")===-1,sendBeacon=null;navigator$1.sendBeacon&&(sendBeacon=function(){return navigator$1.sendBeacon.apply(navigator$1,arguments)});var DEFAULT_API_ROUTES={track:"track/",engage:"engage/",groups:"groups/",record:"record/",flags:"flags/"},DEFAULT_CONFIG={api_host:"https://api-js.mixpanel.com",api_hosts:{},api_routes:DEFAULT_API_ROUTES,api_extra_query_params:{},api_method:"POST",api_transport:"XHR",api_payload_format:PAYLOAD_TYPE_BASE64,app_host:"https://mixpanel.com",autocapture:!1,cdn:"https://cdn.mxpnl.com",cross_site_cookie:!1,cross_subdomain_cookie:!0,error_reporter:NOOP_FUNC,flags:!1,persistence:"cookie",persistence_name:"",cookie_domain:"",cookie_name:"",loaded:NOOP_FUNC,mp_loader:null,track_marketing:!0,track_pageview:!1,skip_first_touch_marketing:!1,store_google:!0,stop_utm_persistence:!1,save_referrer:!0,test:!1,verbose:!1,img:!1,debug:!1,track_links_timeout:300,cookie_expiration:365,upgrade:!1,disable_persistence:!1,disable_cookie:!1,secure_cookie:!1,ip:!0,opt_out_tracking_by_default:!1,opt_out_persistence_by_default:!1,opt_out_tracking_persistence_type:"localStorage",opt_out_tracking_cookie_prefix:null,property_blacklist:[],xhr_headers:{},ignore_dnt:!1,batch_requests:!0,batch_size:50,batch_flush_interval_ms:5e3,batch_request_timeout_ms:9e4,batch_autostart:!0,hooks:{},record_block_class:new RegExp("^(mp-block|fs-exclude|amp-block|rr-block|ph-no-capture)$"),record_block_selector:"img, video, audio",record_canvas:!1,record_collect_fonts:!1,record_console:!0,record_heatmap_data:!1,record_idle_timeout_ms:1800*1e3,record_mask_text_class:new RegExp("^(mp-mask|fs-mask|amp-mask|rr-mask|ph-mask)$"),record_mask_text_selector:"*",record_max_ms:MAX_RECORDING_MS,record_min_ms:0,record_sessions_percent:0,recorder_src:"https://cdn.mxpnl.com/libs/mixpanel-recorder.min.js"},DOM_LOADED=!1,MixpanelLib=function(){},create_mplib=function(t,e,a){var r,o=a===PRIMARY_INSTANCE_NAME?mixpanel_master:mixpanel_master[a];if(o&&init_type===INIT_MODULE)r=o;else{if(o&&!_.isArray(o)){console$1.error("You have already initialized "+a);return}r=new MixpanelLib}if(r._cached_groups={},r._init(t,e,a),r.people=new MixpanelPeople,r.people._init(r),!r.get_config("skip_first_touch_marketing")){var s=_.info.campaignParams(null),l={},c=!1;_.each(s,function(u,h){l["initial_"+h]=u,u&&(c=!0)}),c&&r.people.set_once(l)}return Config.DEBUG=Config.DEBUG||r.get_config("debug"),!_.isUndefined(o)&&_.isArray(o)&&(r._execute_array.call(r.people,o.people),r._execute_array(o)),r};MixpanelLib.prototype.init=function(t,e,a){if(_.isUndefined(a)){this.report_error("You must name your new library: init(token, config, name)");return}if(a===PRIMARY_INSTANCE_NAME){this.report_error("You must initialize the main mixpanel object right after you include the Mixpanel js snippet");return}var r=create_mplib(t,e,a);return mixpanel_master[a]=r,r._loaded(),r};MixpanelLib.prototype._init=function(t,e,a){e=e||{},this.__loaded=!0,this.config={};var r={};if(!("api_payload_format"in e)){var o=e.api_host||DEFAULT_CONFIG.api_host;o.match(/\.mixpanel\.com/)&&(r.api_payload_format=PAYLOAD_TYPE_JSON)}if(this.set_config(_.extend({},DEFAULT_CONFIG,r,e,{name:a,token:t,callback_fn:(a===PRIMARY_INSTANCE_NAME?a:PRIMARY_INSTANCE_NAME+"."+a)+"._jsc"})),this._jsc=NOOP_FUNC,this.__dom_loaded_queue=[],this.__request_queue=[],this.__disabled_events=[],this._flags={disable_all_events:!1,identify_called:!1},this.request_batchers={},this._batch_requests=this.get_config("batch_requests"),this._batch_requests){if(!_.localStorage.is_supported(!0)||!USE_XHR)this._batch_requests=!1,console$1.log("Turning off Mixpanel request-queueing; needs XHR and localStorage support"),_.each(this.get_batcher_configs(),function(c){console$1.log("Clearing batch queue "+c.queue_key),_.localStorage.remove(c.queue_key)});else if(this.init_batchers(),sendBeacon&&win.addEventListener){var s=_.bind(function(){this.request_batchers.events.stopped||this.request_batchers.events.flush({unloading:!0})},this);win.addEventListener("pagehide",function(c){c.persisted&&s()}),win.addEventListener("visibilitychange",function(){document$1.visibilityState==="hidden"&&s()})}}this.persistence=this.cookie=new MixpanelPersistence(this.config),this.unpersisted_superprops={},this._gdpr_init();var l=_.UUID();this.get_distinct_id()||this.register_once({distinct_id:DEVICE_ID_PREFIX+l,$device_id:l},""),this.flags=new FeatureFlagManager({getFullApiRoute:_.bind(function(){return this.get_api_host("flags")+"/"+this.get_config("api_routes").flags},this),getConfigFunc:_.bind(this.get_config,this),setConfigFunc:_.bind(this.set_config,this),getPropertyFunc:_.bind(this.get_property,this),trackingFunc:_.bind(this.track,this)}),this.flags.init(),this.flags=this.flags,this.autocapture=new Autocapture(this),this.autocapture.init(),this._init_tab_id(),this._check_and_start_session_recording()};MixpanelLib.prototype._init_tab_id=function(){if(this.get_config("disable_persistence"))console$1.log("Tab ID initialization skipped due to disable_persistence config");else if(_.sessionStorage.is_supported())try{var t=this.get_config("name")+"_"+this.get_config("token"),e="mp_tab_id_"+t,a="mp_gen_new_tab_id_"+t;(_.sessionStorage.get(a)||!_.sessionStorage.get(e))&&_.sessionStorage.set(e,"$tab-"+_.UUID()),_.sessionStorage.set(a,"1"),this.tab_id=_.sessionStorage.get(e),win.addEventListener("beforeunload",function(){_.sessionStorage.remove(a)})}catch(r){this.report_error("Error initializing tab id",r)}else this.report_error("Session storage is not supported, cannot keep track of unique tab ID.")};MixpanelLib.prototype.get_tab_id=function(){return this.tab_id||null};MixpanelLib.prototype._should_load_recorder=function(){if(this.get_config("disable_persistence"))return console$1.log("Load recorder check skipped due to disable_persistence config"),Promise.resolve(!1);var t=new IDBStorageWrapper(RECORDING_REGISTRY_STORE_NAME),e=this.get_tab_id();return t.init().then(function(){return t.getAll()}).then(function(a){for(var r=0;r<a.length;r++)if(isRecordingExpired(a[r])||a[r].tabId===e)return!0;return!1}).catch(_.bind(function(a){this.report_error("Error checking recording registry",a)},this))};MixpanelLib.prototype._check_and_start_session_recording=addOptOutCheckMixpanelLib(function(t){if(!win.MutationObserver){console$1.critical("Browser does not support MutationObserver; skipping session recording");return}var e=_.bind(function(r){var o=_.bind(function(){this._recorder=this._recorder||new win.__mp_recorder(this),this._recorder.resumeRecording(r)},this);_.isUndefined(win.__mp_recorder)?load_extra_bundle(this.get_config("recorder_src"),o):o()},this),a=this.get_config("record_sessions_percent")>0&&Math.random()*100<=this.get_config("record_sessions_percent");t||a?e(!0):this._should_load_recorder().then(function(r){r&&e(!1)})});MixpanelLib.prototype.start_session_recording=function(){this._check_and_start_session_recording(!0)};MixpanelLib.prototype.stop_session_recording=function(){return this._recorder?this._recorder.stopRecording():Promise.resolve()};MixpanelLib.prototype.pause_session_recording=function(){return this._recorder?this._recorder.pauseRecording():Promise.resolve()};MixpanelLib.prototype.resume_session_recording=function(){return this._recorder?this._recorder.resumeRecording():Promise.resolve()};MixpanelLib.prototype.is_recording_heatmap_data=function(){return this._get_session_replay_id()&&this.get_config("record_heatmap_data")};MixpanelLib.prototype.get_session_recording_properties=function(){var t={},e=this._get_session_replay_id();return e&&(t.$mp_replay_id=e),t};MixpanelLib.prototype.get_session_replay_url=function(){var t=null,e=this._get_session_replay_id();if(e){var a=_.HTTPBuildQuery({replay_id:e,distinct_id:this.get_distinct_id(),token:this.get_config("token")});t="https://mixpanel.com/projects/replay-redirect?"+a}return t};MixpanelLib.prototype._get_session_replay_id=function(){var t=null;return this._recorder&&(t=this._recorder.replayId),t||null};MixpanelLib.prototype.__get_recorder=function(){return this._recorder};MixpanelLib.prototype._loaded=function(){if(this.get_config("loaded")(this),this._set_default_superprops(),this.people.set_once(this.persistence.get_referrer_info()),this.get_config("store_google")&&this.get_config("stop_utm_persistence")){var t=_.info.campaignParams(null);_.each(t,(function(e,a){this.unregister(a)}).bind(this))}};MixpanelLib.prototype._set_default_superprops=function(){this.persistence.update_search_keyword(document$1.referrer),this.get_config("store_google")&&!this.get_config("stop_utm_persistence")&&this.register(_.info.campaignParams()),this.get_config("save_referrer")&&this.persistence.update_referrer_info(document$1.referrer)};MixpanelLib.prototype._dom_loaded=function(){_.each(this.__dom_loaded_queue,function(t){this._track_dom.apply(this,t)},this),this.has_opted_out_tracking()||_.each(this.__request_queue,function(t){this._send_request.apply(this,t)},this),delete this.__dom_loaded_queue,delete this.__request_queue};MixpanelLib.prototype._track_dom=function(t,e){if(this.get_config("img"))return this.report_error("You can't use DOM tracking functions with img = true."),!1;if(!DOM_LOADED)return this.__dom_loaded_queue.push([t,e]),!1;var a=new t().init(this);return a.track.apply(a,e)};MixpanelLib.prototype._prepare_callback=function(t,e){if(_.isUndefined(t))return null;if(USE_XHR){var a=function(l){t(l,e)};return a}else{var r=this._jsc,o=""+Math.floor(Math.random()*1e8),s=this.get_config("callback_fn")+"["+o+"]";return r[o]=function(l){delete r[o],t(l,e)},s}};MixpanelLib.prototype._send_request=function(t,e,a,r){var o=!0;if(ENQUEUE_REQUESTS)return this.__request_queue.push(arguments),o;var s={method:this.get_config("api_method"),transport:this.get_config("api_transport"),verbose:this.get_config("verbose")},l=null;!r&&(_.isFunction(a)||typeof a=="string")&&(r=a,a=null),a=_.extend(s,a||{}),USE_XHR||(a.method="GET");var c=a.method==="POST",u=sendBeacon&&c&&a.transport.toLowerCase()==="sendbeacon",h=a.verbose;e.verbose&&(h=!0),this.get_config("test")&&(e.test=1),h&&(e.verbose=1),this.get_config("img")&&(e.img=1),USE_XHR||(r?e.callback=r:(h||this.get_config("test"))&&(e.callback="(function(){})")),e.ip=this.get_config("ip")?1:0,e._=new Date().getTime().toString(),c&&(l="data="+encodeURIComponent(e.data),delete e.data),_.extend(e,this.get_config("api_extra_query_params")),t+="?"+_.HTTPBuildQuery(e);var f=this;if("img"in e){var m=document$1.createElement("img");m.src=t,document$1.body.appendChild(m)}else if(u){try{o=sendBeacon(t,l)}catch(B){f.report_error(B),o=!1}try{r&&r(o?1:0)}catch(B){f.report_error(B)}}else if(USE_XHR)try{var g=new XMLHttpRequest;g.open(a.method,t,!0);var b=this.get_config("xhr_headers");if(c&&(b["Content-Type"]="application/x-www-form-urlencoded"),_.each(b,function(B,O){g.setRequestHeader(O,B)}),a.timeout_ms&&typeof g.timeout<"u"){g.timeout=a.timeout_ms;var w=new Date().getTime()}g.withCredentials=!0,g.onreadystatechange=function(){if(g.readyState===4)if(g.status===200){if(r)if(h){var B;try{B=_.JSONDecode(g.responseText)}catch(q){if(f.report_error(q),a.ignore_json_errors)B=g.responseText;else return}r(B)}else r(Number(g.responseText))}else{var O;if(g.timeout&&!g.status&&new Date().getTime()-w>=g.timeout?O="timeout":O="Bad HTTP status: "+g.status+" "+g.statusText,f.report_error(O),r)if(h){var P=g.responseHeaders||{};r({status:0,httpStatusCode:g.status,error:O,retryAfter:P["Retry-After"]})}else r(0)}},g.send(l)}catch(B){f.report_error(B),o=!1}else{var E=document$1.createElement("script");E.type="text/javascript",E.async=!0,E.defer=!0,E.src=t;var C=document$1.getElementsByTagName("script")[0];C.parentNode.insertBefore(E,C)}return o};MixpanelLib.prototype._execute_array=function(t){var e,a=[],r=[],o=[];_.each(t,function(l){l&&(e=l[0],_.isArray(e)?o.push(l):typeof l=="function"?l.call(this):_.isArray(l)&&e==="alias"?a.push(l):_.isArray(l)&&e.indexOf("track")!==-1&&typeof this[e]=="function"?o.push(l):r.push(l))},this);var s=function(l,c){_.each(l,function(u){if(_.isArray(u[0])){var h=c;_.each(u,function(f){h=h[f[0]].apply(h,f.slice(1))})}else this[u[0]].apply(this,u.slice(1))},c)};s(a,this),s(r,this),s(o,this)};MixpanelLib.prototype.are_batchers_initialized=function(){return!!this.request_batchers.events};MixpanelLib.prototype.get_batcher_configs=function(){var t="__mpq_"+this.get_config("token");return this._batcher_configs=this._batcher_configs||{events:{type:"events",api_name:"track",queue_key:t+"_ev"},people:{type:"people",api_name:"engage",queue_key:t+"_pp"},groups:{type:"groups",api_name:"groups",queue_key:t+"_gr"}},this._batcher_configs};MixpanelLib.prototype.init_batchers=function(){if(!this.are_batchers_initialized()){var t=_.bind(function(a){return new RequestBatcher(a.queue_key,{libConfig:this.config,errorReporter:this.get_config("error_reporter"),sendRequestFunc:_.bind(function(r,o,s){var l=this.get_config("api_routes");this._send_request(this.get_api_host(a.api_name)+"/"+l[a.api_name],this._encode_data_for_request(r),o,this._prepare_callback(s,r))},this),beforeSendHook:_.bind(function(r){return this._run_hook("before_send_"+a.type,r)},this),stopAllBatchingFunc:_.bind(this.stop_batch_senders,this),usePersistence:!0})},this),e=this.get_batcher_configs();this.request_batchers={events:t(e.events),people:t(e.people),groups:t(e.groups)}}this.get_config("batch_autostart")&&this.start_batch_senders()};MixpanelLib.prototype.start_batch_senders=function(){this._batchers_were_started=!0,this.are_batchers_initialized()&&(this._batch_requests=!0,_.each(this.request_batchers,function(t){t.start()}))};MixpanelLib.prototype.stop_batch_senders=function(){this._batch_requests=!1,_.each(this.request_batchers,function(t){t.stop(),t.clear()})};MixpanelLib.prototype.push=function(t){this._execute_array([t])};MixpanelLib.prototype.disable=function(t){typeof t>"u"?this._flags.disable_all_events=!0:this.__disabled_events=this.__disabled_events.concat(t)};MixpanelLib.prototype._encode_data_for_request=function(t){var e=JSONStringify(t);return this.get_config("api_payload_format")===PAYLOAD_TYPE_BASE64&&(e=_.base64Encode(e)),{data:e}};MixpanelLib.prototype._track_or_batch=function(t,e){var a=_.truncate(t.data,255),r=t.endpoint,o=t.batcher,s=t.should_send_immediately,l=t.send_request_options||{};e=e||NOOP_FUNC;var c=!0,u=_.bind(function(){return l.skip_hooks||(a=this._run_hook("before_send_"+t.type,a)),a?(console$1.log("MIXPANEL REQUEST:"),console$1.log(a),this._send_request(r,this._encode_data_for_request(a),l,this._prepare_callback(e,a))):null},this);return this._batch_requests&&!s?o.enqueue(a).then(function(h){h?e(1,a):u()}):c=u(),c&&a};MixpanelLib.prototype.track=addOptOutCheckMixpanelLib(function(t,e,a,r){!r&&typeof a=="function"&&(r=a,a=null),a=a||{};var o=a.transport;o&&(a.transport=o);var s=a.send_immediately;if(typeof r!="function"&&(r=NOOP_FUNC),_.isUndefined(t)){this.report_error("No event name provided to mixpanel.track");return}if(this._event_is_disabled(t)){r(0);return}e=_.extend({},e),e.token=this.get_config("token");var l=this.persistence.remove_event_timer(t);if(!_.isUndefined(l)){var c=new Date().getTime()-l;e.$duration=parseFloat((c/1e3).toFixed(3))}this._set_default_superprops();var u=this.get_config("track_marketing")?_.info.marketingParams():{};e=_.extend({},_.info.properties({mp_loader:this.get_config("mp_loader")}),u,this.persistence.properties(),this.unpersisted_superprops,this.get_session_recording_properties(),e);var h=this.get_config("property_blacklist");_.isArray(h)?_.each(h,function(g){delete e[g]}):this.report_error("Invalid value for property_blacklist config: "+h);var f={event:t,properties:e},m=this._track_or_batch({type:"events",data:f,endpoint:this.get_api_host("events")+"/"+this.get_config("api_routes").track,batcher:this.request_batchers.events,should_send_immediately:s,send_request_options:a},r);return m});MixpanelLib.prototype.set_group=addOptOutCheckMixpanelLib(function(t,e,a){_.isArray(e)||(e=[e]);var r={};return r[t]=e,this.register(r),this.people.set(t,e,a)});MixpanelLib.prototype.add_group=addOptOutCheckMixpanelLib(function(t,e,a){var r=this.get_property(t),o={};return r===void 0?(o[t]=[e],this.register(o)):r.indexOf(e)===-1&&(r.push(e),o[t]=r,this.register(o)),this.people.union(t,e,a)});MixpanelLib.prototype.remove_group=addOptOutCheckMixpanelLib(function(t,e,a){var r=this.get_property(t);if(r!==void 0){var o=r.indexOf(e);o>-1&&(r.splice(o,1),this.register({group_key:r})),r.length===0&&this.unregister(t)}return this.people.remove(t,e,a)});MixpanelLib.prototype.track_with_groups=addOptOutCheckMixpanelLib(function(t,e,a,r){var o=_.extend({},e||{});return _.each(a,function(s,l){s!=null&&(o[l]=s)}),this.track(t,o,r)});MixpanelLib.prototype._create_map_key=function(t,e){return t+"_"+JSON.stringify(e)};MixpanelLib.prototype._remove_group_from_cache=function(t,e){delete this._cached_groups[this._create_map_key(t,e)]};MixpanelLib.prototype.get_group=function(t,e){var a=this._create_map_key(t,e),r=this._cached_groups[a];return(r===void 0||r._group_key!==t||r._group_id!==e)&&(r=new MixpanelGroup,r._init(this,t,e),this._cached_groups[a]=r),r};MixpanelLib.prototype.track_pageview=addOptOutCheckMixpanelLib(function(t,e){typeof t!="object"&&(t={}),e=e||{};var a=e.event_name||"$mp_web_page_view",r=_.extend(_.info.mpPageViewProperties(),_.info.campaignParams(),_.info.clickParams()),o=_.extend({},r,t);return this.track(a,o)});MixpanelLib.prototype.track_links=function(){return this._track_dom.call(this,LinkTracker,arguments)};MixpanelLib.prototype.track_forms=function(){return this._track_dom.call(this,FormTracker,arguments)};MixpanelLib.prototype.time_event=function(t){if(_.isUndefined(t)){this.report_error("No event name provided to mixpanel.time_event");return}this._event_is_disabled(t)||this.persistence.set_event_timer(t,new Date().getTime())};var REGISTER_DEFAULTS={persistent:!0},options_for_register=function(t){var e;return _.isObject(t)?e=t:_.isUndefined(t)?e={}:e={days:t},_.extend({},REGISTER_DEFAULTS,e)};MixpanelLib.prototype.register=function(t,e){var a=options_for_register(e);a.persistent?this.persistence.register(t,a.days):_.extend(this.unpersisted_superprops,t)};MixpanelLib.prototype.register_once=function(t,e,a){var r=options_for_register(a);r.persistent?this.persistence.register_once(t,e,r.days):(typeof e>"u"&&(e="None"),_.each(t,function(o,s){(!this.unpersisted_superprops.hasOwnProperty(s)||this.unpersisted_superprops[s]===e)&&(this.unpersisted_superprops[s]=o)},this))};MixpanelLib.prototype.unregister=function(t,e){e=options_for_register(e),e.persistent?this.persistence.unregister(t):delete this.unpersisted_superprops[t]};MixpanelLib.prototype._register_single=function(t,e){var a={};a[t]=e,this.register(a)};MixpanelLib.prototype.identify=function(t,e,a,r,o,s,l,c){var u=this.get_distinct_id();if(t&&u!==t){if(typeof t=="string"&&t.indexOf(DEVICE_ID_PREFIX)===0)return this.report_error("distinct_id cannot have $device: prefix"),-1;this.register({$user_id:t})}if(!this.get_property("$device_id")){var h=u;this.register_once({$had_persisted_distinct_id:!0,$device_id:h},"")}t!==u&&t!==this.get_property(ALIAS_ID_KEY)&&(this.unregister(ALIAS_ID_KEY),this.register({distinct_id:t})),this._flags.identify_called=!0,this.people._flush(e,a,r,o,s,l,c),t!==u&&this.track("$identify",{distinct_id:t,$anon_distinct_id:u},{skip_hooks:!0}),t!==u&&this.flags.fetchFlags()};MixpanelLib.prototype.reset=function(){this.stop_session_recording(),this.persistence.clear(),this._flags.identify_called=!1;var t=_.UUID();this.register_once({distinct_id:DEVICE_ID_PREFIX+t,$device_id:t},""),this._check_and_start_session_recording()};MixpanelLib.prototype.get_distinct_id=function(){return this.get_property("distinct_id")};MixpanelLib.prototype.alias=function(t,e){if(t===this.get_property(PEOPLE_DISTINCT_ID_KEY))return this.report_error("Attempting to create alias for existing People user - aborting."),-2;var a=this;return _.isUndefined(e)&&(e=this.get_distinct_id()),t!==e?(this._register_single(ALIAS_ID_KEY,t),this.track("$create_alias",{alias:t,distinct_id:e},{skip_hooks:!0},function(){a.identify(t)})):(this.report_error("alias matches current distinct_id - skipping api call."),this.identify(t),-1)};MixpanelLib.prototype.name_tag=function(t){this._register_single("mp_name_tag",t)};MixpanelLib.prototype.set_config=function(t){if(_.isObject(t)){_.extend(this.config,t);var e=t.batch_size;e&&_.each(this.request_batchers,function(a){a.resetBatchSize()}),this.get_config("persistence_name")||(this.config.persistence_name=this.config.cookie_name),this.get_config("disable_persistence")||(this.config.disable_persistence=this.config.disable_cookie),this.persistence&&this.persistence.update_config(this.config),Config.DEBUG=Config.DEBUG||this.get_config("debug"),("autocapture"in t||"record_heatmap_data"in t)&&this.autocapture&&this.autocapture.init()}};MixpanelLib.prototype.get_config=function(t){return this.config[t]};MixpanelLib.prototype._run_hook=function(t){var e=(this.config.hooks[t]||IDENTITY_FUNC).apply(this,slice.call(arguments,1));return typeof e>"u"&&(this.report_error(t+" hook did not return a value"),e=null),e};MixpanelLib.prototype.get_property=function(t){return this.persistence.load_prop([t])};MixpanelLib.prototype.get_api_host=function(t){return this.get_config("api_hosts")[t]||this.get_config("api_host")};MixpanelLib.prototype.toString=function(){var t=this.get_config("name");return t!==PRIMARY_INSTANCE_NAME&&(t=PRIMARY_INSTANCE_NAME+"."+t),t};MixpanelLib.prototype._event_is_disabled=function(t){return _.isBlockedUA(userAgent)||this._flags.disable_all_events||_.include(this.__disabled_events,t)};MixpanelLib.prototype._gdpr_init=function(){var t=this.get_config("opt_out_tracking_persistence_type")==="localStorage";t&&_.localStorage.is_supported()&&(!this.has_opted_in_tracking()&&this.has_opted_in_tracking({persistence_type:"cookie"})&&this.opt_in_tracking({enable_persistence:!1}),!this.has_opted_out_tracking()&&this.has_opted_out_tracking({persistence_type:"cookie"})&&this.opt_out_tracking({clear_persistence:!1}),this.clear_opt_in_out_tracking({persistence_type:"cookie",enable_persistence:!1})),this.has_opted_out_tracking()?this._gdpr_update_persistence({clear_persistence:!0}):!this.has_opted_in_tracking()&&(this.get_config("opt_out_tracking_by_default")||_.cookie.get("mp_optout"))&&(_.cookie.remove("mp_optout"),this.opt_out_tracking({clear_persistence:this.get_config("opt_out_persistence_by_default")}))};MixpanelLib.prototype._gdpr_update_persistence=function(t){var e;if(t&&t.clear_persistence)e=!0;else if(t&&t.enable_persistence)e=!1;else return;!this.get_config("disable_persistence")&&this.persistence.disabled!==e&&this.persistence.set_disabled(e),e?(this.stop_batch_senders(),this.stop_session_recording()):this._batchers_were_started&&this.start_batch_senders()};MixpanelLib.prototype._gdpr_call_func=function(t,e){return e=_.extend({track:_.bind(this.track,this),persistence_type:this.get_config("opt_out_tracking_persistence_type"),cookie_prefix:this.get_config("opt_out_tracking_cookie_prefix"),cookie_expiration:this.get_config("cookie_expiration"),cross_site_cookie:this.get_config("cross_site_cookie"),cross_subdomain_cookie:this.get_config("cross_subdomain_cookie"),cookie_domain:this.get_config("cookie_domain"),secure_cookie:this.get_config("secure_cookie"),ignore_dnt:this.get_config("ignore_dnt")},e),_.localStorage.is_supported()||(e.persistence_type="cookie"),t(this.get_config("token"),{track:e.track,trackEventName:e.track_event_name,trackProperties:e.track_properties,persistenceType:e.persistence_type,persistencePrefix:e.cookie_prefix,cookieDomain:e.cookie_domain,cookieExpiration:e.cookie_expiration,crossSiteCookie:e.cross_site_cookie,crossSubdomainCookie:e.cross_subdomain_cookie,secureCookie:e.secure_cookie,ignoreDnt:e.ignore_dnt})};MixpanelLib.prototype.opt_in_tracking=function(t){t=_.extend({enable_persistence:!0},t),this._gdpr_call_func(optIn,t),this._gdpr_update_persistence(t)};MixpanelLib.prototype.opt_out_tracking=function(t){t=_.extend({clear_persistence:!0,delete_user:!0},t),t.delete_user&&this.people&&this.people._identify_called()&&(this.people.delete_user(),this.people.clear_charges()),this._gdpr_call_func(optOut,t),this._gdpr_update_persistence(t)};MixpanelLib.prototype.has_opted_in_tracking=function(t){return this._gdpr_call_func(hasOptedIn,t)};MixpanelLib.prototype.has_opted_out_tracking=function(t){return this._gdpr_call_func(hasOptedOut,t)};MixpanelLib.prototype.clear_opt_in_out_tracking=function(t){t=_.extend({enable_persistence:!0},t),this._gdpr_call_func(clearOptInOut,t),this._gdpr_update_persistence(t)};MixpanelLib.prototype.report_error=function(t,e){console$1.error.apply(console$1.error,arguments);try{!e&&!(t instanceof Error)&&(t=new Error(t)),this.get_config("error_reporter")(t,e)}catch(a){console$1.error(a)}};MixpanelLib.prototype.init=MixpanelLib.prototype.init;MixpanelLib.prototype.reset=MixpanelLib.prototype.reset;MixpanelLib.prototype.disable=MixpanelLib.prototype.disable;MixpanelLib.prototype.time_event=MixpanelLib.prototype.time_event;MixpanelLib.prototype.track=MixpanelLib.prototype.track;MixpanelLib.prototype.track_links=MixpanelLib.prototype.track_links;MixpanelLib.prototype.track_forms=MixpanelLib.prototype.track_forms;MixpanelLib.prototype.track_pageview=MixpanelLib.prototype.track_pageview;MixpanelLib.prototype.register=MixpanelLib.prototype.register;MixpanelLib.prototype.register_once=MixpanelLib.prototype.register_once;MixpanelLib.prototype.unregister=MixpanelLib.prototype.unregister;MixpanelLib.prototype.identify=MixpanelLib.prototype.identify;MixpanelLib.prototype.alias=MixpanelLib.prototype.alias;MixpanelLib.prototype.name_tag=MixpanelLib.prototype.name_tag;MixpanelLib.prototype.set_config=MixpanelLib.prototype.set_config;MixpanelLib.prototype.get_config=MixpanelLib.prototype.get_config;MixpanelLib.prototype.get_api_host=MixpanelLib.prototype.get_api_host;MixpanelLib.prototype.get_property=MixpanelLib.prototype.get_property;MixpanelLib.prototype.get_distinct_id=MixpanelLib.prototype.get_distinct_id;MixpanelLib.prototype.toString=MixpanelLib.prototype.toString;MixpanelLib.prototype.opt_out_tracking=MixpanelLib.prototype.opt_out_tracking;MixpanelLib.prototype.opt_in_tracking=MixpanelLib.prototype.opt_in_tracking;MixpanelLib.prototype.has_opted_out_tracking=MixpanelLib.prototype.has_opted_out_tracking;MixpanelLib.prototype.has_opted_in_tracking=MixpanelLib.prototype.has_opted_in_tracking;MixpanelLib.prototype.clear_opt_in_out_tracking=MixpanelLib.prototype.clear_opt_in_out_tracking;MixpanelLib.prototype.get_group=MixpanelLib.prototype.get_group;MixpanelLib.prototype.set_group=MixpanelLib.prototype.set_group;MixpanelLib.prototype.add_group=MixpanelLib.prototype.add_group;MixpanelLib.prototype.remove_group=MixpanelLib.prototype.remove_group;MixpanelLib.prototype.track_with_groups=MixpanelLib.prototype.track_with_groups;MixpanelLib.prototype.start_batch_senders=MixpanelLib.prototype.start_batch_senders;MixpanelLib.prototype.stop_batch_senders=MixpanelLib.prototype.stop_batch_senders;MixpanelLib.prototype.start_session_recording=MixpanelLib.prototype.start_session_recording;MixpanelLib.prototype.stop_session_recording=MixpanelLib.prototype.stop_session_recording;MixpanelLib.prototype.pause_session_recording=MixpanelLib.prototype.pause_session_recording;MixpanelLib.prototype.resume_session_recording=MixpanelLib.prototype.resume_session_recording;MixpanelLib.prototype.get_session_recording_properties=MixpanelLib.prototype.get_session_recording_properties;MixpanelLib.prototype.get_session_replay_url=MixpanelLib.prototype.get_session_replay_url;MixpanelLib.prototype.get_tab_id=MixpanelLib.prototype.get_tab_id;MixpanelLib.prototype.DEFAULT_API_ROUTES=DEFAULT_API_ROUTES;MixpanelLib.prototype.__get_recorder=MixpanelLib.prototype.__get_recorder;MixpanelPersistence.prototype.properties=MixpanelPersistence.prototype.properties;MixpanelPersistence.prototype.update_search_keyword=MixpanelPersistence.prototype.update_search_keyword;MixpanelPersistence.prototype.update_referrer_info=MixpanelPersistence.prototype.update_referrer_info;MixpanelPersistence.prototype.get_cross_subdomain=MixpanelPersistence.prototype.get_cross_subdomain;MixpanelPersistence.prototype.clear=MixpanelPersistence.prototype.clear;var instances={},extend_mp=function(){_.each(instances,function(t,e){e!==PRIMARY_INSTANCE_NAME&&(mixpanel_master[e]=t)}),mixpanel_master._=_},override_mp_init_func=function(){mixpanel_master.init=function(t,e,a){if(a)return mixpanel_master[a]||(mixpanel_master[a]=instances[a]=create_mplib(t,e,a),mixpanel_master[a]._loaded()),mixpanel_master[a];var r=mixpanel_master;instances[PRIMARY_INSTANCE_NAME]?r=instances[PRIMARY_INSTANCE_NAME]:t&&(r=create_mplib(t,e,PRIMARY_INSTANCE_NAME),r._loaded(),instances[PRIMARY_INSTANCE_NAME]=r),mixpanel_master=r,init_type===INIT_SNIPPET&&(win[PRIMARY_INSTANCE_NAME]=mixpanel_master),extend_mp()}},add_dom_loaded_handler=function(){function t(){t.done||(t.done=!0,DOM_LOADED=!0,ENQUEUE_REQUESTS=!1,_.each(instances,function(r){r._dom_loaded()}))}function e(){try{document$1.documentElement.doScroll("left")}catch{setTimeout(e,1);return}t()}if(document$1.addEventListener)document$1.readyState==="complete"?t():document$1.addEventListener("DOMContentLoaded",t,!1);else if(document$1.attachEvent){document$1.attachEvent("onreadystatechange",t);var a=!1;try{a=win.frameElement===null}catch{}document$1.documentElement.doScroll&&a&&e()}_.register_event(win,"load",t,!0)};function init_as_module(t){return load_extra_bundle=t,init_type=INIT_MODULE,mixpanel_master=new MixpanelLib,override_mp_init_func(),mixpanel_master.init(),add_dom_loaded_handler(),mixpanel_master}function loadNoop(t,e){e()}var mixpanel=init_as_module(loadNoop);mixpanel.init("19d06212425213a4eeb34337016d0186",{autocapture:!0,record_sessions_percent:100,api_host:"https://api-eu.mixpanel.com"});const queryClient=new QueryClient({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1}}});clientExports.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(QueryClientProvider,{client:queryClient,children:jsxRuntimeExports.jsx(ServicesProvider,{children:jsxRuntimeExports.jsx(ThemeInitializer,{children:jsxRuntimeExports.jsx(HashRouter,{children:jsxRuntimeExports.jsx(App,{})})})})})}));export{Buffer as B,requireUtil$1 as a,requireShams$1 as b,requireCallBound as c,requireEsObjectAtoms as d,requireCallBind as e,requireGetIntrinsic as f,getDefaultExportFromCjs$3 as g,requireDefineDataProperty as h,requireHasPropertyDescriptors as i,requireDist as j,requireStreamBrowserify as k,process$1 as p,requireCryptoBrowserify as r};
